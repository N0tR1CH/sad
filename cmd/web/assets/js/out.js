(()=>{var yy=Object.create;var cu=Object.defineProperty;var xy=Object.getOwnPropertyDescriptor;var by=Object.getOwnPropertyNames;var wy=Object.getPrototypeOf,Ey=Object.prototype.hasOwnProperty;var Id=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,i)=>(typeof require<"u"?require:n)[i]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var sn=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),_d=(e,n)=>{for(var i in n)cu(e,i,{get:n[i],enumerable:!0})},Cy=(e,n,i,o)=>{if(n&&typeof n=="object"||typeof n=="function")for(let l of by(n))!Ey.call(e,l)&&l!==i&&cu(e,l,{get:()=>n[l],enumerable:!(o=xy(n,l))||o.enumerable});return e};var du=(e,n,i)=>(i=e!=null?yy(wy(e)):{},Cy(n||!e||!e.__esModule?cu(i,"default",{value:e,enumerable:!0}):i,e));var Pd=sn((fs,Bd)=>{(function(e,n){let i=n(e);typeof fs=="object"&&typeof fs.nodeName!="string"?Bd.exports=i:(e._hyperscript=i,"document"in e&&e._hyperscript.browserInit())})(typeof self<"u"?self:fs,e=>{"use strict";let n={dynamicResolvers:[function(Z,x){if(Z==="Fixed")return Number(x).toFixed();if(Z.indexOf("Fixed:")===0){let A=Z.split(":")[1];return Number(x).toFixed(parseInt(A))}}],String:function(Z){return Z.toString?Z.toString():""+Z},Int:function(Z){return parseInt(Z)},Float:function(Z){return parseFloat(Z)},Number:function(Z){return Number(Z)},Date:function(Z){return new Date(Z)},Array:function(Z){return Array.from(Z)},JSON:function(Z){return JSON.stringify(Z)},Object:function(Z){return Z instanceof String&&(Z=Z.toString()),typeof Z=="string"?JSON.parse(Z):Object.assign({},Z)}},i={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:n};class o{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(x){return o.isAlpha(x)||o.isNumeric(x)||x==="-"||x==="_"||x===":"}static isValidCSSIDChar(x){return o.isAlpha(x)||o.isNumeric(x)||x==="-"||x==="_"||x===":"}static isWhitespace(x){return x===" "||x==="	"||o.isNewline(x)}static positionString(x){return"[Line: "+x.line+", Column: "+x.column+"]"}static isNewline(x){return x==="\r"||x===`
`}static isNumeric(x){return x>="0"&&x<="9"}static isAlpha(x){return x>="a"&&x<="z"||x>="A"&&x<="Z"}static isIdentifierChar(x,A){return x==="_"||x==="$"}static isReservedChar(x){return x==="`"||x==="^"}static isValidSingleQuoteStringStart(x){if(x.length>0){var A=x[x.length-1];if(A.type==="IDENTIFIER"||A.type==="CLASS_REF"||A.type==="ID_REF"||A.op&&(A.value===">"||A.value===")"))return!1}return!0}static tokenize(x,A){var E=[],_=x,j=0,H=0,V=1,N="<START>",ve=0;function R(){return A&&ve===0}for(;j<_.length;)if(L()==="-"&&W()==="-"&&(o.isWhitespace(Y(2))||Y(2)===""||Y(2)==="-")||L()==="/"&&W()==="/"&&(o.isWhitespace(Y(2))||Y(2)===""||Y(2)==="/"))me();else if(L()==="/"&&W()==="*"&&(o.isWhitespace(Y(2))||Y(2)===""||Y(2)==="*"))de();else if(o.isWhitespace(L()))E.push(De());else if(!he()&&L()==="."&&(o.isAlpha(W())||W()==="{"||W()==="-"))E.push(Fe());else if(!he()&&L()==="#"&&(o.isAlpha(W())||W()==="{"))E.push(S());else if(L()==="["&&W()==="@")E.push(Ae());else if(L()==="@")E.push(_e());else if(L()==="*"&&o.isAlpha(W()))E.push(Pe());else if(o.isAlpha(L())||!R()&&o.isIdentifierChar(L()))E.push(F());else if(o.isNumeric(L()))E.push(p());else if(!R()&&(L()==='"'||L()==="`"))E.push(B());else if(!R()&&L()==="'")o.isValidSingleQuoteStringStart(E)?E.push(B()):E.push(k());else if(o.OP_TABLE[L()])N==="$"&&L()==="{"&&ve++,L()==="}"&&ve--,E.push(k());else if(R()||o.isReservedChar(L()))E.push(ae("RESERVED",U()));else if(j<_.length)throw Error("Unknown token: "+L()+" ");return new l(E,[],_);function b(ye,ce){var He=ae(ye,ce);return He.op=!0,He}function ae(ye,ce){return{type:ye,value:ce||"",start:j,end:j+1,column:H,line:V}}function me(){for(;L()&&!o.isNewline(L());)U();U()}function de(){for(;L()&&!(L()==="*"&&W()==="/");)U();U(),U()}function Fe(){var ye=ae("CLASS_REF"),ce=U();if(L()==="{"){for(ye.template=!0,ce+=U();L()&&L()!=="}";)ce+=U();if(L()!=="}")throw Error("Unterminated class reference");ce+=U()}else for(;o.isValidCSSClassChar(L());)ce+=U();return ye.value=ce,ye.end=j,ye}function Ae(){for(var ye=ae("ATTRIBUTE_REF"),ce=U();j<_.length&&L()!=="]";)ce+=U();return L()==="]"&&(ce+=U()),ye.value=ce,ye.end=j,ye}function _e(){for(var ye=ae("ATTRIBUTE_REF"),ce=U();o.isValidCSSIDChar(L());)ce+=U();if(L()==="="){if(ce+=U(),L()==='"'||L()==="'"){let He=B();ce+=He.value}else if(o.isAlpha(L())||o.isNumeric(L())||o.isIdentifierChar(L())){let He=F();ce+=He.value}}return ye.value=ce,ye.end=j,ye}function Pe(){for(var ye=ae("STYLE_REF"),ce=U();o.isAlpha(L())||L()==="-";)ce+=U();return ye.value=ce,ye.end=j,ye}function S(){var ye=ae("ID_REF"),ce=U();if(L()==="{"){for(ye.template=!0,ce+=U();L()&&L()!=="}";)ce+=U();if(L()!=="}")throw Error("Unterminated id reference");U()}else for(;o.isValidCSSIDChar(L());)ce+=U();return ye.value=ce,ye.end=j,ye}function F(){for(var ye=ae("IDENTIFIER"),ce=U();o.isAlpha(L())||o.isNumeric(L())||o.isIdentifierChar(L());)ce+=U();return L()==="!"&&ce==="beep"&&(ce+=U()),ye.value=ce,ye.end=j,ye}function p(){for(var ye=ae("NUMBER"),ce=U();o.isNumeric(L());)ce+=U();for(L()==="."&&o.isNumeric(W())&&(ce+=U());o.isNumeric(L());)ce+=U();for((L()==="e"||L()==="E")&&(o.isNumeric(W())?ce+=U():W()==="-"&&(ce+=U(),ce+=U()));o.isNumeric(L());)ce+=U();return ye.value=ce,ye.end=j,ye}function k(){for(var ye=b(),ce=U();L()&&o.OP_TABLE[ce+L()];)ce+=U();return ye.type=o.OP_TABLE[ce],ye.value=ce,ye.end=j,ye}function B(){for(var ye=ae("STRING"),ce=U(),He="";L()&&L()!==ce;)if(L()==="\\"){U();let Je=U();if(Je==="b")He+="\b";else if(Je==="f")He+="\f";else if(Je==="n")He+=`
`;else if(Je==="r")He+="\r";else if(Je==="t")He+="	";else if(Je==="v")He+="\v";else if(Je==="x"){let We=I();if(Number.isNaN(We))throw Error("Invalid hexadecimal escape at "+o.positionString(ye));He+=String.fromCharCode(We)}else He+=Je}else He+=U();if(L()!==ce)throw Error("Unterminated string at "+o.positionString(ye));return U(),ye.value=He,ye.end=j,ye.template=ce==="`",ye}function I(){if(!L())return NaN;let ce=16*Number.parseInt(U(),16);return L()?(ce+=Number.parseInt(U(),16),ce):NaN}function L(){return _.charAt(j)}function W(){return _.charAt(j+1)}function Y(ye=1){return _.charAt(j+ye)}function U(){return N=L(),j++,H++,N}function he(){return o.isAlpha(N)||o.isNumeric(N)||N===")"||N==='"'||N==="'"||N==="`"||N==="}"||N==="]"}function De(){for(var ye=ae("WHITESPACE"),ce="";L()&&o.isWhitespace(L());)o.isNewline(L())&&(H=0,V++),ce+=U();return ye.value=ce,ye.end=j,ye}}tokenize(x,A){return o.tokenize(x,A)}}class l{constructor(x,A,E){this.tokens=x,this.consumed=A,this.source=E,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){for(;this.token(0,!0).type==="WHITESPACE";)this.consumed.push(this.tokens.shift())}raiseError(x,A){f.raiseParseError(x,A)}requireOpToken(x){var A=this.matchOpToken(x);if(A)return A;this.raiseError(this,"Expected '"+x+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(x,A,E){for(var _=0;_<arguments.length;_++){var j=arguments[_],H=this.matchOpToken(j);if(H)return H}}matchAnyToken(x,A,E){for(var _=0;_<arguments.length;_++){var j=arguments[_],H=this.matchToken(j);if(H)return H}}matchOpToken(x){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===x)return this.consumeToken()}requireTokenType(x,A,E,_){var j=this.matchTokenType(x,A,E,_);if(j)return j;this.raiseError(this,"Expected one of "+JSON.stringify([x,A,E]))}matchTokenType(x,A,E,_){if(this.currentToken()&&this.currentToken().type&&[x,A,E,_].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(x,A){var E=this.matchToken(x,A);if(E)return E;this.raiseError(this,"Expected '"+x+"' but found '"+this.currentToken().value+"'")}peekToken(x,A,E){if(A=A||0,E=E||"IDENTIFIER",this.tokens[A]&&this.tokens[A].value===x&&this.tokens[A].type===E)return this.tokens[A]}matchToken(x,A){if(this.follows.indexOf(x)===-1&&(A=A||"IDENTIFIER",this.currentToken()&&this.currentToken().value===x&&this.currentToken().type===A))return this.consumeToken()}consumeToken(){var x=this.tokens.shift();return this.consumed.push(x),this._lastConsumed=x,this.consumeWhitespace(),x}consumeUntil(x,A){for(var E=[],_=this.token(0,!0);(A==null||_.type!==A)&&(x==null||_.value!==x)&&_.type!=="EOF";){var j=this.tokens.shift();this.consumed.push(j),E.push(_),_=this.token(0,!0)}return this.consumeWhitespace(),E}lastWhitespace(){return this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"?this.consumed[this.consumed.length-1].value:""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(x,A){var E,_=0;do{if(!A)for(;this.tokens[_]&&this.tokens[_].type==="WHITESPACE";)_++;E=this.tokens[_],x--,_++}while(x>-1);return E||{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split(`
`)[this.startToken.line-1]};follows=[];pushFollow(x){this.follows.push(x)}popFollow(){this.follows.pop()}clearFollows(){var x=this.follows;return this.follows=[],x}restoreFollows(x){this.follows=x}}class f{constructor(x){this.runtime=x,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(A,E,_){if(_.matchOpToken("(")){var j=A.requireElement("feature",_);return _.requireOpToken(")"),j}var H=A.FEATURES[_.currentToken().value||""];if(H)return H(A,E,_)}),this.addGrammarElement("command",function(A,E,_){if(_.matchOpToken("(")){let V=A.requireElement("command",_);return _.requireOpToken(")"),V}var j=A.COMMANDS[_.currentToken().value||""];let H;return j?H=j(A,E,_):_.currentToken().type==="IDENTIFIER"&&(H=A.parseElement("pseudoCommand",_)),H&&A.parseElement("indirectStatement",_,H)}),this.addGrammarElement("commandList",function(A,E,_){if(_.hasMore()){var j=A.parseElement("command",_);if(j){_.matchToken("then");let H=A.parseElement("commandList",_);return H&&(j.next=H),j}}return{type:"emptyCommandListCommand",op:function(H){return E.findNext(this,H)},execute:function(H){return E.unifiedExec(this,H)}}}),this.addGrammarElement("leaf",function(A,E,_){var j=A.parseAnyOf(A.LEAF_EXPRESSIONS,_);return j??A.parseElement("symbol",_)}),this.addGrammarElement("indirectExpression",function(A,E,_,j){for(var H=0;H<A.INDIRECT_EXPRESSIONS.length;H++){var V=A.INDIRECT_EXPRESSIONS[H];j.endToken=_.lastMatch();var N=A.parseElement(V,_,j);if(N)return N}return j}),this.addGrammarElement("indirectStatement",function(A,E,_,j){if(_.matchToken("unless")){j.endToken=_.lastMatch();var H=A.requireElement("expression",_),V={type:"unlessStatementModifier",args:[H],op:function(N,ve){return ve?this.next:j},execute:function(N){return E.unifiedExec(this,N)}};return j.parent=V,V}return j}),this.addGrammarElement("primaryExpression",function(A,E,_){var j=A.parseElement("leaf",_);if(j)return A.parseElement("indirectExpression",_,j);A.raiseParseError(_,"Unexpected value: "+_.currentToken().value)})}use(x){return x(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(x,A,E){x.startToken=A,x.sourceFor=l.sourceFor,x.lineFor=l.lineFor,x.programSource=E.source}parseElement(x,A,E=void 0){var _=this.GRAMMAR[x];if(_){var j=A.currentToken(),H=_(this,this.runtime,A,E);if(H){this.initElt(H,j,A),H.endToken=H.endToken||A.lastMatch();for(var E=H.root;E!=null;)this.initElt(E,j,A),E=E.root}return H}}requireElement(x,A,E,_){var j=this.parseElement(x,A,_);return j||f.raiseParseError(A,E||"Expected "+x),j}parseAnyOf(x,A){for(var E=0;E<x.length;E++){var _=x[E],j=this.parseElement(_,A);if(j)return j}}addGrammarElement(x,A){this.GRAMMAR[x]=A}addCommand(x,A){var E=x+"Command",_=function(j,H,V){let N=A(j,H,V);if(N)return N.type=E,N.execute=function(ve){return ve.meta.command=N,H.unifiedExec(this,ve)},N};this.GRAMMAR[E]=_,this.COMMANDS[x]=_}addFeature(x,A){var E=x+"Feature",_=function(j,H,V){var N=A(j,H,V);if(N)return N.isFeature=!0,N.keyword=x,N.type=E,N};this.GRAMMAR[E]=_,this.FEATURES[x]=_}addLeafExpression(x,A){this.LEAF_EXPRESSIONS.push(x),this.addGrammarElement(x,A)}addIndirectExpression(x,A){this.INDIRECT_EXPRESSIONS.push(x),this.addGrammarElement(x,A)}static createParserContext(x){var A=x.currentToken(),E=x.source,_=E.split(`
`),j=A&&A.line?A.line-1:_.length-1,H=_[j],V=A&&A.line?A.column:H.length-1;return H+`
`+" ".repeat(V)+`^^

`}static raiseParseError(x,A){A=(A||"Unexpected Token : "+x.currentToken().value)+`

`+f.createParserContext(x);var E=new Error(A);throw E.tokens=x,E}raiseParseError(x,A){f.raiseParseError(x,A)}parseHyperScript(x){var A=this.parseElement("hyperscript",x);if(x.hasMore()&&this.raiseParseError(x),A)return A}setParent(x,A){typeof x=="object"&&(x.parent=A,typeof A=="object"&&(A.children=A.children||new Set,A.children.add(x)),this.setParent(x.next,A))}commandStart(x){return this.COMMANDS[x.value||""]}featureStart(x){return this.FEATURES[x.value||""]}commandBoundary(x){return!!(x.value=="end"||x.value=="then"||x.value=="else"||x.value=="otherwise"||x.value==")"||this.commandStart(x)||this.featureStart(x)||x.type=="EOF")}parseStringTemplate(x){var A=[""];do if(A.push(x.lastWhitespace()),x.currentToken().value==="$"){x.consumeToken();var E=x.matchOpToken("{");A.push(this.requireElement("expression",x)),E&&x.requireOpToken("}"),A.push("")}else if(x.currentToken().value==="\\")x.consumeToken(),x.consumeToken();else{var _=x.consumeToken();A[A.length-1]+=_?_.value:""}while(x.hasMore());return A.push(x.lastWhitespace()),A}ensureTerminated(x){let A=this.runtime;for(var E={type:"implicitReturn",op:function(j){return j.meta.returned=!0,j.meta.resolve&&j.meta.resolve(),A.HALT},execute:function(j){}},_=x;_.next;)_=_.next;_.next=E}}class c{constructor(x,A){this.lexer=x??new o,this.parser=A??new f(this).use(ue).use(ee),this.parser.runtime=this}matchesSelector(x,A){var E=x.matches||x.matchesSelector||x.msMatchesSelector||x.mozMatchesSelector||x.webkitMatchesSelector||x.oMatchesSelector;return E&&E.call(x,A)}makeEvent(x,A){var E;return e.Event&&typeof e.Event=="function"?(E=new Event(x,{bubbles:!0,cancelable:!0}),E.detail=A):(E=document.createEvent("CustomEvent"),E.initCustomEvent(x,!0,!0,A)),E}triggerEvent(x,A,E,_){E=E||{},E.sender=_;var j=this.makeEvent(A,E),H=x.dispatchEvent(j);return H}isArrayLike(x){return Array.isArray(x)||typeof NodeList<"u"&&(x instanceof NodeList||x instanceof HTMLCollection)}isIterable(x){return typeof x=="object"&&Symbol.iterator in x&&typeof x[Symbol.iterator]=="function"}shouldAutoIterate(x){return x!=null&&x[J]||this.isArrayLike(x)}forEach(x,A){if(x!=null)if(this.isIterable(x))for(let _ of x)A(_);else if(this.isArrayLike(x))for(var E=0;E<x.length;E++)A(x[E]);else A(x)}implicitLoop(x,A){if(this.shouldAutoIterate(x))for(let E of x)A(E);else A(x)}wrapArrays(x){for(var A=[],E=0;E<x.length;E++){var _=x[E];Array.isArray(_)?A.push(Promise.all(_)):A.push(_)}return A}unwrapAsyncs(x){for(var A=0;A<x.length;A++){var E=x[A];if(E.asyncWrapper&&(x[A]=E.value),Array.isArray(E))for(var _=0;_<E.length;_++){var j=E[_];j.asyncWrapper&&(E[_]=j.value)}}}static HALT={};HALT=c.HALT;unifiedExec(x,A){for(;;){try{var E=this.unifiedEval(x,A)}catch(_){if(A.meta.handlingFinally)console.error(" Exception in finally block: ",_),E=c.HALT;else if(this.registerHyperTrace(A,_),A.meta.errorHandler&&!A.meta.handlingError){A.meta.handlingError=!0,A.locals[A.meta.errorSymbol]=_,x=A.meta.errorHandler;continue}else A.meta.currentException=_,E=c.HALT}if(E==null){console.error(x," did not return a next element to execute! context: ",A);return}else if(E.then){E.then(_=>{this.unifiedExec(_,A)}).catch(_=>{this.unifiedExec({op:function(){throw _}},A)});return}else if(E===c.HALT)if(A.meta.finallyHandler&&!A.meta.handlingFinally)A.meta.handlingFinally=!0,x=A.meta.finallyHandler;else if(A.meta.onHalt&&A.meta.onHalt(),A.meta.currentException)if(A.meta.reject){A.meta.reject(A.meta.currentException);return}else throw A.meta.currentException;else return;else x=E}}unifiedEval(x,A){var E=[A],_=!1,j=!1;if(x.args)for(var H=0;H<x.args.length;H++){var V=x.args[H];if(V==null)E.push(null);else if(Array.isArray(V)){for(var N=[],ve=0;ve<V.length;ve++){var R=V[ve],b=R?R.evaluate(A):null;b&&(b.then?_=!0:b.asyncWrapper&&(j=!0)),N.push(b)}E.push(N)}else if(V.evaluate){var b=V.evaluate(A);b&&(b.then?_=!0:b.asyncWrapper&&(j=!0)),E.push(b)}else E.push(V)}return _?new Promise((ae,me)=>{E=this.wrapArrays(E),Promise.all(E).then(function(de){j&&this.unwrapAsyncs(de);try{var Fe=x.op.apply(x,de);ae(Fe)}catch(Ae){me(Ae)}}).catch(function(de){me(de)})}):(j&&this.unwrapAsyncs(E),x.op.apply(x,E))}_scriptAttrs=null;getScriptAttributes(){return this._scriptAttrs==null&&(this._scriptAttrs=i.attributes.replace(/ /g,"").split(",")),this._scriptAttrs}getScript(x){for(var A=0;A<this.getScriptAttributes().length;A++){var E=this.getScriptAttributes()[A];if(x.hasAttribute&&x.hasAttribute(E))return x.getAttribute(E)}return x instanceof HTMLScriptElement&&x.type==="text/hyperscript"?x.innerText:null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(x){var A=this.hyperscriptFeaturesMap.get(x);return typeof A>"u"&&x&&this.hyperscriptFeaturesMap.set(x,A={}),A}addFeatures(x,A){x&&(Object.assign(A.locals,this.getHyperscriptFeatures(x)),this.addFeatures(x.parentElement,A))}makeContext(x,A,E,_){return new z(x,A,E,_,this)}getScriptSelector(){return this.getScriptAttributes().map(function(x){return"["+x+"]"}).join(", ")}convertValue(x,A){for(var E=n.dynamicResolvers,_=0;_<E.length;_++){var j=E[_],H=j(A,x);if(H!==void 0)return H}if(x==null)return null;var V=n[A];if(V)return V(x);throw"Unknown conversion : "+A}parse(x){let A=this.lexer,E=this.parser;var _=A.tokenize(x);if(this.parser.commandStart(_.currentToken())){var j=E.requireElement("commandList",_);return _.hasMore()&&E.raiseParseError(_),E.ensureTerminated(j),j}else if(E.featureStart(_.currentToken())){var H=E.requireElement("hyperscript",_);return _.hasMore()&&E.raiseParseError(_),H}else{var V=E.requireElement("expression",_);return _.hasMore()&&E.raiseParseError(_),V}}evaluateNoPromise(x,A){let E=x.evaluate(A);if(E.next)throw new Error(l.sourceFor.call(x)+" returned a Promise in a context that they are not allowed.");return E}evaluate(x,A,E){class _ extends EventTarget{constructor(ve){super(),this.module=ve}toString(){return this.module.id}}var j="document"in e?e.document.body:new _(E&&E.module);A=Object.assign(this.makeContext(j,null,j,null),A||{});var H=this.parse(x);if(H.execute)return H.execute(A),typeof A.meta.returnValue<"u"?A.meta.returnValue:A.result;return H.apply?(H.apply(j,j,E),this.getHyperscriptFeatures(j)):H.evaluate(A);function V(){return{}}}processNode(x){var A=this.getScriptSelector();this.matchesSelector(x,A)&&this.initElement(x,x),x instanceof HTMLScriptElement&&x.type==="text/hyperscript"&&this.initElement(x,document.body),x.querySelectorAll&&this.forEach(x.querySelectorAll(A+", [type='text/hyperscript']"),E=>{this.initElement(E,E instanceof HTMLScriptElement&&E.type==="text/hyperscript"?document.body:E)})}initElement(x,A){if(!(x.closest&&x.closest(i.disableSelector))){var E=this.getInternalData(x);if(!E.initialized){var _=this.getScript(x);if(_)try{E.initialized=!0,E.script=_;let V=this.lexer,N=this.parser;var j=V.tokenize(_),H=N.parseHyperScript(j);if(!H)return;H.apply(A||x,x),setTimeout(()=>{this.triggerEvent(A||x,"load",{hyperscript:!0})},1)}catch(V){this.triggerEvent(x,"exception",{error:V}),console.error("hyperscript errors were found on the following element:",x,`

`,V.message,V.stack)}}}}internalDataMap=new WeakMap;getInternalData(x){var A=this.internalDataMap.get(x);return typeof A>"u"&&this.internalDataMap.set(x,A={}),A}typeCheck(x,A,E){if(x==null&&E)return!0;var _=Object.prototype.toString.call(x).slice(8,-1);return _===A}getElementScope(x){var A=x.meta&&x.meta.owner;if(A){var E=this.getInternalData(A),_="elementScope";x.meta.feature&&x.meta.feature.behavior&&(_=x.meta.feature.behavior+"Scope");var j=se(E,_);return j}else return{}}isReservedWord(x){return["meta","it","result","locals","event","target","detail","sender","body"].includes(x)}isHyperscriptContext(x){return x instanceof z}resolveSymbol(x,A,E){if(x==="me"||x==="my"||x==="I")return A.me;if(x==="it"||x==="its"||x==="result")return A.result;if(x==="you"||x==="your"||x==="yourself")return A.you;if(E==="global")return e[x];if(E==="element"){var _=this.getElementScope(A);return _[x]}else{if(E==="local")return A.locals[x];if(A.meta&&A.meta.context){var j=A.meta.context[x];if(typeof j<"u"||A.meta.context.detail&&(j=A.meta.context.detail[x],typeof j<"u"))return j}if(this.isHyperscriptContext(A)&&!this.isReservedWord(x))var H=A.locals[x];else var H=A[x];if(typeof H<"u")return H;var _=this.getElementScope(A);return H=_[x],typeof H<"u"?H:e[x]}}setSymbol(x,A,E,_){if(E==="global")e[x]=_;else if(E==="element"){var j=this.getElementScope(A);j[x]=_}else if(E==="local")A.locals[x]=_;else if(this.isHyperscriptContext(A)&&!this.isReservedWord(x)&&typeof A.locals[x]<"u")A.locals[x]=_;else{var j=this.getElementScope(A),H=j[x];typeof H<"u"?j[x]=_:this.isHyperscriptContext(A)&&!this.isReservedWord(x)?A.locals[x]=_:A[x]=_}}findNext(x,A){if(x)return x.resolveNext?x.resolveNext(A):x.next?x.next:this.findNext(x.parent,A)}flatGet(x,A,E){if(x!=null){var _=E(x,A);if(typeof _<"u")return _;if(this.shouldAutoIterate(x)){var j=[];for(var H of x){var V=E(H,A);j.push(V)}return j}}}resolveProperty(x,A){return this.flatGet(x,A,(E,_)=>E[_])}resolveAttribute(x,A){return this.flatGet(x,A,(E,_)=>E.getAttribute&&E.getAttribute(_))}resolveStyle(x,A){return this.flatGet(x,A,(E,_)=>E.style&&E.style[_])}resolveComputedStyle(x,A){return this.flatGet(x,A,(E,_)=>getComputedStyle(E).getPropertyValue(_))}assignToNamespace(x,A,E,_){let j;typeof document<"u"&&x===document.body?j=e:j=this.getHyperscriptFeatures(x);for(var H;(H=A.shift())!==void 0;){var V=j[H];V==null&&(V={},j[H]=V),j=V}j[E]=_}getHyperTrace(x,A){for(var E=[],_=x;_.meta.caller;)_=_.meta.caller;if(_.meta.traceMap)return _.meta.traceMap.get(A,E)}registerHyperTrace(x,A){for(var E=[],_=null;x!=null;)E.push(x),_=x,x=x.meta.caller;if(_.meta.traceMap==null&&(_.meta.traceMap=new Map),!_.meta.traceMap.get(A)){var j={trace:E,print:function(H){H=H||console.error,H("hypertrace /// ");for(var V=0,N=0;N<E.length;N++)V=Math.max(V,E[N].meta.feature.displayName.length);for(var N=0;N<E.length;N++){var ve=E[N];H("  ->",ve.meta.feature.displayName.padEnd(V+2),"-",ve.meta.owner)}}};_.meta.traceMap.set(A,j)}}escapeSelector(x){return x.replace(/:/g,function(A){return"\\"+A})}nullCheck(x,A){if(x==null)throw new Error("'"+A.sourceFor()+"' is null")}isEmpty(x){return x==null||x.length===0}doesExist(x){if(x==null)return!1;if(this.shouldAutoIterate(x)){for(let A of x)return!0;return!1}return!0}getRootNode(x){if(x&&x instanceof Node){var A=x.getRootNode();if(A instanceof Document||A instanceof ShadowRoot)return A}return document}getEventQueueFor(x,A){let E=this.getInternalData(x);var _=E.eventQueues;_==null&&(_=new Map,E.eventQueues=_);var j=_.get(A);return j==null&&(j={queue:[],executing:!1},_.set(A,j)),j}beepValueToConsole(x,A,E){if(this.triggerEvent(x,"hyperscript:beep",{element:x,expression:A,value:E})){var _;E?E instanceof $?_="ElementCollection":E.constructor?_=E.constructor.name:_="unknown":_="object (null)";var j=E;_==="String"?j='"'+j+'"':E instanceof $&&(j=Array.from(E)),console.log("///_ BEEP! The expression ("+l.sourceFor.call(A).replace("beep! ","")+") evaluates to:",j,"of type "+_)}}hyperscriptUrl="document"in e&&document.currentScript?document.currentScript.src:null}function h(){return document.cookie.split("; ").map(x=>{let A=x.split("=");return{name:A[0],value:decodeURIComponent(A[1])}})}function v(Z){document.cookie=Z+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function D(){for(let Z of h())v(Z.name)}let O=new Proxy({},{get(Z,x){if(x==="then"||x==="asyncWrapper")return null;if(x==="length")return h().length;if(x==="clear")return v;if(x==="clearAll")return D;if(typeof x=="string")if(isNaN(x)){let A=document.cookie.split("; ").find(E=>E.startsWith(x+"="))?.split("=")[1];if(A)return decodeURIComponent(A)}else return h()[parseInt(x)];else if(x===Symbol.iterator)return h()[x]},set(Z,x,A){var E=null;return typeof A=="string"?(E=encodeURIComponent(A),E+=";samesite=lax"):(E=encodeURIComponent(A.value),A.expires&&(E+=";expires="+A.maxAge),A.maxAge&&(E+=";max-age="+A.maxAge),A.partitioned&&(E+=";partitioned="+A.partitioned),A.path&&(E+=";path="+A.path),A.samesite&&(E+=";samesite="+A.path),A.secure&&(E+=";secure="+A.path)),document.cookie=x+"="+E,!0}});class z{constructor(x,A,E,_,j){this.meta={parser:j.parser,lexer:j.lexer,runtime:j,owner:x,feature:A,iterators:{},ctx:this},this.locals={cookies:O},this.me=E,this.you=void 0,this.result=void 0,this.event=_,this.target=_?_.target:null,this.detail=_?_.detail:null,this.sender=_&&_.detail?_.detail.sender:null,this.body="document"in e?document.body:null,j.addFeatures(x,this)}}class ${constructor(x,A,E){this._css=x,this.relativeToElement=A,this.escape=E,this[J]=!0}get css(){return this.escape?c.prototype.escapeSelector(this._css):this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(x){for(let A of this)if(A.contains(x))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return c.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}let J=Symbol();function se(Z,x){var A=Z[x];if(A)return A;var E={};return Z[x]=E,E}function ne(Z){try{return JSON.parse(Z)}catch(x){return q(x),null}}function q(Z){console.error?console.error(Z):console.log&&console.log("ERROR: ",Z)}function Q(Z,x){return new(Z.bind.apply(Z,[Z].concat(x)))}function ue(Z){Z.addLeafExpression("parenthesized",function(S,F,p){if(p.matchOpToken("(")){var k=p.clearFollows();try{var B=S.requireElement("expression",p)}finally{p.restoreFollows(k)}return p.requireOpToken(")"),B}}),Z.addLeafExpression("string",function(S,F,p){var k=p.matchTokenType("STRING");if(k){var B=k.value,I;if(k.template){var L=o.tokenize(B,!0);I=S.parseStringTemplate(L)}else I=[];return{type:"string",token:k,args:I,op:function(W){for(var Y="",U=1;U<arguments.length;U++){var he=arguments[U];he!==void 0&&(Y+=he)}return Y},evaluate:function(W){return I.length===0?B:F.unifiedEval(this,W)}}}}),Z.addGrammarElement("nakedString",function(S,F,p){if(p.hasMore()){var k=p.consumeUntilWhitespace();return p.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:k,evaluate:function(B){return k.map(function(I){return I.value}).join("")}}}}),Z.addLeafExpression("number",function(S,F,p){var k=p.matchTokenType("NUMBER");if(k){var B=k,I=parseFloat(k.value);return{type:"number",value:I,numberToken:B,evaluate:function(){return I}}}}),Z.addLeafExpression("idRef",function(S,F,p){var k=p.matchTokenType("ID_REF");if(k&&k.value)if(k.template){var B=k.value.substring(2),I=o.tokenize(B),L=S.requireElement("expression",I);return{type:"idRefTemplate",args:[L],op:function(W,Y){return F.getRootNode(W.me).getElementById(Y)},evaluate:function(W){return F.unifiedEval(this,W)}}}else{let W=k.value.substring(1);return{type:"idRef",css:k.value,value:W,evaluate:function(Y){return F.getRootNode(Y.me).getElementById(W)}}}}),Z.addLeafExpression("classRef",function(S,F,p){var k=p.matchTokenType("CLASS_REF");if(k&&k.value)if(k.template){var B=k.value.substring(2),I=o.tokenize(B),L=S.requireElement("expression",I);return{type:"classRefTemplate",args:[L],op:function(W,Y){return new $("."+Y,W.me,!0)},evaluate:function(W){return F.unifiedEval(this,W)}}}else{let W=k.value;return{type:"classRef",css:W,evaluate:function(Y){return new $(W,Y.me,!0)}}}});class x extends ${constructor(F,p,k){super(F,p),this.templateParts=k,this.elements=k.filter(B=>B instanceof Element)}get css(){let F="",p=0;for(let k of this.templateParts)k instanceof Element?F+="[data-hs-query-id='"+p+++"']":F+=k;return F}[Symbol.iterator](){this.elements.forEach((p,k)=>p.dataset.hsQueryId=k);let F=super[Symbol.iterator]();return this.elements.forEach(p=>p.removeAttribute("data-hs-query-id")),F}}Z.addLeafExpression("queryRef",function(S,F,p){var k=p.matchOpToken("<");if(k){var B=p.consumeUntil("/");p.requireOpToken("/"),p.requireOpToken(">");var I=B.map(function(U){return U.type==="STRING"?'"'+U.value+'"':U.value}).join(""),L,W,Y;return I.indexOf("$")>=0&&(L=!0,W=o.tokenize(I,!0),Y=S.parseStringTemplate(W)),{type:"queryRef",css:I,args:Y,op:function(U,...he){return L?new x(I,U.me,he):new $(I,U.me)},evaluate:function(U){return F.unifiedEval(this,U)}}}}),Z.addLeafExpression("attributeRef",function(S,F,p){var k=p.matchTokenType("ATTRIBUTE_REF");if(k&&k.value){var B=k.value;if(B.indexOf("[")===0)var I=B.substring(2,B.length-1);else var I=B.substring(1);var L="["+I+"]",W=I.split("="),Y=W[0],U=W[1];return U&&U.indexOf('"')===0&&(U=U.substring(1,U.length-1)),{type:"attributeRef",name:Y,css:L,value:U,op:function(he){var De=he.you||he.me;if(De)return De.getAttribute(Y)},evaluate:function(he){return F.unifiedEval(this,he)}}}}),Z.addLeafExpression("styleRef",function(S,F,p){var k=p.matchTokenType("STYLE_REF");if(k&&k.value){var B=k.value.substr(1);return B.startsWith("computed-")?(B=B.substr(9),{type:"computedStyleRef",name:B,op:function(I){var L=I.you||I.me;if(L)return F.resolveComputedStyle(L,B)},evaluate:function(I){return F.unifiedEval(this,I)}}):{type:"styleRef",name:B,op:function(I){var L=I.you||I.me;if(L)return F.resolveStyle(L,B)},evaluate:function(I){return F.unifiedEval(this,I)}}}}),Z.addGrammarElement("objectKey",function(S,F,p){var k;if(k=p.matchTokenType("STRING"))return{type:"objectKey",key:k.value,evaluate:function(){return k.value}};if(p.matchOpToken("[")){var B=S.parseElement("expression",p);return p.requireOpToken("]"),{type:"objectKey",expr:B,args:[B],op:function(L,W){return W},evaluate:function(L){return F.unifiedEval(this,L)}}}else{var I="";do k=p.matchTokenType("IDENTIFIER")||p.matchOpToken("-"),k&&(I+=k.value);while(k);return{type:"objectKey",key:I,evaluate:function(){return I}}}}),Z.addLeafExpression("objectLiteral",function(S,F,p){if(p.matchOpToken("{")){var k=[],B=[];if(!p.matchOpToken("}")){do{var I=S.requireElement("objectKey",p);p.requireOpToken(":");var L=S.requireElement("expression",p);B.push(L),k.push(I)}while(p.matchOpToken(","));p.requireOpToken("}")}return{type:"objectLiteral",args:[k,B],op:function(W,Y,U){for(var he={},De=0;De<Y.length;De++)he[Y[De]]=U[De];return he},evaluate:function(W){return F.unifiedEval(this,W)}}}}),Z.addGrammarElement("nakedNamedArgumentList",function(S,F,p){var k=[],B=[];if(p.currentToken().type==="IDENTIFIER")do{var I=p.requireTokenType("IDENTIFIER");p.requireOpToken(":");var L=S.requireElement("expression",p);B.push(L),k.push({name:I,value:L})}while(p.matchOpToken(","));return{type:"namedArgumentList",fields:k,args:[B],op:function(W,Y){for(var U={_namedArgList_:!0},he=0;he<Y.length;he++){var De=k[he];U[De.name.value]=Y[he]}return U},evaluate:function(W){return F.unifiedEval(this,W)}}}),Z.addGrammarElement("namedArgumentList",function(S,F,p){if(p.matchOpToken("(")){var k=S.requireElement("nakedNamedArgumentList",p);return p.requireOpToken(")"),k}}),Z.addGrammarElement("symbol",function(S,F,p){var k="default";p.matchToken("global")?k="global":p.matchToken("element")||p.matchToken("module")?(k="element",p.matchOpToken("'")&&p.requireToken("s")):p.matchToken("local")&&(k="local");let B=p.matchOpToken(":"),I=p.matchTokenType("IDENTIFIER");if(I&&I.value){var L=I.value;return B&&(L=":"+L),k==="default"&&(L.indexOf("$")===0&&(k="global"),L.indexOf(":")===0&&(k="element")),{type:"symbol",token:I,scope:k,name:L,evaluate:function(W){return F.resolveSymbol(L,W,k)}}}}),Z.addGrammarElement("implicitMeTarget",function(S,F,p){return{type:"implicitMeTarget",evaluate:function(k){return k.you||k.me}}}),Z.addLeafExpression("boolean",function(S,F,p){var k=p.matchToken("true")||p.matchToken("false");if(!k)return;let B=k.value==="true";return{type:"boolean",evaluate:function(I){return B}}}),Z.addLeafExpression("null",function(S,F,p){if(p.matchToken("null"))return{type:"null",evaluate:function(k){return null}}}),Z.addLeafExpression("arrayLiteral",function(S,F,p){if(p.matchOpToken("[")){var k=[];if(!p.matchOpToken("]")){do{var B=S.requireElement("expression",p);k.push(B)}while(p.matchOpToken(","));p.requireOpToken("]")}return{type:"arrayLiteral",values:k,args:[k],op:function(I,L){return L},evaluate:function(I){return F.unifiedEval(this,I)}}}}),Z.addLeafExpression("blockLiteral",function(S,F,p){if(p.matchOpToken("\\")){var k=[],B=p.matchTokenType("IDENTIFIER");if(B)for(k.push(B);p.matchOpToken(",");)k.push(p.requireTokenType("IDENTIFIER"));p.requireOpToken("-"),p.requireOpToken(">");var I=S.requireElement("expression",p);return{type:"blockLiteral",args:k,expr:I,evaluate:function(L){var W=function(){for(var Y=0;Y<k.length;Y++)L.locals[k[Y].value]=arguments[Y];return I.evaluate(L)};return W}}}}),Z.addIndirectExpression("propertyAccess",function(S,F,p,k){if(p.matchOpToken(".")){var B=p.requireTokenType("IDENTIFIER"),I={type:"propertyAccess",root:k,prop:B,args:[k],op:function(L,W){var Y=F.resolveProperty(W,B.value);return Y},evaluate:function(L){return F.unifiedEval(this,L)}};return S.parseElement("indirectExpression",p,I)}}),Z.addIndirectExpression("of",function(S,F,p,k){if(p.matchToken("of")){for(var B=S.requireElement("unaryExpression",p),I=null,L=k;L.root;)I=L,L=L.root;L.type!=="symbol"&&L.type!=="attributeRef"&&L.type!=="styleRef"&&L.type!=="computedStyleRef"&&S.raiseParseError(p,"Cannot take a property of a non-symbol: "+L.type);var W=L.type==="attributeRef",Y=L.type==="styleRef"||L.type==="computedStyleRef";if(W||Y)var U=L;var he=L.name,De={type:"ofExpression",prop:L.token,root:B,attribute:U,expression:k,args:[B],op:function(ye,ce){return W?F.resolveAttribute(ce,he):Y?L.type==="computedStyleRef"?F.resolveComputedStyle(ce,he):F.resolveStyle(ce,he):F.resolveProperty(ce,he)},evaluate:function(ye){return F.unifiedEval(this,ye)}};return L.type==="attributeRef"&&(De.attribute=L),I?(I.root=De,I.args=[De]):k=De,S.parseElement("indirectExpression",p,k)}}),Z.addIndirectExpression("possessive",function(S,F,p,k){if(!S.possessivesDisabled){var B=p.matchOpToken("'");if(B||k.type==="symbol"&&(k.name==="my"||k.name==="its"||k.name==="your")&&(p.currentToken().type==="IDENTIFIER"||p.currentToken().type==="ATTRIBUTE_REF"||p.currentToken().type==="STYLE_REF")){B&&p.requireToken("s");var I,L,W;I=S.parseElement("attributeRef",p),I==null&&(L=S.parseElement("styleRef",p),L==null&&(W=p.requireTokenType("IDENTIFIER")));var Y={type:"possessive",root:k,attribute:I||L,prop:W,args:[k],op:function(U,he){if(I)var De=F.resolveAttribute(he,I.name);else if(L){var De;L.type==="computedStyleRef"?De=F.resolveComputedStyle(he,L.name):De=F.resolveStyle(he,L.name)}else var De=F.resolveProperty(he,W.value);return De},evaluate:function(U){return F.unifiedEval(this,U)}};return S.parseElement("indirectExpression",p,Y)}}}),Z.addIndirectExpression("inExpression",function(S,F,p,k){if(p.matchToken("in")){var B=S.requireElement("unaryExpression",p),I={type:"inExpression",root:k,args:[k,B],op:function(L,W,Y){var U=[];if(W.css)F.implicitLoop(Y,function(De){for(var ye=De.querySelectorAll(W.css),ce=0;ce<ye.length;ce++)U.push(ye[ce])});else if(W instanceof Element){var he=!1;if(F.implicitLoop(Y,function(De){De.contains(W)&&(he=!0)}),he)return W}else F.implicitLoop(W,function(De){F.implicitLoop(Y,function(ye){De===ye&&U.push(De)})});return U},evaluate:function(L){return F.unifiedEval(this,L)}};return S.parseElement("indirectExpression",p,I)}}),Z.addIndirectExpression("asExpression",function(S,F,p,k){if(p.matchToken("as")){p.matchToken("a")||p.matchToken("an");var B=S.requireElement("dotOrColonPath",p).evaluate(),I={type:"asExpression",root:k,args:[k],op:function(L,W){return F.convertValue(W,B)},evaluate:function(L){return F.unifiedEval(this,L)}};return S.parseElement("indirectExpression",p,I)}}),Z.addIndirectExpression("functionCall",function(S,F,p,k){if(p.matchOpToken("(")){var B=[];if(!p.matchOpToken(")")){do B.push(S.requireElement("expression",p));while(p.matchOpToken(","));p.requireOpToken(")")}if(k.root)var I={type:"functionCall",root:k,argExressions:B,args:[k.root,B],op:function(L,W,Y){F.nullCheck(W,k.root);var U=W[k.prop.value];return F.nullCheck(U,k),U.hyperfunc&&Y.push(L),U.apply(W,Y)},evaluate:function(L){return F.unifiedEval(this,L)}};else var I={type:"functionCall",root:k,argExressions:B,args:[k,B],op:function(W,Y,U){F.nullCheck(Y,k),Y.hyperfunc&&U.push(W);var he=Y.apply(null,U);return he},evaluate:function(W){return F.unifiedEval(this,W)}};return S.parseElement("indirectExpression",p,I)}}),Z.addIndirectExpression("attributeRefAccess",function(S,F,p,k){var B=S.parseElement("attributeRef",p);if(B){var I={type:"attributeRefAccess",root:k,attribute:B,args:[k],op:function(L,W){var Y=F.resolveAttribute(W,B.name);return Y},evaluate:function(L){return F.unifiedEval(this,L)}};return I}}),Z.addIndirectExpression("arrayIndex",function(S,F,p,k){if(p.matchOpToken("[")){var B=!1,I=!1,L=null,W=null;if(p.matchOpToken(".."))B=!0,L=S.requireElement("expression",p);else if(L=S.requireElement("expression",p),p.matchOpToken("..")){I=!0;var Y=p.currentToken();Y.type!=="R_BRACKET"&&(W=S.parseElement("expression",p))}p.requireOpToken("]");var U={type:"arrayIndex",root:k,prop:L,firstIndex:L,secondIndex:W,args:[k,L,W],op:function(he,De,ye,ce){return De==null?null:B?(ye<0&&(ye=De.length+ye),De.slice(0,ye+1)):I?ce!=null?(ce<0&&(ce=De.length+ce),De.slice(ye,ce+1)):De.slice(ye):De[ye]},evaluate:function(he){return F.unifiedEval(this,he)}};return S.parseElement("indirectExpression",p,U)}});var A=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];Z.addGrammarElement("postfixExpression",function(S,F,p){var k=S.parseElement("primaryExpression",p);let B=p.matchAnyToken.apply(p,A)||p.matchOpToken("%");if(B)return{type:"stringPostfix",postfix:B.value,args:[k],op:function(Y,U){return""+U+B.value},evaluate:function(Y){return F.unifiedEval(this,Y)}};var I=null;if(p.matchToken("s")||p.matchToken("seconds")?I=1e3:(p.matchToken("ms")||p.matchToken("milliseconds"))&&(I=1),I)return{type:"timeExpression",time:k,factor:I,args:[k],op:function(Y,U){return U*I},evaluate:function(Y){return F.unifiedEval(this,Y)}};if(p.matchOpToken(":")){var L=p.requireTokenType("IDENTIFIER");if(!L.value)return;var W=!p.matchOpToken("!");return{type:"typeCheck",typeName:L,nullOk:W,args:[k],op:function(Y,U){var he=F.typeCheck(U,this.typeName.value,W);if(he)return U;throw new Error("Typecheck failed!  Expected: "+L.value)},evaluate:function(Y){return F.unifiedEval(this,Y)}}}else return k}),Z.addGrammarElement("logicalNot",function(S,F,p){if(p.matchToken("not")){var k=S.requireElement("unaryExpression",p);return{type:"logicalNot",root:k,args:[k],op:function(B,I){return!I},evaluate:function(B){return F.unifiedEval(this,B)}}}}),Z.addGrammarElement("noExpression",function(S,F,p){if(p.matchToken("no")){var k=S.requireElement("unaryExpression",p);return{type:"noExpression",root:k,args:[k],op:function(B,I){return F.isEmpty(I)},evaluate:function(B){return F.unifiedEval(this,B)}}}}),Z.addLeafExpression("some",function(S,F,p){if(p.matchToken("some")){var k=S.requireElement("expression",p);return{type:"noExpression",root:k,args:[k],op:function(B,I){return!F.isEmpty(I)},evaluate(B){return F.unifiedEval(this,B)}}}}),Z.addGrammarElement("negativeNumber",function(S,F,p){if(p.matchOpToken("-")){var k=S.requireElement("unaryExpression",p);return{type:"negativeNumber",root:k,args:[k],op:function(B,I){return-1*I},evaluate:function(B){return F.unifiedEval(this,B)}}}}),Z.addGrammarElement("unaryExpression",function(S,F,p){return p.matchToken("the"),S.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],p)}),Z.addGrammarElement("beepExpression",function(S,F,p){if(p.matchToken("beep!")){var k=S.parseElement("unaryExpression",p);if(k){k.booped=!0;var B=k.evaluate;return k.evaluate=function(I){let L=B.apply(k,arguments),W=I.me;return F.beepValueToConsole(W,k,L),L},k}}});var E=function(S,F,p,k){for(var B=F.querySelectorAll(p),I=0;I<B.length;I++){var L=B[I];if(L.compareDocumentPosition(S)===Node.DOCUMENT_POSITION_PRECEDING)return L}if(k)return B[0]},_=function(S,F,p,k){for(var B=F.querySelectorAll(p),I=B.length-1;I>=0;I--){var L=B[I];if(L.compareDocumentPosition(S)===Node.DOCUMENT_POSITION_FOLLOWING)return L}if(k)return B[B.length-1]},j=function(S,F,p,k){var B=[];c.prototype.forEach(F,function(Y){(Y.matches(p)||Y===S)&&B.push(Y)});for(var I=0;I<B.length-1;I++){var L=B[I];if(L===S)return B[I+1]}if(k){var W=B[0];if(W&&W.matches(p))return W}},H=function(S,F,p,k){return j(S,Array.from(F).reverse(),p,k)};Z.addGrammarElement("relativePositionalExpression",function(S,F,p){var k=p.matchAnyToken("next","previous");if(k){var B=k.value==="next",I=S.parseElement("expression",p);if(p.matchToken("from")){p.pushFollow("in");try{var L=S.requireElement("unaryExpression",p)}finally{p.popFollow()}}else var L=S.requireElement("implicitMeTarget",p);var W=!1,Y;if(p.matchToken("in")){W=!0;var U=S.requireElement("unaryExpression",p)}else p.matchToken("within")?Y=S.requireElement("unaryExpression",p):Y=document.body;var he=!1;return p.matchToken("with")&&(p.requireToken("wrapping"),he=!0),{type:"relativePositionalExpression",from:L,forwardSearch:B,inSearch:W,wrapping:he,inElt:U,withinElt:Y,operator:k.value,args:[I,L,U,Y],op:function(De,ye,ce,He,Je){var We=ye.css;if(We==null)throw"Expected a CSS value to be returned by "+l.sourceFor.apply(I);if(W){if(He)return B?j(ce,He,We,he):H(ce,He,We,he)}else if(Je)return B?E(ce,Je,We,he):_(ce,Je,We,he)},evaluate:function(De){return F.unifiedEval(this,De)}}}}),Z.addGrammarElement("positionalExpression",function(S,F,p){var k=p.matchAnyToken("first","last","random");if(!k)return;p.matchAnyToken("in","from","of");var B=S.requireElement("unaryExpression",p);let I=k.value;return{type:"positionalExpression",rhs:B,operator:k.value,args:[B],op:function(L,W){if(W&&!Array.isArray(W)&&(W.children?W=W.children:W=Array.from(W)),W){if(I==="first")return W[0];if(I==="last")return W[W.length-1];if(I==="random")return W[Math.floor(Math.random()*W.length)]}},evaluate:function(L){return F.unifiedEval(this,L)}}}),Z.addGrammarElement("mathOperator",function(S,F,p){var k=S.parseElement("unaryExpression",p),B,I=null;for(B=p.matchAnyOpToken("+","-","*","/")||p.matchToken("mod");B;){I=I||B;var L=B.value;I.value!==L&&S.raiseParseError(p,"You must parenthesize math operations with different operators");var W=S.parseElement("unaryExpression",p);k={type:"mathOperator",lhs:k,rhs:W,operator:L,args:[k,W],op:function(Y,U,he){if(L==="+")return U+he;if(L==="-")return U-he;if(L==="*")return U*he;if(L==="/")return U/he;if(L==="mod")return U%he},evaluate:function(Y){return F.unifiedEval(this,Y)}},B=p.matchAnyOpToken("+","-","*","/")||p.matchToken("mod")}return k}),Z.addGrammarElement("mathExpression",function(S,F,p){return S.parseAnyOf(["mathOperator","unaryExpression"],p)});function V(S,F,p){if(F.contains)return F.contains(p);if(F.includes)return F.includes(p);throw Error("The value of "+S.sourceFor()+" does not have a contains or includes method on it")}function N(S,F,p){if(F.match)return!!F.match(p);if(F.matches)return F.matches(p);throw Error("The value of "+S.sourceFor()+" does not have a match or matches method on it")}Z.addGrammarElement("comparisonOperator",function(S,F,p){var k=S.parseElement("mathExpression",p),B=p.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),I=B?B.value:null,L=!0,W=!1;if(I==null&&(p.matchToken("is")||p.matchToken("am")?p.matchToken("not")?p.matchToken("in")?I="not in":p.matchToken("a")?(I="not a",W=!0):p.matchToken("empty")?(I="not empty",L=!1):(p.matchToken("really")?I="!==":I="!=",p.matchToken("equal")&&p.matchToken("to")):p.matchToken("in")?I="in":p.matchToken("a")?(I="a",W=!0):p.matchToken("empty")?(I="empty",L=!1):p.matchToken("less")?(p.requireToken("than"),p.matchToken("or")?(p.requireToken("equal"),p.requireToken("to"),I="<="):I="<"):p.matchToken("greater")?(p.requireToken("than"),p.matchToken("or")?(p.requireToken("equal"),p.requireToken("to"),I=">="):I=">"):(p.matchToken("really")?I="===":I="==",p.matchToken("equal")&&p.matchToken("to")):p.matchToken("equals")?I="==":p.matchToken("really")?(p.requireToken("equals"),I="==="):p.matchToken("exist")||p.matchToken("exists")?(I="exist",L=!1):p.matchToken("matches")||p.matchToken("match")?I="match":p.matchToken("contains")||p.matchToken("contain")?I="contain":p.matchToken("includes")||p.matchToken("include")?I="include":(p.matchToken("do")||p.matchToken("does"))&&(p.requireToken("not"),p.matchToken("matches")||p.matchToken("match")?I="not match":p.matchToken("contains")||p.matchToken("contain")?I="not contain":p.matchToken("exist")||p.matchToken("exist")?(I="not exist",L=!1):p.matchToken("include")?I="not include":S.raiseParseError(p,"Expected matches or contains"))),I){var Y,U,he;W?(Y=p.requireTokenType("IDENTIFIER"),U=!p.matchOpToken("!")):L&&(he=S.requireElement("mathExpression",p),(I==="match"||I==="not match")&&(he=he.css?he.css:he));var De=k;k={type:"comparisonOperator",operator:I,typeName:Y,nullOk:U,lhs:k,rhs:he,args:[k,he],op:function(ye,ce,He){if(I==="==")return ce==He;if(I==="!=")return ce!=He;if(I==="===")return ce===He;if(I==="!==")return ce!==He;if(I==="match")return ce!=null&&N(De,ce,He);if(I==="not match")return ce==null||!N(De,ce,He);if(I==="in")return He!=null&&V(he,He,ce);if(I==="not in")return He==null||!V(he,He,ce);if(I==="contain")return ce!=null&&V(De,ce,He);if(I==="not contain")return ce==null||!V(De,ce,He);if(I==="include")return ce!=null&&V(De,ce,He);if(I==="not include")return ce==null||!V(De,ce,He);if(I==="===")return ce===He;if(I==="!==")return ce!==He;if(I==="<")return ce<He;if(I===">")return ce>He;if(I==="<=")return ce<=He;if(I===">=")return ce>=He;if(I==="empty")return F.isEmpty(ce);if(I==="not empty")return!F.isEmpty(ce);if(I==="exist")return F.doesExist(ce);if(I==="not exist")return!F.doesExist(ce);if(I==="a")return F.typeCheck(ce,Y.value,U);if(I==="not a")return!F.typeCheck(ce,Y.value,U);throw"Unknown comparison : "+I},evaluate:function(ye){return F.unifiedEval(this,ye)}}}return k}),Z.addGrammarElement("comparisonExpression",function(S,F,p){return S.parseAnyOf(["comparisonOperator","mathExpression"],p)}),Z.addGrammarElement("logicalOperator",function(S,F,p){var k=S.parseElement("comparisonExpression",p),B,I=null;for(B=p.matchToken("and")||p.matchToken("or");B;){I=I||B,I.value!==B.value&&S.raiseParseError(p,"You must parenthesize logical operations with different operators");var L=S.requireElement("comparisonExpression",p);let W=B.value;k={type:"logicalOperator",operator:W,lhs:k,rhs:L,args:[k,L],op:function(Y,U,he){return W==="and"?U&&he:U||he},evaluate:function(Y){return F.unifiedEval(this,Y)}},B=p.matchToken("and")||p.matchToken("or")}return k}),Z.addGrammarElement("logicalExpression",function(S,F,p){return S.parseAnyOf(["logicalOperator","mathExpression"],p)}),Z.addGrammarElement("asyncExpression",function(S,F,p){if(p.matchToken("async")){var k=S.requireElement("logicalExpression",p),B={type:"asyncExpression",value:k,evaluate:function(I){return{asyncWrapper:!0,value:this.value.evaluate(I)}}};return B}else return S.parseElement("logicalExpression",p)}),Z.addGrammarElement("expression",function(S,F,p){return p.matchToken("the"),S.parseElement("asyncExpression",p)}),Z.addGrammarElement("assignableExpression",function(S,F,p){p.matchToken("the");var k=S.parseElement("primaryExpression",p);return k&&(k.type==="symbol"||k.type==="ofExpression"||k.type==="propertyAccess"||k.type==="attributeRefAccess"||k.type==="attributeRef"||k.type==="styleRef"||k.type==="arrayIndex"||k.type==="possessive")||S.raiseParseError(p,"A target expression must be writable.  The expression type '"+(k&&k.type)+"' is not."),k}),Z.addGrammarElement("hyperscript",function(S,F,p){var k=[];if(p.hasMore())for(;S.featureStart(p.currentToken())||p.currentToken().value==="(";){var B=S.requireElement("feature",p);k.push(B),p.matchToken("end")}return{type:"hyperscript",features:k,apply:function(I,L,W){for(let Y of k)Y.install(I,L,W)}}});var ve=function(S){var F=[];if(S.token(0).value==="("&&(S.token(1).value===")"||S.token(2).value===","||S.token(2).value===")")){S.matchOpToken("(");do F.push(S.requireTokenType("IDENTIFIER"));while(S.matchOpToken(","));S.requireOpToken(")")}return F};Z.addFeature("on",function(S,F,p){if(p.matchToken("on")){var k=!1;p.matchToken("every")&&(k=!0);var B=[],I=null;do{var L=S.requireElement("eventName",p,"Expected event name"),W=L.evaluate();I?I=I+" or "+W:I="on "+W;var Y=ve(p),U=null;p.matchOpToken("[")&&(U=S.requireElement("expression",p),p.requireOpToken("]"));var he,De,ye;if(p.currentToken().type==="NUMBER"){var ce=p.consumeToken();if(!ce.value)return;if(he=parseInt(ce.value),p.matchToken("to")){var He=p.consumeToken();if(!He.value)return;De=parseInt(He.value)}else p.matchToken("and")&&(ye=!0,p.requireToken("on"))}var Je,We;if(W==="intersection"){if(Je={},p.matchToken("with")&&(Je.with=S.requireElement("expression",p).evaluate()),p.matchToken("having"))do p.matchToken("margin")?Je.rootMargin=S.requireElement("stringLike",p).evaluate():p.matchToken("threshold")?Je.threshold=S.requireElement("expression",p).evaluate():S.raiseParseError(p,"Unknown intersection config specification");while(p.matchToken("and"))}else if(W==="mutation")if(We={},p.matchToken("of"))do if(p.matchToken("anything"))We.attributes=!0,We.subtree=!0,We.characterData=!0,We.childList=!0;else if(p.matchToken("childList"))We.childList=!0;else if(p.matchToken("attributes"))We.attributes=!0,We.attributeOldValue=!0;else if(p.matchToken("subtree"))We.subtree=!0;else if(p.matchToken("characterData"))We.characterData=!0,We.characterDataOldValue=!0;else if(p.currentToken().type==="ATTRIBUTE_REF"){var yt=p.consumeToken();We.attributeFilter==null&&(We.attributeFilter=[]),yt.value.indexOf("@")==0?We.attributeFilter.push(yt.value.substring(1)):S.raiseParseError(p,"Only shorthand attribute references are allowed here")}else S.raiseParseError(p,"Unknown mutation config specification");while(p.matchToken("or"));else We.attributes=!0,We.characterData=!0,We.childList=!0;var ht=null,en=!1;if(p.matchToken("from"))if(p.matchToken("elsewhere"))en=!0;else{p.pushFollow("or");try{ht=S.requireElement("expression",p)}finally{p.popFollow()}ht||S.raiseParseError(p,'Expected either target value or "elsewhere".')}if(ht===null&&en===!1&&p.matchToken("elsewhere")&&(en=!0),p.matchToken("in"))var yn=S.parseElement("unaryExpression",p);if(p.matchToken("debounced")){p.requireToken("at");var pt=S.requireElement("unaryExpression",p),tn=pt.evaluate({})}else if(p.matchToken("throttled")){p.requireToken("at");var pt=S.requireElement("unaryExpression",p),nn=pt.evaluate({})}B.push({execCount:0,every:k,on:W,args:Y,filter:U,from:ht,inExpr:yn,elsewhere:en,startCount:he,endCount:De,unbounded:ye,debounceTime:tn,throttleTime:nn,mutationSpec:We,intersectionSpec:Je,debounced:void 0,lastExec:void 0})}while(p.matchToken("or"));var Ke=!0;if(!k&&p.matchToken("queue"))if(p.matchToken("all"))var xn=!0,Ke=!1;else if(p.matchToken("first"))var rn=!0;else if(p.matchToken("none"))var Dn=!0;else p.requireToken("last");var Ve=S.requireElement("commandList",p);S.ensureTerminated(Ve);var Bn,mt;if(p.matchToken("catch")&&(Bn=p.requireTokenType("IDENTIFIER").value,mt=S.requireElement("commandList",p),S.ensureTerminated(mt)),p.matchToken("finally")){var Lt=S.requireElement("commandList",p);S.ensureTerminated(Lt)}var dt={displayName:I,events:B,start:Ve,every:k,execCount:0,errorHandler:mt,errorSymbol:Bn,execute:function(at){let rt=F.getEventQueueFor(at.me,dt);if(rt.executing&&k===!1){if(Dn||rn&&rt.queue.length>0)return;Ke&&(rt.queue.length=0),rt.queue.push(at);return}dt.execCount++,rt.executing=!0,at.meta.onHalt=function(){rt.executing=!1;var Ut=rt.queue.shift();Ut&&setTimeout(function(){dt.execute(Ut)},1)},at.meta.reject=function(Ut){console.error(Ut.message?Ut.message:Ut);var Ge=F.getHyperTrace(at,Ut);Ge&&Ge.print(),F.triggerEvent(at.me,"exception",{error:Ut})},Ve.execute(at)},install:function(at,rt){for(let Ge of dt.events){var Ut;Ge.elsewhere?Ut=[document]:Ge.from?Ut=Ge.from.evaluate(F.makeContext(at,dt,at,null)):Ut=[at],F.implicitLoop(Ut,function(Tn){var un=Ge.on;if(Tn==null){console.warn("'%s' feature ignored because target does not exists:",I,at);return}if(Ge.mutationSpec&&(un="hyperscript:mutation",new MutationObserver(function(Vt,gt){dt.executing||F.triggerEvent(Tn,un,{mutationList:Vt,observer:gt})}).observe(Tn,Ge.mutationSpec)),Ge.intersectionSpec){un="hyperscript:intersection";let Dt=new IntersectionObserver(function(Vt){for(let vr of Vt){var gt={observer:Dt};gt=Object.assign(gt,vr),gt.intersecting=vr.isIntersecting,F.triggerEvent(Tn,un,gt)}},Ge.intersectionSpec);Dt.observe(Tn)}var Lr=Tn.addEventListener||Tn.on;Lr.call(Tn,un,function Dt(Vt){if(typeof Node<"u"&&at instanceof Node&&Tn!==at&&!at.isConnected){Tn.removeEventListener(un,Dt);return}var gt=F.makeContext(at,dt,at,Vt);if(!(Ge.elsewhere&&at.contains(Vt.target))){Ge.from&&(gt.result=Tn);for(let er of Ge.args){let jr=gt.event[er.value];jr!==void 0?gt.locals[er.value]=jr:"detail"in gt.event&&(gt.locals[er.value]=gt.event.detail[er.value])}if(gt.meta.errorHandler=mt,gt.meta.errorSymbol=Bn,gt.meta.finallyHandler=Lt,Ge.filter){var vr=gt.meta.context;gt.meta.context=gt.event;try{var ci=Ge.filter.evaluate(gt);if(!ci)return}finally{gt.meta.context=vr}}if(Ge.inExpr){for(var Pn=Vt.target;;)if(Pn.matches&&Pn.matches(Ge.inExpr.css)){gt.result=Pn;break}else if(Pn=Pn.parentElement,Pn==null)return}if(Ge.execCount++,Ge.startCount){if(Ge.endCount){if(Ge.execCount<Ge.startCount||Ge.execCount>Ge.endCount)return}else if(Ge.unbounded){if(Ge.execCount<Ge.startCount)return}else if(Ge.execCount!==Ge.startCount)return}if(Ge.debounceTime){Ge.debounced&&clearTimeout(Ge.debounced),Ge.debounced=setTimeout(function(){dt.execute(gt)},Ge.debounceTime);return}if(Ge.throttleTime){if(Ge.lastExec&&Date.now()<Ge.lastExec+Ge.throttleTime)return;Ge.lastExec=Date.now()}dt.execute(gt)}})})}}};return S.setParent(Ve,dt),dt}}),Z.addFeature("def",function(S,F,p){if(p.matchToken("def")){var k=S.requireElement("dotOrColonPath",p),B=k.evaluate(),I=B.split("."),L=I.pop(),W=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do W.push(p.requireTokenType("IDENTIFIER"));while(p.matchOpToken(","));p.requireOpToken(")")}var Y=S.requireElement("commandList",p),U,he;if(p.matchToken("catch")&&(U=p.requireTokenType("IDENTIFIER").value,he=S.parseElement("commandList",p)),p.matchToken("finally")){var De=S.requireElement("commandList",p);S.ensureTerminated(De)}var ye={displayName:L+"("+W.map(function(ce){return ce.value}).join(", ")+")",name:L,args:W,start:Y,errorHandler:he,errorSymbol:U,finallyHandler:De,install:function(ce,He){var Je=function(){var We=F.makeContext(He,ye,ce,null);We.meta.errorHandler=he,We.meta.errorSymbol=U,We.meta.finallyHandler=De;for(var yt=0;yt<W.length;yt++){var ht=W[yt],en=arguments[yt];ht&&(We.locals[ht.value]=en)}We.meta.caller=arguments[W.length],We.meta.caller&&(We.meta.callingCommand=We.meta.caller.meta.command);var yn,pt=null,tn=new Promise(function(nn,Ke){yn=nn,pt=Ke});return Y.execute(We),We.meta.returned?We.meta.returnValue:(We.meta.resolve=yn,We.meta.reject=pt,tn)};Je.hyperfunc=!0,Je.hypername=B,F.assignToNamespace(ce,I,L,Je)}};return S.ensureTerminated(Y),he&&S.ensureTerminated(he),S.setParent(Y,ye),ye}}),Z.addFeature("set",function(S,F,p){let k=S.parseElement("setCommand",p);if(k){k.target.scope!=="element"&&S.raiseParseError(p,"variables declared at the feature level must be element scoped.");let B={start:k,install:function(I,L){k&&k.execute(F.makeContext(I,B,I,null))}};return S.ensureTerminated(k),B}}),Z.addFeature("init",function(S,F,p){if(p.matchToken("init")){var k=p.matchToken("immediately"),B=S.requireElement("commandList",p),I={start:B,install:function(L,W){let Y=function(){B&&B.execute(F.makeContext(L,I,L,null))};k?Y():setTimeout(Y,0)}};return S.ensureTerminated(B),S.setParent(B,I),I}}),Z.addFeature("worker",function(S,F,p){if(p.matchToken("worker")){S.raiseParseError(p,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),Z.addFeature("behavior",function(S,F,p){if(p.matchToken("behavior")){var k=S.requireElement("dotOrColonPath",p).evaluate(),B=k.split("."),I=B.pop(),L=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do L.push(p.requireTokenType("IDENTIFIER").value);while(p.matchOpToken(","));p.requireOpToken(")")}for(var W=S.requireElement("hyperscript",p),Y=0;Y<W.features.length;Y++){var U=W.features[Y];U.behavior=k}return{install:function(he,De){F.assignToNamespace(e.document&&e.document.body,B,I,function(ye,ce,He){for(var Je=F.getInternalData(ye),We=se(Je,k+"Scope"),yt=0;yt<L.length;yt++)We[L[yt]]=He[L[yt]];W.apply(ye,ce)})}}}}),Z.addFeature("install",function(S,F,p){if(p.matchToken("install")){var k=S.requireElement("dotOrColonPath",p).evaluate(),B=k.split("."),I=S.parseElement("namedArgumentList",p),L;return L={install:function(W,Y){F.unifiedEval({args:[I],op:function(U,he){for(var De=e,ye=0;ye<B.length;ye++)if(De=De[B[ye]],typeof De!="object"&&typeof De!="function")throw new Error("No such behavior defined as "+k);if(!(De instanceof Function))throw new Error(k+" is not a behavior");De(W,Y,he)}},F.makeContext(W,L,W,null))}}}}),Z.addGrammarElement("jsBody",function(S,F,p){for(var k=p.currentToken().start,B=p.currentToken(),I=[],L="",W=!1;p.hasMore();){B=p.consumeToken();var Y=p.token(0,!0);if(Y.type==="IDENTIFIER"&&Y.value==="end")break;W?B.type==="IDENTIFIER"||B.type==="NUMBER"?L+=B.value:(L!==""&&I.push(L),L="",W=!1):B.type==="IDENTIFIER"&&B.value==="function"&&(W=!0)}var U=B.end+1;return{type:"jsBody",exposedFunctionNames:I,jsSource:p.source.substring(k,U)}}),Z.addFeature("js",function(S,F,p){if(p.matchToken("js")){var k=S.requireElement("jsBody",p),B=k.jsSource+`
return { `+k.exposedFunctionNames.map(function(L){return L+":"+L}).join(",")+" } ",I=new Function(B);return{jsSource:B,function:I,exposedFunctionNames:k.exposedFunctionNames,install:function(){Object.assign(e,I())}}}}),Z.addCommand("js",function(S,F,p){if(p.matchToken("js")){var k=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do{var B=p.requireTokenType("IDENTIFIER");k.push(B.value)}while(p.matchOpToken(","));p.requireOpToken(")")}var I=S.requireElement("jsBody",p);p.matchToken("end");var L=Q(Function,k.concat([I.jsSource])),W={jsSource:I.jsSource,function:L,inputs:k,op:function(Y){var U=[];k.forEach(function(De){U.push(F.resolveSymbol(De,Y,"default"))});var he=L.apply(e,U);return he&&typeof he.then=="function"?new Promise(function(De){he.then(function(ye){Y.result=ye,De(F.findNext(this,Y))})}):(Y.result=he,F.findNext(this,Y))}};return W}}),Z.addCommand("async",function(S,F,p){if(p.matchToken("async")){if(p.matchToken("do")){for(var k=S.requireElement("commandList",p),B=k;B.next;)B=B.next;B.next=F.HALT,p.requireToken("end")}else var k=S.requireElement("command",p);var I={body:k,op:function(L){return setTimeout(function(){k.execute(L)}),F.findNext(this,L)}};return S.setParent(k,I),I}}),Z.addCommand("tell",function(S,F,p){var k=p.currentToken();if(p.matchToken("tell")){var B=S.requireElement("expression",p),I=S.requireElement("commandList",p);p.hasMore()&&!S.featureStart(p.currentToken())&&p.requireToken("end");var L="tell_"+k.start,W={value:B,body:I,args:[B],resolveNext:function(Y){var U=Y.meta.iterators[L];return U.index<U.value.length?(Y.you=U.value[U.index++],I):(Y.you=U.originalYou,this.next?this.next:F.findNext(this.parent,Y))},op:function(Y,U){return U==null?U=[]:Array.isArray(U)||U instanceof NodeList||(U=[U]),Y.meta.iterators[L]={originalYou:Y.you,index:0,value:U},this.resolveNext(Y)}};return S.setParent(I,W),W}}),Z.addCommand("wait",function(S,F,p){if(p.matchToken("wait")){var k;if(p.matchToken("for")){p.matchToken("a");var B=[];do{var I=p.token(0);I.type==="NUMBER"||I.type==="L_PAREN"?B.push({time:S.requireElement("expression",p).evaluate()}):B.push({name:S.requireElement("dotOrColonPath",p,"Expected event name").evaluate(),args:ve(p)})}while(p.matchToken("or"));if(p.matchToken("from"))var L=S.requireElement("expression",p);return k={event:B,on:L,args:[L],op:function(Y,U){var he=U||Y.me;if(!(he instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise(De=>{var ye=!1;for(let He of B){var ce=Je=>{if(Y.result=Je,He.args)for(let We of He.args)Y.locals[We.value]=Je[We.value]||(Je.detail?Je.detail[We.value]:null);ye||(ye=!0,De(F.findNext(this,Y)))};He.name?he.addEventListener(He.name,ce,{once:!0}):He.time!=null&&setTimeout(ce,He.time,He.time)}})}},k}else{var W;return p.matchToken("a")?(p.requireToken("tick"),W=0):W=S.requireElement("expression",p),k={type:"waitCmd",time:W,args:[W],op:function(Y,U){return new Promise(he=>{setTimeout(()=>{he(F.findNext(this,Y))},U)})},execute:function(Y){return F.unifiedExec(this,Y)}},k}}}),Z.addGrammarElement("dotOrColonPath",function(S,F,p){var k=p.matchTokenType("IDENTIFIER");if(k){var B=[k.value],I=p.matchOpToken(".")||p.matchOpToken(":");if(I)do B.push(p.requireTokenType("IDENTIFIER","NUMBER").value);while(p.matchOpToken(I.value));return{type:"dotOrColonPath",path:B,evaluate:function(){return B.join(I?I.value:"")}}}}),Z.addGrammarElement("eventName",function(S,F,p){var k;return(k=p.matchTokenType("STRING"))?{evaluate:function(){return k.value}}:S.parseElement("dotOrColonPath",p)});function R(S,F,p,k){var B=F.requireElement("eventName",k),I=F.parseElement("namedArgumentList",k);if(S==="send"&&k.matchToken("to")||S==="trigger"&&k.matchToken("on"))var L=F.requireElement("expression",k);else var L=F.requireElement("implicitMeTarget",k);var W={eventName:B,details:I,to:L,args:[L,B,I],op:function(Y,U,he,De){return p.nullCheck(U,L),p.implicitLoop(U,function(ye){p.triggerEvent(ye,he,De,Y.me)}),p.findNext(W,Y)}};return W}Z.addCommand("trigger",function(S,F,p){if(p.matchToken("trigger"))return R("trigger",S,F,p)}),Z.addCommand("send",function(S,F,p){if(p.matchToken("send"))return R("send",S,F,p)});var b=function(S,F,p,k){if(k)if(S.commandBoundary(p.currentToken()))S.raiseParseError(p,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var B=S.requireElement("expression",p);var I={value:B,args:[B],op:function(L,W){var Y=L.meta.resolve;return L.meta.returned=!0,L.meta.returnValue=W,Y&&(W?Y(W):Y()),F.HALT}};return I};Z.addCommand("return",function(S,F,p){if(p.matchToken("return"))return b(S,F,p,!0)}),Z.addCommand("exit",function(S,F,p){if(p.matchToken("exit"))return b(S,F,p,!1)}),Z.addCommand("halt",function(S,F,p){if(p.matchToken("halt")){if(p.matchToken("the")){p.requireToken("event"),p.matchOpToken("'")&&p.requireToken("s");var k=!0}if(p.matchToken("bubbling"))var B=!0;else if(p.matchToken("default"))var I=!0;var L=b(S,F,p,!1),W={keepExecuting:!0,bubbling:B,haltDefault:I,exit:L,op:function(Y){if(Y.event)return B?Y.event.stopPropagation():(I||Y.event.stopPropagation(),Y.event.preventDefault()),k?F.findNext(this,Y):L}};return W}}),Z.addCommand("log",function(S,F,p){if(p.matchToken("log")){for(var k=[S.parseElement("expression",p)];p.matchOpToken(",");)k.push(S.requireElement("expression",p));if(p.matchToken("with"))var B=S.requireElement("expression",p);var I={exprs:k,withExpr:B,args:[B,k],op:function(L,W,Y){return W?W.apply(null,Y):console.log.apply(null,Y),F.findNext(this,L)}};return I}}),Z.addCommand("beep!",function(S,F,p){if(p.matchToken("beep!")){for(var k=[S.parseElement("expression",p)];p.matchOpToken(",");)k.push(S.requireElement("expression",p));var B={exprs:k,args:[k],op:function(I,L){for(let W=0;W<k.length;W++){let Y=k[W],U=L[W];F.beepValueToConsole(I.me,Y,U)}return F.findNext(this,I)}};return B}}),Z.addCommand("throw",function(S,F,p){if(p.matchToken("throw")){var k=S.requireElement("expression",p),B={expr:k,args:[k],op:function(I,L){throw F.registerHyperTrace(I,L),L}};return B}});var ae=function(S,F,p){var k=S.requireElement("expression",p),B={expr:k,args:[k],op:function(I,L){return I.result=L,F.findNext(B,I)}};return B};Z.addCommand("call",function(S,F,p){if(p.matchToken("call")){var k=ae(S,F,p);return k.expr&&k.expr.type!=="functionCall"&&S.raiseParseError(p,"Must be a function invocation"),k}}),Z.addCommand("get",function(S,F,p){if(p.matchToken("get"))return ae(S,F,p)}),Z.addCommand("make",function(S,F,p){if(p.matchToken("make")){p.matchToken("a")||p.matchToken("an");var k=S.requireElement("expression",p),B=[];if(k.type!=="queryRef"&&p.matchToken("from"))do B.push(S.requireElement("expression",p));while(p.matchOpToken(","));if(p.matchToken("called"))var I=S.requireElement("symbol",p);var L;return k.type==="queryRef"?(L={op:function(W){for(var Y,U="div",he,De=[],ye=/(?:(^|#|\.)([^#\. ]+))/g;Y=ye.exec(k.css);)Y[1]===""?U=Y[2].trim():Y[1]==="#"?he=Y[2].trim():De.push(Y[2].trim());var ce=document.createElement(U);he!==void 0&&(ce.id=he);for(var He=0;He<De.length;He++){var Je=De[He];ce.classList.add(Je)}return W.result=ce,I&&F.setSymbol(I.name,W,I.scope,ce),F.findNext(this,W)}},L):(L={args:[k,B],op:function(W,Y,U){return W.result=Q(Y,U),I&&F.setSymbol(I.name,W,I.scope,W.result),F.findNext(this,W)}},L)}}),Z.addGrammarElement("pseudoCommand",function(S,F,p){let k=p.token(1);if(!(k&&k.op&&(k.value==="."||k.value==="(")))return null;for(var B=S.requireElement("primaryExpression",p),I=B.root,L=B;I.root!=null;)L=L.root,I=I.root;if(B.type!=="functionCall"&&S.raiseParseError(p,"Pseudo-commands must be function calls"),L.type==="functionCall"&&L.root.root==null){if(p.matchAnyToken("the","to","on","with","into","from","at"))var W=S.requireElement("expression",p);else if(p.matchToken("me"))var W=S.requireElement("implicitMeTarget",p)}var Y;return W?Y={type:"pseudoCommand",root:W,argExressions:L.argExressions,args:[W,L.argExressions],op:function(U,he,De){F.nullCheck(he,W);var ye=he[L.root.name];return F.nullCheck(ye,L),ye.hyperfunc&&De.push(U),U.result=ye.apply(he,De),F.findNext(Y,U)},execute:function(U){return F.unifiedExec(this,U)}}:Y={type:"pseudoCommand",expr:B,args:[B],op:function(U,he){return U.result=he,F.findNext(Y,U)},execute:function(U){return F.unifiedExec(this,U)}},Y});var me=function(S,F,p,k,B){var I=k.type==="symbol",L=k.type==="attributeRef",W=k.type==="styleRef",Y=k.type==="arrayIndex";!(L||W||I)&&k.root==null&&S.raiseParseError(p,"Can only put directly into symbols, not references");var U=null,he=null;if(!I)if(L||W){U=S.requireElement("implicitMeTarget",p);var De=k}else if(Y)he=k.firstIndex,U=k.root;else{he=k.prop?k.prop.value:null;var De=k.attribute;U=k.root}var ye={target:k,symbolWrite:I,value:B,args:[U,he,B],op:function(ce,He,Je,We){return I?F.setSymbol(k.name,ce,k.scope,We):(F.nullCheck(He,U),Y?He[Je]=We:F.implicitLoop(He,function(yt){De?De.type==="attributeRef"?We==null?yt.removeAttribute(De.name):yt.setAttribute(De.name,We):yt.style[De.name]=We:yt[Je]=We})),F.findNext(this,ce)}};return ye};Z.addCommand("default",function(S,F,p){if(p.matchToken("default")){var k=S.requireElement("assignableExpression",p);p.requireToken("to");var B=S.requireElement("expression",p),I=me(S,F,p,k,B),L={target:k,value:B,setter:I,args:[k],op:function(W,Y){return Y?F.findNext(this,W):I}};return I.parent=L,L}}),Z.addCommand("set",function(S,F,p){if(p.matchToken("set")){if(p.currentToken().type==="L_BRACE"){var k=S.requireElement("objectLiteral",p);p.requireToken("on");var B=S.requireElement("expression",p),I={objectLiteral:k,target:B,args:[k,B],op:function(W,Y,U){return Object.assign(U,Y),F.findNext(this,W)}};return I}try{p.pushFollow("to");var B=S.requireElement("assignableExpression",p)}finally{p.popFollow()}p.requireToken("to");var L=S.requireElement("expression",p);return me(S,F,p,B,L)}}),Z.addCommand("if",function(S,F,p){if(!p.matchToken("if"))return;var k=S.requireElement("expression",p);p.matchToken("then");var B=S.parseElement("commandList",p),I=!1;let L=p.matchToken("else")||p.matchToken("otherwise");if(L){let U=p.peekToken("if");if(I=U!=null&&U.line===L.line,I)var W=S.parseElement("command",p);else var W=S.parseElement("commandList",p)}p.hasMore()&&!I&&p.requireToken("end");var Y={expr:k,trueBranch:B,falseBranch:W,args:[k],op:function(U,he){return he?B:W||F.findNext(this,U)}};return S.setParent(B,Y),S.setParent(W,Y),Y});var de=function(S,F,p,k){var B=F.currentToken(),I;if(F.matchToken("for")||k){var L=F.requireTokenType("IDENTIFIER");I=L.value,F.requireToken("in");var W=S.requireElement("expression",F)}else if(F.matchToken("in")){I="it";var W=S.requireElement("expression",F)}else if(F.matchToken("while"))var Y=S.requireElement("expression",F);else if(F.matchToken("until")){var U=!0;if(F.matchToken("event")){var he=S.requireElement("dotOrColonPath",F,"Expected event name");if(F.matchToken("from"))var De=S.requireElement("expression",F)}else var Y=S.requireElement("expression",F)}else if(!S.commandBoundary(F.currentToken())&&F.currentToken().value!=="forever"){var ye=S.requireElement("expression",F);F.requireToken("times")}else{F.matchToken("forever");var ce=!0}if(F.matchToken("index"))var L=F.requireTokenType("IDENTIFIER"),He=L.value;var Je=S.parseElement("commandList",F);if(Je&&he){for(var We=Je;We.next;)We=We.next;var yt={type:"waitATick",op:function(){return new Promise(function(pt){setTimeout(function(){pt(p.findNext(yt))},0)})}};We.next=yt}if(F.hasMore()&&F.requireToken("end"),I==null){I="_implicit_repeat_"+B.start;var ht=I}else var ht=I+"_"+B.start;var en={identifier:I,indexIdentifier:He,slot:ht,expression:W,forever:ce,times:ye,until:U,event:he,on:De,whileExpr:Y,resolveNext:function(){return this},loop:Je,args:[Y,ye],op:function(pt,tn,nn){var Ke=pt.meta.iterators[ht],xn=!1,rn=null;if(this.forever)xn=!0;else if(this.until)he?xn=pt.meta.iterators[ht].eventFired===!1:xn=tn!==!0;else if(Y)xn=tn;else if(nn)xn=Ke.index<nn;else{var Dn=Ke.iterator.next();xn=!Dn.done,rn=Dn.value}return xn?(Ke.value?pt.result=pt.locals[I]=rn:pt.result=Ke.index,He&&(pt.locals[He]=Ke.index),Ke.index++,Je):(pt.meta.iterators[ht]=null,p.findNext(this.parent,pt))}};S.setParent(Je,en);var yn={name:"repeatInit",args:[W,he,De],op:function(pt,tn,nn,Ke){var xn={index:0,value:tn,eventFired:!1};if(pt.meta.iterators[ht]=xn,tn&&tn[Symbol.iterator]&&(xn.iterator=tn[Symbol.iterator]()),he){var rn=Ke||pt.me;rn.addEventListener(nn,function(Dn){pt.meta.iterators[ht].eventFired=!0},{once:!0})}return en},execute:function(pt){return p.unifiedExec(this,pt)}};return S.setParent(en,yn),yn};Z.addCommand("repeat",function(S,F,p){if(p.matchToken("repeat"))return de(S,p,F,!1)}),Z.addCommand("for",function(S,F,p){if(p.matchToken("for"))return de(S,p,F,!0)}),Z.addCommand("continue",function(S,F,p){if(p.matchToken("continue")){var k={op:function(B){for(var I=this.parent;;I=I.parent)if(I==null&&S.raiseParseError(p,"Command `continue` cannot be used outside of a `repeat` loop."),I.loop!=null)return I.resolveNext(B)}};return k}}),Z.addCommand("break",function(S,F,p){if(p.matchToken("break")){var k={op:function(B){for(var I=this.parent;;I=I.parent)if(I==null&&S.raiseParseError(p,"Command `continue` cannot be used outside of a `repeat` loop."),I.loop!=null)return F.findNext(I.parent,B)}};return k}}),Z.addGrammarElement("stringLike",function(S,F,p){return S.parseAnyOf(["string","nakedString"],p)}),Z.addCommand("append",function(S,F,p){if(p.matchToken("append")){var k=null,B=S.requireElement("expression",p),I={type:"symbol",evaluate:function(Y){return F.resolveSymbol("result",Y)}};p.matchToken("to")?k=S.requireElement("expression",p):k=I;var L=null;(k.type==="symbol"||k.type==="attributeRef"||k.root!=null)&&(L=me(S,F,p,k,I));var W={value:B,target:k,args:[k,B],op:function(Y,U,he){if(Array.isArray(U))return U.push(he),F.findNext(this,Y);if(U instanceof Element)return U.innerHTML+=he,F.findNext(this,Y);if(L)return Y.result=(U||"")+he,L;throw Error("Unable to append a value!")},execute:function(Y){return F.unifiedExec(this,Y)}};return L!=null&&(L.parent=W),W}});function Fe(S,F,p){p.matchToken("at")||p.matchToken("from");let k={includeStart:!0,includeEnd:!1};return k.from=p.matchToken("start")?0:S.requireElement("expression",p),(p.matchToken("to")||p.matchOpToken(".."))&&(p.matchToken("end")?k.toEnd=!0:k.to=S.requireElement("expression",p)),p.matchToken("inclusive")?k.includeEnd=!0:p.matchToken("exclusive")&&(k.includeStart=!1),k}class Ae{constructor(F,p){this.re=F,this.str=p}next(){let F=this.re.exec(this.str);return F===null?{done:!0}:{value:F}}}class _e{constructor(F,p,k){this.re=F,this.flags=p,this.str=k}[Symbol.iterator](){return new Ae(new RegExp(this.re,this.flags),this.str)}}Z.addCommand("pick",(S,F,p)=>{if(p.matchToken("pick")){if(p.matchToken("the"),p.matchToken("item")||p.matchToken("items")||p.matchToken("character")||p.matchToken("characters")){let k=Fe(S,F,p);return p.requireToken("from"),{args:[S.requireElement("expression",p),k.from,k.to],op(I,L,W,Y){return k.toEnd&&(Y=L.length),k.includeStart||W++,k.includeEnd&&Y++,(Y==null||Y==null)&&(Y=W+1),I.result=L.slice(W,Y),F.findNext(this,I)}}}if(p.matchToken("match")){p.matchToken("of");let k=S.parseElement("expression",p),B="";return p.matchOpToken("|")&&(B=p.requireToken("identifier").value),p.requireToken("from"),{args:[S.parseElement("expression",p),k],op(L,W,Y){return L.result=new RegExp(Y,B).exec(W),F.findNext(this,L)}}}if(p.matchToken("matches")){p.matchToken("of");let k=S.parseElement("expression",p),B="gu";return p.matchOpToken("|")&&(B="g"+p.requireToken("identifier").value.replace("g","")),console.log("flags",B),p.requireToken("from"),{args:[S.parseElement("expression",p),k],op(L,W,Y){return L.result=new _e(Y,B,W),F.findNext(this,L)}}}}}),Z.addCommand("increment",function(S,F,p){if(p.matchToken("increment")){var k,B=S.parseElement("assignableExpression",p);p.matchToken("by")&&(k=S.requireElement("expression",p));var I={type:"implicitIncrementOp",target:B,args:[B,k],op:function(L,W,Y){W=W?parseFloat(W):0,Y=k?parseFloat(Y):1;var U=W+Y;return L.result=U,U},evaluate:function(L){return F.unifiedEval(this,L)}};return me(S,F,p,B,I)}}),Z.addCommand("decrement",function(S,F,p){if(p.matchToken("decrement")){var k,B=S.parseElement("assignableExpression",p);p.matchToken("by")&&(k=S.requireElement("expression",p));var I={type:"implicitDecrementOp",target:B,args:[B,k],op:function(L,W,Y){W=W?parseFloat(W):0,Y=k?parseFloat(Y):1;var U=W-Y;return L.result=U,U},evaluate:function(L){return F.unifiedEval(this,L)}};return me(S,F,p,B,I)}});function Pe(S,F){var p="text",k;return S.matchToken("a")||S.matchToken("an"),S.matchToken("json")||S.matchToken("Object")?p="json":S.matchToken("response")?p="response":S.matchToken("html")?p="html":S.matchToken("text")||(k=F.requireElement("dotOrColonPath",S).evaluate()),{type:p,conversion:k}}Z.addCommand("fetch",function(S,F,p){if(p.matchToken("fetch")){var k=S.requireElement("stringLike",p);if(p.matchToken("as"))var B=Pe(p,S);if(p.matchToken("with")&&p.currentToken().value!=="{")var I=S.parseElement("nakedNamedArgumentList",p);else var I=S.parseElement("objectLiteral",p);B==null&&p.matchToken("as")&&(B=Pe(p,S));var L=B?B.type:"text",W=B?B.conversion:null,Y={url:k,argExpressions:I,args:[k,I],op:function(U,he,De){var ye=De||{};ye.sender=U.me,ye.headers=ye.headers||{};var ce=new AbortController;let He=U.me.addEventListener("fetch:abort",function(){ce.abort()},{once:!0});ye.signal=ce.signal,F.triggerEvent(U.me,"hyperscript:beforeFetch",ye),F.triggerEvent(U.me,"fetch:beforeRequest",ye),De=ye;var Je=!1;return De.timeout&&setTimeout(function(){Je||ce.abort()},De.timeout),fetch(he,De).then(function(We){let yt={response:We};return F.triggerEvent(U.me,"fetch:afterResponse",yt),We=yt.response,L==="response"?(U.result=We,F.triggerEvent(U.me,"fetch:afterRequest",{result:We}),Je=!0,F.findNext(Y,U)):L==="json"?We.json().then(function(ht){return U.result=ht,F.triggerEvent(U.me,"fetch:afterRequest",{result:ht}),Je=!0,F.findNext(Y,U)}):We.text().then(function(ht){return W&&(ht=F.convertValue(ht,W)),L==="html"&&(ht=F.convertValue(ht,"Fragment")),U.result=ht,F.triggerEvent(U.me,"fetch:afterRequest",{result:ht}),Je=!0,F.findNext(Y,U)})}).catch(function(We){throw F.triggerEvent(U.me,"fetch:error",{reason:We}),We}).finally(function(){U.me.removeEventListener("fetch:abort",He)})}};return Y}})}function ee(Z){Z.addCommand("settle",function(H,V,N){if(N.matchToken("settle")){if(H.commandBoundary(N.currentToken()))var ve=H.requireElement("implicitMeTarget",N);else var ve=H.requireElement("expression",N);var R={type:"settleCmd",args:[ve],op:function(b,ae){V.nullCheck(ae,ve);var me=null,de=!1,Fe=!1,Ae=new Promise(function(_e){me=_e});return ae.addEventListener("transitionstart",function(){Fe=!0},{once:!0}),setTimeout(function(){!Fe&&!de&&me(V.findNext(R,b))},500),ae.addEventListener("transitionend",function(){de||me(V.findNext(R,b))},{once:!0}),Ae},execute:function(b){return V.unifiedExec(this,b)}};return R}}),Z.addCommand("add",function(H,V,N){if(N.matchToken("add")){var ve=H.parseElement("classRef",N),R=null,b=null;if(ve==null)R=H.parseElement("attributeRef",N),R==null&&(b=H.parseElement("styleLiteral",N),b==null&&H.raiseParseError(N,"Expected either a class reference or attribute expression"));else for(var ae=[ve];ve=H.parseElement("classRef",N);)ae.push(ve);if(N.matchToken("to"))var me=H.requireElement("expression",N);else var me=H.requireElement("implicitMeTarget",N);if(N.matchToken("when")){b&&H.raiseParseError(N,"Only class and properties are supported with a when clause");var de=H.requireElement("expression",N)}return ae?{classRefs:ae,to:me,args:[me,ae],op:function(Fe,Ae,_e){return V.nullCheck(Ae,me),V.forEach(_e,function(Pe){V.implicitLoop(Ae,function(S){de?(Fe.result=S,V.evaluateNoPromise(de,Fe)?S instanceof Element&&S.classList.add(Pe.className):S instanceof Element&&S.classList.remove(Pe.className),Fe.result=null):S instanceof Element&&S.classList.add(Pe.className)})}),V.findNext(this,Fe)}}:R?{type:"addCmd",attributeRef:R,to:me,args:[me],op:function(Fe,Ae,_e){return V.nullCheck(Ae,me),V.implicitLoop(Ae,function(Pe){de?(Fe.result=Pe,V.evaluateNoPromise(de,Fe)?Pe.setAttribute(R.name,R.value):Pe.removeAttribute(R.name),Fe.result=null):Pe.setAttribute(R.name,R.value)}),V.findNext(this,Fe)},execute:function(Fe){return V.unifiedExec(this,Fe)}}:{type:"addCmd",cssDeclaration:b,to:me,args:[me,b],op:function(Fe,Ae,_e){return V.nullCheck(Ae,me),V.implicitLoop(Ae,function(Pe){Pe.style.cssText+=_e}),V.findNext(this,Fe)},execute:function(Fe){return V.unifiedExec(this,Fe)}}}}),Z.addGrammarElement("styleLiteral",function(H,V,N){if(N.matchOpToken("{")){for(var ve=[""],R=[];N.hasMore();){if(N.matchOpToken("\\"))N.consumeToken();else{if(N.matchOpToken("}"))break;if(N.matchToken("$")){var b=N.matchOpToken("{"),ae=H.parseElement("expression",N);b&&N.requireOpToken("}"),R.push(ae),ve.push("")}else{var me=N.consumeToken();ve[ve.length-1]+=N.source.substring(me.start,me.end)}}ve[ve.length-1]+=N.lastWhitespace()}return{type:"styleLiteral",args:[R],op:function(de,Fe){var Ae="";return ve.forEach(function(_e,Pe){Ae+=_e,Pe in Fe&&(Ae+=Fe[Pe])}),Ae},evaluate:function(de){return V.unifiedEval(this,de)}}}}),Z.addCommand("remove",function(H,V,N){if(N.matchToken("remove")){var ve=H.parseElement("classRef",N),R=null,b=null;if(ve==null)R=H.parseElement("attributeRef",N),R==null&&(b=H.parseElement("expression",N),b==null&&H.raiseParseError(N,"Expected either a class reference, attribute expression or value expression"));else for(var ae=[ve];ve=H.parseElement("classRef",N);)ae.push(ve);if(N.matchToken("from"))var me=H.requireElement("expression",N);else if(b==null)var me=H.requireElement("implicitMeTarget",N);return b?{elementExpr:b,from:me,args:[b,me],op:function(de,Fe,Ae){return V.nullCheck(Fe,b),V.implicitLoop(Fe,function(_e){_e.parentElement&&(Ae==null||Ae.contains(_e))&&_e.parentElement.removeChild(_e)}),V.findNext(this,de)}}:{classRefs:ae,attributeRef:R,elementExpr:b,from:me,args:[ae,me],op:function(de,Fe,Ae){return V.nullCheck(Ae,me),Fe?V.forEach(Fe,function(_e){V.implicitLoop(Ae,function(Pe){Pe.classList.remove(_e.className)})}):V.implicitLoop(Ae,function(_e){_e.removeAttribute(R.name)}),V.findNext(this,de)}}}}),Z.addCommand("toggle",function(H,V,N){if(N.matchToken("toggle")){if(N.matchAnyToken("the","my"),N.currentToken().type==="STYLE_REF"){var ve=N.consumeToken().value.substr(1),R=!0,b=E(H,N,ve);if(N.matchToken("of")){N.pushFollow("with");try{var ae=H.requireElement("expression",N)}finally{N.popFollow()}}else var ae=H.requireElement("implicitMeTarget",N)}else if(N.matchToken("between")){var me=!0,de=H.parseElement("classRef",N);N.requireToken("and");var Fe=H.requireElement("classRef",N)}else{var de=H.parseElement("classRef",N),Ae=null;if(de==null)Ae=H.parseElement("attributeRef",N),Ae==null&&H.raiseParseError(N,"Expected either a class reference or attribute expression");else for(var _e=[de];de=H.parseElement("classRef",N);)_e.push(de)}if(R!==!0)if(N.matchToken("on"))var ae=H.requireElement("expression",N);else var ae=H.requireElement("implicitMeTarget",N);if(N.matchToken("for"))var Pe=H.requireElement("expression",N);else if(N.matchToken("until")){var S=H.requireElement("dotOrColonPath",N,"Expected event name");if(N.matchToken("from"))var F=H.requireElement("expression",N)}var p={classRef:de,classRef2:Fe,classRefs:_e,attributeRef:Ae,on:ae,time:Pe,evt:S,from:F,toggle:function(k,B,I,L){V.nullCheck(k,ae),R?V.implicitLoop(k,function(W){b("toggle",W)}):me?V.implicitLoop(k,function(W){W.classList.contains(B.className)?(W.classList.remove(B.className),W.classList.add(I.className)):(W.classList.add(B.className),W.classList.remove(I.className))}):L?V.forEach(L,function(W){V.implicitLoop(k,function(Y){Y.classList.toggle(W.className)})}):V.forEach(k,function(W){W.hasAttribute(Ae.name)?W.removeAttribute(Ae.name):W.setAttribute(Ae.name,Ae.value)})},args:[ae,Pe,S,F,de,Fe,_e],op:function(k,B,I,L,W,Y,U,he){return I?new Promise(function(De){p.toggle(B,Y,U,he),setTimeout(function(){p.toggle(B,Y,U,he),De(V.findNext(p,k))},I)}):L?new Promise(function(De){var ye=W||k.me;ye.addEventListener(L,function(){p.toggle(B,Y,U,he),De(V.findNext(p,k))},{once:!0}),p.toggle(B,Y,U,he)}):(this.toggle(B,Y,U,he),V.findNext(p,k))}};return p}});var x={display:function(H,V,N){if(N)V.style.display=N;else if(H==="toggle")getComputedStyle(V).display==="none"?x.display("show",V,N):x.display("hide",V,N);else if(H==="hide"){let ve=Z.runtime.getInternalData(V);ve.originalDisplay==null&&(ve.originalDisplay=V.style.display),V.style.display="none"}else{let ve=Z.runtime.getInternalData(V);ve.originalDisplay&&ve.originalDisplay!=="none"?V.style.display=ve.originalDisplay:V.style.removeProperty("display")}},visibility:function(H,V,N){N?V.style.visibility=N:H==="toggle"?getComputedStyle(V).visibility==="hidden"?x.visibility("show",V,N):x.visibility("hide",V,N):H==="hide"?V.style.visibility="hidden":V.style.visibility="visible"},opacity:function(H,V,N){N?V.style.opacity=N:H==="toggle"?getComputedStyle(V).opacity==="0"?x.opacity("show",V,N):x.opacity("hide",V,N):H==="hide"?V.style.opacity="0":V.style.opacity="1"}},A=function(H,V,N){var ve,R=N.currentToken();return R.value==="when"||R.value==="with"||H.commandBoundary(R)?ve=H.parseElement("implicitMeTarget",N):ve=H.parseElement("expression",N),ve},E=function(H,V,N){var ve=i.defaultHideShowStrategy,R=x;i.hideShowStrategies&&(R=Object.assign(R,i.hideShowStrategies)),N=N||ve||"display";var b=R[N];return b==null&&H.raiseParseError(V,"Unknown show/hide strategy : "+N),b};Z.addCommand("hide",function(H,V,N){if(N.matchToken("hide")){var ve=A(H,V,N),R=null;N.matchToken("with")&&(R=N.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0&&(R=R.substr(1)));var b=E(H,N,R);return{target:ve,args:[ve],op:function(ae,me){return V.nullCheck(me,ve),V.implicitLoop(me,function(de){b("hide",de)}),V.findNext(this,ae)}}}}),Z.addCommand("show",function(H,V,N){if(N.matchToken("show")){var ve=A(H,V,N),R=null;N.matchToken("with")&&(R=N.requireTokenType("IDENTIFIER","STYLE_REF").value,R.indexOf("*")===0&&(R=R.substr(1)));var b=null;if(N.matchOpToken(":")){var ae=N.consumeUntilWhitespace();N.matchTokenType("WHITESPACE"),b=ae.map(function(Fe){return Fe.value}).join("")}if(N.matchToken("when"))var me=H.requireElement("expression",N);var de=E(H,N,R);return{target:ve,when:me,args:[ve],op:function(Fe,Ae){return V.nullCheck(Ae,ve),V.implicitLoop(Ae,function(_e){me?(Fe.result=_e,V.evaluateNoPromise(me,Fe)?de("show",_e,b):de("hide",_e),Fe.result=null):de("show",_e,b)}),V.findNext(this,Fe)}}}}),Z.addCommand("take",function(H,V,N){if(N.matchToken("take")){let de=null,Fe=[];for(;de=H.parseElement("classRef",N);)Fe.push(de);var ve=null,R=null;let Ae=Fe.length>0;if(Ae||(ve=H.parseElement("attributeRef",N),ve==null&&H.raiseParseError(N,"Expected either a class reference or attribute expression"),N.matchToken("with")&&(R=H.requireElement("expression",N))),N.matchToken("from"))var b=H.requireElement("expression",N);if(N.matchToken("for"))var ae=H.requireElement("expression",N);else var ae=H.requireElement("implicitMeTarget",N);if(Ae){var me={classRefs:Fe,from:b,forElt:ae,args:[Fe,b,ae],op:function(_e,Pe,S,F){return V.nullCheck(F,ae),V.implicitLoop(Pe,function(p){var k=p.className;S?V.implicitLoop(S,function(B){B.classList.remove(k)}):V.implicitLoop(p,function(B){B.classList.remove(k)}),V.implicitLoop(F,function(B){B.classList.add(k)})}),V.findNext(this,_e)}};return me}else{var me={attributeRef:ve,from:b,forElt:ae,args:[b,ae,R],op:function(Pe,S,F,p){return V.nullCheck(S,b),V.nullCheck(F,ae),V.implicitLoop(S,function(k){p?k.setAttribute(ve.name,p):k.removeAttribute(ve.name)}),V.implicitLoop(F,function(k){k.setAttribute(ve.name,ve.value||"")}),V.findNext(this,Pe)}};return me}}});function _(H,V,N,ve){if(N!=null)var R=H.resolveSymbol(N,V);else var R=V;if(R instanceof Element||R instanceof HTMLDocument){for(;R.firstChild;)R.removeChild(R.firstChild);R.append(Z.runtime.convertValue(ve,"Fragment")),H.processNode(R)}else if(N!=null)H.setSymbol(N,V,null,ve);else throw"Don't know how to put a value into "+typeof V}Z.addCommand("put",function(H,V,N){if(N.matchToken("put")){var ve=H.requireElement("expression",N),R=N.matchAnyToken("into","before","after");R==null&&N.matchToken("at")&&(N.matchToken("the"),R=N.matchAnyToken("start","end"),N.requireToken("of")),R==null&&H.raiseParseError(N,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var b=H.requireElement("expression",N),ae=R.value,me=!1,de=!1,Fe=null,Ae=null;if(b.type==="arrayIndex"&&ae==="into")me=!0,Ae=b.prop,Fe=b.root;else if(b.prop&&b.root&&ae==="into")Ae=b.prop.value,Fe=b.root;else if(b.type==="symbol"&&ae==="into")de=!0,Ae=b.name;else if(b.type==="attributeRef"&&ae==="into"){var _e=!0;Ae=b.name,Fe=H.requireElement("implicitMeTarget",N)}else if(b.type==="styleRef"&&ae==="into"){var Pe=!0;Ae=b.name,Fe=H.requireElement("implicitMeTarget",N)}else if(b.attribute&&ae==="into"){var _e=b.attribute.type==="attributeRef",Pe=b.attribute.type==="styleRef";Ae=b.attribute.name,Fe=b.root}else Fe=b;var S={target:b,operation:ae,symbolWrite:de,value:ve,args:[Fe,Ae,ve],op:function(F,p,k,B){if(de)_(V,F,k,B);else if(V.nullCheck(p,Fe),ae==="into")_e?V.implicitLoop(p,function(L){L.setAttribute(k,B)}):Pe?V.implicitLoop(p,function(L){L.style[k]=B}):me?p[k]=B:V.implicitLoop(p,function(L){_(V,L,k,B)});else{var I=ae==="before"?Element.prototype.before:ae==="after"?Element.prototype.after:ae==="start"?Element.prototype.prepend:Element.prototype.append;V.implicitLoop(p,function(L){I.call(L,B instanceof Node?B:V.convertValue(B,"Fragment")),L.parentElement?V.processNode(L.parentElement):V.processNode(L)})}return V.findNext(this,F)}};return S}});function j(H,V,N){var ve;if(N.matchToken("the")||N.matchToken("element")||N.matchToken("elements")||N.currentToken().type==="CLASS_REF"||N.currentToken().type==="ID_REF"||N.currentToken().op&&N.currentToken().value==="<"){H.possessivesDisabled=!0;try{ve=H.parseElement("expression",N)}finally{delete H.possessivesDisabled}N.matchOpToken("'")&&N.requireToken("s")}else if(N.currentToken().type==="IDENTIFIER"&&N.currentToken().value==="its"){var R=N.matchToken("its");ve={type:"pseudopossessiveIts",token:R,name:R.value,evaluate:function(b){return V.resolveSymbol("it",b)}}}else N.matchToken("my")||N.matchToken("me"),ve=H.parseElement("implicitMeTarget",N);return ve}Z.addCommand("transition",function(H,V,N){if(N.matchToken("transition")){for(var ve=j(H,V,N),R=[],b=[],ae=[],me=N.currentToken();!H.commandBoundary(me)&&me.value!=="over"&&me.value!=="using";){if(N.currentToken().type==="STYLE_REF"){let Pe=N.consumeToken().value.substr(1);R.push({type:"styleRefValue",evaluate:function(){return Pe}})}else R.push(H.requireElement("stringLike",N));N.matchToken("from")?b.push(H.requireElement("expression",N)):b.push(null),N.requireToken("to"),N.matchToken("initial")?ae.push({type:"initial_literal",evaluate:function(){return"initial"}}):ae.push(H.requireElement("expression",N)),me=N.currentToken()}if(N.matchToken("over"))var de=H.requireElement("expression",N);else if(N.matchToken("using"))var Fe=H.requireElement("expression",N);var Ae={to:ae,args:[ve,R,b,ae,Fe,de],op:function(_e,Pe,S,F,p,k,B){V.nullCheck(Pe,ve);var I=[];return V.implicitLoop(Pe,function(L){var W=new Promise(function(Y,U){var he=L.style.transition;B?L.style.transition="all "+B+"ms ease-in":k?L.style.transition=k:L.style.transition=i.defaultTransition;for(var De=V.getInternalData(L),ye=getComputedStyle(L),ce={},He=0;He<ye.length;He++){var Je=ye[He],We=ye[Je];ce[Je]=We}De.initialStyles||(De.initialStyles=ce);for(var He=0;He<S.length;He++){var yt=S[He],ht=F[He];ht==="computed"||ht==null?L.style[yt]=ce[yt]:L.style[yt]=ht}var en=!1,yn=!1;L.addEventListener("transitionend",function(){yn||(L.style.transition=he,yn=!0,Y())},{once:!0}),L.addEventListener("transitionstart",function(){en=!0},{once:!0}),setTimeout(function(){!yn&&!en&&(L.style.transition=he,yn=!0,Y())},100),setTimeout(function(){for(var pt=[],tn=0;tn<S.length;tn++){var nn=S[tn],Ke=p[tn];if(Ke==="initial"){var xn=De.initialStyles[nn];L.style[nn]=xn}else L.style[nn]=Ke}},0)});I.push(W)}),Promise.all(I).then(function(){return V.findNext(Ae,_e)})}};return Ae}}),Z.addCommand("measure",function(H,V,N){if(N.matchToken("measure")){var ve=j(H,V,N),R=[];if(!H.commandBoundary(N.currentToken()))do R.push(N.matchTokenType("IDENTIFIER").value);while(N.matchOpToken(","));return{properties:R,args:[ve],op:function(b,ae){V.nullCheck(ae,ve),0 in ae&&(ae=ae[0]);var me=ae.getBoundingClientRect(),de={top:ae.scrollTop,left:ae.scrollLeft,topMax:ae.scrollTopMax,leftMax:ae.scrollLeftMax,height:ae.scrollHeight,width:ae.scrollWidth};return b.result={x:me.x,y:me.y,left:me.left,top:me.top,right:me.right,bottom:me.bottom,width:me.width,height:me.height,bounds:me,scrollLeft:de.left,scrollTop:de.top,scrollLeftMax:de.leftMax,scrollTopMax:de.topMax,scrollWidth:de.width,scrollHeight:de.height,scroll:de},V.forEach(R,function(Fe){if(Fe in b.result)b.locals[Fe]=b.result[Fe];else throw"No such measurement as "+Fe}),V.findNext(this,b)}}}}),Z.addLeafExpression("closestExpr",function(H,V,N){if(N.matchToken("closest")){if(N.matchToken("parent"))var ve=!0;var R=null;if(N.currentToken().type==="ATTRIBUTE_REF"){var b=H.requireElement("attributeRefAccess",N,null);R="["+b.attribute.name+"]"}if(R==null){var ae=H.requireElement("expression",N);ae.css==null?H.raiseParseError(N,"Expected a CSS expression"):R=ae.css}if(N.matchToken("to"))var me=H.parseElement("expression",N);else var me=H.parseElement("implicitMeTarget",N);var de={type:"closestExpr",parentSearch:ve,expr:ae,css:R,to:me,args:[me],op:function(Fe,Ae){if(Ae==null)return null;{let _e=[];return V.implicitLoop(Ae,function(Pe){ve?_e.push(Pe.parentElement?Pe.parentElement.closest(R):null):_e.push(Pe.closest(R))}),V.shouldAutoIterate(Ae)?_e:_e[0]}},evaluate:function(Fe){return V.unifiedEval(this,Fe)}};return b?(b.root=de,b.args=[de],b):de}}),Z.addCommand("go",function(H,V,N){if(N.matchToken("go")){if(N.matchToken("back"))var ve=!0;else if(N.matchToken("to"),N.matchToken("url")){var R=H.requireElement("stringLike",N),b=!0;if(N.matchToken("in")){N.requireToken("new"),N.requireToken("window");var ae=!0}}else{N.matchToken("the");var me=N.matchAnyToken("top","middle","bottom"),de=N.matchAnyToken("left","center","right");(me||de)&&N.requireToken("of");var R=H.requireElement("unaryExpression",N),Fe=N.matchAnyOpToken("+","-");if(Fe){N.pushFollow("px");try{var Ae=H.requireElement("expression",N)}finally{N.popFollow()}}N.matchToken("px");var _e=N.matchAnyToken("smoothly","instantly"),Pe={block:"start",inline:"nearest"};me&&(me.value==="top"?Pe.block="start":me.value==="bottom"?Pe.block="end":me.value==="middle"&&(Pe.block="center")),de&&(de.value==="left"?Pe.inline="start":de.value==="center"?Pe.inline="center":de.value==="right"&&(Pe.inline="end")),_e&&(_e.value==="smoothly"?Pe.behavior="smooth":_e.value==="instantly"&&(Pe.behavior="instant"))}var S={target:R,args:[R,Ae],op:function(F,p,k){return ve?window.history.back():b?p&&(ae?window.open(p):window.location.href=p):V.implicitLoop(p,function(B){if(B===window&&(B=document.body),Fe){let I=B.getBoundingClientRect(),L=document.createElement("div"),W=Fe.value==="+"?k:k*-1,Y=Pe.inline=="start"||Pe.inline=="end"?W:0,U=Pe.block=="start"||Pe.block=="end"?W:0;L.style.position="absolute",L.style.top=I.top+window.scrollY+U+"px",L.style.left=I.left+window.scrollX+Y+"px",L.style.height=I.height+"px",L.style.width=I.width+"px",L.style.zIndex=""+Number.MIN_SAFE_INTEGER,L.style.opacity="0",document.body.appendChild(L),setTimeout(function(){document.body.removeChild(L)},100),B=L}B.scrollIntoView(Pe)}),V.findNext(S,F)}};return S}}),i.conversions.dynamicResolvers.push(function(H,V){if(!(H==="Values"||H.indexOf("Values:")===0))return;var N=H.split(":")[1],ve={},R=Z.runtime.implicitLoop.bind(Z.runtime);if(R(V,function(me){var de=ae(me);if(de!==void 0){ve[de.name]=de.value;return}if(me.querySelectorAll!=null){var Fe=me.querySelectorAll("input,select,textarea");Fe.forEach(b)}}),N){if(N==="JSON")return JSON.stringify(ve);if(N==="Form")return new URLSearchParams(ve).toString();throw"Unknown conversion: "+N}else return ve;function b(me){var de=ae(me);if(de!=null){if(ve[de.name]==null){ve[de.name]=de.value;return}if(Array.isArray(ve[de.name])&&Array.isArray(de.value)){ve[de.name]=[].concat(ve[de.name],de.value);return}}}function ae(me){try{var de={name:me.name,value:me.value};if(de.name==null||de.value==null||me.type=="radio"&&me.checked==!1)return;if(me.type=="checkbox"&&(me.checked==!1?de.value=void 0:typeof de.value=="string"&&(de.value=[de.value])),me.type=="select-multiple"){var Fe=me.querySelectorAll("option[selected]");de.value=[];for(var Ae=0;Ae<Fe.length;Ae++)de.value.push(Fe[Ae].value)}return de}catch{return}}}),i.conversions.HTML=function(H){var V=function(N){if(N instanceof Array)return N.map(function(ae){return V(ae)}).join("");if(N instanceof HTMLElement)return N.outerHTML;if(N instanceof NodeList){for(var ve="",R=0;R<N.length;R++){var b=N[R];b instanceof HTMLElement&&(ve+=b.outerHTML)}return ve}return N.toString?N.toString():""};return V(H)},i.conversions.Fragment=function(H){var V=document.createDocumentFragment();return Z.runtime.implicitLoop(H,function(N){if(N instanceof Node)V.append(N);else{var ve=document.createElement("template");ve.innerHTML=N,V.append(ve.content)}}),V}}let le=new c,ke=le.lexer,we=le.parser;function Se(Z,x){return le.evaluate(Z,x)}function $e(){var Z=Array.from(e.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(Z.map(function(_){return fetch(_.src).then(function(j){return j.text()})})).then(_=>_.forEach(j=>Ee(j))).then(()=>x(function(){E(),le.processNode(document.documentElement),e.document.addEventListener("htmx:load",function(_){le.processNode(_.detail.elt)})}));function x(_){document.readyState!=="loading"?setTimeout(_):document.addEventListener("DOMContentLoaded",_)}function A(){var _=document.querySelector('meta[name="htmx-config"]');return _?ne(_.content):null}function E(){var _=A();_&&Object.assign(i,_)}}let Ee=Object.assign(Se,{config:i,use(Z){Z(Ee)},internals:{lexer:ke,parser:we,runtime:le,Lexer:o,Tokens:l,Parser:f,Runtime:c},ElementCollection:$,addFeature:we.addFeature.bind(we),addCommand:we.addCommand.bind(we),addLeafExpression:we.addLeafExpression.bind(we),addIndirectExpression:we.addIndirectExpression.bind(we),evaluate:le.evaluate.bind(le),parse:le.parse.bind(le),processNode:le.processNode.bind(le),version:"0.9.12",browserInit:$e});return Ee})});var $n=sn((hu,pu)=>{(function(e,n){typeof hu=="object"&&typeof pu<"u"?pu.exports=n():typeof define=="function"&&define.amd?define(n):(e=e||self,e.CodeMirror=n())})(hu,function(){"use strict";var e=navigator.userAgent,n=navigator.platform,i=/gecko\/\d/i.test(e),o=/MSIE \d/.test(e),l=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),f=/Edge\/(\d+)/.exec(e),c=o||l||f,h=c&&(o?document.documentMode||6:+(f||l)[1]),v=!f&&/WebKit\//.test(e),D=v&&/Qt\/\d+\.\d+/.test(e),O=!f&&/Chrome\/(\d+)/.exec(e),z=O&&+O[1],$=/Opera\//.test(e),J=/Apple Computer/.test(navigator.vendor),se=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),ne=/PhantomJS/.test(e),q=J&&(/Mobile\/\w+/.test(e)||navigator.maxTouchPoints>2),Q=/Android/.test(e),ue=q||Q||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),ee=q||/Mac/.test(n),le=/\bCrOS\b/.test(e),ke=/win/i.test(n),we=$&&e.match(/Version\/(\d*\.\d*)/);we&&(we=Number(we[1])),we&&we>=15&&($=!1,v=!0);var Se=ee&&(D||$&&(we==null||we<12.11)),$e=i||c&&h>=9;function Ee(t){return new RegExp("(^|\\s)"+t+"(?:$|\\s)\\s*")}var Z=function(t,r){var s=t.className,a=Ee(r).exec(s);if(a){var u=s.slice(a.index+a[0].length);t.className=s.slice(0,a.index)+(u?a[1]+u:"")}};function x(t){for(var r=t.childNodes.length;r>0;--r)t.removeChild(t.firstChild);return t}function A(t,r){return x(t).appendChild(r)}function E(t,r,s,a){var u=document.createElement(t);if(s&&(u.className=s),a&&(u.style.cssText=a),typeof r=="string")u.appendChild(document.createTextNode(r));else if(r)for(var d=0;d<r.length;++d)u.appendChild(r[d]);return u}function _(t,r,s,a){var u=E(t,r,s,a);return u.setAttribute("role","presentation"),u}var j;document.createRange?j=function(t,r,s,a){var u=document.createRange();return u.setEnd(a||t,s),u.setStart(t,r),u}:j=function(t,r,s){var a=document.body.createTextRange();try{a.moveToElementText(t.parentNode)}catch{return a}return a.collapse(!0),a.moveEnd("character",s),a.moveStart("character",r),a};function H(t,r){if(r.nodeType==3&&(r=r.parentNode),t.contains)return t.contains(r);do if(r.nodeType==11&&(r=r.host),r==t)return!0;while(r=r.parentNode)}function V(t){var r=t.ownerDocument||t,s;try{s=t.activeElement}catch{s=r.body||null}for(;s&&s.shadowRoot&&s.shadowRoot.activeElement;)s=s.shadowRoot.activeElement;return s}function N(t,r){var s=t.className;Ee(r).test(s)||(t.className+=(s?" ":"")+r)}function ve(t,r){for(var s=t.split(" "),a=0;a<s.length;a++)s[a]&&!Ee(s[a]).test(r)&&(r+=" "+s[a]);return r}var R=function(t){t.select()};q?R=function(t){t.selectionStart=0,t.selectionEnd=t.value.length}:c&&(R=function(t){try{t.select()}catch{}});function b(t){return t.display.wrapper.ownerDocument}function ae(t){return me(t.display.wrapper)}function me(t){return t.getRootNode?t.getRootNode():t.ownerDocument}function de(t){return b(t).defaultView}function Fe(t){var r=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,r)}}function Ae(t,r,s){r||(r={});for(var a in t)t.hasOwnProperty(a)&&(s!==!1||!r.hasOwnProperty(a))&&(r[a]=t[a]);return r}function _e(t,r,s,a,u){r==null&&(r=t.search(/[^\s\u00a0]/),r==-1&&(r=t.length));for(var d=a||0,m=u||0;;){var g=t.indexOf("	",d);if(g<0||g>=r)return m+(r-d);m+=g-d,m+=s-m%s,d=g+1}}var Pe=function(){this.id=null,this.f=null,this.time=0,this.handler=Fe(this.onTimeout,this)};Pe.prototype.onTimeout=function(t){t.id=0,t.time<=+new Date?t.f():setTimeout(t.handler,t.time-+new Date)},Pe.prototype.set=function(t,r){this.f=r;var s=+new Date+t;(!this.id||s<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,t),this.time=s)};function S(t,r){for(var s=0;s<t.length;++s)if(t[s]==r)return s;return-1}var F=50,p={toString:function(){return"CodeMirror.Pass"}},k={scroll:!1},B={origin:"*mouse"},I={origin:"+move"};function L(t,r,s){for(var a=0,u=0;;){var d=t.indexOf("	",a);d==-1&&(d=t.length);var m=d-a;if(d==t.length||u+m>=r)return a+Math.min(m,r-u);if(u+=d-a,u+=s-u%s,a=d+1,u>=r)return a}}var W=[""];function Y(t){for(;W.length<=t;)W.push(U(W)+" ");return W[t]}function U(t){return t[t.length-1]}function he(t,r){for(var s=[],a=0;a<t.length;a++)s[a]=r(t[a],a);return s}function De(t,r,s){for(var a=0,u=s(r);a<t.length&&s(t[a])<=u;)a++;t.splice(a,0,r)}function ye(){}function ce(t,r){var s;return Object.create?s=Object.create(t):(ye.prototype=t,s=new ye),r&&Ae(r,s),s}var He=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Je(t){return/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||He.test(t))}function We(t,r){return r?r.source.indexOf("\\w")>-1&&Je(t)?!0:r.test(t):Je(t)}function yt(t){for(var r in t)if(t.hasOwnProperty(r)&&t[r])return!1;return!0}var ht=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function en(t){return t.charCodeAt(0)>=768&&ht.test(t)}function yn(t,r,s){for(;(s<0?r>0:r<t.length)&&en(t.charAt(r));)r+=s;return r}function pt(t,r,s){for(var a=r>s?-1:1;;){if(r==s)return r;var u=(r+s)/2,d=a<0?Math.ceil(u):Math.floor(u);if(d==r)return t(d)?r:s;t(d)?s=d:r=d+a}}function tn(t,r,s,a){if(!t)return a(r,s,"ltr",0);for(var u=!1,d=0;d<t.length;++d){var m=t[d];(m.from<s&&m.to>r||r==s&&m.to==r)&&(a(Math.max(m.from,r),Math.min(m.to,s),m.level==1?"rtl":"ltr",d),u=!0)}u||a(r,s,"ltr")}var nn=null;function Ke(t,r,s){var a;nn=null;for(var u=0;u<t.length;++u){var d=t[u];if(d.from<r&&d.to>r)return u;d.to==r&&(d.from!=d.to&&s=="before"?a=u:nn=u),d.from==r&&(d.from!=d.to&&s!="before"?a=u:nn=u)}return a??nn}var xn=function(){var t="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function s(w){return w<=247?t.charAt(w):1424<=w&&w<=1524?"R":1536<=w&&w<=1785?r.charAt(w-1536):1774<=w&&w<=2220?"r":8192<=w&&w<=8203?"w":w==8204?"b":"L"}var a=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,u=/[stwN]/,d=/[LRr]/,m=/[Lb1n]/,g=/[1n]/;function y(w,P,G){this.level=w,this.from=P,this.to=G}return function(w,P){var G=P=="ltr"?"L":"R";if(w.length==0||P=="ltr"&&!a.test(w))return!1;for(var oe=w.length,te=[],pe=0;pe<oe;++pe)te.push(s(w.charCodeAt(pe)));for(var Ce=0,Oe=G;Ce<oe;++Ce){var Ne=te[Ce];Ne=="m"?te[Ce]=Oe:Oe=Ne}for(var qe=0,Be=G;qe<oe;++qe){var Ue=te[qe];Ue=="1"&&Be=="r"?te[qe]="n":d.test(Ue)&&(Be=Ue,Ue=="r"&&(te[qe]="R"))}for(var Ze=1,Ye=te[0];Ze<oe-1;++Ze){var st=te[Ze];st=="+"&&Ye=="1"&&te[Ze+1]=="1"?te[Ze]="1":st==","&&Ye==te[Ze+1]&&(Ye=="1"||Ye=="n")&&(te[Ze]=Ye),Ye=st}for(var Tt=0;Tt<oe;++Tt){var mn=te[Tt];if(mn==",")te[Tt]="N";else if(mn=="%"){var Bt=void 0;for(Bt=Tt+1;Bt<oe&&te[Bt]=="%";++Bt);for(var jn=Tt&&te[Tt-1]=="!"||Bt<oe&&te[Bt]=="1"?"1":"N",In=Tt;In<Bt;++In)te[In]=jn;Tt=Bt-1}}for(var Kt=0,_n=G;Kt<oe;++Kt){var bn=te[Kt];_n=="L"&&bn=="1"?te[Kt]="L":d.test(bn)&&(_n=bn)}for(var an=0;an<oe;++an)if(u.test(te[an])){var Zt=void 0;for(Zt=an+1;Zt<oe&&u.test(te[Zt]);++Zt);for(var qt=(an?te[an-1]:G)=="L",Rn=(Zt<oe?te[Zt]:G)=="L",co=qt==Rn?qt?"L":"R":G,ei=an;ei<Zt;++ei)te[ei]=co;an=Zt-1}for(var kn=[],Cr,gn=0;gn<oe;)if(m.test(te[gn])){var uu=gn;for(++gn;gn<oe&&m.test(te[gn]);++gn);kn.push(new y(0,uu,gn))}else{var Br=gn,Ci=kn.length,ki=P=="rtl"?1:0;for(++gn;gn<oe&&te[gn]!="L";++gn);for(var An=Br;An<gn;)if(g.test(te[An])){Br<An&&(kn.splice(Ci,0,new y(1,Br,An)),Ci+=ki);var ho=An;for(++An;An<gn&&g.test(te[An]);++An);kn.splice(Ci,0,new y(2,ho,An)),Ci+=ki,Br=An}else++An;Br<gn&&kn.splice(Ci,0,new y(1,Br,gn))}return P=="ltr"&&(kn[0].level==1&&(Cr=w.match(/^\s+/))&&(kn[0].from=Cr[0].length,kn.unshift(new y(0,0,Cr[0].length))),U(kn).level==1&&(Cr=w.match(/\s+$/))&&(U(kn).to-=Cr[0].length,kn.push(new y(0,oe-Cr[0].length,oe)))),P=="rtl"?kn.reverse():kn}}();function rn(t,r){var s=t.order;return s==null&&(s=t.order=xn(t.text,r)),s}var Dn=[],Ve=function(t,r,s){if(t.addEventListener)t.addEventListener(r,s,!1);else if(t.attachEvent)t.attachEvent("on"+r,s);else{var a=t._handlers||(t._handlers={});a[r]=(a[r]||Dn).concat(s)}};function Bn(t,r){return t._handlers&&t._handlers[r]||Dn}function mt(t,r,s){if(t.removeEventListener)t.removeEventListener(r,s,!1);else if(t.detachEvent)t.detachEvent("on"+r,s);else{var a=t._handlers,u=a&&a[r];if(u){var d=S(u,s);d>-1&&(a[r]=u.slice(0,d).concat(u.slice(d+1)))}}}function Lt(t,r){var s=Bn(t,r);if(s.length)for(var a=Array.prototype.slice.call(arguments,2),u=0;u<s.length;++u)s[u].apply(null,a)}function dt(t,r,s){return typeof r=="string"&&(r={type:r,preventDefault:function(){this.defaultPrevented=!0}}),Lt(t,s||r.type,t,r),un(r)||r.codemirrorIgnore}function at(t){var r=t._handlers&&t._handlers.cursorActivity;if(r)for(var s=t.curOp.cursorActivityHandlers||(t.curOp.cursorActivityHandlers=[]),a=0;a<r.length;++a)S(s,r[a])==-1&&s.push(r[a])}function rt(t,r){return Bn(t,r).length>0}function Ut(t){t.prototype.on=function(r,s){Ve(this,r,s)},t.prototype.off=function(r,s){mt(this,r,s)}}function Ge(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Tn(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function un(t){return t.defaultPrevented!=null?t.defaultPrevented:t.returnValue==!1}function Lr(t){Ge(t),Tn(t)}function Dt(t){return t.target||t.srcElement}function Vt(t){var r=t.which;return r==null&&(t.button&1?r=1:t.button&2?r=3:t.button&4&&(r=2)),ee&&t.ctrlKey&&r==1&&(r=3),r}var gt=function(){if(c&&h<9)return!1;var t=E("div");return"draggable"in t||"dragDrop"in t}(),vr;function ci(t){if(vr==null){var r=E("span","\u200B");A(t,E("span",[r,document.createTextNode("x")])),t.firstChild.offsetHeight!=0&&(vr=r.offsetWidth<=1&&r.offsetHeight>2&&!(c&&h<8))}var s=vr?E("span","\u200B"):E("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return s.setAttribute("cm-text",""),s}var Pn;function er(t){if(Pn!=null)return Pn;var r=A(t,document.createTextNode("A\u062EA")),s=j(r,0,1).getBoundingClientRect(),a=j(r,1,2).getBoundingClientRect();return x(t),!s||s.left==s.right?!1:Pn=a.right-s.right<3}var jr=`

b`.split(/\n/).length!=3?function(t){for(var r=0,s=[],a=t.length;r<=a;){var u=t.indexOf(`
`,r);u==-1&&(u=t.length);var d=t.slice(r,t.charAt(u-1)=="\r"?u-1:u),m=d.indexOf("\r");m!=-1?(s.push(d.slice(0,m)),r+=m+1):(s.push(d),r=u+1)}return s}:function(t){return t.split(/\r\n?|\n/)},Ra=window.getSelection?function(t){try{return t.selectionStart!=t.selectionEnd}catch{return!1}}:function(t){var r;try{r=t.ownerDocument.selection.createRange()}catch{}return!r||r.parentElement()!=t?!1:r.compareEndPoints("StartToEnd",r)!=0},Na=function(){var t=E("div");return"oncopy"in t?!0:(t.setAttribute("oncopy","return;"),typeof t.oncopy=="function")}(),Fn=null;function Hn(t){if(Fn!=null)return Fn;var r=A(t,E("span","x")),s=r.getBoundingClientRect(),a=j(r,0,1).getBoundingClientRect();return Fn=Math.abs(s.left-a.left)>1}var yr={},Fr={};function Io(t,r){arguments.length>2&&(r.dependencies=Array.prototype.slice.call(arguments,2)),yr[t]=r}function yl(t,r){Fr[t]=r}function di(t){if(typeof t=="string"&&Fr.hasOwnProperty(t))t=Fr[t];else if(t&&typeof t.name=="string"&&Fr.hasOwnProperty(t.name)){var r=Fr[t.name];typeof r=="string"&&(r={name:r}),t=ce(r,t),t.name=r.name}else{if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return di("application/xml");if(typeof t=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(t))return di("application/json")}return typeof t=="string"?{name:t}:t||{name:"null"}}function Ui(t,r){r=di(r);var s=yr[r.name];if(!s)return Ui(t,"text/plain");var a=s(t,r);if(tr.hasOwnProperty(r.name)){var u=tr[r.name];for(var d in u)u.hasOwnProperty(d)&&(a.hasOwnProperty(d)&&(a["_"+d]=a[d]),a[d]=u[d])}if(a.name=r.name,r.helperType&&(a.helperType=r.helperType),r.modeProps)for(var m in r.modeProps)a[m]=r.modeProps[m];return a}var tr={};function xl(t,r){var s=tr.hasOwnProperty(t)?tr[t]:tr[t]={};Ae(r,s)}function nr(t,r){if(r===!0)return r;if(t.copyState)return t.copyState(r);var s={};for(var a in r){var u=r[a];u instanceof Array&&(u=u.concat([])),s[a]=u}return s}function _o(t,r){for(var s;t.innerMode&&(s=t.innerMode(r),!(!s||s.mode==t));)r=s.state,t=s.mode;return s||{mode:t,state:r}}function sr(t,r,s){return t.startState?t.startState(r,s):!0}var Ht=function(t,r,s){this.pos=this.start=0,this.string=t,this.tabSize=r||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=s};Ht.prototype.eol=function(){return this.pos>=this.string.length},Ht.prototype.sol=function(){return this.pos==this.lineStart},Ht.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ht.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ht.prototype.eat=function(t){var r=this.string.charAt(this.pos),s;if(typeof t=="string"?s=r==t:s=r&&(t.test?t.test(r):t(r)),s)return++this.pos,r},Ht.prototype.eatWhile=function(t){for(var r=this.pos;this.eat(t););return this.pos>r},Ht.prototype.eatSpace=function(){for(var t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>t},Ht.prototype.skipToEnd=function(){this.pos=this.string.length},Ht.prototype.skipTo=function(t){var r=this.string.indexOf(t,this.pos);if(r>-1)return this.pos=r,!0},Ht.prototype.backUp=function(t){this.pos-=t},Ht.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=_e(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.indentation=function(){return _e(this.string,null,this.tabSize)-(this.lineStart?_e(this.string,this.lineStart,this.tabSize):0)},Ht.prototype.match=function(t,r,s){if(typeof t=="string"){var a=function(m){return s?m.toLowerCase():m},u=this.string.substr(this.pos,t.length);if(a(u)==a(t))return r!==!1&&(this.pos+=t.length),!0}else{var d=this.string.slice(this.pos).match(t);return d&&d.index>0?null:(d&&r!==!1&&(this.pos+=d[0].length),d)}},Ht.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ht.prototype.hideFirstChars=function(t,r){this.lineStart+=t;try{return r()}finally{this.lineStart-=t}},Ht.prototype.lookAhead=function(t){var r=this.lineOracle;return r&&r.lookAhead(t)},Ht.prototype.baseToken=function(){var t=this.lineOracle;return t&&t.baseToken(this.pos)};function Xe(t,r){if(r-=t.first,r<0||r>=t.size)throw new Error("There is no line "+(r+t.first)+" in the document.");for(var s=t;!s.lines;)for(var a=0;;++a){var u=s.children[a],d=u.chunkSize();if(r<d){s=u;break}r-=d}return s.lines[r]}function xr(t,r,s){var a=[],u=r.line;return t.iter(r.line,s.line+1,function(d){var m=d.text;u==s.line&&(m=m.slice(0,s.ch)),u==r.line&&(m=m.slice(r.ch)),a.push(m),++u}),a}function Ro(t,r,s){var a=[];return t.iter(r,s,function(u){a.push(u.text)}),a}function rr(t,r){var s=r-t.height;if(s)for(var a=t;a;a=a.parent)a.height+=s}function xt(t){if(t.parent==null)return null;for(var r=t.parent,s=S(r.lines,t),a=r.parent;a;r=a,a=a.parent)for(var u=0;a.children[u]!=r;++u)s+=a.children[u].chunkSize();return s+r.first}function Or(t,r){var s=t.first;e:do{for(var a=0;a<t.children.length;++a){var u=t.children[a],d=u.height;if(r<d){t=u;continue e}r-=d,s+=u.chunkSize()}return s}while(!t.lines);for(var m=0;m<t.lines.length;++m){var g=t.lines[m],y=g.height;if(r<y)break;r-=y}return s+m}function hi(t,r){return r>=t.first&&r<t.first+t.size}function No(t,r){return String(t.lineNumberFormatter(r+t.firstLineNumber))}function Le(t,r,s){if(s===void 0&&(s=null),!(this instanceof Le))return new Le(t,r,s);this.line=t,this.ch=r,this.sticky=s}function nt(t,r){return t.line-r.line||t.ch-r.ch}function Bo(t,r){return t.sticky==r.sticky&&nt(t,r)==0}function Po(t){return Le(t.line,t.ch)}function ji(t,r){return nt(t,r)<0?r:t}function $i(t,r){return nt(t,r)<0?t:r}function Ba(t,r){return Math.max(t.first,Math.min(r,t.first+t.size-1))}function tt(t,r){if(r.line<t.first)return Le(t.first,0);var s=t.first+t.size-1;return r.line>s?Le(s,Xe(t,s).text.length):X(r,Xe(t,r.line).text.length)}function X(t,r){var s=t.ch;return s==null||s>r?Le(t.line,r):s<0?Le(t.line,0):t}function C(t,r){for(var s=[],a=0;a<r.length;a++)s[a]=tt(t,r[a]);return s}var M=function(t,r){this.state=t,this.lookAhead=r},T=function(t,r,s,a){this.state=r,this.doc=t,this.line=s,this.maxLookAhead=a||0,this.baseTokens=null,this.baseTokenPos=1};T.prototype.lookAhead=function(t){var r=this.doc.getLine(this.line+t);return r!=null&&t>this.maxLookAhead&&(this.maxLookAhead=t),r},T.prototype.baseToken=function(t){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=t;)this.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-t}},T.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},T.fromSaved=function(t,r,s){return r instanceof M?new T(t,nr(t.mode,r.state),s,r.lookAhead):new T(t,nr(t.mode,r),s)},T.prototype.save=function(t){var r=t!==!1?nr(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new M(r,this.maxLookAhead):r};function ie(t,r,s,a){var u=[t.state.modeGen],d={};ut(t,r.text,t.doc.mode,s,function(w,P){return u.push(w,P)},d,a);for(var m=s.state,g=function(w){s.baseTokens=u;var P=t.state.overlays[w],G=1,oe=0;s.state=!0,ut(t,r.text,P.mode,s,function(te,pe){for(var Ce=G;oe<te;){var Oe=u[G];Oe>te&&u.splice(G,1,te,u[G+1],Oe),G+=2,oe=Math.min(te,Oe)}if(pe)if(P.opaque)u.splice(Ce,G-Ce,te,"overlay "+pe),G=Ce+2;else for(;Ce<G;Ce+=2){var Ne=u[Ce+1];u[Ce+1]=(Ne?Ne+" ":"")+"overlay "+pe}},d),s.state=m,s.baseTokens=null,s.baseTokenPos=1},y=0;y<t.state.overlays.length;++y)g(y);return{styles:u,classes:d.bgClass||d.textClass?d:null}}function K(t,r,s){if(!r.styles||r.styles[0]!=t.state.modeGen){var a=re(t,xt(r)),u=r.text.length>t.options.maxHighlightLength&&nr(t.doc.mode,a.state),d=ie(t,r,a);u&&(a.state=u),r.stateAfter=a.save(!u),r.styles=d.styles,d.classes?r.styleClasses=d.classes:r.styleClasses&&(r.styleClasses=null),s===t.doc.highlightFrontier&&(t.doc.modeFrontier=Math.max(t.doc.modeFrontier,++t.doc.highlightFrontier))}return r.styles}function re(t,r,s){var a=t.doc,u=t.display;if(!a.mode.startState)return new T(a,!0,r);var d=ft(t,r,s),m=d>a.first&&Xe(a,d-1).stateAfter,g=m?T.fromSaved(a,m,d):new T(a,sr(a.mode),d);return a.iter(d,r,function(y){ge(t,y.text,g);var w=g.line;y.stateAfter=w==r-1||w%5==0||w>=u.viewFrom&&w<u.viewTo?g.save():null,g.nextLine()}),s&&(a.modeFrontier=g.line),g}function ge(t,r,s,a){var u=t.doc.mode,d=new Ht(r,t.options.tabSize,s);for(d.start=d.pos=a||0,r==""&&Ie(u,s.state);!d.eol();)Te(u,d,s.state),d.start=d.pos}function Ie(t,r){if(t.blankLine)return t.blankLine(r);if(t.innerMode){var s=_o(t,r);if(s.mode.blankLine)return s.mode.blankLine(s.state)}}function Te(t,r,s,a){for(var u=0;u<10;u++){a&&(a[0]=_o(t,s).mode);var d=t.token(r,s);if(r.pos>r.start)return d}throw new Error("Mode "+t.name+" failed to advance stream.")}var xe=function(t,r,s){this.start=t.start,this.end=t.pos,this.string=t.current(),this.type=r||null,this.state=s};function be(t,r,s,a){var u=t.doc,d=u.mode,m;r=tt(u,r);var g=Xe(u,r.line),y=re(t,r.line,s),w=new Ht(g.text,t.options.tabSize,y),P;for(a&&(P=[]);(a||w.pos<r.ch)&&!w.eol();)w.start=w.pos,m=Te(d,w,y.state),a&&P.push(new xe(w,m,nr(u.mode,y.state)));return a?P:new xe(w,m,y.state)}function Me(t,r){if(t)for(;;){var s=t.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!s)break;t=t.slice(0,s.index)+t.slice(s.index+s[0].length);var a=s[1]?"bgClass":"textClass";r[a]==null?r[a]=s[2]:new RegExp("(?:^|\\s)"+s[2]+"(?:$|\\s)").test(r[a])||(r[a]+=" "+s[2])}return t}function ut(t,r,s,a,u,d,m){var g=s.flattenSpans;g==null&&(g=t.options.flattenSpans);var y=0,w=null,P=new Ht(r,t.options.tabSize,a),G,oe=t.options.addModeClass&&[null];for(r==""&&Me(Ie(s,a.state),d);!P.eol();){if(P.pos>t.options.maxHighlightLength?(g=!1,m&&ge(t,r,a,P.pos),P.pos=r.length,G=null):G=Me(Te(s,P,a.state,oe),d),oe){var te=oe[0].name;te&&(G="m-"+(G?te+" "+G:te))}if(!g||w!=G){for(;y<P.start;)y=Math.min(P.start,y+5e3),u(y,w);w=G}P.start=P.pos}for(;y<P.pos;){var pe=Math.min(P.pos,y+5e3);u(pe,w),y=pe}}function ft(t,r,s){for(var a,u,d=t.doc,m=s?-1:r-(t.doc.mode.innerMode?1e3:100),g=r;g>m;--g){if(g<=d.first)return d.first;var y=Xe(d,g-1),w=y.stateAfter;if(w&&(!s||g+(w instanceof M?w.lookAhead:0)<=d.modeFrontier))return g;var P=_e(y.text,null,t.options.tabSize);(u==null||a>P)&&(u=g-1,a=P)}return u}function Ft(t,r){if(t.modeFrontier=Math.min(t.modeFrontier,r),!(t.highlightFrontier<r-10)){for(var s=t.first,a=r-1;a>s;a--){var u=Xe(t,a).stateAfter;if(u&&(!(u instanceof M)||a+u.lookAhead<r)){s=a+1;break}}t.highlightFrontier=Math.min(t.highlightFrontier,s)}}var vt=!1,kt=!1;function on(){vt=!0}function jt(){kt=!0}function qn(t,r,s){this.marker=t,this.from=r,this.to=s}function fn(t,r){if(t)for(var s=0;s<t.length;++s){var a=t[s];if(a.marker==r)return a}}function Re(t,r){for(var s,a=0;a<t.length;++a)t[a]!=r&&(s||(s=[])).push(t[a]);return s}function bt(t,r,s){var a=s&&window.WeakSet&&(s.markedSpans||(s.markedSpans=new WeakSet));a&&t.markedSpans&&a.has(t.markedSpans)?t.markedSpans.push(r):(t.markedSpans=t.markedSpans?t.markedSpans.concat([r]):[r],a&&a.add(t.markedSpans)),r.marker.attachLine(t)}function Yt(t,r,s){var a;if(t)for(var u=0;u<t.length;++u){var d=t[u],m=d.marker,g=d.from==null||(m.inclusiveLeft?d.from<=r:d.from<r);if(g||d.from==r&&m.type=="bookmark"&&(!s||!d.marker.insertLeft)){var y=d.to==null||(m.inclusiveRight?d.to>=r:d.to>r);(a||(a=[])).push(new qn(m,d.from,y?null:d.to))}}return a}function Wn(t,r,s){var a;if(t)for(var u=0;u<t.length;++u){var d=t[u],m=d.marker,g=d.to==null||(m.inclusiveRight?d.to>=r:d.to>r);if(g||d.from==r&&m.type=="bookmark"&&(!s||d.marker.insertLeft)){var y=d.from==null||(m.inclusiveLeft?d.from<=r:d.from<r);(a||(a=[])).push(new qn(m,y?null:d.from-r,d.to==null?null:d.to-r))}}return a}function Xn(t,r){if(r.full)return null;var s=hi(t,r.from.line)&&Xe(t,r.from.line).markedSpans,a=hi(t,r.to.line)&&Xe(t,r.to.line).markedSpans;if(!s&&!a)return null;var u=r.from.ch,d=r.to.ch,m=nt(r.from,r.to)==0,g=Yt(s,u,m),y=Wn(a,d,m),w=r.text.length==1,P=U(r.text).length+(w?u:0);if(g)for(var G=0;G<g.length;++G){var oe=g[G];if(oe.to==null){var te=fn(y,oe.marker);te?w&&(oe.to=te.to==null?null:te.to+P):oe.to=u}}if(y)for(var pe=0;pe<y.length;++pe){var Ce=y[pe];if(Ce.to!=null&&(Ce.to+=P),Ce.from==null){var Oe=fn(g,Ce.marker);Oe||(Ce.from=P,w&&(g||(g=[])).push(Ce))}else Ce.from+=P,w&&(g||(g=[])).push(Ce)}g&&(g=br(g)),y&&y!=g&&(y=br(y));var Ne=[g];if(!w){var qe=r.text.length-2,Be;if(qe>0&&g)for(var Ue=0;Ue<g.length;++Ue)g[Ue].to==null&&(Be||(Be=[])).push(new qn(g[Ue].marker,null,null));for(var Ze=0;Ze<qe;++Ze)Ne.push(Be);Ne.push(y)}return Ne}function br(t){for(var r=0;r<t.length;++r){var s=t[r];s.from!=null&&s.from==s.to&&s.marker.clearWhenEmpty!==!1&&t.splice(r--,1)}return t.length?t:null}function Mr(t,r,s){var a=null;if(t.iter(r.line,s.line+1,function(te){if(te.markedSpans)for(var pe=0;pe<te.markedSpans.length;++pe){var Ce=te.markedSpans[pe].marker;Ce.readOnly&&(!a||S(a,Ce)==-1)&&(a||(a=[])).push(Ce)}}),!a)return null;for(var u=[{from:r,to:s}],d=0;d<a.length;++d)for(var m=a[d],g=m.find(0),y=0;y<u.length;++y){var w=u[y];if(!(nt(w.to,g.from)<0||nt(w.from,g.to)>0)){var P=[y,1],G=nt(w.from,g.from),oe=nt(w.to,g.to);(G<0||!m.inclusiveLeft&&!G)&&P.push({from:w.from,to:g.from}),(oe>0||!m.inclusiveRight&&!oe)&&P.push({from:g.to,to:w.to}),u.splice.apply(u,P),y+=P.length-3}}return u}function lr(t){var r=t.markedSpans;if(r){for(var s=0;s<r.length;++s)r[s].marker.detachLine(t);t.markedSpans=null}}function Vn(t,r){if(r){for(var s=0;s<r.length;++s)r[s].marker.attachLine(t);t.markedSpans=r}}function cn(t){return t.inclusiveLeft?-1:0}function ir(t){return t.inclusiveRight?1:0}function $r(t,r){var s=t.lines.length-r.lines.length;if(s!=0)return s;var a=t.find(),u=r.find(),d=nt(a.from,u.from)||cn(t)-cn(r);if(d)return-d;var m=nt(a.to,u.to)||ir(t)-ir(r);return m||r.id-t.id}function Gi(t,r){var s=kt&&t.markedSpans,a;if(s)for(var u=void 0,d=0;d<s.length;++d)u=s[d],u.marker.collapsed&&(r?u.from:u.to)==null&&(!a||$r(a,u.marker)<0)&&(a=u.marker);return a}function Xi(t){return Gi(t,!0)}function pi(t){return Gi(t,!1)}function Pa(t,r){var s=kt&&t.markedSpans,a;if(s)for(var u=0;u<s.length;++u){var d=s[u];d.marker.collapsed&&(d.from==null||d.from<r)&&(d.to==null||d.to>r)&&(!a||$r(a,d.marker)<0)&&(a=d.marker)}return a}function Ho(t,r,s,a,u){var d=Xe(t,r),m=kt&&d.markedSpans;if(m)for(var g=0;g<m.length;++g){var y=m[g];if(y.marker.collapsed){var w=y.marker.find(0),P=nt(w.from,s)||cn(y.marker)-cn(u),G=nt(w.to,a)||ir(y.marker)-ir(u);if(!(P>=0&&G<=0||P<=0&&G>=0)&&(P<=0&&(y.marker.inclusiveRight&&u.inclusiveLeft?nt(w.to,s)>=0:nt(w.to,s)>0)||P>=0&&(y.marker.inclusiveRight&&u.inclusiveLeft?nt(w.from,a)<=0:nt(w.from,a)<0)))return!0}}}function zn(t){for(var r;r=Xi(t);)t=r.find(-1,!0).line;return t}function bl(t){for(var r;r=pi(t);)t=r.find(1,!0).line;return t}function wl(t){for(var r,s;r=pi(t);)t=r.find(1,!0).line,(s||(s=[])).push(t);return s}function El(t,r){var s=Xe(t,r),a=zn(s);return s==a?r:xt(a)}function Kf(t,r){if(r>t.lastLine())return r;var s=Xe(t,r),a;if(!Gr(t,s))return r;for(;a=pi(s);)s=a.find(1,!0).line;return xt(s)+1}function Gr(t,r){var s=kt&&r.markedSpans;if(s){for(var a=void 0,u=0;u<s.length;++u)if(a=s[u],!!a.marker.collapsed){if(a.from==null)return!0;if(!a.marker.widgetNode&&a.from==0&&a.marker.inclusiveLeft&&Cl(t,r,a))return!0}}}function Cl(t,r,s){if(s.to==null){var a=s.marker.find(1,!0);return Cl(t,a.line,fn(a.line.markedSpans,s.marker))}if(s.marker.inclusiveRight&&s.to==r.text.length)return!0;for(var u=void 0,d=0;d<r.markedSpans.length;++d)if(u=r.markedSpans[d],u.marker.collapsed&&!u.marker.widgetNode&&u.from==s.to&&(u.to==null||u.to!=s.from)&&(u.marker.inclusiveLeft||s.marker.inclusiveRight)&&Cl(t,r,u))return!0}function Ir(t){t=zn(t);for(var r=0,s=t.parent,a=0;a<s.lines.length;++a){var u=s.lines[a];if(u==t)break;r+=u.height}for(var d=s.parent;d;s=d,d=s.parent)for(var m=0;m<d.children.length;++m){var g=d.children[m];if(g==s)break;r+=g.height}return r}function Ha(t){if(t.height==0)return 0;for(var r=t.text.length,s,a=t;s=Xi(a);){var u=s.find(0,!0);a=u.from.line,r+=u.from.ch-u.to.ch}for(a=t;s=pi(a);){var d=s.find(0,!0);r-=a.text.length-d.from.ch,a=d.to.line,r+=a.text.length-d.to.ch}return r}function kl(t){var r=t.display,s=t.doc;r.maxLine=Xe(s,s.first),r.maxLineLength=Ha(r.maxLine),r.maxLineChanged=!0,s.iter(function(a){var u=Ha(a);u>r.maxLineLength&&(r.maxLineLength=u,r.maxLine=a)})}var Vi=function(t,r,s){this.text=t,Vn(this,r),this.height=s?s(this):1};Vi.prototype.lineNo=function(){return xt(this)},Ut(Vi);function Mg(t,r,s,a){t.text=r,t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null),t.order!=null&&(t.order=null),lr(t),Vn(t,s);var u=a?a(t):1;u!=t.height&&rr(t,u)}function Ig(t){t.parent=null,lr(t)}var _g={},Rg={};function Zf(t,r){if(!t||/^\s*$/.test(t))return null;var s=r.addModeClass?Rg:_g;return s[t]||(s[t]=t.replace(/\S+/g,"cm-$&"))}function Jf(t,r){var s=_("span",null,null,v?"padding-right: .1px":null),a={pre:_("pre",[s],"CodeMirror-line"),content:s,col:0,pos:0,cm:t,trailingSpace:!1,splitSpaces:t.getOption("lineWrapping")};r.measure={};for(var u=0;u<=(r.rest?r.rest.length:0);u++){var d=u?r.rest[u-1]:r.line,m=void 0;a.pos=0,a.addToken=Bg,er(t.display.measure)&&(m=rn(d,t.doc.direction))&&(a.addToken=Hg(a.addToken,m)),a.map=[];var g=r!=t.display.externalMeasured&&xt(d);qg(d,a,K(t,d,g)),d.styleClasses&&(d.styleClasses.bgClass&&(a.bgClass=ve(d.styleClasses.bgClass,a.bgClass||"")),d.styleClasses.textClass&&(a.textClass=ve(d.styleClasses.textClass,a.textClass||""))),a.map.length==0&&a.map.push(0,0,a.content.appendChild(ci(t.display.measure))),u==0?(r.measure.map=a.map,r.measure.cache={}):((r.measure.maps||(r.measure.maps=[])).push(a.map),(r.measure.caches||(r.measure.caches=[])).push({}))}if(v){var y=a.content.lastChild;(/\bcm-tab\b/.test(y.className)||y.querySelector&&y.querySelector(".cm-tab"))&&(a.content.className="cm-tab-wrap-hack")}return Lt(t,"renderLine",t,r.line,a.pre),a.pre.className&&(a.textClass=ve(a.pre.className,a.textClass||"")),a}function Ng(t){var r=E("span","\u2022","cm-invalidchar");return r.title="\\u"+t.charCodeAt(0).toString(16),r.setAttribute("aria-label",r.title),r}function Bg(t,r,s,a,u,d,m){if(r){var g=t.splitSpaces?Pg(r,t.trailingSpace):r,y=t.cm.state.specialChars,w=!1,P;if(!y.test(r))t.col+=r.length,P=document.createTextNode(g),t.map.push(t.pos,t.pos+r.length,P),c&&h<9&&(w=!0),t.pos+=r.length;else{P=document.createDocumentFragment();for(var G=0;;){y.lastIndex=G;var oe=y.exec(r),te=oe?oe.index-G:r.length-G;if(te){var pe=document.createTextNode(g.slice(G,G+te));c&&h<9?P.appendChild(E("span",[pe])):P.appendChild(pe),t.map.push(t.pos,t.pos+te,pe),t.col+=te,t.pos+=te}if(!oe)break;G+=te+1;var Ce=void 0;if(oe[0]=="	"){var Oe=t.cm.options.tabSize,Ne=Oe-t.col%Oe;Ce=P.appendChild(E("span",Y(Ne),"cm-tab")),Ce.setAttribute("role","presentation"),Ce.setAttribute("cm-text","	"),t.col+=Ne}else oe[0]=="\r"||oe[0]==`
`?(Ce=P.appendChild(E("span",oe[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),Ce.setAttribute("cm-text",oe[0]),t.col+=1):(Ce=t.cm.options.specialCharPlaceholder(oe[0]),Ce.setAttribute("cm-text",oe[0]),c&&h<9?P.appendChild(E("span",[Ce])):P.appendChild(Ce),t.col+=1);t.map.push(t.pos,t.pos+1,Ce),t.pos++}}if(t.trailingSpace=g.charCodeAt(r.length-1)==32,s||a||u||w||d||m){var qe=s||"";a&&(qe+=a),u&&(qe+=u);var Be=E("span",[P],qe,d);if(m)for(var Ue in m)m.hasOwnProperty(Ue)&&Ue!="style"&&Ue!="class"&&Be.setAttribute(Ue,m[Ue]);return t.content.appendChild(Be)}t.content.appendChild(P)}}function Pg(t,r){if(t.length>1&&!/  /.test(t))return t;for(var s=r,a="",u=0;u<t.length;u++){var d=t.charAt(u);d==" "&&s&&(u==t.length-1||t.charCodeAt(u+1)==32)&&(d="\xA0"),a+=d,s=d==" "}return a}function Hg(t,r){return function(s,a,u,d,m,g,y){u=u?u+" cm-force-border":"cm-force-border";for(var w=s.pos,P=w+a.length;;){for(var G=void 0,oe=0;oe<r.length&&(G=r[oe],!(G.to>w&&G.from<=w));oe++);if(G.to>=P)return t(s,a,u,d,m,g,y);t(s,a.slice(0,G.to-w),u,d,null,g,y),d=null,a=a.slice(G.to-w),w=G.to}}}function Qf(t,r,s,a){var u=!a&&s.widgetNode;u&&t.map.push(t.pos,t.pos+r,u),!a&&t.cm.display.input.needsContentAttribute&&(u||(u=t.content.appendChild(document.createElement("span"))),u.setAttribute("cm-marker",s.id)),u&&(t.cm.display.input.setUneditable(u),t.content.appendChild(u)),t.pos+=r,t.trailingSpace=!1}function qg(t,r,s){var a=t.markedSpans,u=t.text,d=0;if(!a){for(var m=1;m<s.length;m+=2)r.addToken(r,u.slice(d,d=s[m]),Zf(s[m+1],r.cm.options));return}for(var g=u.length,y=0,w=1,P="",G,oe,te=0,pe,Ce,Oe,Ne,qe;;){if(te==y){pe=Ce=Oe=oe="",qe=null,Ne=null,te=1/0;for(var Be=[],Ue=void 0,Ze=0;Ze<a.length;++Ze){var Ye=a[Ze],st=Ye.marker;if(st.type=="bookmark"&&Ye.from==y&&st.widgetNode)Be.push(st);else if(Ye.from<=y&&(Ye.to==null||Ye.to>y||st.collapsed&&Ye.to==y&&Ye.from==y)){if(Ye.to!=null&&Ye.to!=y&&te>Ye.to&&(te=Ye.to,Ce=""),st.className&&(pe+=" "+st.className),st.css&&(oe=(oe?oe+";":"")+st.css),st.startStyle&&Ye.from==y&&(Oe+=" "+st.startStyle),st.endStyle&&Ye.to==te&&(Ue||(Ue=[])).push(st.endStyle,Ye.to),st.title&&((qe||(qe={})).title=st.title),st.attributes)for(var Tt in st.attributes)(qe||(qe={}))[Tt]=st.attributes[Tt];st.collapsed&&(!Ne||$r(Ne.marker,st)<0)&&(Ne=Ye)}else Ye.from>y&&te>Ye.from&&(te=Ye.from)}if(Ue)for(var mn=0;mn<Ue.length;mn+=2)Ue[mn+1]==te&&(Ce+=" "+Ue[mn]);if(!Ne||Ne.from==y)for(var Bt=0;Bt<Be.length;++Bt)Qf(r,0,Be[Bt]);if(Ne&&(Ne.from||0)==y){if(Qf(r,(Ne.to==null?g+1:Ne.to)-y,Ne.marker,Ne.from==null),Ne.to==null)return;Ne.to==y&&(Ne=!1)}}if(y>=g)break;for(var jn=Math.min(g,te);;){if(P){var In=y+P.length;if(!Ne){var Kt=In>jn?P.slice(0,jn-y):P;r.addToken(r,Kt,G?G+pe:pe,Oe,y+Kt.length==te?Ce:"",oe,qe)}if(In>=jn){P=P.slice(jn-y),y=jn;break}y=In,Oe=""}P=u.slice(d,d=s[w++]),G=Zf(s[w++],r.cm.options)}}}function ec(t,r,s){this.line=r,this.rest=wl(r),this.size=this.rest?xt(U(this.rest))-s+1:1,this.node=this.text=null,this.hidden=Gr(t,r)}function qa(t,r,s){for(var a=[],u,d=r;d<s;d=u){var m=new ec(t.doc,Xe(t.doc,d),d);u=d+m.size,a.push(m)}return a}var Yi=null;function Wg(t){Yi?Yi.ops.push(t):t.ownsGroup=Yi={ops:[t],delayedCallbacks:[]}}function zg(t){var r=t.delayedCallbacks,s=0;do{for(;s<r.length;s++)r[s].call(null);for(var a=0;a<t.ops.length;a++){var u=t.ops[a];if(u.cursorActivityHandlers)for(;u.cursorActivityCalled<u.cursorActivityHandlers.length;)u.cursorActivityHandlers[u.cursorActivityCalled++].call(null,u.cm)}}while(s<r.length)}function Ug(t,r){var s=t.ownsGroup;if(s)try{zg(s)}finally{Yi=null,r(s)}}var qo=null;function dn(t,r){var s=Bn(t,r);if(s.length){var a=Array.prototype.slice.call(arguments,2),u;Yi?u=Yi.delayedCallbacks:qo?u=qo:(u=qo=[],setTimeout(jg,0));for(var d=function(g){u.push(function(){return s[g].apply(null,a)})},m=0;m<s.length;++m)d(m)}}function jg(){var t=qo;qo=null;for(var r=0;r<t.length;++r)t[r]()}function tc(t,r,s,a){for(var u=0;u<r.changes.length;u++){var d=r.changes[u];d=="text"?Gg(t,r):d=="gutter"?rc(t,r,s,a):d=="class"?Dl(t,r):d=="widget"&&Xg(t,r,a)}r.changes=null}function Wo(t){return t.node==t.text&&(t.node=E("div",null,null,"position: relative"),t.text.parentNode&&t.text.parentNode.replaceChild(t.node,t.text),t.node.appendChild(t.text),c&&h<8&&(t.node.style.zIndex=2)),t.node}function $g(t,r){var s=r.bgClass?r.bgClass+" "+(r.line.bgClass||""):r.line.bgClass;if(s&&(s+=" CodeMirror-linebackground"),r.background)s?r.background.className=s:(r.background.parentNode.removeChild(r.background),r.background=null);else if(s){var a=Wo(r);r.background=a.insertBefore(E("div",null,s),a.firstChild),t.display.input.setUneditable(r.background)}}function nc(t,r){var s=t.display.externalMeasured;return s&&s.line==r.line?(t.display.externalMeasured=null,r.measure=s.measure,s.built):Jf(t,r)}function Gg(t,r){var s=r.text.className,a=nc(t,r);r.text==r.node&&(r.node=a.pre),r.text.parentNode.replaceChild(a.pre,r.text),r.text=a.pre,a.bgClass!=r.bgClass||a.textClass!=r.textClass?(r.bgClass=a.bgClass,r.textClass=a.textClass,Dl(t,r)):s&&(r.text.className=s)}function Dl(t,r){$g(t,r),r.line.wrapClass?Wo(r).className=r.line.wrapClass:r.node!=r.text&&(r.node.className="");var s=r.textClass?r.textClass+" "+(r.line.textClass||""):r.line.textClass;r.text.className=s||""}function rc(t,r,s,a){if(r.gutter&&(r.node.removeChild(r.gutter),r.gutter=null),r.gutterBackground&&(r.node.removeChild(r.gutterBackground),r.gutterBackground=null),r.line.gutterClass){var u=Wo(r);r.gutterBackground=E("div",null,"CodeMirror-gutter-background "+r.line.gutterClass,"left: "+(t.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px; width: "+a.gutterTotalWidth+"px"),t.display.input.setUneditable(r.gutterBackground),u.insertBefore(r.gutterBackground,r.text)}var d=r.line.gutterMarkers;if(t.options.lineNumbers||d){var m=Wo(r),g=r.gutter=E("div",null,"CodeMirror-gutter-wrapper","left: "+(t.options.fixedGutter?a.fixedPos:-a.gutterTotalWidth)+"px");if(g.setAttribute("aria-hidden","true"),t.display.input.setUneditable(g),m.insertBefore(g,r.text),r.line.gutterClass&&(g.className+=" "+r.line.gutterClass),t.options.lineNumbers&&(!d||!d["CodeMirror-linenumbers"])&&(r.lineNumber=g.appendChild(E("div",No(t.options,s),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+a.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+t.display.lineNumInnerWidth+"px"))),d)for(var y=0;y<t.display.gutterSpecs.length;++y){var w=t.display.gutterSpecs[y].className,P=d.hasOwnProperty(w)&&d[w];P&&g.appendChild(E("div",[P],"CodeMirror-gutter-elt","left: "+a.gutterLeft[w]+"px; width: "+a.gutterWidth[w]+"px"))}}}function Xg(t,r,s){r.alignable&&(r.alignable=null);for(var a=Ee("CodeMirror-linewidget"),u=r.node.firstChild,d=void 0;u;u=d)d=u.nextSibling,a.test(u.className)&&r.node.removeChild(u);ic(t,r,s)}function Vg(t,r,s,a){var u=nc(t,r);return r.text=r.node=u.pre,u.bgClass&&(r.bgClass=u.bgClass),u.textClass&&(r.textClass=u.textClass),Dl(t,r),rc(t,r,s,a),ic(t,r,a),r.node}function ic(t,r,s){if(oc(t,r.line,r,s,!0),r.rest)for(var a=0;a<r.rest.length;a++)oc(t,r.rest[a],r,s,!1)}function oc(t,r,s,a,u){if(r.widgets)for(var d=Wo(s),m=0,g=r.widgets;m<g.length;++m){var y=g[m],w=E("div",[y.node],"CodeMirror-linewidget"+(y.className?" "+y.className:""));y.handleMouseEvents||w.setAttribute("cm-ignore-events","true"),Yg(y,w,s,a),t.display.input.setUneditable(w),u&&y.above?d.insertBefore(w,s.gutter||s.text):d.appendChild(w),dn(y,"redraw")}}function Yg(t,r,s,a){if(t.noHScroll){(s.alignable||(s.alignable=[])).push(r);var u=a.wrapperWidth;r.style.left=a.fixedPos+"px",t.coverGutter||(u-=a.gutterTotalWidth,r.style.paddingLeft=a.gutterTotalWidth+"px"),r.style.width=u+"px"}t.coverGutter&&(r.style.zIndex=5,r.style.position="relative",t.noHScroll||(r.style.marginLeft=-a.gutterTotalWidth+"px"))}function zo(t){if(t.height!=null)return t.height;var r=t.doc.cm;if(!r)return 0;if(!H(document.body,t.node)){var s="position: relative;";t.coverGutter&&(s+="margin-left: -"+r.display.gutters.offsetWidth+"px;"),t.noHScroll&&(s+="width: "+r.display.wrapper.clientWidth+"px;"),A(r.display.measure,E("div",[t.node],null,s))}return t.height=t.node.parentNode.offsetHeight}function _r(t,r){for(var s=Dt(r);s!=t.wrapper;s=s.parentNode)if(!s||s.nodeType==1&&s.getAttribute("cm-ignore-events")=="true"||s.parentNode==t.sizer&&s!=t.mover)return!0}function Wa(t){return t.lineSpace.offsetTop}function Tl(t){return t.mover.offsetHeight-t.lineSpace.offsetHeight}function ac(t){if(t.cachedPaddingH)return t.cachedPaddingH;var r=A(t.measure,E("pre","x","CodeMirror-line-like")),s=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,a={left:parseInt(s.paddingLeft),right:parseInt(s.paddingRight)};return!isNaN(a.left)&&!isNaN(a.right)&&(t.cachedPaddingH=a),a}function wr(t){return F-t.display.nativeBarWidth}function mi(t){return t.display.scroller.clientWidth-wr(t)-t.display.barWidth}function Sl(t){return t.display.scroller.clientHeight-wr(t)-t.display.barHeight}function Kg(t,r,s){var a=t.options.lineWrapping,u=a&&mi(t);if(!r.measure.heights||a&&r.measure.width!=u){var d=r.measure.heights=[];if(a){r.measure.width=u;for(var m=r.text.firstChild.getClientRects(),g=0;g<m.length-1;g++){var y=m[g],w=m[g+1];Math.abs(y.bottom-w.bottom)>2&&d.push((y.bottom+w.top)/2-s.top)}}d.push(s.bottom-s.top)}}function sc(t,r,s){if(t.line==r)return{map:t.measure.map,cache:t.measure.cache};if(t.rest){for(var a=0;a<t.rest.length;a++)if(t.rest[a]==r)return{map:t.measure.maps[a],cache:t.measure.caches[a]};for(var u=0;u<t.rest.length;u++)if(xt(t.rest[u])>s)return{map:t.measure.maps[u],cache:t.measure.caches[u],before:!0}}}function Zg(t,r){r=zn(r);var s=xt(r),a=t.display.externalMeasured=new ec(t.doc,r,s);a.lineN=s;var u=a.built=Jf(t,a);return a.text=u.pre,A(t.display.lineMeasure,u.pre),a}function lc(t,r,s,a){return Er(t,Ki(t,r),s,a)}function Al(t,r){if(r>=t.display.viewFrom&&r<t.display.viewTo)return t.display.view[yi(t,r)];var s=t.display.externalMeasured;if(s&&r>=s.lineN&&r<s.lineN+s.size)return s}function Ki(t,r){var s=xt(r),a=Al(t,s);a&&!a.text?a=null:a&&a.changes&&(tc(t,a,s,Il(t)),t.curOp.forceUpdate=!0),a||(a=Zg(t,r));var u=sc(a,r,s);return{line:r,view:a,rect:null,map:u.map,cache:u.cache,before:u.before,hasHeights:!1}}function Er(t,r,s,a,u){r.before&&(s=-1);var d=s+(a||""),m;return r.cache.hasOwnProperty(d)?m=r.cache[d]:(r.rect||(r.rect=r.view.text.getBoundingClientRect()),r.hasHeights||(Kg(t,r.view,r.rect),r.hasHeights=!0),m=Qg(t,r,s,a),m.bogus||(r.cache[d]=m)),{left:m.left,right:m.right,top:u?m.rtop:m.top,bottom:u?m.rbottom:m.bottom}}var uc={left:0,right:0,top:0,bottom:0};function fc(t,r,s){for(var a,u,d,m,g,y,w=0;w<t.length;w+=3)if(g=t[w],y=t[w+1],r<g?(u=0,d=1,m="left"):r<y?(u=r-g,d=u+1):(w==t.length-3||r==y&&t[w+3]>r)&&(d=y-g,u=d-1,r>=y&&(m="right")),u!=null){if(a=t[w+2],g==y&&s==(a.insertLeft?"left":"right")&&(m=s),s=="left"&&u==0)for(;w&&t[w-2]==t[w-3]&&t[w-1].insertLeft;)a=t[(w-=3)+2],m="left";if(s=="right"&&u==y-g)for(;w<t.length-3&&t[w+3]==t[w+4]&&!t[w+5].insertLeft;)a=t[(w+=3)+2],m="right";break}return{node:a,start:u,end:d,collapse:m,coverStart:g,coverEnd:y}}function Jg(t,r){var s=uc;if(r=="left")for(var a=0;a<t.length&&(s=t[a]).left==s.right;a++);else for(var u=t.length-1;u>=0&&(s=t[u]).left==s.right;u--);return s}function Qg(t,r,s,a){var u=fc(r.map,s,a),d=u.node,m=u.start,g=u.end,y=u.collapse,w;if(d.nodeType==3){for(var P=0;P<4;P++){for(;m&&en(r.line.text.charAt(u.coverStart+m));)--m;for(;u.coverStart+g<u.coverEnd&&en(r.line.text.charAt(u.coverStart+g));)++g;if(c&&h<9&&m==0&&g==u.coverEnd-u.coverStart?w=d.parentNode.getBoundingClientRect():w=Jg(j(d,m,g).getClientRects(),a),w.left||w.right||m==0)break;g=m,m=m-1,y="right"}c&&h<11&&(w=ev(t.display.measure,w))}else{m>0&&(y=a="right");var G;t.options.lineWrapping&&(G=d.getClientRects()).length>1?w=G[a=="right"?G.length-1:0]:w=d.getBoundingClientRect()}if(c&&h<9&&!m&&(!w||!w.left&&!w.right)){var oe=d.parentNode.getClientRects()[0];oe?w={left:oe.left,right:oe.left+Ji(t.display),top:oe.top,bottom:oe.bottom}:w=uc}for(var te=w.top-r.rect.top,pe=w.bottom-r.rect.top,Ce=(te+pe)/2,Oe=r.view.measure.heights,Ne=0;Ne<Oe.length-1&&!(Ce<Oe[Ne]);Ne++);var qe=Ne?Oe[Ne-1]:0,Be=Oe[Ne],Ue={left:(y=="right"?w.right:w.left)-r.rect.left,right:(y=="left"?w.left:w.right)-r.rect.left,top:qe,bottom:Be};return!w.left&&!w.right&&(Ue.bogus=!0),t.options.singleCursorHeightPerLine||(Ue.rtop=te,Ue.rbottom=pe),Ue}function ev(t,r){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!Hn(t))return r;var s=screen.logicalXDPI/screen.deviceXDPI,a=screen.logicalYDPI/screen.deviceYDPI;return{left:r.left*s,right:r.right*s,top:r.top*a,bottom:r.bottom*a}}function cc(t){if(t.measure&&(t.measure.cache={},t.measure.heights=null,t.rest))for(var r=0;r<t.rest.length;r++)t.measure.caches[r]={}}function dc(t){t.display.externalMeasure=null,x(t.display.lineMeasure);for(var r=0;r<t.display.view.length;r++)cc(t.display.view[r])}function Uo(t){dc(t),t.display.cachedCharWidth=t.display.cachedTextHeight=t.display.cachedPaddingH=null,t.options.lineWrapping||(t.display.maxLineChanged=!0),t.display.lineNumChars=null}function hc(t){return O&&Q?-(t.body.getBoundingClientRect().left-parseInt(getComputedStyle(t.body).marginLeft)):t.defaultView.pageXOffset||(t.documentElement||t.body).scrollLeft}function pc(t){return O&&Q?-(t.body.getBoundingClientRect().top-parseInt(getComputedStyle(t.body).marginTop)):t.defaultView.pageYOffset||(t.documentElement||t.body).scrollTop}function Ll(t){var r=zn(t),s=r.widgets,a=0;if(s)for(var u=0;u<s.length;++u)s[u].above&&(a+=zo(s[u]));return a}function za(t,r,s,a,u){if(!u){var d=Ll(r);s.top+=d,s.bottom+=d}if(a=="line")return s;a||(a="local");var m=Ir(r);if(a=="local"?m+=Wa(t.display):m-=t.display.viewOffset,a=="page"||a=="window"){var g=t.display.lineSpace.getBoundingClientRect();m+=g.top+(a=="window"?0:pc(b(t)));var y=g.left+(a=="window"?0:hc(b(t)));s.left+=y,s.right+=y}return s.top+=m,s.bottom+=m,s}function mc(t,r,s){if(s=="div")return r;var a=r.left,u=r.top;if(s=="page")a-=hc(b(t)),u-=pc(b(t));else if(s=="local"||!s){var d=t.display.sizer.getBoundingClientRect();a+=d.left,u+=d.top}var m=t.display.lineSpace.getBoundingClientRect();return{left:a-m.left,top:u-m.top}}function Ua(t,r,s,a,u){return a||(a=Xe(t.doc,r.line)),za(t,a,lc(t,a,r.ch,u),s)}function ur(t,r,s,a,u,d){a=a||Xe(t.doc,r.line),u||(u=Ki(t,a));function m(pe,Ce){var Oe=Er(t,u,pe,Ce?"right":"left",d);return Ce?Oe.left=Oe.right:Oe.right=Oe.left,za(t,a,Oe,s)}var g=rn(a,t.doc.direction),y=r.ch,w=r.sticky;if(y>=a.text.length?(y=a.text.length,w="before"):y<=0&&(y=0,w="after"),!g)return m(w=="before"?y-1:y,w=="before");function P(pe,Ce,Oe){var Ne=g[Ce],qe=Ne.level==1;return m(Oe?pe-1:pe,qe!=Oe)}var G=Ke(g,y,w),oe=nn,te=P(y,G,w=="before");return oe!=null&&(te.other=P(y,oe,w!="before")),te}function gc(t,r){var s=0;r=tt(t.doc,r),t.options.lineWrapping||(s=Ji(t.display)*r.ch);var a=Xe(t.doc,r.line),u=Ir(a)+Wa(t.display);return{left:s,right:s,top:u,bottom:u+a.height}}function Fl(t,r,s,a,u){var d=Le(t,r,s);return d.xRel=u,a&&(d.outside=a),d}function Ol(t,r,s){var a=t.doc;if(s+=t.display.viewOffset,s<0)return Fl(a.first,0,null,-1,-1);var u=Or(a,s),d=a.first+a.size-1;if(u>d)return Fl(a.first+a.size-1,Xe(a,d).text.length,null,1,1);r<0&&(r=0);for(var m=Xe(a,u);;){var g=tv(t,m,u,r,s),y=Pa(m,g.ch+(g.xRel>0||g.outside>0?1:0));if(!y)return g;var w=y.find(1);if(w.line==u)return w;m=Xe(a,u=w.line)}}function vc(t,r,s,a){a-=Ll(r);var u=r.text.length,d=pt(function(m){return Er(t,s,m-1).bottom<=a},u,0);return u=pt(function(m){return Er(t,s,m).top>a},d,u),{begin:d,end:u}}function yc(t,r,s,a){s||(s=Ki(t,r));var u=za(t,r,Er(t,s,a),"line").top;return vc(t,r,s,u)}function Ml(t,r,s,a){return t.bottom<=s?!1:t.top>s?!0:(a?t.left:t.right)>r}function tv(t,r,s,a,u){u-=Ir(r);var d=Ki(t,r),m=Ll(r),g=0,y=r.text.length,w=!0,P=rn(r,t.doc.direction);if(P){var G=(t.options.lineWrapping?rv:nv)(t,r,s,d,P,a,u);w=G.level!=1,g=w?G.from:G.to-1,y=w?G.to:G.from-1}var oe=null,te=null,pe=pt(function(Ze){var Ye=Er(t,d,Ze);return Ye.top+=m,Ye.bottom+=m,Ml(Ye,a,u,!1)?(Ye.top<=u&&Ye.left<=a&&(oe=Ze,te=Ye),!0):!1},g,y),Ce,Oe,Ne=!1;if(te){var qe=a-te.left<te.right-a,Be=qe==w;pe=oe+(Be?0:1),Oe=Be?"after":"before",Ce=qe?te.left:te.right}else{!w&&(pe==y||pe==g)&&pe++,Oe=pe==0?"after":pe==r.text.length?"before":Er(t,d,pe-(w?1:0)).bottom+m<=u==w?"after":"before";var Ue=ur(t,Le(s,pe,Oe),"line",r,d);Ce=Ue.left,Ne=u<Ue.top?-1:u>=Ue.bottom?1:0}return pe=yn(r.text,pe,1),Fl(s,pe,Oe,Ne,a-Ce)}function nv(t,r,s,a,u,d,m){var g=pt(function(G){var oe=u[G],te=oe.level!=1;return Ml(ur(t,Le(s,te?oe.to:oe.from,te?"before":"after"),"line",r,a),d,m,!0)},0,u.length-1),y=u[g];if(g>0){var w=y.level!=1,P=ur(t,Le(s,w?y.from:y.to,w?"after":"before"),"line",r,a);Ml(P,d,m,!0)&&P.top>m&&(y=u[g-1])}return y}function rv(t,r,s,a,u,d,m){var g=vc(t,r,a,m),y=g.begin,w=g.end;/\s/.test(r.text.charAt(w-1))&&w--;for(var P=null,G=null,oe=0;oe<u.length;oe++){var te=u[oe];if(!(te.from>=w||te.to<=y)){var pe=te.level!=1,Ce=Er(t,a,pe?Math.min(w,te.to)-1:Math.max(y,te.from)).right,Oe=Ce<d?d-Ce+1e9:Ce-d;(!P||G>Oe)&&(P=te,G=Oe)}}return P||(P=u[u.length-1]),P.from<y&&(P={from:y,to:P.to,level:P.level}),P.to>w&&(P={from:P.from,to:w,level:P.level}),P}var gi;function Zi(t){if(t.cachedTextHeight!=null)return t.cachedTextHeight;if(gi==null){gi=E("pre",null,"CodeMirror-line-like");for(var r=0;r<49;++r)gi.appendChild(document.createTextNode("x")),gi.appendChild(E("br"));gi.appendChild(document.createTextNode("x"))}A(t.measure,gi);var s=gi.offsetHeight/50;return s>3&&(t.cachedTextHeight=s),x(t.measure),s||1}function Ji(t){if(t.cachedCharWidth!=null)return t.cachedCharWidth;var r=E("span","xxxxxxxxxx"),s=E("pre",[r],"CodeMirror-line-like");A(t.measure,s);var a=r.getBoundingClientRect(),u=(a.right-a.left)/10;return u>2&&(t.cachedCharWidth=u),u||10}function Il(t){for(var r=t.display,s={},a={},u=r.gutters.clientLeft,d=r.gutters.firstChild,m=0;d;d=d.nextSibling,++m){var g=t.display.gutterSpecs[m].className;s[g]=d.offsetLeft+d.clientLeft+u,a[g]=d.clientWidth}return{fixedPos:_l(r),gutterTotalWidth:r.gutters.offsetWidth,gutterLeft:s,gutterWidth:a,wrapperWidth:r.wrapper.clientWidth}}function _l(t){return t.scroller.getBoundingClientRect().left-t.sizer.getBoundingClientRect().left}function xc(t){var r=Zi(t.display),s=t.options.lineWrapping,a=s&&Math.max(5,t.display.scroller.clientWidth/Ji(t.display)-3);return function(u){if(Gr(t.doc,u))return 0;var d=0;if(u.widgets)for(var m=0;m<u.widgets.length;m++)u.widgets[m].height&&(d+=u.widgets[m].height);return s?d+(Math.ceil(u.text.length/a)||1)*r:d+r}}function Rl(t){var r=t.doc,s=xc(t);r.iter(function(a){var u=s(a);u!=a.height&&rr(a,u)})}function vi(t,r,s,a){var u=t.display;if(!s&&Dt(r).getAttribute("cm-not-content")=="true")return null;var d,m,g=u.lineSpace.getBoundingClientRect();try{d=r.clientX-g.left,m=r.clientY-g.top}catch{return null}var y=Ol(t,d,m),w;if(a&&y.xRel>0&&(w=Xe(t.doc,y.line).text).length==y.ch){var P=_e(w,w.length,t.options.tabSize)-w.length;y=Le(y.line,Math.max(0,Math.round((d-ac(t.display).left)/Ji(t.display))-P))}return y}function yi(t,r){if(r>=t.display.viewTo||(r-=t.display.viewFrom,r<0))return null;for(var s=t.display.view,a=0;a<s.length;a++)if(r-=s[a].size,r<0)return a}function On(t,r,s,a){r==null&&(r=t.doc.first),s==null&&(s=t.doc.first+t.doc.size),a||(a=0);var u=t.display;if(a&&s<u.viewTo&&(u.updateLineNumbers==null||u.updateLineNumbers>r)&&(u.updateLineNumbers=r),t.curOp.viewChanged=!0,r>=u.viewTo)kt&&El(t.doc,r)<u.viewTo&&Vr(t);else if(s<=u.viewFrom)kt&&Kf(t.doc,s+a)>u.viewFrom?Vr(t):(u.viewFrom+=a,u.viewTo+=a);else if(r<=u.viewFrom&&s>=u.viewTo)Vr(t);else if(r<=u.viewFrom){var d=ja(t,s,s+a,1);d?(u.view=u.view.slice(d.index),u.viewFrom=d.lineN,u.viewTo+=a):Vr(t)}else if(s>=u.viewTo){var m=ja(t,r,r,-1);m?(u.view=u.view.slice(0,m.index),u.viewTo=m.lineN):Vr(t)}else{var g=ja(t,r,r,-1),y=ja(t,s,s+a,1);g&&y?(u.view=u.view.slice(0,g.index).concat(qa(t,g.lineN,y.lineN)).concat(u.view.slice(y.index)),u.viewTo+=a):Vr(t)}var w=u.externalMeasured;w&&(s<w.lineN?w.lineN+=a:r<w.lineN+w.size&&(u.externalMeasured=null))}function Xr(t,r,s){t.curOp.viewChanged=!0;var a=t.display,u=t.display.externalMeasured;if(u&&r>=u.lineN&&r<u.lineN+u.size&&(a.externalMeasured=null),!(r<a.viewFrom||r>=a.viewTo)){var d=a.view[yi(t,r)];if(d.node!=null){var m=d.changes||(d.changes=[]);S(m,s)==-1&&m.push(s)}}}function Vr(t){t.display.viewFrom=t.display.viewTo=t.doc.first,t.display.view=[],t.display.viewOffset=0}function ja(t,r,s,a){var u=yi(t,r),d,m=t.display.view;if(!kt||s==t.doc.first+t.doc.size)return{index:u,lineN:s};for(var g=t.display.viewFrom,y=0;y<u;y++)g+=m[y].size;if(g!=r){if(a>0){if(u==m.length-1)return null;d=g+m[u].size-r,u++}else d=g-r;r+=d,s+=d}for(;El(t.doc,s)!=s;){if(u==(a<0?0:m.length-1))return null;s+=a*m[u-(a<0?1:0)].size,u+=a}return{index:u,lineN:s}}function iv(t,r,s){var a=t.display,u=a.view;u.length==0||r>=a.viewTo||s<=a.viewFrom?(a.view=qa(t,r,s),a.viewFrom=r):(a.viewFrom>r?a.view=qa(t,r,a.viewFrom).concat(a.view):a.viewFrom<r&&(a.view=a.view.slice(yi(t,r))),a.viewFrom=r,a.viewTo<s?a.view=a.view.concat(qa(t,a.viewTo,s)):a.viewTo>s&&(a.view=a.view.slice(0,yi(t,s)))),a.viewTo=s}function bc(t){for(var r=t.display.view,s=0,a=0;a<r.length;a++){var u=r[a];!u.hidden&&(!u.node||u.changes)&&++s}return s}function jo(t){t.display.input.showSelection(t.display.input.prepareSelection())}function wc(t,r){r===void 0&&(r=!0);var s=t.doc,a={},u=a.cursors=document.createDocumentFragment(),d=a.selection=document.createDocumentFragment(),m=t.options.$customCursor;m&&(r=!0);for(var g=0;g<s.sel.ranges.length;g++)if(!(!r&&g==s.sel.primIndex)){var y=s.sel.ranges[g];if(!(y.from().line>=t.display.viewTo||y.to().line<t.display.viewFrom)){var w=y.empty();if(m){var P=m(t,y);P&&Nl(t,P,u)}else(w||t.options.showCursorWhenSelecting)&&Nl(t,y.head,u);w||ov(t,y,d)}}return a}function Nl(t,r,s){var a=ur(t,r,"div",null,null,!t.options.singleCursorHeightPerLine),u=s.appendChild(E("div","\xA0","CodeMirror-cursor"));if(u.style.left=a.left+"px",u.style.top=a.top+"px",u.style.height=Math.max(0,a.bottom-a.top)*t.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(t.getWrapperElement().className)){var d=Ua(t,r,"div",null,null),m=d.right-d.left;u.style.width=(m>0?m:t.defaultCharWidth())+"px"}if(a.other){var g=s.appendChild(E("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));g.style.display="",g.style.left=a.other.left+"px",g.style.top=a.other.top+"px",g.style.height=(a.other.bottom-a.other.top)*.85+"px"}}function $a(t,r){return t.top-r.top||t.left-r.left}function ov(t,r,s){var a=t.display,u=t.doc,d=document.createDocumentFragment(),m=ac(t.display),g=m.left,y=Math.max(a.sizerWidth,mi(t)-a.sizer.offsetLeft)-m.right,w=u.direction=="ltr";function P(Be,Ue,Ze,Ye){Ue<0&&(Ue=0),Ue=Math.round(Ue),Ye=Math.round(Ye),d.appendChild(E("div",null,"CodeMirror-selected","position: absolute; left: "+Be+`px;
                             top: `+Ue+"px; width: "+(Ze??y-Be)+`px;
                             height: `+(Ye-Ue)+"px"))}function G(Be,Ue,Ze){var Ye=Xe(u,Be),st=Ye.text.length,Tt,mn;function Bt(Kt,_n){return Ua(t,Le(Be,Kt),"div",Ye,_n)}function jn(Kt,_n,bn){var an=yc(t,Ye,null,Kt),Zt=_n=="ltr"==(bn=="after")?"left":"right",qt=bn=="after"?an.begin:an.end-(/\s/.test(Ye.text.charAt(an.end-1))?2:1);return Bt(qt,Zt)[Zt]}var In=rn(Ye,u.direction);return tn(In,Ue||0,Ze??st,function(Kt,_n,bn,an){var Zt=bn=="ltr",qt=Bt(Kt,Zt?"left":"right"),Rn=Bt(_n-1,Zt?"right":"left"),co=Ue==null&&Kt==0,ei=Ze==null&&_n==st,kn=an==0,Cr=!In||an==In.length-1;if(Rn.top-qt.top<=3){var gn=(w?co:ei)&&kn,uu=(w?ei:co)&&Cr,Br=gn?g:(Zt?qt:Rn).left,Ci=uu?y:(Zt?Rn:qt).right;P(Br,qt.top,Ci-Br,qt.bottom)}else{var ki,An,ho,fu;Zt?(ki=w&&co&&kn?g:qt.left,An=w?y:jn(Kt,bn,"before"),ho=w?g:jn(_n,bn,"after"),fu=w&&ei&&Cr?y:Rn.right):(ki=w?jn(Kt,bn,"before"):g,An=!w&&co&&kn?y:qt.right,ho=!w&&ei&&Cr?g:Rn.left,fu=w?jn(_n,bn,"after"):y),P(ki,qt.top,An-ki,qt.bottom),qt.bottom<Rn.top&&P(g,qt.bottom,null,Rn.top),P(ho,Rn.top,fu-ho,Rn.bottom)}(!Tt||$a(qt,Tt)<0)&&(Tt=qt),$a(Rn,Tt)<0&&(Tt=Rn),(!mn||$a(qt,mn)<0)&&(mn=qt),$a(Rn,mn)<0&&(mn=Rn)}),{start:Tt,end:mn}}var oe=r.from(),te=r.to();if(oe.line==te.line)G(oe.line,oe.ch,te.ch);else{var pe=Xe(u,oe.line),Ce=Xe(u,te.line),Oe=zn(pe)==zn(Ce),Ne=G(oe.line,oe.ch,Oe?pe.text.length+1:null).end,qe=G(te.line,Oe?0:null,te.ch).start;Oe&&(Ne.top<qe.top-2?(P(Ne.right,Ne.top,null,Ne.bottom),P(g,qe.top,qe.left,qe.bottom)):P(Ne.right,Ne.top,qe.left-Ne.right,Ne.bottom)),Ne.bottom<qe.top&&P(g,Ne.bottom,null,qe.top)}s.appendChild(d)}function Bl(t){if(t.state.focused){var r=t.display;clearInterval(r.blinker);var s=!0;r.cursorDiv.style.visibility="",t.options.cursorBlinkRate>0?r.blinker=setInterval(function(){t.hasFocus()||Qi(t),r.cursorDiv.style.visibility=(s=!s)?"":"hidden"},t.options.cursorBlinkRate):t.options.cursorBlinkRate<0&&(r.cursorDiv.style.visibility="hidden")}}function Ec(t){t.hasFocus()||(t.display.input.focus(),t.state.focused||Hl(t))}function Pl(t){t.state.delayingBlurEvent=!0,setTimeout(function(){t.state.delayingBlurEvent&&(t.state.delayingBlurEvent=!1,t.state.focused&&Qi(t))},100)}function Hl(t,r){t.state.delayingBlurEvent&&!t.state.draggingText&&(t.state.delayingBlurEvent=!1),t.options.readOnly!="nocursor"&&(t.state.focused||(Lt(t,"focus",t,r),t.state.focused=!0,N(t.display.wrapper,"CodeMirror-focused"),!t.curOp&&t.display.selForContextMenu!=t.doc.sel&&(t.display.input.reset(),v&&setTimeout(function(){return t.display.input.reset(!0)},20)),t.display.input.receivedFocus()),Bl(t))}function Qi(t,r){t.state.delayingBlurEvent||(t.state.focused&&(Lt(t,"blur",t,r),t.state.focused=!1,Z(t.display.wrapper,"CodeMirror-focused")),clearInterval(t.display.blinker),setTimeout(function(){t.state.focused||(t.display.shift=!1)},150))}function Ga(t){for(var r=t.display,s=r.lineDiv.offsetTop,a=Math.max(0,r.scroller.getBoundingClientRect().top),u=r.lineDiv.getBoundingClientRect().top,d=0,m=0;m<r.view.length;m++){var g=r.view[m],y=t.options.lineWrapping,w=void 0,P=0;if(!g.hidden){if(u+=g.line.height,c&&h<8){var G=g.node.offsetTop+g.node.offsetHeight;w=G-s,s=G}else{var oe=g.node.getBoundingClientRect();w=oe.bottom-oe.top,!y&&g.text.firstChild&&(P=g.text.firstChild.getBoundingClientRect().right-oe.left-1)}var te=g.line.height-w;if((te>.005||te<-.005)&&(u<a&&(d-=te),rr(g.line,w),Cc(g.line),g.rest))for(var pe=0;pe<g.rest.length;pe++)Cc(g.rest[pe]);if(P>t.display.sizerWidth){var Ce=Math.ceil(P/Ji(t.display));Ce>t.display.maxLineLength&&(t.display.maxLineLength=Ce,t.display.maxLine=g.line,t.display.maxLineChanged=!0)}}}Math.abs(d)>2&&(r.scroller.scrollTop+=d)}function Cc(t){if(t.widgets)for(var r=0;r<t.widgets.length;++r){var s=t.widgets[r],a=s.node.parentNode;a&&(s.height=a.offsetHeight)}}function Xa(t,r,s){var a=s&&s.top!=null?Math.max(0,s.top):t.scroller.scrollTop;a=Math.floor(a-Wa(t));var u=s&&s.bottom!=null?s.bottom:a+t.wrapper.clientHeight,d=Or(r,a),m=Or(r,u);if(s&&s.ensure){var g=s.ensure.from.line,y=s.ensure.to.line;g<d?(d=g,m=Or(r,Ir(Xe(r,g))+t.wrapper.clientHeight)):Math.min(y,r.lastLine())>=m&&(d=Or(r,Ir(Xe(r,y))-t.wrapper.clientHeight),m=y)}return{from:d,to:Math.max(m,d+1)}}function av(t,r){if(!dt(t,"scrollCursorIntoView")){var s=t.display,a=s.sizer.getBoundingClientRect(),u=null,d=s.wrapper.ownerDocument;if(r.top+a.top<0?u=!0:r.bottom+a.top>(d.defaultView.innerHeight||d.documentElement.clientHeight)&&(u=!1),u!=null&&!ne){var m=E("div","\u200B",null,`position: absolute;
                         top: `+(r.top-s.viewOffset-Wa(t.display))+`px;
                         height: `+(r.bottom-r.top+wr(t)+s.barHeight)+`px;
                         left: `+r.left+"px; width: "+Math.max(2,r.right-r.left)+"px;");t.display.lineSpace.appendChild(m),m.scrollIntoView(u),t.display.lineSpace.removeChild(m)}}}function sv(t,r,s,a){a==null&&(a=0);var u;!t.options.lineWrapping&&r==s&&(s=r.sticky=="before"?Le(r.line,r.ch+1,"before"):r,r=r.ch?Le(r.line,r.sticky=="before"?r.ch-1:r.ch,"after"):r);for(var d=0;d<5;d++){var m=!1,g=ur(t,r),y=!s||s==r?g:ur(t,s);u={left:Math.min(g.left,y.left),top:Math.min(g.top,y.top)-a,right:Math.max(g.left,y.left),bottom:Math.max(g.bottom,y.bottom)+a};var w=ql(t,u),P=t.doc.scrollTop,G=t.doc.scrollLeft;if(w.scrollTop!=null&&(Go(t,w.scrollTop),Math.abs(t.doc.scrollTop-P)>1&&(m=!0)),w.scrollLeft!=null&&(xi(t,w.scrollLeft),Math.abs(t.doc.scrollLeft-G)>1&&(m=!0)),!m)break}return u}function lv(t,r){var s=ql(t,r);s.scrollTop!=null&&Go(t,s.scrollTop),s.scrollLeft!=null&&xi(t,s.scrollLeft)}function ql(t,r){var s=t.display,a=Zi(t.display);r.top<0&&(r.top=0);var u=t.curOp&&t.curOp.scrollTop!=null?t.curOp.scrollTop:s.scroller.scrollTop,d=Sl(t),m={};r.bottom-r.top>d&&(r.bottom=r.top+d);var g=t.doc.height+Tl(s),y=r.top<a,w=r.bottom>g-a;if(r.top<u)m.scrollTop=y?0:r.top;else if(r.bottom>u+d){var P=Math.min(r.top,(w?g:r.bottom)-d);P!=u&&(m.scrollTop=P)}var G=t.options.fixedGutter?0:s.gutters.offsetWidth,oe=t.curOp&&t.curOp.scrollLeft!=null?t.curOp.scrollLeft:s.scroller.scrollLeft-G,te=mi(t)-s.gutters.offsetWidth,pe=r.right-r.left>te;return pe&&(r.right=r.left+te),r.left<10?m.scrollLeft=0:r.left<oe?m.scrollLeft=Math.max(0,r.left+G-(pe?0:10)):r.right>te+oe-3&&(m.scrollLeft=r.right+(pe?0:10)-te),m}function Wl(t,r){r!=null&&(Va(t),t.curOp.scrollTop=(t.curOp.scrollTop==null?t.doc.scrollTop:t.curOp.scrollTop)+r)}function eo(t){Va(t);var r=t.getCursor();t.curOp.scrollToPos={from:r,to:r,margin:t.options.cursorScrollMargin}}function $o(t,r,s){(r!=null||s!=null)&&Va(t),r!=null&&(t.curOp.scrollLeft=r),s!=null&&(t.curOp.scrollTop=s)}function uv(t,r){Va(t),t.curOp.scrollToPos=r}function Va(t){var r=t.curOp.scrollToPos;if(r){t.curOp.scrollToPos=null;var s=gc(t,r.from),a=gc(t,r.to);kc(t,s,a,r.margin)}}function kc(t,r,s,a){var u=ql(t,{left:Math.min(r.left,s.left),top:Math.min(r.top,s.top)-a,right:Math.max(r.right,s.right),bottom:Math.max(r.bottom,s.bottom)+a});$o(t,u.scrollLeft,u.scrollTop)}function Go(t,r){Math.abs(t.doc.scrollTop-r)<2||(i||Ul(t,{top:r}),Dc(t,r,!0),i&&Ul(t),Yo(t,100))}function Dc(t,r,s){r=Math.max(0,Math.min(t.display.scroller.scrollHeight-t.display.scroller.clientHeight,r)),!(t.display.scroller.scrollTop==r&&!s)&&(t.doc.scrollTop=r,t.display.scrollbars.setScrollTop(r),t.display.scroller.scrollTop!=r&&(t.display.scroller.scrollTop=r))}function xi(t,r,s,a){r=Math.max(0,Math.min(r,t.display.scroller.scrollWidth-t.display.scroller.clientWidth)),!((s?r==t.doc.scrollLeft:Math.abs(t.doc.scrollLeft-r)<2)&&!a)&&(t.doc.scrollLeft=r,Fc(t),t.display.scroller.scrollLeft!=r&&(t.display.scroller.scrollLeft=r),t.display.scrollbars.setScrollLeft(r))}function Xo(t){var r=t.display,s=r.gutters.offsetWidth,a=Math.round(t.doc.height+Tl(t.display));return{clientHeight:r.scroller.clientHeight,viewHeight:r.wrapper.clientHeight,scrollWidth:r.scroller.scrollWidth,clientWidth:r.scroller.clientWidth,viewWidth:r.wrapper.clientWidth,barLeft:t.options.fixedGutter?s:0,docHeight:a,scrollHeight:a+wr(t)+r.barHeight,nativeBarWidth:r.nativeBarWidth,gutterWidth:s}}var bi=function(t,r,s){this.cm=s;var a=this.vert=E("div",[E("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),u=this.horiz=E("div",[E("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");a.tabIndex=u.tabIndex=-1,t(a),t(u),Ve(a,"scroll",function(){a.clientHeight&&r(a.scrollTop,"vertical")}),Ve(u,"scroll",function(){u.clientWidth&&r(u.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};bi.prototype.update=function(t){var r=t.scrollWidth>t.clientWidth+1,s=t.scrollHeight>t.clientHeight+1,a=t.nativeBarWidth;if(s){this.vert.style.display="block",this.vert.style.bottom=r?a+"px":"0";var u=t.viewHeight-(r?a:0);this.vert.firstChild.style.height=Math.max(0,t.scrollHeight-t.clientHeight+u)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(r){this.horiz.style.display="block",this.horiz.style.right=s?a+"px":"0",this.horiz.style.left=t.barLeft+"px";var d=t.viewWidth-t.barLeft-(s?a:0);this.horiz.firstChild.style.width=Math.max(0,t.scrollWidth-t.clientWidth+d)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&t.clientHeight>0&&(a==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:s?a:0,bottom:r?a:0}},bi.prototype.setScrollLeft=function(t){this.horiz.scrollLeft!=t&&(this.horiz.scrollLeft=t),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},bi.prototype.setScrollTop=function(t){this.vert.scrollTop!=t&&(this.vert.scrollTop=t),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},bi.prototype.zeroWidthHack=function(){var t=ee&&!se?"12px":"18px";this.horiz.style.height=this.vert.style.width=t,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Pe,this.disableVert=new Pe},bi.prototype.enableZeroWidthBar=function(t,r,s){t.style.visibility="";function a(){var u=t.getBoundingClientRect(),d=s=="vert"?document.elementFromPoint(u.right-1,(u.top+u.bottom)/2):document.elementFromPoint((u.right+u.left)/2,u.bottom-1);d!=t?t.style.visibility="hidden":r.set(1e3,a)}r.set(1e3,a)},bi.prototype.clear=function(){var t=this.horiz.parentNode;t.removeChild(this.horiz),t.removeChild(this.vert)};var Vo=function(){};Vo.prototype.update=function(){return{bottom:0,right:0}},Vo.prototype.setScrollLeft=function(){},Vo.prototype.setScrollTop=function(){},Vo.prototype.clear=function(){};function to(t,r){r||(r=Xo(t));var s=t.display.barWidth,a=t.display.barHeight;Tc(t,r);for(var u=0;u<4&&s!=t.display.barWidth||a!=t.display.barHeight;u++)s!=t.display.barWidth&&t.options.lineWrapping&&Ga(t),Tc(t,Xo(t)),s=t.display.barWidth,a=t.display.barHeight}function Tc(t,r){var s=t.display,a=s.scrollbars.update(r);s.sizer.style.paddingRight=(s.barWidth=a.right)+"px",s.sizer.style.paddingBottom=(s.barHeight=a.bottom)+"px",s.heightForcer.style.borderBottom=a.bottom+"px solid transparent",a.right&&a.bottom?(s.scrollbarFiller.style.display="block",s.scrollbarFiller.style.height=a.bottom+"px",s.scrollbarFiller.style.width=a.right+"px"):s.scrollbarFiller.style.display="",a.bottom&&t.options.coverGutterNextToScrollbar&&t.options.fixedGutter?(s.gutterFiller.style.display="block",s.gutterFiller.style.height=a.bottom+"px",s.gutterFiller.style.width=r.gutterWidth+"px"):s.gutterFiller.style.display=""}var Sc={native:bi,null:Vo};function Ac(t){t.display.scrollbars&&(t.display.scrollbars.clear(),t.display.scrollbars.addClass&&Z(t.display.wrapper,t.display.scrollbars.addClass)),t.display.scrollbars=new Sc[t.options.scrollbarStyle](function(r){t.display.wrapper.insertBefore(r,t.display.scrollbarFiller),Ve(r,"mousedown",function(){t.state.focused&&setTimeout(function(){return t.display.input.focus()},0)}),r.setAttribute("cm-not-content","true")},function(r,s){s=="horizontal"?xi(t,r):Go(t,r)},t),t.display.scrollbars.addClass&&N(t.display.wrapper,t.display.scrollbars.addClass)}var fv=0;function wi(t){t.curOp={cm:t,viewChanged:!1,startHeight:t.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++fv,markArrays:null},Wg(t.curOp)}function Ei(t){var r=t.curOp;r&&Ug(r,function(s){for(var a=0;a<s.ops.length;a++)s.ops[a].cm.curOp=null;cv(s)})}function cv(t){for(var r=t.ops,s=0;s<r.length;s++)dv(r[s]);for(var a=0;a<r.length;a++)hv(r[a]);for(var u=0;u<r.length;u++)pv(r[u]);for(var d=0;d<r.length;d++)mv(r[d]);for(var m=0;m<r.length;m++)gv(r[m])}function dv(t){var r=t.cm,s=r.display;yv(r),t.updateMaxLine&&kl(r),t.mustUpdate=t.viewChanged||t.forceUpdate||t.scrollTop!=null||t.scrollToPos&&(t.scrollToPos.from.line<s.viewFrom||t.scrollToPos.to.line>=s.viewTo)||s.maxLineChanged&&r.options.lineWrapping,t.update=t.mustUpdate&&new Ya(r,t.mustUpdate&&{top:t.scrollTop,ensure:t.scrollToPos},t.forceUpdate)}function hv(t){t.updatedDisplay=t.mustUpdate&&zl(t.cm,t.update)}function pv(t){var r=t.cm,s=r.display;t.updatedDisplay&&Ga(r),t.barMeasure=Xo(r),s.maxLineChanged&&!r.options.lineWrapping&&(t.adjustWidthTo=lc(r,s.maxLine,s.maxLine.text.length).left+3,r.display.sizerWidth=t.adjustWidthTo,t.barMeasure.scrollWidth=Math.max(s.scroller.clientWidth,s.sizer.offsetLeft+t.adjustWidthTo+wr(r)+r.display.barWidth),t.maxScrollLeft=Math.max(0,s.sizer.offsetLeft+t.adjustWidthTo-mi(r))),(t.updatedDisplay||t.selectionChanged)&&(t.preparedSelection=s.input.prepareSelection())}function mv(t){var r=t.cm;t.adjustWidthTo!=null&&(r.display.sizer.style.minWidth=t.adjustWidthTo+"px",t.maxScrollLeft<r.doc.scrollLeft&&xi(r,Math.min(r.display.scroller.scrollLeft,t.maxScrollLeft),!0),r.display.maxLineChanged=!1);var s=t.focus&&t.focus==V(ae(r));t.preparedSelection&&r.display.input.showSelection(t.preparedSelection,s),(t.updatedDisplay||t.startHeight!=r.doc.height)&&to(r,t.barMeasure),t.updatedDisplay&&$l(r,t.barMeasure),t.selectionChanged&&Bl(r),r.state.focused&&t.updateInput&&r.display.input.reset(t.typing),s&&Ec(t.cm)}function gv(t){var r=t.cm,s=r.display,a=r.doc;if(t.updatedDisplay&&Lc(r,t.update),s.wheelStartX!=null&&(t.scrollTop!=null||t.scrollLeft!=null||t.scrollToPos)&&(s.wheelStartX=s.wheelStartY=null),t.scrollTop!=null&&Dc(r,t.scrollTop,t.forceScroll),t.scrollLeft!=null&&xi(r,t.scrollLeft,!0,!0),t.scrollToPos){var u=sv(r,tt(a,t.scrollToPos.from),tt(a,t.scrollToPos.to),t.scrollToPos.margin);av(r,u)}var d=t.maybeHiddenMarkers,m=t.maybeUnhiddenMarkers;if(d)for(var g=0;g<d.length;++g)d[g].lines.length||Lt(d[g],"hide");if(m)for(var y=0;y<m.length;++y)m[y].lines.length&&Lt(m[y],"unhide");s.wrapper.offsetHeight&&(a.scrollTop=r.display.scroller.scrollTop),t.changeObjs&&Lt(r,"changes",r,t.changeObjs),t.update&&t.update.finish()}function Un(t,r){if(t.curOp)return r();wi(t);try{return r()}finally{Ei(t)}}function hn(t,r){return function(){if(t.curOp)return r.apply(t,arguments);wi(t);try{return r.apply(t,arguments)}finally{Ei(t)}}}function Sn(t){return function(){if(this.curOp)return t.apply(this,arguments);wi(this);try{return t.apply(this,arguments)}finally{Ei(this)}}}function pn(t){return function(){var r=this.cm;if(!r||r.curOp)return t.apply(this,arguments);wi(r);try{return t.apply(this,arguments)}finally{Ei(r)}}}function Yo(t,r){t.doc.highlightFrontier<t.display.viewTo&&t.state.highlight.set(r,Fe(vv,t))}function vv(t){var r=t.doc;if(!(r.highlightFrontier>=t.display.viewTo)){var s=+new Date+t.options.workTime,a=re(t,r.highlightFrontier),u=[];r.iter(a.line,Math.min(r.first+r.size,t.display.viewTo+500),function(d){if(a.line>=t.display.viewFrom){var m=d.styles,g=d.text.length>t.options.maxHighlightLength?nr(r.mode,a.state):null,y=ie(t,d,a,!0);g&&(a.state=g),d.styles=y.styles;var w=d.styleClasses,P=y.classes;P?d.styleClasses=P:w&&(d.styleClasses=null);for(var G=!m||m.length!=d.styles.length||w!=P&&(!w||!P||w.bgClass!=P.bgClass||w.textClass!=P.textClass),oe=0;!G&&oe<m.length;++oe)G=m[oe]!=d.styles[oe];G&&u.push(a.line),d.stateAfter=a.save(),a.nextLine()}else d.text.length<=t.options.maxHighlightLength&&ge(t,d.text,a),d.stateAfter=a.line%5==0?a.save():null,a.nextLine();if(+new Date>s)return Yo(t,t.options.workDelay),!0}),r.highlightFrontier=a.line,r.modeFrontier=Math.max(r.modeFrontier,a.line),u.length&&Un(t,function(){for(var d=0;d<u.length;d++)Xr(t,u[d],"text")})}}var Ya=function(t,r,s){var a=t.display;this.viewport=r,this.visible=Xa(a,t.doc,r),this.editorIsHidden=!a.wrapper.offsetWidth,this.wrapperHeight=a.wrapper.clientHeight,this.wrapperWidth=a.wrapper.clientWidth,this.oldDisplayWidth=mi(t),this.force=s,this.dims=Il(t),this.events=[]};Ya.prototype.signal=function(t,r){rt(t,r)&&this.events.push(arguments)},Ya.prototype.finish=function(){for(var t=0;t<this.events.length;t++)Lt.apply(null,this.events[t])};function yv(t){var r=t.display;!r.scrollbarsClipped&&r.scroller.offsetWidth&&(r.nativeBarWidth=r.scroller.offsetWidth-r.scroller.clientWidth,r.heightForcer.style.height=wr(t)+"px",r.sizer.style.marginBottom=-r.nativeBarWidth+"px",r.sizer.style.borderRightWidth=wr(t)+"px",r.scrollbarsClipped=!0)}function xv(t){if(t.hasFocus())return null;var r=V(ae(t));if(!r||!H(t.display.lineDiv,r))return null;var s={activeElt:r};if(window.getSelection){var a=de(t).getSelection();a.anchorNode&&a.extend&&H(t.display.lineDiv,a.anchorNode)&&(s.anchorNode=a.anchorNode,s.anchorOffset=a.anchorOffset,s.focusNode=a.focusNode,s.focusOffset=a.focusOffset)}return s}function bv(t){if(!(!t||!t.activeElt||t.activeElt==V(me(t.activeElt)))&&(t.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(t.activeElt.nodeName)&&t.anchorNode&&H(document.body,t.anchorNode)&&H(document.body,t.focusNode))){var r=t.activeElt.ownerDocument,s=r.defaultView.getSelection(),a=r.createRange();a.setEnd(t.anchorNode,t.anchorOffset),a.collapse(!1),s.removeAllRanges(),s.addRange(a),s.extend(t.focusNode,t.focusOffset)}}function zl(t,r){var s=t.display,a=t.doc;if(r.editorIsHidden)return Vr(t),!1;if(!r.force&&r.visible.from>=s.viewFrom&&r.visible.to<=s.viewTo&&(s.updateLineNumbers==null||s.updateLineNumbers>=s.viewTo)&&s.renderedView==s.view&&bc(t)==0)return!1;Oc(t)&&(Vr(t),r.dims=Il(t));var u=a.first+a.size,d=Math.max(r.visible.from-t.options.viewportMargin,a.first),m=Math.min(u,r.visible.to+t.options.viewportMargin);s.viewFrom<d&&d-s.viewFrom<20&&(d=Math.max(a.first,s.viewFrom)),s.viewTo>m&&s.viewTo-m<20&&(m=Math.min(u,s.viewTo)),kt&&(d=El(t.doc,d),m=Kf(t.doc,m));var g=d!=s.viewFrom||m!=s.viewTo||s.lastWrapHeight!=r.wrapperHeight||s.lastWrapWidth!=r.wrapperWidth;iv(t,d,m),s.viewOffset=Ir(Xe(t.doc,s.viewFrom)),t.display.mover.style.top=s.viewOffset+"px";var y=bc(t);if(!g&&y==0&&!r.force&&s.renderedView==s.view&&(s.updateLineNumbers==null||s.updateLineNumbers>=s.viewTo))return!1;var w=xv(t);return y>4&&(s.lineDiv.style.display="none"),wv(t,s.updateLineNumbers,r.dims),y>4&&(s.lineDiv.style.display=""),s.renderedView=s.view,bv(w),x(s.cursorDiv),x(s.selectionDiv),s.gutters.style.height=s.sizer.style.minHeight=0,g&&(s.lastWrapHeight=r.wrapperHeight,s.lastWrapWidth=r.wrapperWidth,Yo(t,400)),s.updateLineNumbers=null,!0}function Lc(t,r){for(var s=r.viewport,a=!0;;a=!1){if(!a||!t.options.lineWrapping||r.oldDisplayWidth==mi(t)){if(s&&s.top!=null&&(s={top:Math.min(t.doc.height+Tl(t.display)-Sl(t),s.top)}),r.visible=Xa(t.display,t.doc,s),r.visible.from>=t.display.viewFrom&&r.visible.to<=t.display.viewTo)break}else a&&(r.visible=Xa(t.display,t.doc,s));if(!zl(t,r))break;Ga(t);var u=Xo(t);jo(t),to(t,u),$l(t,u),r.force=!1}r.signal(t,"update",t),(t.display.viewFrom!=t.display.reportedViewFrom||t.display.viewTo!=t.display.reportedViewTo)&&(r.signal(t,"viewportChange",t,t.display.viewFrom,t.display.viewTo),t.display.reportedViewFrom=t.display.viewFrom,t.display.reportedViewTo=t.display.viewTo)}function Ul(t,r){var s=new Ya(t,r);if(zl(t,s)){Ga(t),Lc(t,s);var a=Xo(t);jo(t),to(t,a),$l(t,a),s.finish()}}function wv(t,r,s){var a=t.display,u=t.options.lineNumbers,d=a.lineDiv,m=d.firstChild;function g(pe){var Ce=pe.nextSibling;return v&&ee&&t.display.currentWheelTarget==pe?pe.style.display="none":pe.parentNode.removeChild(pe),Ce}for(var y=a.view,w=a.viewFrom,P=0;P<y.length;P++){var G=y[P];if(!G.hidden)if(!G.node||G.node.parentNode!=d){var oe=Vg(t,G,w,s);d.insertBefore(oe,m)}else{for(;m!=G.node;)m=g(m);var te=u&&r!=null&&r<=w&&G.lineNumber;G.changes&&(S(G.changes,"gutter")>-1&&(te=!1),tc(t,G,w,s)),te&&(x(G.lineNumber),G.lineNumber.appendChild(document.createTextNode(No(t.options,w)))),m=G.node.nextSibling}w+=G.size}for(;m;)m=g(m)}function jl(t){var r=t.gutters.offsetWidth;t.sizer.style.marginLeft=r+"px",dn(t,"gutterChanged",t)}function $l(t,r){t.display.sizer.style.minHeight=r.docHeight+"px",t.display.heightForcer.style.top=r.docHeight+"px",t.display.gutters.style.height=r.docHeight+t.display.barHeight+wr(t)+"px"}function Fc(t){var r=t.display,s=r.view;if(!(!r.alignWidgets&&(!r.gutters.firstChild||!t.options.fixedGutter))){for(var a=_l(r)-r.scroller.scrollLeft+t.doc.scrollLeft,u=r.gutters.offsetWidth,d=a+"px",m=0;m<s.length;m++)if(!s[m].hidden){t.options.fixedGutter&&(s[m].gutter&&(s[m].gutter.style.left=d),s[m].gutterBackground&&(s[m].gutterBackground.style.left=d));var g=s[m].alignable;if(g)for(var y=0;y<g.length;y++)g[y].style.left=d}t.options.fixedGutter&&(r.gutters.style.left=a+u+"px")}}function Oc(t){if(!t.options.lineNumbers)return!1;var r=t.doc,s=No(t.options,r.first+r.size-1),a=t.display;if(s.length!=a.lineNumChars){var u=a.measure.appendChild(E("div",[E("div",s)],"CodeMirror-linenumber CodeMirror-gutter-elt")),d=u.firstChild.offsetWidth,m=u.offsetWidth-d;return a.lineGutter.style.width="",a.lineNumInnerWidth=Math.max(d,a.lineGutter.offsetWidth-m)+1,a.lineNumWidth=a.lineNumInnerWidth+m,a.lineNumChars=a.lineNumInnerWidth?s.length:-1,a.lineGutter.style.width=a.lineNumWidth+"px",jl(t.display),!0}return!1}function Gl(t,r){for(var s=[],a=!1,u=0;u<t.length;u++){var d=t[u],m=null;if(typeof d!="string"&&(m=d.style,d=d.className),d=="CodeMirror-linenumbers")if(r)a=!0;else continue;s.push({className:d,style:m})}return r&&!a&&s.push({className:"CodeMirror-linenumbers",style:null}),s}function Mc(t){var r=t.gutters,s=t.gutterSpecs;x(r),t.lineGutter=null;for(var a=0;a<s.length;++a){var u=s[a],d=u.className,m=u.style,g=r.appendChild(E("div",null,"CodeMirror-gutter "+d));m&&(g.style.cssText=m),d=="CodeMirror-linenumbers"&&(t.lineGutter=g,g.style.width=(t.lineNumWidth||1)+"px")}r.style.display=s.length?"":"none",jl(t)}function Ko(t){Mc(t.display),On(t),Fc(t)}function Ev(t,r,s,a){var u=this;this.input=s,u.scrollbarFiller=E("div",null,"CodeMirror-scrollbar-filler"),u.scrollbarFiller.setAttribute("cm-not-content","true"),u.gutterFiller=E("div",null,"CodeMirror-gutter-filler"),u.gutterFiller.setAttribute("cm-not-content","true"),u.lineDiv=_("div",null,"CodeMirror-code"),u.selectionDiv=E("div",null,null,"position: relative; z-index: 1"),u.cursorDiv=E("div",null,"CodeMirror-cursors"),u.measure=E("div",null,"CodeMirror-measure"),u.lineMeasure=E("div",null,"CodeMirror-measure"),u.lineSpace=_("div",[u.measure,u.lineMeasure,u.selectionDiv,u.cursorDiv,u.lineDiv],null,"position: relative; outline: none");var d=_("div",[u.lineSpace],"CodeMirror-lines");u.mover=E("div",[d],null,"position: relative"),u.sizer=E("div",[u.mover],"CodeMirror-sizer"),u.sizerWidth=null,u.heightForcer=E("div",null,null,"position: absolute; height: "+F+"px; width: 1px;"),u.gutters=E("div",null,"CodeMirror-gutters"),u.lineGutter=null,u.scroller=E("div",[u.sizer,u.heightForcer,u.gutters],"CodeMirror-scroll"),u.scroller.setAttribute("tabIndex","-1"),u.wrapper=E("div",[u.scrollbarFiller,u.gutterFiller,u.scroller],"CodeMirror"),O&&z>=105&&(u.wrapper.style.clipPath="inset(0px)"),u.wrapper.setAttribute("translate","no"),c&&h<8&&(u.gutters.style.zIndex=-1,u.scroller.style.paddingRight=0),!v&&!(i&&ue)&&(u.scroller.draggable=!0),t&&(t.appendChild?t.appendChild(u.wrapper):t(u.wrapper)),u.viewFrom=u.viewTo=r.first,u.reportedViewFrom=u.reportedViewTo=r.first,u.view=[],u.renderedView=null,u.externalMeasured=null,u.viewOffset=0,u.lastWrapHeight=u.lastWrapWidth=0,u.updateLineNumbers=null,u.nativeBarWidth=u.barHeight=u.barWidth=0,u.scrollbarsClipped=!1,u.lineNumWidth=u.lineNumInnerWidth=u.lineNumChars=null,u.alignWidgets=!1,u.cachedCharWidth=u.cachedTextHeight=u.cachedPaddingH=null,u.maxLine=null,u.maxLineLength=0,u.maxLineChanged=!1,u.wheelDX=u.wheelDY=u.wheelStartX=u.wheelStartY=null,u.shift=!1,u.selForContextMenu=null,u.activeTouch=null,u.gutterSpecs=Gl(a.gutters,a.lineNumbers),Mc(u),s.init(u)}var Ka=0,Rr=null;c?Rr=-.53:i?Rr=15:O?Rr=-.7:J&&(Rr=-1/3);function Ic(t){var r=t.wheelDeltaX,s=t.wheelDeltaY;return r==null&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(r=t.detail),s==null&&t.detail&&t.axis==t.VERTICAL_AXIS?s=t.detail:s==null&&(s=t.wheelDelta),{x:r,y:s}}function Cv(t){var r=Ic(t);return r.x*=Rr,r.y*=Rr,r}function _c(t,r){O&&z==102&&(t.display.chromeScrollHack==null?t.display.sizer.style.pointerEvents="none":clearTimeout(t.display.chromeScrollHack),t.display.chromeScrollHack=setTimeout(function(){t.display.chromeScrollHack=null,t.display.sizer.style.pointerEvents=""},100));var s=Ic(r),a=s.x,u=s.y,d=Rr;r.deltaMode===0&&(a=r.deltaX,u=r.deltaY,d=1);var m=t.display,g=m.scroller,y=g.scrollWidth>g.clientWidth,w=g.scrollHeight>g.clientHeight;if(a&&y||u&&w){if(u&&ee&&v){e:for(var P=r.target,G=m.view;P!=g;P=P.parentNode)for(var oe=0;oe<G.length;oe++)if(G[oe].node==P){t.display.currentWheelTarget=P;break e}}if(a&&!i&&!$&&d!=null){u&&w&&Go(t,Math.max(0,g.scrollTop+u*d)),xi(t,Math.max(0,g.scrollLeft+a*d)),(!u||u&&w)&&Ge(r),m.wheelStartX=null;return}if(u&&d!=null){var te=u*d,pe=t.doc.scrollTop,Ce=pe+m.wrapper.clientHeight;te<0?pe=Math.max(0,pe+te-50):Ce=Math.min(t.doc.height,Ce+te+50),Ul(t,{top:pe,bottom:Ce})}Ka<20&&r.deltaMode!==0&&(m.wheelStartX==null?(m.wheelStartX=g.scrollLeft,m.wheelStartY=g.scrollTop,m.wheelDX=a,m.wheelDY=u,setTimeout(function(){if(m.wheelStartX!=null){var Oe=g.scrollLeft-m.wheelStartX,Ne=g.scrollTop-m.wheelStartY,qe=Ne&&m.wheelDY&&Ne/m.wheelDY||Oe&&m.wheelDX&&Oe/m.wheelDX;m.wheelStartX=m.wheelStartY=null,qe&&(Rr=(Rr*Ka+qe)/(Ka+1),++Ka)}},200)):(m.wheelDX+=a,m.wheelDY+=u))}}var Yn=function(t,r){this.ranges=t,this.primIndex=r};Yn.prototype.primary=function(){return this.ranges[this.primIndex]},Yn.prototype.equals=function(t){if(t==this)return!0;if(t.primIndex!=this.primIndex||t.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var s=this.ranges[r],a=t.ranges[r];if(!Bo(s.anchor,a.anchor)||!Bo(s.head,a.head))return!1}return!0},Yn.prototype.deepCopy=function(){for(var t=[],r=0;r<this.ranges.length;r++)t[r]=new wt(Po(this.ranges[r].anchor),Po(this.ranges[r].head));return new Yn(t,this.primIndex)},Yn.prototype.somethingSelected=function(){for(var t=0;t<this.ranges.length;t++)if(!this.ranges[t].empty())return!0;return!1},Yn.prototype.contains=function(t,r){r||(r=t);for(var s=0;s<this.ranges.length;s++){var a=this.ranges[s];if(nt(r,a.from())>=0&&nt(t,a.to())<=0)return s}return-1};var wt=function(t,r){this.anchor=t,this.head=r};wt.prototype.from=function(){return $i(this.anchor,this.head)},wt.prototype.to=function(){return ji(this.anchor,this.head)},wt.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function fr(t,r,s){var a=t&&t.options.selectionsMayTouch,u=r[s];r.sort(function(oe,te){return nt(oe.from(),te.from())}),s=S(r,u);for(var d=1;d<r.length;d++){var m=r[d],g=r[d-1],y=nt(g.to(),m.from());if(a&&!m.empty()?y>0:y>=0){var w=$i(g.from(),m.from()),P=ji(g.to(),m.to()),G=g.empty()?m.from()==m.head:g.from()==g.head;d<=s&&--s,r.splice(--d,2,new wt(G?P:w,G?w:P))}}return new Yn(r,s)}function Yr(t,r){return new Yn([new wt(t,r||t)],0)}function Kr(t){return t.text?Le(t.from.line+t.text.length-1,U(t.text).length+(t.text.length==1?t.from.ch:0)):t.to}function Rc(t,r){if(nt(t,r.from)<0)return t;if(nt(t,r.to)<=0)return Kr(r);var s=t.line+r.text.length-(r.to.line-r.from.line)-1,a=t.ch;return t.line==r.to.line&&(a+=Kr(r).ch-r.to.ch),Le(s,a)}function Xl(t,r){for(var s=[],a=0;a<t.sel.ranges.length;a++){var u=t.sel.ranges[a];s.push(new wt(Rc(u.anchor,r),Rc(u.head,r)))}return fr(t.cm,s,t.sel.primIndex)}function Nc(t,r,s){return t.line==r.line?Le(s.line,t.ch-r.ch+s.ch):Le(s.line+(t.line-r.line),t.ch)}function kv(t,r,s){for(var a=[],u=Le(t.first,0),d=u,m=0;m<r.length;m++){var g=r[m],y=Nc(g.from,u,d),w=Nc(Kr(g),u,d);if(u=g.to,d=w,s=="around"){var P=t.sel.ranges[m],G=nt(P.head,P.anchor)<0;a[m]=new wt(G?w:y,G?y:w)}else a[m]=new wt(y,y)}return new Yn(a,t.sel.primIndex)}function Vl(t){t.doc.mode=Ui(t.options,t.doc.modeOption),Zo(t)}function Zo(t){t.doc.iter(function(r){r.stateAfter&&(r.stateAfter=null),r.styles&&(r.styles=null)}),t.doc.modeFrontier=t.doc.highlightFrontier=t.doc.first,Yo(t,100),t.state.modeGen++,t.curOp&&On(t)}function Bc(t,r){return r.from.ch==0&&r.to.ch==0&&U(r.text)==""&&(!t.cm||t.cm.options.wholeLineUpdateBefore)}function Yl(t,r,s,a){function u(qe){return s?s[qe]:null}function d(qe,Be,Ue){Mg(qe,Be,Ue,a),dn(qe,"change",qe,r)}function m(qe,Be){for(var Ue=[],Ze=qe;Ze<Be;++Ze)Ue.push(new Vi(w[Ze],u(Ze),a));return Ue}var g=r.from,y=r.to,w=r.text,P=Xe(t,g.line),G=Xe(t,y.line),oe=U(w),te=u(w.length-1),pe=y.line-g.line;if(r.full)t.insert(0,m(0,w.length)),t.remove(w.length,t.size-w.length);else if(Bc(t,r)){var Ce=m(0,w.length-1);d(G,G.text,te),pe&&t.remove(g.line,pe),Ce.length&&t.insert(g.line,Ce)}else if(P==G)if(w.length==1)d(P,P.text.slice(0,g.ch)+oe+P.text.slice(y.ch),te);else{var Oe=m(1,w.length-1);Oe.push(new Vi(oe+P.text.slice(y.ch),te,a)),d(P,P.text.slice(0,g.ch)+w[0],u(0)),t.insert(g.line+1,Oe)}else if(w.length==1)d(P,P.text.slice(0,g.ch)+w[0]+G.text.slice(y.ch),u(0)),t.remove(g.line+1,pe);else{d(P,P.text.slice(0,g.ch)+w[0],u(0)),d(G,oe+G.text.slice(y.ch),te);var Ne=m(1,w.length-1);pe>1&&t.remove(g.line+1,pe-1),t.insert(g.line+1,Ne)}dn(t,"change",t,r)}function Zr(t,r,s){function a(u,d,m){if(u.linked)for(var g=0;g<u.linked.length;++g){var y=u.linked[g];if(y.doc!=d){var w=m&&y.sharedHist;s&&!w||(r(y.doc,w),a(y.doc,u,w))}}}a(t,null,!0)}function Pc(t,r){if(r.cm)throw new Error("This document is already in use.");t.doc=r,r.cm=t,Rl(t),Vl(t),Hc(t),t.options.direction=r.direction,t.options.lineWrapping||kl(t),t.options.mode=r.modeOption,On(t)}function Hc(t){(t.doc.direction=="rtl"?N:Z)(t.display.lineDiv,"CodeMirror-rtl")}function Dv(t){Un(t,function(){Hc(t),On(t)})}function Za(t){this.done=[],this.undone=[],this.undoDepth=t?t.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=t?t.maxGeneration:1}function Kl(t,r){var s={from:Po(r.from),to:Kr(r),text:xr(t,r.from,r.to)};return zc(t,s,r.from.line,r.to.line+1),Zr(t,function(a){return zc(a,s,r.from.line,r.to.line+1)},!0),s}function qc(t){for(;t.length;){var r=U(t);if(r.ranges)t.pop();else break}}function Tv(t,r){if(r)return qc(t.done),U(t.done);if(t.done.length&&!U(t.done).ranges)return U(t.done);if(t.done.length>1&&!t.done[t.done.length-2].ranges)return t.done.pop(),U(t.done)}function Wc(t,r,s,a){var u=t.history;u.undone.length=0;var d=+new Date,m,g;if((u.lastOp==a||u.lastOrigin==r.origin&&r.origin&&(r.origin.charAt(0)=="+"&&u.lastModTime>d-(t.cm?t.cm.options.historyEventDelay:500)||r.origin.charAt(0)=="*"))&&(m=Tv(u,u.lastOp==a)))g=U(m.changes),nt(r.from,r.to)==0&&nt(r.from,g.to)==0?g.to=Kr(r):m.changes.push(Kl(t,r));else{var y=U(u.done);for((!y||!y.ranges)&&Ja(t.sel,u.done),m={changes:[Kl(t,r)],generation:u.generation},u.done.push(m);u.done.length>u.undoDepth;)u.done.shift(),u.done[0].ranges||u.done.shift()}u.done.push(s),u.generation=++u.maxGeneration,u.lastModTime=u.lastSelTime=d,u.lastOp=u.lastSelOp=a,u.lastOrigin=u.lastSelOrigin=r.origin,g||Lt(t,"historyAdded")}function Sv(t,r,s,a){var u=r.charAt(0);return u=="*"||u=="+"&&s.ranges.length==a.ranges.length&&s.somethingSelected()==a.somethingSelected()&&new Date-t.history.lastSelTime<=(t.cm?t.cm.options.historyEventDelay:500)}function Av(t,r,s,a){var u=t.history,d=a&&a.origin;s==u.lastSelOp||d&&u.lastSelOrigin==d&&(u.lastModTime==u.lastSelTime&&u.lastOrigin==d||Sv(t,d,U(u.done),r))?u.done[u.done.length-1]=r:Ja(r,u.done),u.lastSelTime=+new Date,u.lastSelOrigin=d,u.lastSelOp=s,a&&a.clearRedo!==!1&&qc(u.undone)}function Ja(t,r){var s=U(r);s&&s.ranges&&s.equals(t)||r.push(t)}function zc(t,r,s,a){var u=r["spans_"+t.id],d=0;t.iter(Math.max(t.first,s),Math.min(t.first+t.size,a),function(m){m.markedSpans&&((u||(u=r["spans_"+t.id]={}))[d]=m.markedSpans),++d})}function Lv(t){if(!t)return null;for(var r,s=0;s<t.length;++s)t[s].marker.explicitlyCleared?r||(r=t.slice(0,s)):r&&r.push(t[s]);return r?r.length?r:null:t}function Fv(t,r){var s=r["spans_"+t.id];if(!s)return null;for(var a=[],u=0;u<r.text.length;++u)a.push(Lv(s[u]));return a}function Uc(t,r){var s=Fv(t,r),a=Xn(t,r);if(!s)return a;if(!a)return s;for(var u=0;u<s.length;++u){var d=s[u],m=a[u];if(d&&m)e:for(var g=0;g<m.length;++g){for(var y=m[g],w=0;w<d.length;++w)if(d[w].marker==y.marker)continue e;d.push(y)}else m&&(s[u]=m)}return s}function no(t,r,s){for(var a=[],u=0;u<t.length;++u){var d=t[u];if(d.ranges){a.push(s?Yn.prototype.deepCopy.call(d):d);continue}var m=d.changes,g=[];a.push({changes:g});for(var y=0;y<m.length;++y){var w=m[y],P=void 0;if(g.push({from:w.from,to:w.to,text:w.text}),r)for(var G in w)(P=G.match(/^spans_(\d+)$/))&&S(r,Number(P[1]))>-1&&(U(g)[G]=w[G],delete w[G])}}return a}function Zl(t,r,s,a){if(a){var u=t.anchor;if(s){var d=nt(r,u)<0;d!=nt(s,u)<0?(u=r,r=s):d!=nt(r,s)<0&&(r=s)}return new wt(u,r)}else return new wt(s||r,r)}function Qa(t,r,s,a,u){u==null&&(u=t.cm&&(t.cm.display.shift||t.extend)),Cn(t,new Yn([Zl(t.sel.primary(),r,s,u)],0),a)}function jc(t,r,s){for(var a=[],u=t.cm&&(t.cm.display.shift||t.extend),d=0;d<t.sel.ranges.length;d++)a[d]=Zl(t.sel.ranges[d],r[d],null,u);var m=fr(t.cm,a,t.sel.primIndex);Cn(t,m,s)}function Jl(t,r,s,a){var u=t.sel.ranges.slice(0);u[r]=s,Cn(t,fr(t.cm,u,t.sel.primIndex),a)}function $c(t,r,s,a){Cn(t,Yr(r,s),a)}function Ov(t,r,s){var a={ranges:r.ranges,update:function(u){this.ranges=[];for(var d=0;d<u.length;d++)this.ranges[d]=new wt(tt(t,u[d].anchor),tt(t,u[d].head))},origin:s&&s.origin};return Lt(t,"beforeSelectionChange",t,a),t.cm&&Lt(t.cm,"beforeSelectionChange",t.cm,a),a.ranges!=r.ranges?fr(t.cm,a.ranges,a.ranges.length-1):r}function Gc(t,r,s){var a=t.history.done,u=U(a);u&&u.ranges?(a[a.length-1]=r,es(t,r,s)):Cn(t,r,s)}function Cn(t,r,s){es(t,r,s),Av(t,t.sel,t.cm?t.cm.curOp.id:NaN,s)}function es(t,r,s){(rt(t,"beforeSelectionChange")||t.cm&&rt(t.cm,"beforeSelectionChange"))&&(r=Ov(t,r,s));var a=s&&s.bias||(nt(r.primary().head,t.sel.primary().head)<0?-1:1);Xc(t,Yc(t,r,a,!0)),!(s&&s.scroll===!1)&&t.cm&&t.cm.getOption("readOnly")!="nocursor"&&eo(t.cm)}function Xc(t,r){r.equals(t.sel)||(t.sel=r,t.cm&&(t.cm.curOp.updateInput=1,t.cm.curOp.selectionChanged=!0,at(t.cm)),dn(t,"cursorActivity",t))}function Vc(t){Xc(t,Yc(t,t.sel,null,!1))}function Yc(t,r,s,a){for(var u,d=0;d<r.ranges.length;d++){var m=r.ranges[d],g=r.ranges.length==t.sel.ranges.length&&t.sel.ranges[d],y=ts(t,m.anchor,g&&g.anchor,s,a),w=m.head==m.anchor?y:ts(t,m.head,g&&g.head,s,a);(u||y!=m.anchor||w!=m.head)&&(u||(u=r.ranges.slice(0,d)),u[d]=new wt(y,w))}return u?fr(t.cm,u,r.primIndex):r}function ro(t,r,s,a,u){var d=Xe(t,r.line);if(d.markedSpans)for(var m=0;m<d.markedSpans.length;++m){var g=d.markedSpans[m],y=g.marker,w="selectLeft"in y?!y.selectLeft:y.inclusiveLeft,P="selectRight"in y?!y.selectRight:y.inclusiveRight;if((g.from==null||(w?g.from<=r.ch:g.from<r.ch))&&(g.to==null||(P?g.to>=r.ch:g.to>r.ch))){if(u&&(Lt(y,"beforeCursorEnter"),y.explicitlyCleared))if(d.markedSpans){--m;continue}else break;if(!y.atomic)continue;if(s){var G=y.find(a<0?1:-1),oe=void 0;if((a<0?P:w)&&(G=Kc(t,G,-a,G&&G.line==r.line?d:null)),G&&G.line==r.line&&(oe=nt(G,s))&&(a<0?oe<0:oe>0))return ro(t,G,r,a,u)}var te=y.find(a<0?-1:1);return(a<0?w:P)&&(te=Kc(t,te,a,te.line==r.line?d:null)),te?ro(t,te,r,a,u):null}}return r}function ts(t,r,s,a,u){var d=a||1,m=ro(t,r,s,d,u)||!u&&ro(t,r,s,d,!0)||ro(t,r,s,-d,u)||!u&&ro(t,r,s,-d,!0);return m||(t.cantEdit=!0,Le(t.first,0))}function Kc(t,r,s,a){return s<0&&r.ch==0?r.line>t.first?tt(t,Le(r.line-1)):null:s>0&&r.ch==(a||Xe(t,r.line)).text.length?r.line<t.first+t.size-1?Le(r.line+1,0):null:new Le(r.line,r.ch+s)}function Zc(t){t.setSelection(Le(t.firstLine(),0),Le(t.lastLine()),k)}function Jc(t,r,s){var a={canceled:!1,from:r.from,to:r.to,text:r.text,origin:r.origin,cancel:function(){return a.canceled=!0}};return s&&(a.update=function(u,d,m,g){u&&(a.from=tt(t,u)),d&&(a.to=tt(t,d)),m&&(a.text=m),g!==void 0&&(a.origin=g)}),Lt(t,"beforeChange",t,a),t.cm&&Lt(t.cm,"beforeChange",t.cm,a),a.canceled?(t.cm&&(t.cm.curOp.updateInput=2),null):{from:a.from,to:a.to,text:a.text,origin:a.origin}}function io(t,r,s){if(t.cm){if(!t.cm.curOp)return hn(t.cm,io)(t,r,s);if(t.cm.state.suppressEdits)return}if(!((rt(t,"beforeChange")||t.cm&&rt(t.cm,"beforeChange"))&&(r=Jc(t,r,!0),!r))){var a=vt&&!s&&Mr(t,r.from,r.to);if(a)for(var u=a.length-1;u>=0;--u)Qc(t,{from:a[u].from,to:a[u].to,text:u?[""]:r.text,origin:r.origin});else Qc(t,r)}}function Qc(t,r){if(!(r.text.length==1&&r.text[0]==""&&nt(r.from,r.to)==0)){var s=Xl(t,r);Wc(t,r,s,t.cm?t.cm.curOp.id:NaN),Jo(t,r,s,Xn(t,r));var a=[];Zr(t,function(u,d){!d&&S(a,u.history)==-1&&(rd(u.history,r),a.push(u.history)),Jo(u,r,null,Xn(u,r))})}}function ns(t,r,s){var a=t.cm&&t.cm.state.suppressEdits;if(!(a&&!s)){for(var u=t.history,d,m=t.sel,g=r=="undo"?u.done:u.undone,y=r=="undo"?u.undone:u.done,w=0;w<g.length&&(d=g[w],!(s?d.ranges&&!d.equals(t.sel):!d.ranges));w++);if(w!=g.length){for(u.lastOrigin=u.lastSelOrigin=null;;)if(d=g.pop(),d.ranges){if(Ja(d,y),s&&!d.equals(t.sel)){Cn(t,d,{clearRedo:!1});return}m=d}else if(a){g.push(d);return}else break;var P=[];Ja(m,y),y.push({changes:P,generation:u.generation}),u.generation=d.generation||++u.maxGeneration;for(var G=rt(t,"beforeChange")||t.cm&&rt(t.cm,"beforeChange"),oe=function(Ce){var Oe=d.changes[Ce];if(Oe.origin=r,G&&!Jc(t,Oe,!1))return g.length=0,{};P.push(Kl(t,Oe));var Ne=Ce?Xl(t,Oe):U(g);Jo(t,Oe,Ne,Uc(t,Oe)),!Ce&&t.cm&&t.cm.scrollIntoView({from:Oe.from,to:Kr(Oe)});var qe=[];Zr(t,function(Be,Ue){!Ue&&S(qe,Be.history)==-1&&(rd(Be.history,Oe),qe.push(Be.history)),Jo(Be,Oe,null,Uc(Be,Oe))})},te=d.changes.length-1;te>=0;--te){var pe=oe(te);if(pe)return pe.v}}}}function ed(t,r){if(r!=0&&(t.first+=r,t.sel=new Yn(he(t.sel.ranges,function(u){return new wt(Le(u.anchor.line+r,u.anchor.ch),Le(u.head.line+r,u.head.ch))}),t.sel.primIndex),t.cm)){On(t.cm,t.first,t.first-r,r);for(var s=t.cm.display,a=s.viewFrom;a<s.viewTo;a++)Xr(t.cm,a,"gutter")}}function Jo(t,r,s,a){if(t.cm&&!t.cm.curOp)return hn(t.cm,Jo)(t,r,s,a);if(r.to.line<t.first){ed(t,r.text.length-1-(r.to.line-r.from.line));return}if(!(r.from.line>t.lastLine())){if(r.from.line<t.first){var u=r.text.length-1-(t.first-r.from.line);ed(t,u),r={from:Le(t.first,0),to:Le(r.to.line+u,r.to.ch),text:[U(r.text)],origin:r.origin}}var d=t.lastLine();r.to.line>d&&(r={from:r.from,to:Le(d,Xe(t,d).text.length),text:[r.text[0]],origin:r.origin}),r.removed=xr(t,r.from,r.to),s||(s=Xl(t,r)),t.cm?Mv(t.cm,r,a):Yl(t,r,a),es(t,s,k),t.cantEdit&&ts(t,Le(t.firstLine(),0))&&(t.cantEdit=!1)}}function Mv(t,r,s){var a=t.doc,u=t.display,d=r.from,m=r.to,g=!1,y=d.line;t.options.lineWrapping||(y=xt(zn(Xe(a,d.line))),a.iter(y,m.line+1,function(te){if(te==u.maxLine)return g=!0,!0})),a.sel.contains(r.from,r.to)>-1&&at(t),Yl(a,r,s,xc(t)),t.options.lineWrapping||(a.iter(y,d.line+r.text.length,function(te){var pe=Ha(te);pe>u.maxLineLength&&(u.maxLine=te,u.maxLineLength=pe,u.maxLineChanged=!0,g=!1)}),g&&(t.curOp.updateMaxLine=!0)),Ft(a,d.line),Yo(t,400);var w=r.text.length-(m.line-d.line)-1;r.full?On(t):d.line==m.line&&r.text.length==1&&!Bc(t.doc,r)?Xr(t,d.line,"text"):On(t,d.line,m.line+1,w);var P=rt(t,"changes"),G=rt(t,"change");if(G||P){var oe={from:d,to:m,text:r.text,removed:r.removed,origin:r.origin};G&&dn(t,"change",t,oe),P&&(t.curOp.changeObjs||(t.curOp.changeObjs=[])).push(oe)}t.display.selForContextMenu=null}function oo(t,r,s,a,u){var d;a||(a=s),nt(a,s)<0&&(d=[a,s],s=d[0],a=d[1]),typeof r=="string"&&(r=t.splitLines(r)),io(t,{from:s,to:a,text:r,origin:u})}function td(t,r,s,a){s<t.line?t.line+=a:r<t.line&&(t.line=r,t.ch=0)}function nd(t,r,s,a){for(var u=0;u<t.length;++u){var d=t[u],m=!0;if(d.ranges){d.copied||(d=t[u]=d.deepCopy(),d.copied=!0);for(var g=0;g<d.ranges.length;g++)td(d.ranges[g].anchor,r,s,a),td(d.ranges[g].head,r,s,a);continue}for(var y=0;y<d.changes.length;++y){var w=d.changes[y];if(s<w.from.line)w.from=Le(w.from.line+a,w.from.ch),w.to=Le(w.to.line+a,w.to.ch);else if(r<=w.to.line){m=!1;break}}m||(t.splice(0,u+1),u=0)}}function rd(t,r){var s=r.from.line,a=r.to.line,u=r.text.length-(a-s)-1;nd(t.done,s,a,u),nd(t.undone,s,a,u)}function Qo(t,r,s,a){var u=r,d=r;return typeof r=="number"?d=Xe(t,Ba(t,r)):u=xt(r),u==null?null:(a(d,u)&&t.cm&&Xr(t.cm,u,s),d)}function ea(t){this.lines=t,this.parent=null;for(var r=0,s=0;s<t.length;++s)t[s].parent=this,r+=t[s].height;this.height=r}ea.prototype={chunkSize:function(){return this.lines.length},removeInner:function(t,r){for(var s=t,a=t+r;s<a;++s){var u=this.lines[s];this.height-=u.height,Ig(u),dn(u,"delete")}this.lines.splice(t,r)},collapse:function(t){t.push.apply(t,this.lines)},insertInner:function(t,r,s){this.height+=s,this.lines=this.lines.slice(0,t).concat(r).concat(this.lines.slice(t));for(var a=0;a<r.length;++a)r[a].parent=this},iterN:function(t,r,s){for(var a=t+r;t<a;++t)if(s(this.lines[t]))return!0}};function ta(t){this.children=t;for(var r=0,s=0,a=0;a<t.length;++a){var u=t[a];r+=u.chunkSize(),s+=u.height,u.parent=this}this.size=r,this.height=s,this.parent=null}ta.prototype={chunkSize:function(){return this.size},removeInner:function(t,r){this.size-=r;for(var s=0;s<this.children.length;++s){var a=this.children[s],u=a.chunkSize();if(t<u){var d=Math.min(r,u-t),m=a.height;if(a.removeInner(t,d),this.height-=m-a.height,u==d&&(this.children.splice(s--,1),a.parent=null),(r-=d)==0)break;t=0}else t-=u}if(this.size-r<25&&(this.children.length>1||!(this.children[0]instanceof ea))){var g=[];this.collapse(g),this.children=[new ea(g)],this.children[0].parent=this}},collapse:function(t){for(var r=0;r<this.children.length;++r)this.children[r].collapse(t)},insertInner:function(t,r,s){this.size+=r.length,this.height+=s;for(var a=0;a<this.children.length;++a){var u=this.children[a],d=u.chunkSize();if(t<=d){if(u.insertInner(t,r,s),u.lines&&u.lines.length>50){for(var m=u.lines.length%25+25,g=m;g<u.lines.length;){var y=new ea(u.lines.slice(g,g+=25));u.height-=y.height,this.children.splice(++a,0,y),y.parent=this}u.lines=u.lines.slice(0,m),this.maybeSpill()}break}t-=d}},maybeSpill:function(){if(!(this.children.length<=10)){var t=this;do{var r=t.children.splice(t.children.length-5,5),s=new ta(r);if(t.parent){t.size-=s.size,t.height-=s.height;var u=S(t.parent.children,t);t.parent.children.splice(u+1,0,s)}else{var a=new ta(t.children);a.parent=t,t.children=[a,s],t=a}s.parent=t.parent}while(t.children.length>10);t.parent.maybeSpill()}},iterN:function(t,r,s){for(var a=0;a<this.children.length;++a){var u=this.children[a],d=u.chunkSize();if(t<d){var m=Math.min(r,d-t);if(u.iterN(t,m,s))return!0;if((r-=m)==0)break;t=0}else t-=d}}};var na=function(t,r,s){if(s)for(var a in s)s.hasOwnProperty(a)&&(this[a]=s[a]);this.doc=t,this.node=r};na.prototype.clear=function(){var t=this.doc.cm,r=this.line.widgets,s=this.line,a=xt(s);if(!(a==null||!r)){for(var u=0;u<r.length;++u)r[u]==this&&r.splice(u--,1);r.length||(s.widgets=null);var d=zo(this);rr(s,Math.max(0,s.height-d)),t&&(Un(t,function(){id(t,s,-d),Xr(t,a,"widget")}),dn(t,"lineWidgetCleared",t,this,a))}},na.prototype.changed=function(){var t=this,r=this.height,s=this.doc.cm,a=this.line;this.height=null;var u=zo(this)-r;u&&(Gr(this.doc,a)||rr(a,a.height+u),s&&Un(s,function(){s.curOp.forceUpdate=!0,id(s,a,u),dn(s,"lineWidgetChanged",s,t,xt(a))}))},Ut(na);function id(t,r,s){Ir(r)<(t.curOp&&t.curOp.scrollTop||t.doc.scrollTop)&&Wl(t,s)}function Iv(t,r,s,a){var u=new na(t,s,a),d=t.cm;return d&&u.noHScroll&&(d.display.alignWidgets=!0),Qo(t,r,"widget",function(m){var g=m.widgets||(m.widgets=[]);if(u.insertAt==null?g.push(u):g.splice(Math.min(g.length,Math.max(0,u.insertAt)),0,u),u.line=m,d&&!Gr(t,m)){var y=Ir(m)<t.scrollTop;rr(m,m.height+zo(u)),y&&Wl(d,u.height),d.curOp.forceUpdate=!0}return!0}),d&&dn(d,"lineWidgetAdded",d,u,typeof r=="number"?r:xt(r)),u}var od=0,Jr=function(t,r){this.lines=[],this.type=r,this.doc=t,this.id=++od};Jr.prototype.clear=function(){if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&wi(t),rt(this,"clear")){var s=this.find();s&&dn(this,"clear",s.from,s.to)}for(var a=null,u=null,d=0;d<this.lines.length;++d){var m=this.lines[d],g=fn(m.markedSpans,this);t&&!this.collapsed?Xr(t,xt(m),"text"):t&&(g.to!=null&&(u=xt(m)),g.from!=null&&(a=xt(m))),m.markedSpans=Re(m.markedSpans,g),g.from==null&&this.collapsed&&!Gr(this.doc,m)&&t&&rr(m,Zi(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var y=0;y<this.lines.length;++y){var w=zn(this.lines[y]),P=Ha(w);P>t.display.maxLineLength&&(t.display.maxLine=w,t.display.maxLineLength=P,t.display.maxLineChanged=!0)}a!=null&&t&&this.collapsed&&On(t,a,u+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Vc(t.doc)),t&&dn(t,"markerCleared",t,this,a,u),r&&Ei(t),this.parent&&this.parent.clear()}},Jr.prototype.find=function(t,r){t==null&&this.type=="bookmark"&&(t=1);for(var s,a,u=0;u<this.lines.length;++u){var d=this.lines[u],m=fn(d.markedSpans,this);if(m.from!=null&&(s=Le(r?d:xt(d),m.from),t==-1))return s;if(m.to!=null&&(a=Le(r?d:xt(d),m.to),t==1))return a}return s&&{from:s,to:a}},Jr.prototype.changed=function(){var t=this,r=this.find(-1,!0),s=this,a=this.doc.cm;!r||!a||Un(a,function(){var u=r.line,d=xt(r.line),m=Al(a,d);if(m&&(cc(m),a.curOp.selectionChanged=a.curOp.forceUpdate=!0),a.curOp.updateMaxLine=!0,!Gr(s.doc,u)&&s.height!=null){var g=s.height;s.height=null;var y=zo(s)-g;y&&rr(u,u.height+y)}dn(a,"markerChanged",a,t)})},Jr.prototype.attachLine=function(t){if(!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(!r.maybeHiddenMarkers||S(r.maybeHiddenMarkers,this)==-1)&&(r.maybeUnhiddenMarkers||(r.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(t)},Jr.prototype.detachLine=function(t){if(this.lines.splice(S(this.lines,t),1),!this.lines.length&&this.doc.cm){var r=this.doc.cm.curOp;(r.maybeHiddenMarkers||(r.maybeHiddenMarkers=[])).push(this)}},Ut(Jr);function ao(t,r,s,a,u){if(a&&a.shared)return _v(t,r,s,a,u);if(t.cm&&!t.cm.curOp)return hn(t.cm,ao)(t,r,s,a,u);var d=new Jr(t,u),m=nt(r,s);if(a&&Ae(a,d,!1),m>0||m==0&&d.clearWhenEmpty!==!1)return d;if(d.replacedWith&&(d.collapsed=!0,d.widgetNode=_("span",[d.replacedWith],"CodeMirror-widget"),a.handleMouseEvents||d.widgetNode.setAttribute("cm-ignore-events","true"),a.insertLeft&&(d.widgetNode.insertLeft=!0)),d.collapsed){if(Ho(t,r.line,r,s,d)||r.line!=s.line&&Ho(t,s.line,r,s,d))throw new Error("Inserting collapsed marker partially overlapping an existing one");jt()}d.addToHistory&&Wc(t,{from:r,to:s,origin:"markText"},t.sel,NaN);var g=r.line,y=t.cm,w;if(t.iter(g,s.line+1,function(G){y&&d.collapsed&&!y.options.lineWrapping&&zn(G)==y.display.maxLine&&(w=!0),d.collapsed&&g!=r.line&&rr(G,0),bt(G,new qn(d,g==r.line?r.ch:null,g==s.line?s.ch:null),t.cm&&t.cm.curOp),++g}),d.collapsed&&t.iter(r.line,s.line+1,function(G){Gr(t,G)&&rr(G,0)}),d.clearOnEnter&&Ve(d,"beforeCursorEnter",function(){return d.clear()}),d.readOnly&&(on(),(t.history.done.length||t.history.undone.length)&&t.clearHistory()),d.collapsed&&(d.id=++od,d.atomic=!0),y){if(w&&(y.curOp.updateMaxLine=!0),d.collapsed)On(y,r.line,s.line+1);else if(d.className||d.startStyle||d.endStyle||d.css||d.attributes||d.title)for(var P=r.line;P<=s.line;P++)Xr(y,P,"text");d.atomic&&Vc(y.doc),dn(y,"markerAdded",y,d)}return d}var ra=function(t,r){this.markers=t,this.primary=r;for(var s=0;s<t.length;++s)t[s].parent=this};ra.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)this.markers[t].clear();dn(this,"clear")}},ra.prototype.find=function(t,r){return this.primary.find(t,r)},Ut(ra);function _v(t,r,s,a,u){a=Ae(a),a.shared=!1;var d=[ao(t,r,s,a,u)],m=d[0],g=a.widgetNode;return Zr(t,function(y){g&&(a.widgetNode=g.cloneNode(!0)),d.push(ao(y,tt(y,r),tt(y,s),a,u));for(var w=0;w<y.linked.length;++w)if(y.linked[w].isParent)return;m=U(d)}),new ra(d,m)}function ad(t){return t.findMarks(Le(t.first,0),t.clipPos(Le(t.lastLine())),function(r){return r.parent})}function Rv(t,r){for(var s=0;s<r.length;s++){var a=r[s],u=a.find(),d=t.clipPos(u.from),m=t.clipPos(u.to);if(nt(d,m)){var g=ao(t,d,m,a.primary,a.primary.type);a.markers.push(g),g.parent=a}}}function Nv(t){for(var r=function(a){var u=t[a],d=[u.primary.doc];Zr(u.primary.doc,function(y){return d.push(y)});for(var m=0;m<u.markers.length;m++){var g=u.markers[m];S(d,g.doc)==-1&&(g.parent=null,u.markers.splice(m--,1))}},s=0;s<t.length;s++)r(s)}var Bv=0,Mn=function(t,r,s,a,u){if(!(this instanceof Mn))return new Mn(t,r,s,a,u);s==null&&(s=0),ta.call(this,[new ea([new Vi("",null)])]),this.first=s,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=s;var d=Le(s,0);this.sel=Yr(d),this.history=new Za(null),this.id=++Bv,this.modeOption=r,this.lineSep=a,this.direction=u=="rtl"?"rtl":"ltr",this.extend=!1,typeof t=="string"&&(t=this.splitLines(t)),Yl(this,{from:d,to:d,text:t}),Cn(this,Yr(d),k)};Mn.prototype=ce(ta.prototype,{constructor:Mn,iter:function(t,r,s){s?this.iterN(t-this.first,r-t,s):this.iterN(this.first,this.first+this.size,t)},insert:function(t,r){for(var s=0,a=0;a<r.length;++a)s+=r[a].height;this.insertInner(t-this.first,r,s)},remove:function(t,r){this.removeInner(t-this.first,r)},getValue:function(t){var r=Ro(this,this.first,this.first+this.size);return t===!1?r:r.join(t||this.lineSeparator())},setValue:pn(function(t){var r=Le(this.first,0),s=this.first+this.size-1;io(this,{from:r,to:Le(s,Xe(this,s).text.length),text:this.splitLines(t),origin:"setValue",full:!0},!0),this.cm&&$o(this.cm,0,0),Cn(this,Yr(r),k)}),replaceRange:function(t,r,s,a){r=tt(this,r),s=s?tt(this,s):r,oo(this,t,r,s,a)},getRange:function(t,r,s){var a=xr(this,tt(this,t),tt(this,r));return s===!1?a:s===""?a.join(""):a.join(s||this.lineSeparator())},getLine:function(t){var r=this.getLineHandle(t);return r&&r.text},getLineHandle:function(t){if(hi(this,t))return Xe(this,t)},getLineNumber:function(t){return xt(t)},getLineHandleVisualStart:function(t){return typeof t=="number"&&(t=Xe(this,t)),zn(t)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(t){return tt(this,t)},getCursor:function(t){var r=this.sel.primary(),s;return t==null||t=="head"?s=r.head:t=="anchor"?s=r.anchor:t=="end"||t=="to"||t===!1?s=r.to():s=r.from(),s},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:pn(function(t,r,s){$c(this,tt(this,typeof t=="number"?Le(t,r||0):t),null,s)}),setSelection:pn(function(t,r,s){$c(this,tt(this,t),tt(this,r||t),s)}),extendSelection:pn(function(t,r,s){Qa(this,tt(this,t),r&&tt(this,r),s)}),extendSelections:pn(function(t,r){jc(this,C(this,t),r)}),extendSelectionsBy:pn(function(t,r){var s=he(this.sel.ranges,t);jc(this,C(this,s),r)}),setSelections:pn(function(t,r,s){if(t.length){for(var a=[],u=0;u<t.length;u++)a[u]=new wt(tt(this,t[u].anchor),tt(this,t[u].head||t[u].anchor));r==null&&(r=Math.min(t.length-1,this.sel.primIndex)),Cn(this,fr(this.cm,a,r),s)}}),addSelection:pn(function(t,r,s){var a=this.sel.ranges.slice(0);a.push(new wt(tt(this,t),tt(this,r||t))),Cn(this,fr(this.cm,a,a.length-1),s)}),getSelection:function(t){for(var r=this.sel.ranges,s,a=0;a<r.length;a++){var u=xr(this,r[a].from(),r[a].to());s=s?s.concat(u):u}return t===!1?s:s.join(t||this.lineSeparator())},getSelections:function(t){for(var r=[],s=this.sel.ranges,a=0;a<s.length;a++){var u=xr(this,s[a].from(),s[a].to());t!==!1&&(u=u.join(t||this.lineSeparator())),r[a]=u}return r},replaceSelection:function(t,r,s){for(var a=[],u=0;u<this.sel.ranges.length;u++)a[u]=t;this.replaceSelections(a,r,s||"+input")},replaceSelections:pn(function(t,r,s){for(var a=[],u=this.sel,d=0;d<u.ranges.length;d++){var m=u.ranges[d];a[d]={from:m.from(),to:m.to(),text:this.splitLines(t[d]),origin:s}}for(var g=r&&r!="end"&&kv(this,a,r),y=a.length-1;y>=0;y--)io(this,a[y]);g?Gc(this,g):this.cm&&eo(this.cm)}),undo:pn(function(){ns(this,"undo")}),redo:pn(function(){ns(this,"redo")}),undoSelection:pn(function(){ns(this,"undo",!0)}),redoSelection:pn(function(){ns(this,"redo",!0)}),setExtending:function(t){this.extend=t},getExtending:function(){return this.extend},historySize:function(){for(var t=this.history,r=0,s=0,a=0;a<t.done.length;a++)t.done[a].ranges||++r;for(var u=0;u<t.undone.length;u++)t.undone[u].ranges||++s;return{undo:r,redo:s}},clearHistory:function(){var t=this;this.history=new Za(this.history),Zr(this,function(r){return r.history=t.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(t){return t&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(t){return this.history.generation==(t||this.cleanGeneration)},getHistory:function(){return{done:no(this.history.done),undone:no(this.history.undone)}},setHistory:function(t){var r=this.history=new Za(this.history);r.done=no(t.done.slice(0),null,!0),r.undone=no(t.undone.slice(0),null,!0)},setGutterMarker:pn(function(t,r,s){return Qo(this,t,"gutter",function(a){var u=a.gutterMarkers||(a.gutterMarkers={});return u[r]=s,!s&&yt(u)&&(a.gutterMarkers=null),!0})}),clearGutter:pn(function(t){var r=this;this.iter(function(s){s.gutterMarkers&&s.gutterMarkers[t]&&Qo(r,s,"gutter",function(){return s.gutterMarkers[t]=null,yt(s.gutterMarkers)&&(s.gutterMarkers=null),!0})})}),lineInfo:function(t){var r;if(typeof t=="number"){if(!hi(this,t)||(r=t,t=Xe(this,t),!t))return null}else if(r=xt(t),r==null)return null;return{line:r,handle:t,text:t.text,gutterMarkers:t.gutterMarkers,textClass:t.textClass,bgClass:t.bgClass,wrapClass:t.wrapClass,widgets:t.widgets}},addLineClass:pn(function(t,r,s){return Qo(this,t,r=="gutter"?"gutter":"class",function(a){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass";if(!a[u])a[u]=s;else{if(Ee(s).test(a[u]))return!1;a[u]+=" "+s}return!0})}),removeLineClass:pn(function(t,r,s){return Qo(this,t,r=="gutter"?"gutter":"class",function(a){var u=r=="text"?"textClass":r=="background"?"bgClass":r=="gutter"?"gutterClass":"wrapClass",d=a[u];if(d)if(s==null)a[u]=null;else{var m=d.match(Ee(s));if(!m)return!1;var g=m.index+m[0].length;a[u]=d.slice(0,m.index)+(!m.index||g==d.length?"":" ")+d.slice(g)||null}else return!1;return!0})}),addLineWidget:pn(function(t,r,s){return Iv(this,t,r,s)}),removeLineWidget:function(t){t.clear()},markText:function(t,r,s){return ao(this,tt(this,t),tt(this,r),s,s&&s.type||"range")},setBookmark:function(t,r){var s={replacedWith:r&&(r.nodeType==null?r.widget:r),insertLeft:r&&r.insertLeft,clearWhenEmpty:!1,shared:r&&r.shared,handleMouseEvents:r&&r.handleMouseEvents};return t=tt(this,t),ao(this,t,t,s,"bookmark")},findMarksAt:function(t){t=tt(this,t);var r=[],s=Xe(this,t.line).markedSpans;if(s)for(var a=0;a<s.length;++a){var u=s[a];(u.from==null||u.from<=t.ch)&&(u.to==null||u.to>=t.ch)&&r.push(u.marker.parent||u.marker)}return r},findMarks:function(t,r,s){t=tt(this,t),r=tt(this,r);var a=[],u=t.line;return this.iter(t.line,r.line+1,function(d){var m=d.markedSpans;if(m)for(var g=0;g<m.length;g++){var y=m[g];!(y.to!=null&&u==t.line&&t.ch>=y.to||y.from==null&&u!=t.line||y.from!=null&&u==r.line&&y.from>=r.ch)&&(!s||s(y.marker))&&a.push(y.marker.parent||y.marker)}++u}),a},getAllMarks:function(){var t=[];return this.iter(function(r){var s=r.markedSpans;if(s)for(var a=0;a<s.length;++a)s[a].from!=null&&t.push(s[a].marker)}),t},posFromIndex:function(t){var r,s=this.first,a=this.lineSeparator().length;return this.iter(function(u){var d=u.text.length+a;if(d>t)return r=t,!0;t-=d,++s}),tt(this,Le(s,r))},indexFromPos:function(t){t=tt(this,t);var r=t.ch;if(t.line<this.first||t.ch<0)return 0;var s=this.lineSeparator().length;return this.iter(this.first,t.line,function(a){r+=a.text.length+s}),r},copy:function(t){var r=new Mn(Ro(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return r.scrollTop=this.scrollTop,r.scrollLeft=this.scrollLeft,r.sel=this.sel,r.extend=!1,t&&(r.history.undoDepth=this.history.undoDepth,r.setHistory(this.getHistory())),r},linkedDoc:function(t){t||(t={});var r=this.first,s=this.first+this.size;t.from!=null&&t.from>r&&(r=t.from),t.to!=null&&t.to<s&&(s=t.to);var a=new Mn(Ro(this,r,s),t.mode||this.modeOption,r,this.lineSep,this.direction);return t.sharedHist&&(a.history=this.history),(this.linked||(this.linked=[])).push({doc:a,sharedHist:t.sharedHist}),a.linked=[{doc:this,isParent:!0,sharedHist:t.sharedHist}],Rv(a,ad(this)),a},unlinkDoc:function(t){if(t instanceof It&&(t=t.doc),this.linked)for(var r=0;r<this.linked.length;++r){var s=this.linked[r];if(s.doc==t){this.linked.splice(r,1),t.unlinkDoc(this),Nv(ad(this));break}}if(t.history==this.history){var a=[t.id];Zr(t,function(u){return a.push(u.id)},!0),t.history=new Za(null),t.history.done=no(this.history.done,a),t.history.undone=no(this.history.undone,a)}},iterLinkedDocs:function(t){Zr(this,t)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(t){return this.lineSep?t.split(this.lineSep):jr(t)},lineSeparator:function(){return this.lineSep||`
`},setDirection:pn(function(t){t!="rtl"&&(t="ltr"),t!=this.direction&&(this.direction=t,this.iter(function(r){return r.order=null}),this.cm&&Dv(this.cm))})}),Mn.prototype.eachLine=Mn.prototype.iter;var sd=0;function Pv(t){var r=this;if(ld(r),!(dt(r,t)||_r(r.display,t))){Ge(t),c&&(sd=+new Date);var s=vi(r,t,!0),a=t.dataTransfer.files;if(!(!s||r.isReadOnly()))if(a&&a.length&&window.FileReader&&window.File)for(var u=a.length,d=Array(u),m=0,g=function(){++m==u&&hn(r,function(){s=tt(r.doc,s);var te={from:s,to:s,text:r.doc.splitLines(d.filter(function(pe){return pe!=null}).join(r.doc.lineSeparator())),origin:"paste"};io(r.doc,te),Gc(r.doc,Yr(tt(r.doc,s),tt(r.doc,Kr(te))))})()},y=function(te,pe){if(r.options.allowDropFileTypes&&S(r.options.allowDropFileTypes,te.type)==-1){g();return}var Ce=new FileReader;Ce.onerror=function(){return g()},Ce.onload=function(){var Oe=Ce.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(Oe)){g();return}d[pe]=Oe,g()},Ce.readAsText(te)},w=0;w<a.length;w++)y(a[w],w);else{if(r.state.draggingText&&r.doc.sel.contains(s)>-1){r.state.draggingText(t),setTimeout(function(){return r.display.input.focus()},20);return}try{var P=t.dataTransfer.getData("Text");if(P){var G;if(r.state.draggingText&&!r.state.draggingText.copy&&(G=r.listSelections()),es(r.doc,Yr(s,s)),G)for(var oe=0;oe<G.length;++oe)oo(r.doc,"",G[oe].anchor,G[oe].head,"drag");r.replaceSelection(P,"around","paste"),r.display.input.focus()}}catch{}}}}function Hv(t,r){if(c&&(!t.state.draggingText||+new Date-sd<100)){Lr(r);return}if(!(dt(t,r)||_r(t.display,r))&&(r.dataTransfer.setData("Text",t.getSelection()),r.dataTransfer.effectAllowed="copyMove",r.dataTransfer.setDragImage&&!J)){var s=E("img",null,null,"position: fixed; left: 0; top: 0;");s.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",$&&(s.width=s.height=1,t.display.wrapper.appendChild(s),s._top=s.offsetTop),r.dataTransfer.setDragImage(s,0,0),$&&s.parentNode.removeChild(s)}}function qv(t,r){var s=vi(t,r);if(s){var a=document.createDocumentFragment();Nl(t,s,a),t.display.dragCursor||(t.display.dragCursor=E("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),t.display.lineSpace.insertBefore(t.display.dragCursor,t.display.cursorDiv)),A(t.display.dragCursor,a)}}function ld(t){t.display.dragCursor&&(t.display.lineSpace.removeChild(t.display.dragCursor),t.display.dragCursor=null)}function ud(t){if(document.getElementsByClassName){for(var r=document.getElementsByClassName("CodeMirror"),s=[],a=0;a<r.length;a++){var u=r[a].CodeMirror;u&&s.push(u)}s.length&&s[0].operation(function(){for(var d=0;d<s.length;d++)t(s[d])})}}var fd=!1;function Wv(){fd||(zv(),fd=!0)}function zv(){var t;Ve(window,"resize",function(){t==null&&(t=setTimeout(function(){t=null,ud(Uv)},100))}),Ve(window,"blur",function(){return ud(Qi)})}function Uv(t){var r=t.display;r.cachedCharWidth=r.cachedTextHeight=r.cachedPaddingH=null,r.scrollbarsClipped=!1,t.setSize()}for(var Qr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ia=0;ia<10;ia++)Qr[ia+48]=Qr[ia+96]=String(ia);for(var rs=65;rs<=90;rs++)Qr[rs]=String.fromCharCode(rs);for(var oa=1;oa<=12;oa++)Qr[oa+111]=Qr[oa+63235]="F"+oa;var Nr={};Nr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Nr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Nr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Nr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Nr.default=ee?Nr.macDefault:Nr.pcDefault;function jv(t){var r=t.split(/-(?!$)/);t=r[r.length-1];for(var s,a,u,d,m=0;m<r.length-1;m++){var g=r[m];if(/^(cmd|meta|m)$/i.test(g))d=!0;else if(/^a(lt)?$/i.test(g))s=!0;else if(/^(c|ctrl|control)$/i.test(g))a=!0;else if(/^s(hift)?$/i.test(g))u=!0;else throw new Error("Unrecognized modifier name: "+g)}return s&&(t="Alt-"+t),a&&(t="Ctrl-"+t),d&&(t="Cmd-"+t),u&&(t="Shift-"+t),t}function $v(t){var r={};for(var s in t)if(t.hasOwnProperty(s)){var a=t[s];if(/^(name|fallthrough|(de|at)tach)$/.test(s))continue;if(a=="..."){delete t[s];continue}for(var u=he(s.split(" "),jv),d=0;d<u.length;d++){var m=void 0,g=void 0;d==u.length-1?(g=u.join(" "),m=a):(g=u.slice(0,d+1).join(" "),m="...");var y=r[g];if(!y)r[g]=m;else if(y!=m)throw new Error("Inconsistent bindings for "+g)}delete t[s]}for(var w in r)t[w]=r[w];return t}function so(t,r,s,a){r=is(r);var u=r.call?r.call(t,a):r[t];if(u===!1)return"nothing";if(u==="...")return"multi";if(u!=null&&s(u))return"handled";if(r.fallthrough){if(Object.prototype.toString.call(r.fallthrough)!="[object Array]")return so(t,r.fallthrough,s,a);for(var d=0;d<r.fallthrough.length;d++){var m=so(t,r.fallthrough[d],s,a);if(m)return m}}}function cd(t){var r=typeof t=="string"?t:Qr[t.keyCode];return r=="Ctrl"||r=="Alt"||r=="Shift"||r=="Mod"}function dd(t,r,s){var a=t;return r.altKey&&a!="Alt"&&(t="Alt-"+t),(Se?r.metaKey:r.ctrlKey)&&a!="Ctrl"&&(t="Ctrl-"+t),(Se?r.ctrlKey:r.metaKey)&&a!="Mod"&&(t="Cmd-"+t),!s&&r.shiftKey&&a!="Shift"&&(t="Shift-"+t),t}function hd(t,r){if($&&t.keyCode==34&&t.char)return!1;var s=Qr[t.keyCode];return s==null||t.altGraphKey?!1:(t.keyCode==3&&t.code&&(s=t.code),dd(s,t,r))}function is(t){return typeof t=="string"?Nr[t]:t}function lo(t,r){for(var s=t.doc.sel.ranges,a=[],u=0;u<s.length;u++){for(var d=r(s[u]);a.length&&nt(d.from,U(a).to)<=0;){var m=a.pop();if(nt(m.from,d.from)<0){d.from=m.from;break}}a.push(d)}Un(t,function(){for(var g=a.length-1;g>=0;g--)oo(t.doc,"",a[g].from,a[g].to,"+delete");eo(t)})}function Ql(t,r,s){var a=yn(t.text,r+s,s);return a<0||a>t.text.length?null:a}function eu(t,r,s){var a=Ql(t,r.ch,s);return a==null?null:new Le(r.line,a,s<0?"after":"before")}function tu(t,r,s,a,u){if(t){r.doc.direction=="rtl"&&(u=-u);var d=rn(s,r.doc.direction);if(d){var m=u<0?U(d):d[0],g=u<0==(m.level==1),y=g?"after":"before",w;if(m.level>0||r.doc.direction=="rtl"){var P=Ki(r,s);w=u<0?s.text.length-1:0;var G=Er(r,P,w).top;w=pt(function(oe){return Er(r,P,oe).top==G},u<0==(m.level==1)?m.from:m.to-1,w),y=="before"&&(w=Ql(s,w,1))}else w=u<0?m.to:m.from;return new Le(a,w,y)}}return new Le(a,u<0?s.text.length:0,u<0?"before":"after")}function Gv(t,r,s,a){var u=rn(r,t.doc.direction);if(!u)return eu(r,s,a);s.ch>=r.text.length?(s.ch=r.text.length,s.sticky="before"):s.ch<=0&&(s.ch=0,s.sticky="after");var d=Ke(u,s.ch,s.sticky),m=u[d];if(t.doc.direction=="ltr"&&m.level%2==0&&(a>0?m.to>s.ch:m.from<s.ch))return eu(r,s,a);var g=function(Ne,qe){return Ql(r,Ne instanceof Le?Ne.ch:Ne,qe)},y,w=function(Ne){return t.options.lineWrapping?(y=y||Ki(t,r),yc(t,r,y,Ne)):{begin:0,end:r.text.length}},P=w(s.sticky=="before"?g(s,-1):s.ch);if(t.doc.direction=="rtl"||m.level==1){var G=m.level==1==a<0,oe=g(s,G?1:-1);if(oe!=null&&(G?oe<=m.to&&oe<=P.end:oe>=m.from&&oe>=P.begin)){var te=G?"before":"after";return new Le(s.line,oe,te)}}var pe=function(Ne,qe,Be){for(var Ue=function(Tt,mn){return mn?new Le(s.line,g(Tt,1),"before"):new Le(s.line,Tt,"after")};Ne>=0&&Ne<u.length;Ne+=qe){var Ze=u[Ne],Ye=qe>0==(Ze.level!=1),st=Ye?Be.begin:g(Be.end,-1);if(Ze.from<=st&&st<Ze.to||(st=Ye?Ze.from:g(Ze.to,-1),Be.begin<=st&&st<Be.end))return Ue(st,Ye)}},Ce=pe(d+a,a,P);if(Ce)return Ce;var Oe=a>0?P.end:g(P.begin,-1);return Oe!=null&&!(a>0&&Oe==r.text.length)&&(Ce=pe(a>0?0:u.length-1,a,w(Oe)),Ce)?Ce:null}var aa={selectAll:Zc,singleSelection:function(t){return t.setSelection(t.getCursor("anchor"),t.getCursor("head"),k)},killLine:function(t){return lo(t,function(r){if(r.empty()){var s=Xe(t.doc,r.head.line).text.length;return r.head.ch==s&&r.head.line<t.lastLine()?{from:r.head,to:Le(r.head.line+1,0)}:{from:r.head,to:Le(r.head.line,s)}}else return{from:r.from(),to:r.to()}})},deleteLine:function(t){return lo(t,function(r){return{from:Le(r.from().line,0),to:tt(t.doc,Le(r.to().line+1,0))}})},delLineLeft:function(t){return lo(t,function(r){return{from:Le(r.from().line,0),to:r.from()}})},delWrappedLineLeft:function(t){return lo(t,function(r){var s=t.charCoords(r.head,"div").top+5,a=t.coordsChar({left:0,top:s},"div");return{from:a,to:r.from()}})},delWrappedLineRight:function(t){return lo(t,function(r){var s=t.charCoords(r.head,"div").top+5,a=t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:s},"div");return{from:r.from(),to:a}})},undo:function(t){return t.undo()},redo:function(t){return t.redo()},undoSelection:function(t){return t.undoSelection()},redoSelection:function(t){return t.redoSelection()},goDocStart:function(t){return t.extendSelection(Le(t.firstLine(),0))},goDocEnd:function(t){return t.extendSelection(Le(t.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(r){return pd(t,r.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(r){return md(t,r.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(r){return Xv(t,r.head.line)},{origin:"+move",bias:-1})},goLineRight:function(t){return t.extendSelectionsBy(function(r){var s=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:t.display.lineDiv.offsetWidth+100,top:s},"div")},I)},goLineLeft:function(t){return t.extendSelectionsBy(function(r){var s=t.cursorCoords(r.head,"div").top+5;return t.coordsChar({left:0,top:s},"div")},I)},goLineLeftSmart:function(t){return t.extendSelectionsBy(function(r){var s=t.cursorCoords(r.head,"div").top+5,a=t.coordsChar({left:0,top:s},"div");return a.ch<t.getLine(a.line).search(/\S/)?md(t,r.head):a},I)},goLineUp:function(t){return t.moveV(-1,"line")},goLineDown:function(t){return t.moveV(1,"line")},goPageUp:function(t){return t.moveV(-1,"page")},goPageDown:function(t){return t.moveV(1,"page")},goCharLeft:function(t){return t.moveH(-1,"char")},goCharRight:function(t){return t.moveH(1,"char")},goColumnLeft:function(t){return t.moveH(-1,"column")},goColumnRight:function(t){return t.moveH(1,"column")},goWordLeft:function(t){return t.moveH(-1,"word")},goGroupRight:function(t){return t.moveH(1,"group")},goGroupLeft:function(t){return t.moveH(-1,"group")},goWordRight:function(t){return t.moveH(1,"word")},delCharBefore:function(t){return t.deleteH(-1,"codepoint")},delCharAfter:function(t){return t.deleteH(1,"char")},delWordBefore:function(t){return t.deleteH(-1,"word")},delWordAfter:function(t){return t.deleteH(1,"word")},delGroupBefore:function(t){return t.deleteH(-1,"group")},delGroupAfter:function(t){return t.deleteH(1,"group")},indentAuto:function(t){return t.indentSelection("smart")},indentMore:function(t){return t.indentSelection("add")},indentLess:function(t){return t.indentSelection("subtract")},insertTab:function(t){return t.replaceSelection("	")},insertSoftTab:function(t){for(var r=[],s=t.listSelections(),a=t.options.tabSize,u=0;u<s.length;u++){var d=s[u].from(),m=_e(t.getLine(d.line),d.ch,a);r.push(Y(a-m%a))}t.replaceSelections(r)},defaultTab:function(t){t.somethingSelected()?t.indentSelection("add"):t.execCommand("insertTab")},transposeChars:function(t){return Un(t,function(){for(var r=t.listSelections(),s=[],a=0;a<r.length;a++)if(r[a].empty()){var u=r[a].head,d=Xe(t.doc,u.line).text;if(d){if(u.ch==d.length&&(u=new Le(u.line,u.ch-1)),u.ch>0)u=new Le(u.line,u.ch+1),t.replaceRange(d.charAt(u.ch-1)+d.charAt(u.ch-2),Le(u.line,u.ch-2),u,"+transpose");else if(u.line>t.doc.first){var m=Xe(t.doc,u.line-1).text;m&&(u=new Le(u.line,1),t.replaceRange(d.charAt(0)+t.doc.lineSeparator()+m.charAt(m.length-1),Le(u.line-1,m.length-1),u,"+transpose"))}}s.push(new wt(u,u))}t.setSelections(s)})},newlineAndIndent:function(t){return Un(t,function(){for(var r=t.listSelections(),s=r.length-1;s>=0;s--)t.replaceRange(t.doc.lineSeparator(),r[s].anchor,r[s].head,"+input");r=t.listSelections();for(var a=0;a<r.length;a++)t.indentLine(r[a].from().line,null,!0);eo(t)})},openLine:function(t){return t.replaceSelection(`
`,"start")},toggleOverwrite:function(t){return t.toggleOverwrite()}};function pd(t,r){var s=Xe(t.doc,r),a=zn(s);return a!=s&&(r=xt(a)),tu(!0,t,a,r,1)}function Xv(t,r){var s=Xe(t.doc,r),a=bl(s);return a!=s&&(r=xt(a)),tu(!0,t,s,r,-1)}function md(t,r){var s=pd(t,r.line),a=Xe(t.doc,s.line),u=rn(a,t.doc.direction);if(!u||u[0].level==0){var d=Math.max(s.ch,a.text.search(/\S/)),m=r.line==s.line&&r.ch<=d&&r.ch;return Le(s.line,m?0:d,s.sticky)}return s}function os(t,r,s){if(typeof r=="string"&&(r=aa[r],!r))return!1;t.display.input.ensurePolled();var a=t.display.shift,u=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),s&&(t.display.shift=!1),u=r(t)!=p}finally{t.display.shift=a,t.state.suppressEdits=!1}return u}function Vv(t,r,s){for(var a=0;a<t.state.keyMaps.length;a++){var u=so(r,t.state.keyMaps[a],s,t);if(u)return u}return t.options.extraKeys&&so(r,t.options.extraKeys,s,t)||so(r,t.options.keyMap,s,t)}var Yv=new Pe;function sa(t,r,s,a){var u=t.state.keySeq;if(u){if(cd(r))return"handled";if(/\'$/.test(r)?t.state.keySeq=null:Yv.set(50,function(){t.state.keySeq==u&&(t.state.keySeq=null,t.display.input.reset())}),gd(t,u+" "+r,s,a))return!0}return gd(t,r,s,a)}function gd(t,r,s,a){var u=Vv(t,r,a);return u=="multi"&&(t.state.keySeq=r),u=="handled"&&dn(t,"keyHandled",t,r,s),(u=="handled"||u=="multi")&&(Ge(s),Bl(t)),!!u}function vd(t,r){var s=hd(r,!0);return s?r.shiftKey&&!t.state.keySeq?sa(t,"Shift-"+s,r,function(a){return os(t,a,!0)})||sa(t,s,r,function(a){if(typeof a=="string"?/^go[A-Z]/.test(a):a.motion)return os(t,a)}):sa(t,s,r,function(a){return os(t,a)}):!1}function Kv(t,r,s){return sa(t,"'"+s+"'",r,function(a){return os(t,a,!0)})}var nu=null;function yd(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&(r.curOp.focus=V(ae(r)),!dt(r,t))){c&&h<11&&t.keyCode==27&&(t.returnValue=!1);var s=t.keyCode;r.display.shift=s==16||t.shiftKey;var a=vd(r,t);$&&(nu=a?s:null,!a&&s==88&&!Na&&(ee?t.metaKey:t.ctrlKey)&&r.replaceSelection("",null,"cut")),i&&!ee&&!a&&s==46&&t.shiftKey&&!t.ctrlKey&&document.execCommand&&document.execCommand("cut"),s==18&&!/\bCodeMirror-crosshair\b/.test(r.display.lineDiv.className)&&Zv(r)}}function Zv(t){var r=t.display.lineDiv;N(r,"CodeMirror-crosshair");function s(a){(a.keyCode==18||!a.altKey)&&(Z(r,"CodeMirror-crosshair"),mt(document,"keyup",s),mt(document,"mouseover",s))}Ve(document,"keyup",s),Ve(document,"mouseover",s)}function xd(t){t.keyCode==16&&(this.doc.sel.shift=!1),dt(this,t)}function bd(t){var r=this;if(!(t.target&&t.target!=r.display.input.getField())&&!(_r(r.display,t)||dt(r,t)||t.ctrlKey&&!t.altKey||ee&&t.metaKey)){var s=t.keyCode,a=t.charCode;if($&&s==nu){nu=null,Ge(t);return}if(!($&&(!t.which||t.which<10)&&vd(r,t))){var u=String.fromCharCode(a??s);u!="\b"&&(Kv(r,t,u)||r.display.input.onKeyPress(t))}}}var Jv=400,ru=function(t,r,s){this.time=t,this.pos=r,this.button=s};ru.prototype.compare=function(t,r,s){return this.time+Jv>t&&nt(r,this.pos)==0&&s==this.button};var la,ua;function Qv(t,r){var s=+new Date;return ua&&ua.compare(s,t,r)?(la=ua=null,"triple"):la&&la.compare(s,t,r)?(ua=new ru(s,t,r),la=null,"double"):(la=new ru(s,t,r),ua=null,"single")}function wd(t){var r=this,s=r.display;if(!(dt(r,t)||s.activeTouch&&s.input.supportsTouch())){if(s.input.ensurePolled(),s.shift=t.shiftKey,_r(s,t)){v||(s.scroller.draggable=!1,setTimeout(function(){return s.scroller.draggable=!0},100));return}if(!iu(r,t)){var a=vi(r,t),u=Vt(t),d=a?Qv(a,u):"single";de(r).focus(),u==1&&r.state.selectingText&&r.state.selectingText(t),!(a&&ey(r,u,a,d,t))&&(u==1?a?ny(r,a,d,t):Dt(t)==s.scroller&&Ge(t):u==2?(a&&Qa(r.doc,a),setTimeout(function(){return s.input.focus()},20)):u==3&&($e?r.display.input.onContextMenu(t):Pl(r)))}}}function ey(t,r,s,a,u){var d="Click";return a=="double"?d="Double"+d:a=="triple"&&(d="Triple"+d),d=(r==1?"Left":r==2?"Middle":"Right")+d,sa(t,dd(d,u),u,function(m){if(typeof m=="string"&&(m=aa[m]),!m)return!1;var g=!1;try{t.isReadOnly()&&(t.state.suppressEdits=!0),g=m(t,s)!=p}finally{t.state.suppressEdits=!1}return g})}function ty(t,r,s){var a=t.getOption("configureMouse"),u=a?a(t,r,s):{};if(u.unit==null){var d=le?s.shiftKey&&s.metaKey:s.altKey;u.unit=d?"rectangle":r=="single"?"char":r=="double"?"word":"line"}return(u.extend==null||t.doc.extend)&&(u.extend=t.doc.extend||s.shiftKey),u.addNew==null&&(u.addNew=ee?s.metaKey:s.ctrlKey),u.moveOnDrag==null&&(u.moveOnDrag=!(ee?s.altKey:s.ctrlKey)),u}function ny(t,r,s,a){c?setTimeout(Fe(Ec,t),0):t.curOp.focus=V(ae(t));var u=ty(t,s,a),d=t.doc.sel,m;t.options.dragDrop&&gt&&!t.isReadOnly()&&s=="single"&&(m=d.contains(r))>-1&&(nt((m=d.ranges[m]).from(),r)<0||r.xRel>0)&&(nt(m.to(),r)>0||r.xRel<0)?ry(t,a,r,u):iy(t,a,r,u)}function ry(t,r,s,a){var u=t.display,d=!1,m=hn(t,function(w){v&&(u.scroller.draggable=!1),t.state.draggingText=!1,t.state.delayingBlurEvent&&(t.hasFocus()?t.state.delayingBlurEvent=!1:Pl(t)),mt(u.wrapper.ownerDocument,"mouseup",m),mt(u.wrapper.ownerDocument,"mousemove",g),mt(u.scroller,"dragstart",y),mt(u.scroller,"drop",m),d||(Ge(w),a.addNew||Qa(t.doc,s,null,null,a.extend),v&&!J||c&&h==9?setTimeout(function(){u.wrapper.ownerDocument.body.focus({preventScroll:!0}),u.input.focus()},20):u.input.focus())}),g=function(w){d=d||Math.abs(r.clientX-w.clientX)+Math.abs(r.clientY-w.clientY)>=10},y=function(){return d=!0};v&&(u.scroller.draggable=!0),t.state.draggingText=m,m.copy=!a.moveOnDrag,Ve(u.wrapper.ownerDocument,"mouseup",m),Ve(u.wrapper.ownerDocument,"mousemove",g),Ve(u.scroller,"dragstart",y),Ve(u.scroller,"drop",m),t.state.delayingBlurEvent=!0,setTimeout(function(){return u.input.focus()},20),u.scroller.dragDrop&&u.scroller.dragDrop()}function Ed(t,r,s){if(s=="char")return new wt(r,r);if(s=="word")return t.findWordAt(r);if(s=="line")return new wt(Le(r.line,0),tt(t.doc,Le(r.line+1,0)));var a=s(t,r);return new wt(a.from,a.to)}function iy(t,r,s,a){c&&Pl(t);var u=t.display,d=t.doc;Ge(r);var m,g,y=d.sel,w=y.ranges;if(a.addNew&&!a.extend?(g=d.sel.contains(s),g>-1?m=w[g]:m=new wt(s,s)):(m=d.sel.primary(),g=d.sel.primIndex),a.unit=="rectangle")a.addNew||(m=new wt(s,s)),s=vi(t,r,!0,!0),g=-1;else{var P=Ed(t,s,a.unit);a.extend?m=Zl(m,P.anchor,P.head,a.extend):m=P}a.addNew?g==-1?(g=w.length,Cn(d,fr(t,w.concat([m]),g),{scroll:!1,origin:"*mouse"})):w.length>1&&w[g].empty()&&a.unit=="char"&&!a.extend?(Cn(d,fr(t,w.slice(0,g).concat(w.slice(g+1)),0),{scroll:!1,origin:"*mouse"}),y=d.sel):Jl(d,g,m,B):(g=0,Cn(d,new Yn([m],0),B),y=d.sel);var G=s;function oe(Be){if(nt(G,Be)!=0)if(G=Be,a.unit=="rectangle"){for(var Ue=[],Ze=t.options.tabSize,Ye=_e(Xe(d,s.line).text,s.ch,Ze),st=_e(Xe(d,Be.line).text,Be.ch,Ze),Tt=Math.min(Ye,st),mn=Math.max(Ye,st),Bt=Math.min(s.line,Be.line),jn=Math.min(t.lastLine(),Math.max(s.line,Be.line));Bt<=jn;Bt++){var In=Xe(d,Bt).text,Kt=L(In,Tt,Ze);Tt==mn?Ue.push(new wt(Le(Bt,Kt),Le(Bt,Kt))):In.length>Kt&&Ue.push(new wt(Le(Bt,Kt),Le(Bt,L(In,mn,Ze))))}Ue.length||Ue.push(new wt(s,s)),Cn(d,fr(t,y.ranges.slice(0,g).concat(Ue),g),{origin:"*mouse",scroll:!1}),t.scrollIntoView(Be)}else{var _n=m,bn=Ed(t,Be,a.unit),an=_n.anchor,Zt;nt(bn.anchor,an)>0?(Zt=bn.head,an=$i(_n.from(),bn.anchor)):(Zt=bn.anchor,an=ji(_n.to(),bn.head));var qt=y.ranges.slice(0);qt[g]=oy(t,new wt(tt(d,an),Zt)),Cn(d,fr(t,qt,g),B)}}var te=u.wrapper.getBoundingClientRect(),pe=0;function Ce(Be){var Ue=++pe,Ze=vi(t,Be,!0,a.unit=="rectangle");if(Ze)if(nt(Ze,G)!=0){t.curOp.focus=V(ae(t)),oe(Ze);var Ye=Xa(u,d);(Ze.line>=Ye.to||Ze.line<Ye.from)&&setTimeout(hn(t,function(){pe==Ue&&Ce(Be)}),150)}else{var st=Be.clientY<te.top?-20:Be.clientY>te.bottom?20:0;st&&setTimeout(hn(t,function(){pe==Ue&&(u.scroller.scrollTop+=st,Ce(Be))}),50)}}function Oe(Be){t.state.selectingText=!1,pe=1/0,Be&&(Ge(Be),u.input.focus()),mt(u.wrapper.ownerDocument,"mousemove",Ne),mt(u.wrapper.ownerDocument,"mouseup",qe),d.history.lastSelOrigin=null}var Ne=hn(t,function(Be){Be.buttons===0||!Vt(Be)?Oe(Be):Ce(Be)}),qe=hn(t,Oe);t.state.selectingText=qe,Ve(u.wrapper.ownerDocument,"mousemove",Ne),Ve(u.wrapper.ownerDocument,"mouseup",qe)}function oy(t,r){var s=r.anchor,a=r.head,u=Xe(t.doc,s.line);if(nt(s,a)==0&&s.sticky==a.sticky)return r;var d=rn(u);if(!d)return r;var m=Ke(d,s.ch,s.sticky),g=d[m];if(g.from!=s.ch&&g.to!=s.ch)return r;var y=m+(g.from==s.ch==(g.level!=1)?0:1);if(y==0||y==d.length)return r;var w;if(a.line!=s.line)w=(a.line-s.line)*(t.doc.direction=="ltr"?1:-1)>0;else{var P=Ke(d,a.ch,a.sticky),G=P-m||(a.ch-s.ch)*(g.level==1?-1:1);P==y-1||P==y?w=G<0:w=G>0}var oe=d[y+(w?-1:0)],te=w==(oe.level==1),pe=te?oe.from:oe.to,Ce=te?"after":"before";return s.ch==pe&&s.sticky==Ce?r:new wt(new Le(s.line,pe,Ce),a)}function Cd(t,r,s,a){var u,d;if(r.touches)u=r.touches[0].clientX,d=r.touches[0].clientY;else try{u=r.clientX,d=r.clientY}catch{return!1}if(u>=Math.floor(t.display.gutters.getBoundingClientRect().right))return!1;a&&Ge(r);var m=t.display,g=m.lineDiv.getBoundingClientRect();if(d>g.bottom||!rt(t,s))return un(r);d-=g.top-m.viewOffset;for(var y=0;y<t.display.gutterSpecs.length;++y){var w=m.gutters.childNodes[y];if(w&&w.getBoundingClientRect().right>=u){var P=Or(t.doc,d),G=t.display.gutterSpecs[y];return Lt(t,s,t,P,G.className,r),un(r)}}}function iu(t,r){return Cd(t,r,"gutterClick",!0)}function kd(t,r){_r(t.display,r)||ay(t,r)||dt(t,r,"contextmenu")||$e||t.display.input.onContextMenu(r)}function ay(t,r){return rt(t,"gutterContextMenu")?Cd(t,r,"gutterContextMenu",!1):!1}function Dd(t){t.display.wrapper.className=t.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+t.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Uo(t)}var uo={toString:function(){return"CodeMirror.Init"}},Td={},as={};function sy(t){var r=t.optionHandlers;function s(a,u,d,m){t.defaults[a]=u,d&&(r[a]=m?function(g,y,w){w!=uo&&d(g,y,w)}:d)}t.defineOption=s,t.Init=uo,s("value","",function(a,u){return a.setValue(u)},!0),s("mode",null,function(a,u){a.doc.modeOption=u,Vl(a)},!0),s("indentUnit",2,Vl,!0),s("indentWithTabs",!1),s("smartIndent",!0),s("tabSize",4,function(a){Zo(a),Uo(a),On(a)},!0),s("lineSeparator",null,function(a,u){if(a.doc.lineSep=u,!!u){var d=[],m=a.doc.first;a.doc.iter(function(y){for(var w=0;;){var P=y.text.indexOf(u,w);if(P==-1)break;w=P+u.length,d.push(Le(m,P))}m++});for(var g=d.length-1;g>=0;g--)oo(a.doc,u,d[g],Le(d[g].line,d[g].ch+u.length))}}),s("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(a,u,d){a.state.specialChars=new RegExp(u.source+(u.test("	")?"":"|	"),"g"),d!=uo&&a.refresh()}),s("specialCharPlaceholder",Ng,function(a){return a.refresh()},!0),s("electricChars",!0),s("inputStyle",ue?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),s("spellcheck",!1,function(a,u){return a.getInputField().spellcheck=u},!0),s("autocorrect",!1,function(a,u){return a.getInputField().autocorrect=u},!0),s("autocapitalize",!1,function(a,u){return a.getInputField().autocapitalize=u},!0),s("rtlMoveVisually",!ke),s("wholeLineUpdateBefore",!0),s("theme","default",function(a){Dd(a),Ko(a)},!0),s("keyMap","default",function(a,u,d){var m=is(u),g=d!=uo&&is(d);g&&g.detach&&g.detach(a,m),m.attach&&m.attach(a,g||null)}),s("extraKeys",null),s("configureMouse",null),s("lineWrapping",!1,uy,!0),s("gutters",[],function(a,u){a.display.gutterSpecs=Gl(u,a.options.lineNumbers),Ko(a)},!0),s("fixedGutter",!0,function(a,u){a.display.gutters.style.left=u?_l(a.display)+"px":"0",a.refresh()},!0),s("coverGutterNextToScrollbar",!1,function(a){return to(a)},!0),s("scrollbarStyle","native",function(a){Ac(a),to(a),a.display.scrollbars.setScrollTop(a.doc.scrollTop),a.display.scrollbars.setScrollLeft(a.doc.scrollLeft)},!0),s("lineNumbers",!1,function(a,u){a.display.gutterSpecs=Gl(a.options.gutters,u),Ko(a)},!0),s("firstLineNumber",1,Ko,!0),s("lineNumberFormatter",function(a){return a},Ko,!0),s("showCursorWhenSelecting",!1,jo,!0),s("resetSelectionOnContextMenu",!0),s("lineWiseCopyCut",!0),s("pasteLinesPerSelection",!0),s("selectionsMayTouch",!1),s("readOnly",!1,function(a,u){u=="nocursor"&&(Qi(a),a.display.input.blur()),a.display.input.readOnlyChanged(u)}),s("screenReaderLabel",null,function(a,u){u=u===""?null:u,a.display.input.screenReaderLabelChanged(u)}),s("disableInput",!1,function(a,u){u||a.display.input.reset()},!0),s("dragDrop",!0,ly),s("allowDropFileTypes",null),s("cursorBlinkRate",530),s("cursorScrollMargin",0),s("cursorHeight",1,jo,!0),s("singleCursorHeightPerLine",!0,jo,!0),s("workTime",100),s("workDelay",100),s("flattenSpans",!0,Zo,!0),s("addModeClass",!1,Zo,!0),s("pollInterval",100),s("undoDepth",200,function(a,u){return a.doc.history.undoDepth=u}),s("historyEventDelay",1250),s("viewportMargin",10,function(a){return a.refresh()},!0),s("maxHighlightLength",1e4,Zo,!0),s("moveInputWithCursor",!0,function(a,u){u||a.display.input.resetPosition()}),s("tabindex",null,function(a,u){return a.display.input.getField().tabIndex=u||""}),s("autofocus",null),s("direction","ltr",function(a,u){return a.doc.setDirection(u)},!0),s("phrases",null)}function ly(t,r,s){var a=s&&s!=uo;if(!r!=!a){var u=t.display.dragFunctions,d=r?Ve:mt;d(t.display.scroller,"dragstart",u.start),d(t.display.scroller,"dragenter",u.enter),d(t.display.scroller,"dragover",u.over),d(t.display.scroller,"dragleave",u.leave),d(t.display.scroller,"drop",u.drop)}}function uy(t){t.options.lineWrapping?(N(t.display.wrapper,"CodeMirror-wrap"),t.display.sizer.style.minWidth="",t.display.sizerWidth=null):(Z(t.display.wrapper,"CodeMirror-wrap"),kl(t)),Rl(t),On(t),Uo(t),setTimeout(function(){return to(t)},100)}function It(t,r){var s=this;if(!(this instanceof It))return new It(t,r);this.options=r=r?Ae(r):{},Ae(Td,r,!1);var a=r.value;typeof a=="string"?a=new Mn(a,r.mode,null,r.lineSeparator,r.direction):r.mode&&(a.modeOption=r.mode),this.doc=a;var u=new It.inputStyles[r.inputStyle](this),d=this.display=new Ev(t,a,u,r);d.wrapper.CodeMirror=this,Dd(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Ac(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Pe,keySeq:null,specialChars:null},r.autofocus&&!ue&&d.input.focus(),c&&h<11&&setTimeout(function(){return s.display.input.reset(!0)},20),fy(this),Wv(),wi(this),this.curOp.forceUpdate=!0,Pc(this,a),r.autofocus&&!ue||this.hasFocus()?setTimeout(function(){s.hasFocus()&&!s.state.focused&&Hl(s)},20):Qi(this);for(var m in as)as.hasOwnProperty(m)&&as[m](this,r[m],uo);Oc(this),r.finishInit&&r.finishInit(this);for(var g=0;g<ou.length;++g)ou[g](this);Ei(this),v&&r.lineWrapping&&getComputedStyle(d.lineDiv).textRendering=="optimizelegibility"&&(d.lineDiv.style.textRendering="auto")}It.defaults=Td,It.optionHandlers=as;function fy(t){var r=t.display;Ve(r.scroller,"mousedown",hn(t,wd)),c&&h<11?Ve(r.scroller,"dblclick",hn(t,function(y){if(!dt(t,y)){var w=vi(t,y);if(!(!w||iu(t,y)||_r(t.display,y))){Ge(y);var P=t.findWordAt(w);Qa(t.doc,P.anchor,P.head)}}})):Ve(r.scroller,"dblclick",function(y){return dt(t,y)||Ge(y)}),Ve(r.scroller,"contextmenu",function(y){return kd(t,y)}),Ve(r.input.getField(),"contextmenu",function(y){r.scroller.contains(y.target)||kd(t,y)});var s,a={end:0};function u(){r.activeTouch&&(s=setTimeout(function(){return r.activeTouch=null},1e3),a=r.activeTouch,a.end=+new Date)}function d(y){if(y.touches.length!=1)return!1;var w=y.touches[0];return w.radiusX<=1&&w.radiusY<=1}function m(y,w){if(w.left==null)return!0;var P=w.left-y.left,G=w.top-y.top;return P*P+G*G>20*20}Ve(r.scroller,"touchstart",function(y){if(!dt(t,y)&&!d(y)&&!iu(t,y)){r.input.ensurePolled(),clearTimeout(s);var w=+new Date;r.activeTouch={start:w,moved:!1,prev:w-a.end<=300?a:null},y.touches.length==1&&(r.activeTouch.left=y.touches[0].pageX,r.activeTouch.top=y.touches[0].pageY)}}),Ve(r.scroller,"touchmove",function(){r.activeTouch&&(r.activeTouch.moved=!0)}),Ve(r.scroller,"touchend",function(y){var w=r.activeTouch;if(w&&!_r(r,y)&&w.left!=null&&!w.moved&&new Date-w.start<300){var P=t.coordsChar(r.activeTouch,"page"),G;!w.prev||m(w,w.prev)?G=new wt(P,P):!w.prev.prev||m(w,w.prev.prev)?G=t.findWordAt(P):G=new wt(Le(P.line,0),tt(t.doc,Le(P.line+1,0))),t.setSelection(G.anchor,G.head),t.focus(),Ge(y)}u()}),Ve(r.scroller,"touchcancel",u),Ve(r.scroller,"scroll",function(){r.scroller.clientHeight&&(Go(t,r.scroller.scrollTop),xi(t,r.scroller.scrollLeft,!0),Lt(t,"scroll",t))}),Ve(r.scroller,"mousewheel",function(y){return _c(t,y)}),Ve(r.scroller,"DOMMouseScroll",function(y){return _c(t,y)}),Ve(r.wrapper,"scroll",function(){return r.wrapper.scrollTop=r.wrapper.scrollLeft=0}),r.dragFunctions={enter:function(y){dt(t,y)||Lr(y)},over:function(y){dt(t,y)||(qv(t,y),Lr(y))},start:function(y){return Hv(t,y)},drop:hn(t,Pv),leave:function(y){dt(t,y)||ld(t)}};var g=r.input.getField();Ve(g,"keyup",function(y){return xd.call(t,y)}),Ve(g,"keydown",hn(t,yd)),Ve(g,"keypress",hn(t,bd)),Ve(g,"focus",function(y){return Hl(t,y)}),Ve(g,"blur",function(y){return Qi(t,y)})}var ou=[];It.defineInitHook=function(t){return ou.push(t)};function fa(t,r,s,a){var u=t.doc,d;s==null&&(s="add"),s=="smart"&&(u.mode.indent?d=re(t,r).state:s="prev");var m=t.options.tabSize,g=Xe(u,r),y=_e(g.text,null,m);g.stateAfter&&(g.stateAfter=null);var w=g.text.match(/^\s*/)[0],P;if(!a&&!/\S/.test(g.text))P=0,s="not";else if(s=="smart"&&(P=u.mode.indent(d,g.text.slice(w.length),g.text),P==p||P>150)){if(!a)return;s="prev"}s=="prev"?r>u.first?P=_e(Xe(u,r-1).text,null,m):P=0:s=="add"?P=y+t.options.indentUnit:s=="subtract"?P=y-t.options.indentUnit:typeof s=="number"&&(P=y+s),P=Math.max(0,P);var G="",oe=0;if(t.options.indentWithTabs)for(var te=Math.floor(P/m);te;--te)oe+=m,G+="	";if(oe<P&&(G+=Y(P-oe)),G!=w)return oo(u,G,Le(r,0),Le(r,w.length),"+input"),g.stateAfter=null,!0;for(var pe=0;pe<u.sel.ranges.length;pe++){var Ce=u.sel.ranges[pe];if(Ce.head.line==r&&Ce.head.ch<w.length){var Oe=Le(r,w.length);Jl(u,pe,new wt(Oe,Oe));break}}}var cr=null;function ss(t){cr=t}function au(t,r,s,a,u){var d=t.doc;t.display.shift=!1,a||(a=d.sel);var m=+new Date-200,g=u=="paste"||t.state.pasteIncoming>m,y=jr(r),w=null;if(g&&a.ranges.length>1)if(cr&&cr.text.join(`
`)==r){if(a.ranges.length%cr.text.length==0){w=[];for(var P=0;P<cr.text.length;P++)w.push(d.splitLines(cr.text[P]))}}else y.length==a.ranges.length&&t.options.pasteLinesPerSelection&&(w=he(y,function(Ne){return[Ne]}));for(var G=t.curOp.updateInput,oe=a.ranges.length-1;oe>=0;oe--){var te=a.ranges[oe],pe=te.from(),Ce=te.to();te.empty()&&(s&&s>0?pe=Le(pe.line,pe.ch-s):t.state.overwrite&&!g?Ce=Le(Ce.line,Math.min(Xe(d,Ce.line).text.length,Ce.ch+U(y).length)):g&&cr&&cr.lineWise&&cr.text.join(`
`)==y.join(`
`)&&(pe=Ce=Le(pe.line,0)));var Oe={from:pe,to:Ce,text:w?w[oe%w.length]:y,origin:u||(g?"paste":t.state.cutIncoming>m?"cut":"+input")};io(t.doc,Oe),dn(t,"inputRead",t,Oe)}r&&!g&&Ad(t,r),eo(t),t.curOp.updateInput<2&&(t.curOp.updateInput=G),t.curOp.typing=!0,t.state.pasteIncoming=t.state.cutIncoming=-1}function Sd(t,r){var s=t.clipboardData&&t.clipboardData.getData("Text");if(s)return t.preventDefault(),!r.isReadOnly()&&!r.options.disableInput&&r.hasFocus()&&Un(r,function(){return au(r,s,0,null,"paste")}),!0}function Ad(t,r){if(!(!t.options.electricChars||!t.options.smartIndent))for(var s=t.doc.sel,a=s.ranges.length-1;a>=0;a--){var u=s.ranges[a];if(!(u.head.ch>100||a&&s.ranges[a-1].head.line==u.head.line)){var d=t.getModeAt(u.head),m=!1;if(d.electricChars){for(var g=0;g<d.electricChars.length;g++)if(r.indexOf(d.electricChars.charAt(g))>-1){m=fa(t,u.head.line,"smart");break}}else d.electricInput&&d.electricInput.test(Xe(t.doc,u.head.line).text.slice(0,u.head.ch))&&(m=fa(t,u.head.line,"smart"));m&&dn(t,"electricInput",t,u.head.line)}}}function Ld(t){for(var r=[],s=[],a=0;a<t.doc.sel.ranges.length;a++){var u=t.doc.sel.ranges[a].head.line,d={anchor:Le(u,0),head:Le(u+1,0)};s.push(d),r.push(t.getRange(d.anchor,d.head))}return{text:r,ranges:s}}function su(t,r,s,a){t.setAttribute("autocorrect",s?"on":"off"),t.setAttribute("autocapitalize",a?"on":"off"),t.setAttribute("spellcheck",!!r)}function Fd(){var t=E("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),r=E("div",[t],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?t.style.width="1000px":t.setAttribute("wrap","off"),q&&(t.style.border="1px solid black"),r}function cy(t){var r=t.optionHandlers,s=t.helpers={};t.prototype={constructor:t,focus:function(){de(this).focus(),this.display.input.focus()},setOption:function(a,u){var d=this.options,m=d[a];d[a]==u&&a!="mode"||(d[a]=u,r.hasOwnProperty(a)&&hn(this,r[a])(this,u,m),Lt(this,"optionChange",this,a))},getOption:function(a){return this.options[a]},getDoc:function(){return this.doc},addKeyMap:function(a,u){this.state.keyMaps[u?"push":"unshift"](is(a))},removeKeyMap:function(a){for(var u=this.state.keyMaps,d=0;d<u.length;++d)if(u[d]==a||u[d].name==a)return u.splice(d,1),!0},addOverlay:Sn(function(a,u){var d=a.token?a:t.getMode(this.options,a);if(d.startState)throw new Error("Overlays may not be stateful.");De(this.state.overlays,{mode:d,modeSpec:a,opaque:u&&u.opaque,priority:u&&u.priority||0},function(m){return m.priority}),this.state.modeGen++,On(this)}),removeOverlay:Sn(function(a){for(var u=this.state.overlays,d=0;d<u.length;++d){var m=u[d].modeSpec;if(m==a||typeof a=="string"&&m.name==a){u.splice(d,1),this.state.modeGen++,On(this);return}}}),indentLine:Sn(function(a,u,d){typeof u!="string"&&typeof u!="number"&&(u==null?u=this.options.smartIndent?"smart":"prev":u=u?"add":"subtract"),hi(this.doc,a)&&fa(this,a,u,d)}),indentSelection:Sn(function(a){for(var u=this.doc.sel.ranges,d=-1,m=0;m<u.length;m++){var g=u[m];if(g.empty())g.head.line>d&&(fa(this,g.head.line,a,!0),d=g.head.line,m==this.doc.sel.primIndex&&eo(this));else{var y=g.from(),w=g.to(),P=Math.max(d,y.line);d=Math.min(this.lastLine(),w.line-(w.ch?0:1))+1;for(var G=P;G<d;++G)fa(this,G,a);var oe=this.doc.sel.ranges;y.ch==0&&u.length==oe.length&&oe[m].from().ch>0&&Jl(this.doc,m,new wt(y,oe[m].to()),k)}}}),getTokenAt:function(a,u){return be(this,a,u)},getLineTokens:function(a,u){return be(this,Le(a),u,!0)},getTokenTypeAt:function(a){a=tt(this.doc,a);var u=K(this,Xe(this.doc,a.line)),d=0,m=(u.length-1)/2,g=a.ch,y;if(g==0)y=u[2];else for(;;){var w=d+m>>1;if((w?u[w*2-1]:0)>=g)m=w;else if(u[w*2+1]<g)d=w+1;else{y=u[w*2+2];break}}var P=y?y.indexOf("overlay "):-1;return P<0?y:P==0?null:y.slice(0,P-1)},getModeAt:function(a){var u=this.doc.mode;return u.innerMode?t.innerMode(u,this.getTokenAt(a).state).mode:u},getHelper:function(a,u){return this.getHelpers(a,u)[0]},getHelpers:function(a,u){var d=[];if(!s.hasOwnProperty(u))return d;var m=s[u],g=this.getModeAt(a);if(typeof g[u]=="string")m[g[u]]&&d.push(m[g[u]]);else if(g[u])for(var y=0;y<g[u].length;y++){var w=m[g[u][y]];w&&d.push(w)}else g.helperType&&m[g.helperType]?d.push(m[g.helperType]):m[g.name]&&d.push(m[g.name]);for(var P=0;P<m._global.length;P++){var G=m._global[P];G.pred(g,this)&&S(d,G.val)==-1&&d.push(G.val)}return d},getStateAfter:function(a,u){var d=this.doc;return a=Ba(d,a??d.first+d.size-1),re(this,a+1,u).state},cursorCoords:function(a,u){var d,m=this.doc.sel.primary();return a==null?d=m.head:typeof a=="object"?d=tt(this.doc,a):d=a?m.from():m.to(),ur(this,d,u||"page")},charCoords:function(a,u){return Ua(this,tt(this.doc,a),u||"page")},coordsChar:function(a,u){return a=mc(this,a,u||"page"),Ol(this,a.left,a.top)},lineAtHeight:function(a,u){return a=mc(this,{top:a,left:0},u||"page").top,Or(this.doc,a+this.display.viewOffset)},heightAtLine:function(a,u,d){var m=!1,g;if(typeof a=="number"){var y=this.doc.first+this.doc.size-1;a<this.doc.first?a=this.doc.first:a>y&&(a=y,m=!0),g=Xe(this.doc,a)}else g=a;return za(this,g,{top:0,left:0},u||"page",d||m).top+(m?this.doc.height-Ir(g):0)},defaultTextHeight:function(){return Zi(this.display)},defaultCharWidth:function(){return Ji(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(a,u,d,m,g){var y=this.display;a=ur(this,tt(this.doc,a));var w=a.bottom,P=a.left;if(u.style.position="absolute",u.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(u),y.sizer.appendChild(u),m=="over")w=a.top;else if(m=="above"||m=="near"){var G=Math.max(y.wrapper.clientHeight,this.doc.height),oe=Math.max(y.sizer.clientWidth,y.lineSpace.clientWidth);(m=="above"||a.bottom+u.offsetHeight>G)&&a.top>u.offsetHeight?w=a.top-u.offsetHeight:a.bottom+u.offsetHeight<=G&&(w=a.bottom),P+u.offsetWidth>oe&&(P=oe-u.offsetWidth)}u.style.top=w+"px",u.style.left=u.style.right="",g=="right"?(P=y.sizer.clientWidth-u.offsetWidth,u.style.right="0px"):(g=="left"?P=0:g=="middle"&&(P=(y.sizer.clientWidth-u.offsetWidth)/2),u.style.left=P+"px"),d&&lv(this,{left:P,top:w,right:P+u.offsetWidth,bottom:w+u.offsetHeight})},triggerOnKeyDown:Sn(yd),triggerOnKeyPress:Sn(bd),triggerOnKeyUp:xd,triggerOnMouseDown:Sn(wd),execCommand:function(a){if(aa.hasOwnProperty(a))return aa[a].call(null,this)},triggerElectric:Sn(function(a){Ad(this,a)}),findPosH:function(a,u,d,m){var g=1;u<0&&(g=-1,u=-u);for(var y=tt(this.doc,a),w=0;w<u&&(y=lu(this.doc,y,g,d,m),!y.hitSide);++w);return y},moveH:Sn(function(a,u){var d=this;this.extendSelectionsBy(function(m){return d.display.shift||d.doc.extend||m.empty()?lu(d.doc,m.head,a,u,d.options.rtlMoveVisually):a<0?m.from():m.to()},I)}),deleteH:Sn(function(a,u){var d=this.doc.sel,m=this.doc;d.somethingSelected()?m.replaceSelection("",null,"+delete"):lo(this,function(g){var y=lu(m,g.head,a,u,!1);return a<0?{from:y,to:g.head}:{from:g.head,to:y}})}),findPosV:function(a,u,d,m){var g=1,y=m;u<0&&(g=-1,u=-u);for(var w=tt(this.doc,a),P=0;P<u;++P){var G=ur(this,w,"div");if(y==null?y=G.left:G.left=y,w=Od(this,G,g,d),w.hitSide)break}return w},moveV:Sn(function(a,u){var d=this,m=this.doc,g=[],y=!this.display.shift&&!m.extend&&m.sel.somethingSelected();if(m.extendSelectionsBy(function(P){if(y)return a<0?P.from():P.to();var G=ur(d,P.head,"div");P.goalColumn!=null&&(G.left=P.goalColumn),g.push(G.left);var oe=Od(d,G,a,u);return u=="page"&&P==m.sel.primary()&&Wl(d,Ua(d,oe,"div").top-G.top),oe},I),g.length)for(var w=0;w<m.sel.ranges.length;w++)m.sel.ranges[w].goalColumn=g[w]}),findWordAt:function(a){var u=this.doc,d=Xe(u,a.line).text,m=a.ch,g=a.ch;if(d){var y=this.getHelper(a,"wordChars");(a.sticky=="before"||g==d.length)&&m?--m:++g;for(var w=d.charAt(m),P=We(w,y)?function(G){return We(G,y)}:/\s/.test(w)?function(G){return/\s/.test(G)}:function(G){return!/\s/.test(G)&&!We(G)};m>0&&P(d.charAt(m-1));)--m;for(;g<d.length&&P(d.charAt(g));)++g}return new wt(Le(a.line,m),Le(a.line,g))},toggleOverwrite:function(a){a!=null&&a==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?N(this.display.cursorDiv,"CodeMirror-overwrite"):Z(this.display.cursorDiv,"CodeMirror-overwrite"),Lt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==V(ae(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:Sn(function(a,u){$o(this,a,u)}),getScrollInfo:function(){var a=this.display.scroller;return{left:a.scrollLeft,top:a.scrollTop,height:a.scrollHeight-wr(this)-this.display.barHeight,width:a.scrollWidth-wr(this)-this.display.barWidth,clientHeight:Sl(this),clientWidth:mi(this)}},scrollIntoView:Sn(function(a,u){a==null?(a={from:this.doc.sel.primary().head,to:null},u==null&&(u=this.options.cursorScrollMargin)):typeof a=="number"?a={from:Le(a,0),to:null}:a.from==null&&(a={from:a,to:null}),a.to||(a.to=a.from),a.margin=u||0,a.from.line!=null?uv(this,a):kc(this,a.from,a.to,a.margin)}),setSize:Sn(function(a,u){var d=this,m=function(y){return typeof y=="number"||/^\d+$/.test(String(y))?y+"px":y};a!=null&&(this.display.wrapper.style.width=m(a)),u!=null&&(this.display.wrapper.style.height=m(u)),this.options.lineWrapping&&dc(this);var g=this.display.viewFrom;this.doc.iter(g,this.display.viewTo,function(y){if(y.widgets){for(var w=0;w<y.widgets.length;w++)if(y.widgets[w].noHScroll){Xr(d,g,"widget");break}}++g}),this.curOp.forceUpdate=!0,Lt(this,"refresh",this)}),operation:function(a){return Un(this,a)},startOperation:function(){return wi(this)},endOperation:function(){return Ei(this)},refresh:Sn(function(){var a=this.display.cachedTextHeight;On(this),this.curOp.forceUpdate=!0,Uo(this),$o(this,this.doc.scrollLeft,this.doc.scrollTop),jl(this.display),(a==null||Math.abs(a-Zi(this.display))>.5||this.options.lineWrapping)&&Rl(this),Lt(this,"refresh",this)}),swapDoc:Sn(function(a){var u=this.doc;return u.cm=null,this.state.selectingText&&this.state.selectingText(),Pc(this,a),Uo(this),this.display.input.reset(),$o(this,a.scrollLeft,a.scrollTop),this.curOp.forceScroll=!0,dn(this,"swapDoc",this,u),u}),phrase:function(a){var u=this.options.phrases;return u&&Object.prototype.hasOwnProperty.call(u,a)?u[a]:a},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ut(t),t.registerHelper=function(a,u,d){s.hasOwnProperty(a)||(s[a]=t[a]={_global:[]}),s[a][u]=d},t.registerGlobalHelper=function(a,u,d,m){t.registerHelper(a,u,m),s[a]._global.push({pred:d,val:m})}}function lu(t,r,s,a,u){var d=r,m=s,g=Xe(t,r.line),y=u&&t.direction=="rtl"?-s:s;function w(){var qe=r.line+y;return qe<t.first||qe>=t.first+t.size?!1:(r=new Le(qe,r.ch,r.sticky),g=Xe(t,qe))}function P(qe){var Be;if(a=="codepoint"){var Ue=g.text.charCodeAt(r.ch+(s>0?0:-1));if(isNaN(Ue))Be=null;else{var Ze=s>0?Ue>=55296&&Ue<56320:Ue>=56320&&Ue<57343;Be=new Le(r.line,Math.max(0,Math.min(g.text.length,r.ch+s*(Ze?2:1))),-s)}}else u?Be=Gv(t.cm,g,r,s):Be=eu(g,r,s);if(Be==null)if(!qe&&w())r=tu(u,t.cm,g,r.line,y);else return!1;else r=Be;return!0}if(a=="char"||a=="codepoint")P();else if(a=="column")P(!0);else if(a=="word"||a=="group")for(var G=null,oe=a=="group",te=t.cm&&t.cm.getHelper(r,"wordChars"),pe=!0;!(s<0&&!P(!pe));pe=!1){var Ce=g.text.charAt(r.ch)||`
`,Oe=We(Ce,te)?"w":oe&&Ce==`
`?"n":!oe||/\s/.test(Ce)?null:"p";if(oe&&!pe&&!Oe&&(Oe="s"),G&&G!=Oe){s<0&&(s=1,P(),r.sticky="after");break}if(Oe&&(G=Oe),s>0&&!P(!pe))break}var Ne=ts(t,r,d,m,!0);return Bo(d,Ne)&&(Ne.hitSide=!0),Ne}function Od(t,r,s,a){var u=t.doc,d=r.left,m;if(a=="page"){var g=Math.min(t.display.wrapper.clientHeight,de(t).innerHeight||u(t).documentElement.clientHeight),y=Math.max(g-.5*Zi(t.display),3);m=(s>0?r.bottom:r.top)+s*y}else a=="line"&&(m=s>0?r.bottom+3:r.top-3);for(var w;w=Ol(t,d,m),!!w.outside;){if(s<0?m<=0:m>=u.height){w.hitSide=!0;break}m+=s*5}return w}var Et=function(t){this.cm=t,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Pe,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};Et.prototype.init=function(t){var r=this,s=this,a=s.cm,u=s.div=t.lineDiv;u.contentEditable=!0,su(u,a.options.spellcheck,a.options.autocorrect,a.options.autocapitalize);function d(g){for(var y=g.target;y;y=y.parentNode){if(y==u)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(y.className))break}return!1}Ve(u,"paste",function(g){!d(g)||dt(a,g)||Sd(g,a)||h<=11&&setTimeout(hn(a,function(){return r.updateFromDOM()}),20)}),Ve(u,"compositionstart",function(g){r.composing={data:g.data,done:!1}}),Ve(u,"compositionupdate",function(g){r.composing||(r.composing={data:g.data,done:!1})}),Ve(u,"compositionend",function(g){r.composing&&(g.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),Ve(u,"touchstart",function(){return s.forceCompositionEnd()}),Ve(u,"input",function(){r.composing||r.readFromDOMSoon()});function m(g){if(!(!d(g)||dt(a,g))){if(a.somethingSelected())ss({lineWise:!1,text:a.getSelections()}),g.type=="cut"&&a.replaceSelection("",null,"cut");else if(a.options.lineWiseCopyCut){var y=Ld(a);ss({lineWise:!0,text:y.text}),g.type=="cut"&&a.operation(function(){a.setSelections(y.ranges,0,k),a.replaceSelection("",null,"cut")})}else return;if(g.clipboardData){g.clipboardData.clearData();var w=cr.text.join(`
`);if(g.clipboardData.setData("Text",w),g.clipboardData.getData("Text")==w){g.preventDefault();return}}var P=Fd(),G=P.firstChild;su(G),a.display.lineSpace.insertBefore(P,a.display.lineSpace.firstChild),G.value=cr.text.join(`
`);var oe=V(me(u));R(G),setTimeout(function(){a.display.lineSpace.removeChild(P),oe.focus(),oe==u&&s.showPrimarySelection()},50)}}Ve(u,"copy",m),Ve(u,"cut",m)},Et.prototype.screenReaderLabelChanged=function(t){t?this.div.setAttribute("aria-label",t):this.div.removeAttribute("aria-label")},Et.prototype.prepareSelection=function(){var t=wc(this.cm,!1);return t.focus=V(me(this.div))==this.div,t},Et.prototype.showSelection=function(t,r){!t||!this.cm.display.view.length||((t.focus||r)&&this.showPrimarySelection(),this.showMultipleSelections(t))},Et.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Et.prototype.showPrimarySelection=function(){var t=this.getSelection(),r=this.cm,s=r.doc.sel.primary(),a=s.from(),u=s.to();if(r.display.viewTo==r.display.viewFrom||a.line>=r.display.viewTo||u.line<r.display.viewFrom){t.removeAllRanges();return}var d=ls(r,t.anchorNode,t.anchorOffset),m=ls(r,t.focusNode,t.focusOffset);if(!(d&&!d.bad&&m&&!m.bad&&nt($i(d,m),a)==0&&nt(ji(d,m),u)==0)){var g=r.display.view,y=a.line>=r.display.viewFrom&&Md(r,a)||{node:g[0].measure.map[2],offset:0},w=u.line<r.display.viewTo&&Md(r,u);if(!w){var P=g[g.length-1].measure,G=P.maps?P.maps[P.maps.length-1]:P.map;w={node:G[G.length-1],offset:G[G.length-2]-G[G.length-3]}}if(!y||!w){t.removeAllRanges();return}var oe=t.rangeCount&&t.getRangeAt(0),te;try{te=j(y.node,y.offset,w.offset,w.node)}catch{}te&&(!i&&r.state.focused?(t.collapse(y.node,y.offset),te.collapsed||(t.removeAllRanges(),t.addRange(te))):(t.removeAllRanges(),t.addRange(te)),oe&&t.anchorNode==null?t.addRange(oe):i&&this.startGracePeriod()),this.rememberSelection()}},Et.prototype.startGracePeriod=function(){var t=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){t.gracePeriod=!1,t.selectionChanged()&&t.cm.operation(function(){return t.cm.curOp.selectionChanged=!0})},20)},Et.prototype.showMultipleSelections=function(t){A(this.cm.display.cursorDiv,t.cursors),A(this.cm.display.selectionDiv,t.selection)},Et.prototype.rememberSelection=function(){var t=this.getSelection();this.lastAnchorNode=t.anchorNode,this.lastAnchorOffset=t.anchorOffset,this.lastFocusNode=t.focusNode,this.lastFocusOffset=t.focusOffset},Et.prototype.selectionInEditor=function(){var t=this.getSelection();if(!t.rangeCount)return!1;var r=t.getRangeAt(0).commonAncestorContainer;return H(this.div,r)},Et.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||V(me(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},Et.prototype.blur=function(){this.div.blur()},Et.prototype.getField=function(){return this.div},Et.prototype.supportsTouch=function(){return!0},Et.prototype.receivedFocus=function(){var t=this,r=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):Un(this.cm,function(){return r.cm.curOp.selectionChanged=!0});function s(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,s))}this.polling.set(this.cm.options.pollInterval,s)},Et.prototype.selectionChanged=function(){var t=this.getSelection();return t.anchorNode!=this.lastAnchorNode||t.anchorOffset!=this.lastAnchorOffset||t.focusNode!=this.lastFocusNode||t.focusOffset!=this.lastFocusOffset},Et.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var t=this.getSelection(),r=this.cm;if(Q&&O&&this.cm.display.gutterSpecs.length&&dy(t.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var s=ls(r,t.anchorNode,t.anchorOffset),a=ls(r,t.focusNode,t.focusOffset);s&&a&&Un(r,function(){Cn(r.doc,Yr(s,a),k),(s.bad||a.bad)&&(r.curOp.selectionChanged=!0)})}}},Et.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var t=this.cm,r=t.display,s=t.doc.sel.primary(),a=s.from(),u=s.to();if(a.ch==0&&a.line>t.firstLine()&&(a=Le(a.line-1,Xe(t.doc,a.line-1).length)),u.ch==Xe(t.doc,u.line).text.length&&u.line<t.lastLine()&&(u=Le(u.line+1,0)),a.line<r.viewFrom||u.line>r.viewTo-1)return!1;var d,m,g;a.line==r.viewFrom||(d=yi(t,a.line))==0?(m=xt(r.view[0].line),g=r.view[0].node):(m=xt(r.view[d].line),g=r.view[d-1].node.nextSibling);var y=yi(t,u.line),w,P;if(y==r.view.length-1?(w=r.viewTo-1,P=r.lineDiv.lastChild):(w=xt(r.view[y+1].line)-1,P=r.view[y+1].node.previousSibling),!g)return!1;for(var G=t.doc.splitLines(hy(t,g,P,m,w)),oe=xr(t.doc,Le(m,0),Le(w,Xe(t.doc,w).text.length));G.length>1&&oe.length>1;)if(U(G)==U(oe))G.pop(),oe.pop(),w--;else if(G[0]==oe[0])G.shift(),oe.shift(),m++;else break;for(var te=0,pe=0,Ce=G[0],Oe=oe[0],Ne=Math.min(Ce.length,Oe.length);te<Ne&&Ce.charCodeAt(te)==Oe.charCodeAt(te);)++te;for(var qe=U(G),Be=U(oe),Ue=Math.min(qe.length-(G.length==1?te:0),Be.length-(oe.length==1?te:0));pe<Ue&&qe.charCodeAt(qe.length-pe-1)==Be.charCodeAt(Be.length-pe-1);)++pe;if(G.length==1&&oe.length==1&&m==a.line)for(;te&&te>a.ch&&qe.charCodeAt(qe.length-pe-1)==Be.charCodeAt(Be.length-pe-1);)te--,pe++;G[G.length-1]=qe.slice(0,qe.length-pe).replace(/^\u200b+/,""),G[0]=G[0].slice(te).replace(/\u200b+$/,"");var Ze=Le(m,te),Ye=Le(w,oe.length?U(oe).length-pe:0);if(G.length>1||G[0]||nt(Ze,Ye))return oo(t.doc,G,Ze,Ye,"+input"),!0},Et.prototype.ensurePolled=function(){this.forceCompositionEnd()},Et.prototype.reset=function(){this.forceCompositionEnd()},Et.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Et.prototype.readFromDOMSoon=function(){var t=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(t.readDOMTimeout=null,t.composing)if(t.composing.done)t.composing=null;else return;t.updateFromDOM()},80))},Et.prototype.updateFromDOM=function(){var t=this;(this.cm.isReadOnly()||!this.pollContent())&&Un(this.cm,function(){return On(t.cm)})},Et.prototype.setUneditable=function(t){t.contentEditable="false"},Et.prototype.onKeyPress=function(t){t.charCode==0||this.composing||(t.preventDefault(),this.cm.isReadOnly()||hn(this.cm,au)(this.cm,String.fromCharCode(t.charCode==null?t.keyCode:t.charCode),0))},Et.prototype.readOnlyChanged=function(t){this.div.contentEditable=String(t!="nocursor")},Et.prototype.onContextMenu=function(){},Et.prototype.resetPosition=function(){},Et.prototype.needsContentAttribute=!0;function Md(t,r){var s=Al(t,r.line);if(!s||s.hidden)return null;var a=Xe(t.doc,r.line),u=sc(s,a,r.line),d=rn(a,t.doc.direction),m="left";if(d){var g=Ke(d,r.ch);m=g%2?"right":"left"}var y=fc(u.map,r.ch,m);return y.offset=y.collapse=="right"?y.end:y.start,y}function dy(t){for(var r=t;r;r=r.parentNode)if(/CodeMirror-gutter-wrapper/.test(r.className))return!0;return!1}function fo(t,r){return r&&(t.bad=!0),t}function hy(t,r,s,a,u){var d="",m=!1,g=t.doc.lineSeparator(),y=!1;function w(te){return function(pe){return pe.id==te}}function P(){m&&(d+=g,y&&(d+=g),m=y=!1)}function G(te){te&&(P(),d+=te)}function oe(te){if(te.nodeType==1){var pe=te.getAttribute("cm-text");if(pe){G(pe);return}var Ce=te.getAttribute("cm-marker"),Oe;if(Ce){var Ne=t.findMarks(Le(a,0),Le(u+1,0),w(+Ce));Ne.length&&(Oe=Ne[0].find(0))&&G(xr(t.doc,Oe.from,Oe.to).join(g));return}if(te.getAttribute("contenteditable")=="false")return;var qe=/^(pre|div|p|li|table|br)$/i.test(te.nodeName);if(!/^br$/i.test(te.nodeName)&&te.textContent.length==0)return;qe&&P();for(var Be=0;Be<te.childNodes.length;Be++)oe(te.childNodes[Be]);/^(pre|p)$/i.test(te.nodeName)&&(y=!0),qe&&(m=!0)}else te.nodeType==3&&G(te.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;oe(r),r!=s;)r=r.nextSibling,y=!1;return d}function ls(t,r,s){var a;if(r==t.display.lineDiv){if(a=t.display.lineDiv.childNodes[s],!a)return fo(t.clipPos(Le(t.display.viewTo-1)),!0);r=null,s=0}else for(a=r;;a=a.parentNode){if(!a||a==t.display.lineDiv)return null;if(a.parentNode&&a.parentNode==t.display.lineDiv)break}for(var u=0;u<t.display.view.length;u++){var d=t.display.view[u];if(d.node==a)return py(d,r,s)}}function py(t,r,s){var a=t.text.firstChild,u=!1;if(!r||!H(a,r))return fo(Le(xt(t.line),0),!0);if(r==a&&(u=!0,r=a.childNodes[s],s=0,!r)){var d=t.rest?U(t.rest):t.line;return fo(Le(xt(d),d.text.length),u)}var m=r.nodeType==3?r:null,g=r;for(!m&&r.childNodes.length==1&&r.firstChild.nodeType==3&&(m=r.firstChild,s&&(s=m.nodeValue.length));g.parentNode!=a;)g=g.parentNode;var y=t.measure,w=y.maps;function P(Oe,Ne,qe){for(var Be=-1;Be<(w?w.length:0);Be++)for(var Ue=Be<0?y.map:w[Be],Ze=0;Ze<Ue.length;Ze+=3){var Ye=Ue[Ze+2];if(Ye==Oe||Ye==Ne){var st=xt(Be<0?t.line:t.rest[Be]),Tt=Ue[Ze]+qe;return(qe<0||Ye!=Oe)&&(Tt=Ue[Ze+(qe?1:0)]),Le(st,Tt)}}}var G=P(m,g,s);if(G)return fo(G,u);for(var oe=g.nextSibling,te=m?m.nodeValue.length-s:0;oe;oe=oe.nextSibling){if(G=P(oe,oe.firstChild,0),G)return fo(Le(G.line,G.ch-te),u);te+=oe.textContent.length}for(var pe=g.previousSibling,Ce=s;pe;pe=pe.previousSibling){if(G=P(pe,pe.firstChild,-1),G)return fo(Le(G.line,G.ch+Ce),u);Ce+=pe.textContent.length}}var $t=function(t){this.cm=t,this.prevInput="",this.pollingFast=!1,this.polling=new Pe,this.hasSelection=!1,this.composing=null,this.resetting=!1};$t.prototype.init=function(t){var r=this,s=this,a=this.cm;this.createField(t);var u=this.textarea;t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),q&&(u.style.width="0px"),Ve(u,"input",function(){c&&h>=9&&r.hasSelection&&(r.hasSelection=null),s.poll()}),Ve(u,"paste",function(m){dt(a,m)||Sd(m,a)||(a.state.pasteIncoming=+new Date,s.fastPoll())});function d(m){if(!dt(a,m)){if(a.somethingSelected())ss({lineWise:!1,text:a.getSelections()});else if(a.options.lineWiseCopyCut){var g=Ld(a);ss({lineWise:!0,text:g.text}),m.type=="cut"?a.setSelections(g.ranges,null,k):(s.prevInput="",u.value=g.text.join(`
`),R(u))}else return;m.type=="cut"&&(a.state.cutIncoming=+new Date)}}Ve(u,"cut",d),Ve(u,"copy",d),Ve(t.scroller,"paste",function(m){if(!(_r(t,m)||dt(a,m))){if(!u.dispatchEvent){a.state.pasteIncoming=+new Date,s.focus();return}var g=new Event("paste");g.clipboardData=m.clipboardData,u.dispatchEvent(g)}}),Ve(t.lineSpace,"selectstart",function(m){_r(t,m)||Ge(m)}),Ve(u,"compositionstart",function(){var m=a.getCursor("from");s.composing&&s.composing.range.clear(),s.composing={start:m,range:a.markText(m,a.getCursor("to"),{className:"CodeMirror-composing"})}}),Ve(u,"compositionend",function(){s.composing&&(s.poll(),s.composing.range.clear(),s.composing=null)})},$t.prototype.createField=function(t){this.wrapper=Fd(),this.textarea=this.wrapper.firstChild;var r=this.cm.options;su(this.textarea,r.spellcheck,r.autocorrect,r.autocapitalize)},$t.prototype.screenReaderLabelChanged=function(t){t?this.textarea.setAttribute("aria-label",t):this.textarea.removeAttribute("aria-label")},$t.prototype.prepareSelection=function(){var t=this.cm,r=t.display,s=t.doc,a=wc(t);if(t.options.moveInputWithCursor){var u=ur(t,s.sel.primary().head,"div"),d=r.wrapper.getBoundingClientRect(),m=r.lineDiv.getBoundingClientRect();a.teTop=Math.max(0,Math.min(r.wrapper.clientHeight-10,u.top+m.top-d.top)),a.teLeft=Math.max(0,Math.min(r.wrapper.clientWidth-10,u.left+m.left-d.left))}return a},$t.prototype.showSelection=function(t){var r=this.cm,s=r.display;A(s.cursorDiv,t.cursors),A(s.selectionDiv,t.selection),t.teTop!=null&&(this.wrapper.style.top=t.teTop+"px",this.wrapper.style.left=t.teLeft+"px")},$t.prototype.reset=function(t){if(!(this.contextMenuPending||this.composing&&t)){var r=this.cm;if(this.resetting=!0,r.somethingSelected()){this.prevInput="";var s=r.getSelection();this.textarea.value=s,r.state.focused&&R(this.textarea),c&&h>=9&&(this.hasSelection=s)}else t||(this.prevInput=this.textarea.value="",c&&h>=9&&(this.hasSelection=null));this.resetting=!1}},$t.prototype.getField=function(){return this.textarea},$t.prototype.supportsTouch=function(){return!1},$t.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ue||V(me(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},$t.prototype.blur=function(){this.textarea.blur()},$t.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},$t.prototype.receivedFocus=function(){this.slowPoll()},$t.prototype.slowPoll=function(){var t=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){t.poll(),t.cm.state.focused&&t.slowPoll()})},$t.prototype.fastPoll=function(){var t=!1,r=this;r.pollingFast=!0;function s(){var a=r.poll();!a&&!t?(t=!0,r.polling.set(60,s)):(r.pollingFast=!1,r.slowPoll())}r.polling.set(20,s)},$t.prototype.poll=function(){var t=this,r=this.cm,s=this.textarea,a=this.prevInput;if(this.contextMenuPending||this.resetting||!r.state.focused||Ra(s)&&!a&&!this.composing||r.isReadOnly()||r.options.disableInput||r.state.keySeq)return!1;var u=s.value;if(u==a&&!r.somethingSelected())return!1;if(c&&h>=9&&this.hasSelection===u||ee&&/[\uf700-\uf7ff]/.test(u))return r.display.input.reset(),!1;if(r.doc.sel==r.display.selForContextMenu){var d=u.charCodeAt(0);if(d==8203&&!a&&(a="\u200B"),d==8666)return this.reset(),this.cm.execCommand("undo")}for(var m=0,g=Math.min(a.length,u.length);m<g&&a.charCodeAt(m)==u.charCodeAt(m);)++m;return Un(r,function(){au(r,u.slice(m),a.length-m,null,t.composing?"*compose":null),u.length>1e3||u.indexOf(`
`)>-1?s.value=t.prevInput="":t.prevInput=u,t.composing&&(t.composing.range.clear(),t.composing.range=r.markText(t.composing.start,r.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},$t.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},$t.prototype.onKeyPress=function(){c&&h>=9&&(this.hasSelection=null),this.fastPoll()},$t.prototype.onContextMenu=function(t){var r=this,s=r.cm,a=s.display,u=r.textarea;r.contextMenuPending&&r.contextMenuPending();var d=vi(s,t),m=a.scroller.scrollTop;if(!d||$)return;var g=s.options.resetSelectionOnContextMenu;g&&s.doc.sel.contains(d)==-1&&hn(s,Cn)(s.doc,Yr(d),k);var y=u.style.cssText,w=r.wrapper.style.cssText,P=r.wrapper.offsetParent.getBoundingClientRect();r.wrapper.style.cssText="position: static",u.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(t.clientY-P.top-5)+"px; left: "+(t.clientX-P.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var G;v&&(G=u.ownerDocument.defaultView.scrollY),a.input.focus(),v&&u.ownerDocument.defaultView.scrollTo(null,G),a.input.reset(),s.somethingSelected()||(u.value=r.prevInput=" "),r.contextMenuPending=te,a.selForContextMenu=s.doc.sel,clearTimeout(a.detectingSelectAll);function oe(){if(u.selectionStart!=null){var Ce=s.somethingSelected(),Oe="\u200B"+(Ce?u.value:"");u.value="\u21DA",u.value=Oe,r.prevInput=Ce?"":"\u200B",u.selectionStart=1,u.selectionEnd=Oe.length,a.selForContextMenu=s.doc.sel}}function te(){if(r.contextMenuPending==te&&(r.contextMenuPending=!1,r.wrapper.style.cssText=w,u.style.cssText=y,c&&h<9&&a.scrollbars.setScrollTop(a.scroller.scrollTop=m),u.selectionStart!=null)){(!c||c&&h<9)&&oe();var Ce=0,Oe=function(){a.selForContextMenu==s.doc.sel&&u.selectionStart==0&&u.selectionEnd>0&&r.prevInput=="\u200B"?hn(s,Zc)(s):Ce++<10?a.detectingSelectAll=setTimeout(Oe,500):(a.selForContextMenu=null,a.input.reset())};a.detectingSelectAll=setTimeout(Oe,200)}}if(c&&h>=9&&oe(),$e){Lr(t);var pe=function(){mt(window,"mouseup",pe),setTimeout(te,20)};Ve(window,"mouseup",pe)}else setTimeout(te,50)},$t.prototype.readOnlyChanged=function(t){t||this.reset(),this.textarea.disabled=t=="nocursor",this.textarea.readOnly=!!t},$t.prototype.setUneditable=function(){},$t.prototype.needsContentAttribute=!1;function my(t,r){if(r=r?Ae(r):{},r.value=t.value,!r.tabindex&&t.tabIndex&&(r.tabindex=t.tabIndex),!r.placeholder&&t.placeholder&&(r.placeholder=t.placeholder),r.autofocus==null){var s=V(me(t));r.autofocus=s==t||t.getAttribute("autofocus")!=null&&s==document.body}function a(){t.value=g.getValue()}var u;if(t.form&&(Ve(t.form,"submit",a),!r.leaveSubmitMethodAlone)){var d=t.form;u=d.submit;try{var m=d.submit=function(){a(),d.submit=u,d.submit(),d.submit=m}}catch{}}r.finishInit=function(y){y.save=a,y.getTextArea=function(){return t},y.toTextArea=function(){y.toTextArea=isNaN,a(),t.parentNode.removeChild(y.getWrapperElement()),t.style.display="",t.form&&(mt(t.form,"submit",a),!r.leaveSubmitMethodAlone&&typeof t.form.submit=="function"&&(t.form.submit=u))}},t.style.display="none";var g=It(function(y){return t.parentNode.insertBefore(y,t.nextSibling)},r);return g}function gy(t){t.off=mt,t.on=Ve,t.wheelEventPixels=Cv,t.Doc=Mn,t.splitLines=jr,t.countColumn=_e,t.findColumn=L,t.isWordChar=Je,t.Pass=p,t.signal=Lt,t.Line=Vi,t.changeEnd=Kr,t.scrollbarModel=Sc,t.Pos=Le,t.cmpPos=nt,t.modes=yr,t.mimeModes=Fr,t.resolveMode=di,t.getMode=Ui,t.modeExtensions=tr,t.extendMode=xl,t.copyState=nr,t.startState=sr,t.innerMode=_o,t.commands=aa,t.keyMap=Nr,t.keyName=hd,t.isModifierKey=cd,t.lookupKey=so,t.normalizeKeyMap=$v,t.StringStream=Ht,t.SharedTextMarker=ra,t.TextMarker=Jr,t.LineWidget=na,t.e_preventDefault=Ge,t.e_stopPropagation=Tn,t.e_stop=Lr,t.addClass=N,t.contains=H,t.rmClass=Z,t.keyNames=Qr}sy(It),cy(It);var vy="iter insert remove copy getEditor constructor".split(" ");for(var us in Mn.prototype)Mn.prototype.hasOwnProperty(us)&&S(vy,us)<0&&(It.prototype[us]=function(t){return function(){return t.apply(this.doc,arguments)}}(Mn.prototype[us]));return Ut(Mn),It.inputStyles={textarea:$t,contenteditable:Et},It.defineMode=function(t){!It.defaults.mode&&t!="null"&&(It.defaults.mode=t),Io.apply(this,arguments)},It.defineMIME=yl,It.defineMode("null",function(){return{token:function(t){return t.skipToEnd()}}}),It.defineMIME("text/plain","null"),It.defineExtension=function(t,r){It.prototype[t]=r},It.defineDocExtension=function(t,r){Mn.prototype[t]=r},It.fromTextArea=my,gy(It),It.version="5.65.17",It})});var Wd=sn((Hd,qd)=>{(function(e){typeof Hd=="object"&&typeof qd=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,i=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,o=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(f){if(f.getOption("disableInput"))return e.Pass;for(var c=f.listSelections(),h=[],v=0;v<c.length;v++){var D=c[v].head,O=f.getStateAfter(D.line),z=e.innerMode(f.getMode(),O);if(z.mode.name!=="markdown"&&z.mode.helperType!=="markdown"){f.execCommand("newlineAndIndent");return}else O=z.state;var $=O.list!==!1,J=O.quote!==0,se=f.getLine(D.line),ne=n.exec(se),q=/^\s*$/.test(se.slice(0,D.ch));if(!c[v].empty()||!$&&!J||!ne||q){f.execCommand("newlineAndIndent");return}if(i.test(se)){var Q=J&&/>\s*$/.test(se),ue=!/>\s*$/.test(se);(Q||ue)&&f.replaceRange("",{line:D.line,ch:0},{line:D.line,ch:D.ch+1}),h[v]=`
`}else{var ee=ne[1],le=ne[5],ke=!(o.test(ne[2])||ne[2].indexOf(">")>=0),we=ke?parseInt(ne[3],10)+1+ne[4]:ne[2].replace("x"," ");h[v]=`
`+ee+we+le,ke&&l(f,D)}}f.replaceSelections(h)};function l(f,c){var h=c.line,v=0,D=0,O=n.exec(f.getLine(h)),z=O[1];do{v+=1;var $=h+v,J=f.getLine($),se=n.exec(J);if(se){var ne=se[1],q=parseInt(O[3],10)+v-D,Q=parseInt(se[3],10),ue=Q;if(z===ne&&!isNaN(Q))q===Q&&(ue=Q+1),q>Q&&(ue=q+1),f.replaceRange(J.replace(n,ne+ue+se[4]+se[5]),{line:$,ch:0},{line:$,ch:J.length});else{if(z.length>ne.length||z.length<ne.length&&v===1)return;D+=1}}}while(se)}})});var Ud=sn(()=>{var zd=$n();zd.commands.tabAndIndentMarkdownList=function(e){var n=e.listSelections(),i=n[0].head,o=e.getStateAfter(i.line),l=o.list!==!1;if(l){e.execCommand("indentMore");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var f=Array(e.options.tabSize+1).join(" ");e.replaceSelection(f)}};zd.commands.shiftTabAndUnindentMarkdownList=function(e){var n=e.listSelections(),i=n[0].head,o=e.getStateAfter(i.line),l=o.list!==!1;if(l){e.execCommand("indentLess");return}if(e.options.indentWithTabs)e.execCommand("insertTab");else{var f=Array(e.options.tabSize+1).join(" ");e.replaceSelection(f)}}});var Gd=sn((jd,$d)=>{(function(e){typeof jd=="object"&&typeof $d=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.defineOption("fullScreen",!1,function(o,l,f){f==e.Init&&(f=!1),!f!=!l&&(l?n(o):i(o))});function n(o){var l=o.getWrapperElement();o.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:l.style.width,height:l.style.height},l.style.width="",l.style.height="auto",l.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",o.refresh()}function i(o){var l=o.getWrapperElement();l.className=l.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var f=o.state.fullScreenRestore;l.style.width=f.width,l.style.height=f.height,window.scrollTo(f.scrollLeft,f.scrollTop),o.refresh()}})});var mu=sn((Xd,Vd)=>{(function(e){typeof Xd=="object"&&typeof Vd=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";var n={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},i={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};e.defineMode("xml",function(o,l){var f=o.indentUnit,c={},h=l.htmlMode?n:i;for(var v in h)c[v]=h[v];for(var v in l)c[v]=l[v];var D,O;function z(E,_){function j(N){return _.tokenize=N,N(E,_)}var H=E.next();if(H=="<")return E.eat("!")?E.eat("[")?E.match("CDATA[")?j(se("atom","]]>")):null:E.match("--")?j(se("comment","-->")):E.match("DOCTYPE",!0,!0)?(E.eatWhile(/[\w\._\-]/),j(ne(1))):null:E.eat("?")?(E.eatWhile(/[\w\._\-]/),_.tokenize=se("meta","?>"),"meta"):(D=E.eat("/")?"closeTag":"openTag",_.tokenize=$,"tag bracket");if(H=="&"){var V;return E.eat("#")?E.eat("x")?V=E.eatWhile(/[a-fA-F\d]/)&&E.eat(";"):V=E.eatWhile(/[\d]/)&&E.eat(";"):V=E.eatWhile(/[\w\.\-:]/)&&E.eat(";"),V?"atom":"error"}else return E.eatWhile(/[^&<]/),null}z.isInText=!0;function $(E,_){var j=E.next();if(j==">"||j=="/"&&E.eat(">"))return _.tokenize=z,D=j==">"?"endTag":"selfcloseTag","tag bracket";if(j=="=")return D="equals",null;if(j=="<"){_.tokenize=z,_.state=le,_.tagName=_.tagStart=null;var H=_.tokenize(E,_);return H?H+" tag error":"tag error"}else return/[\'\"]/.test(j)?(_.tokenize=J(j),_.stringStartCol=E.column(),_.tokenize(E,_)):(E.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function J(E){var _=function(j,H){for(;!j.eol();)if(j.next()==E){H.tokenize=$;break}return"string"};return _.isInAttribute=!0,_}function se(E,_){return function(j,H){for(;!j.eol();){if(j.match(_)){H.tokenize=z;break}j.next()}return E}}function ne(E){return function(_,j){for(var H;(H=_.next())!=null;){if(H=="<")return j.tokenize=ne(E+1),j.tokenize(_,j);if(H==">")if(E==1){j.tokenize=z;break}else return j.tokenize=ne(E-1),j.tokenize(_,j)}return"meta"}}function q(E){return E&&E.toLowerCase()}function Q(E,_,j){this.prev=E.context,this.tagName=_||"",this.indent=E.indented,this.startOfLine=j,(c.doNotIndent.hasOwnProperty(_)||E.context&&E.context.noIndent)&&(this.noIndent=!0)}function ue(E){E.context&&(E.context=E.context.prev)}function ee(E,_){for(var j;;){if(!E.context||(j=E.context.tagName,!c.contextGrabbers.hasOwnProperty(q(j))||!c.contextGrabbers[q(j)].hasOwnProperty(q(_))))return;ue(E)}}function le(E,_,j){return E=="openTag"?(j.tagStart=_.column(),ke):E=="closeTag"?we:le}function ke(E,_,j){return E=="word"?(j.tagName=_.current(),O="tag",Ee):c.allowMissingTagName&&E=="endTag"?(O="tag bracket",Ee(E,_,j)):(O="error",ke)}function we(E,_,j){if(E=="word"){var H=_.current();return j.context&&j.context.tagName!=H&&c.implicitlyClosed.hasOwnProperty(q(j.context.tagName))&&ue(j),j.context&&j.context.tagName==H||c.matchClosing===!1?(O="tag",Se):(O="tag error",$e)}else return c.allowMissingTagName&&E=="endTag"?(O="tag bracket",Se(E,_,j)):(O="error",$e)}function Se(E,_,j){return E!="endTag"?(O="error",Se):(ue(j),le)}function $e(E,_,j){return O="error",Se(E,_,j)}function Ee(E,_,j){if(E=="word")return O="attribute",Z;if(E=="endTag"||E=="selfcloseTag"){var H=j.tagName,V=j.tagStart;return j.tagName=j.tagStart=null,E=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(q(H))?ee(j,H):(ee(j,H),j.context=new Q(j,H,V==j.indented)),le}return O="error",Ee}function Z(E,_,j){return E=="equals"?x:(c.allowMissing||(O="error"),Ee(E,_,j))}function x(E,_,j){return E=="string"?A:E=="word"&&c.allowUnquoted?(O="string",Ee):(O="error",Ee(E,_,j))}function A(E,_,j){return E=="string"?A:Ee(E,_,j)}return{startState:function(E){var _={tokenize:z,state:le,indented:E||0,tagName:null,tagStart:null,context:null};return E!=null&&(_.baseIndent=E),_},token:function(E,_){if(!_.tagName&&E.sol()&&(_.indented=E.indentation()),E.eatSpace())return null;D=null;var j=_.tokenize(E,_);return(j||D)&&j!="comment"&&(O=null,_.state=_.state(D||j,E,_),O&&(j=O=="error"?j+" error":O)),j},indent:function(E,_,j){var H=E.context;if(E.tokenize.isInAttribute)return E.tagStart==E.indented?E.stringStartCol+1:E.indented+f;if(H&&H.noIndent)return e.Pass;if(E.tokenize!=$&&E.tokenize!=z)return j?j.match(/^(\s*)/)[0].length:0;if(E.tagName)return c.multilineTagIndentPastTag!==!1?E.tagStart+E.tagName.length+2:E.tagStart+f*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(_))return 0;var V=_&&/^<(\/)?([\w_:\.-]*)/.exec(_);if(V&&V[1])for(;H;)if(H.tagName==V[2]){H=H.prev;break}else if(c.implicitlyClosed.hasOwnProperty(q(H.tagName)))H=H.prev;else break;else if(V)for(;H;){var N=c.contextGrabbers[q(H.tagName)];if(N&&N.hasOwnProperty(q(V[2])))H=H.prev;else break}for(;H&&H.prev&&!H.startOfLine;)H=H.prev;return H?H.indent+f:E.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(E){E.state==x&&(E.state=Ee)},xmlCurrentTag:function(E){return E.tagName?{name:E.tagName,close:E.type=="closeTag"}:null},xmlCurrentContext:function(E){for(var _=[],j=E.context;j;j=j.prev)_.push(j.tagName);return _.reverse()}}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Zd=sn((Yd,Kd)=>{(function(e){typeof Yd=="object"&&typeof Kd=="object"?e($n()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var n=0;n<e.modeInfo.length;n++){var i=e.modeInfo[n];i.mimes&&(i.mime=i.mimes[0])}e.findModeByMIME=function(o){o=o.toLowerCase();for(var l=0;l<e.modeInfo.length;l++){var f=e.modeInfo[l];if(f.mime==o)return f;if(f.mimes){for(var c=0;c<f.mimes.length;c++)if(f.mimes[c]==o)return f}}if(/\+xml$/.test(o))return e.findModeByMIME("application/xml");if(/\+json$/.test(o))return e.findModeByMIME("application/json")},e.findModeByExtension=function(o){o=o.toLowerCase();for(var l=0;l<e.modeInfo.length;l++){var f=e.modeInfo[l];if(f.ext){for(var c=0;c<f.ext.length;c++)if(f.ext[c]==o)return f}}},e.findModeByFileName=function(o){for(var l=0;l<e.modeInfo.length;l++){var f=e.modeInfo[l];if(f.file&&f.file.test(o))return f}var c=o.lastIndexOf("."),h=c>-1&&o.substring(c+1,o.length);if(h)return e.findModeByExtension(h)},e.findModeByName=function(o){o=o.toLowerCase();for(var l=0;l<e.modeInfo.length;l++){var f=e.modeInfo[l];if(f.name.toLowerCase()==o)return f;if(f.alias){for(var c=0;c<f.alias.length;c++)if(f.alias[c].toLowerCase()==o)return f}}}})});var gu=sn((Jd,Qd)=>{(function(e){typeof Jd=="object"&&typeof Qd=="object"?e($n(),mu(),Zd()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)})(function(e){"use strict";e.defineMode("markdown",function(n,i){var o=e.getMode(n,"text/html"),l=o.name=="null";function f(R){if(e.findModeByName){var b=e.findModeByName(R);b&&(R=b.mime||b.mimes[0])}var ae=e.getMode(n,R);return ae.name=="null"?null:ae}i.highlightFormatting===void 0&&(i.highlightFormatting=!1),i.maxBlockquoteDepth===void 0&&(i.maxBlockquoteDepth=0),i.taskLists===void 0&&(i.taskLists=!1),i.strikethrough===void 0&&(i.strikethrough=!1),i.emoji===void 0&&(i.emoji=!1),i.fencedCodeBlockHighlighting===void 0&&(i.fencedCodeBlockHighlighting=!0),i.fencedCodeBlockDefaultMode===void 0&&(i.fencedCodeBlockDefaultMode="text/plain"),i.xml===void 0&&(i.xml=!0),i.tokenTypeOverrides===void 0&&(i.tokenTypeOverrides={});var c={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var h in c)c.hasOwnProperty(h)&&i.tokenTypeOverrides[h]&&(c[h]=i.tokenTypeOverrides[h]);var v=/^([*\-_])(?:\s*\1){2,}\s*$/,D=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,O=/^\[(x| )\](?=\s)/i,z=i.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,$=/^ {0,3}(?:\={1,}|-{2,})\s*$/,J=/^[^#!\[\]*_\\<>` "'(~:]+/,se=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,ne=/^\s*\[[^\]]+?\]:.*$/,q=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,Q="    ";function ue(R,b,ae){return b.f=b.inline=ae,ae(R,b)}function ee(R,b,ae){return b.f=b.block=ae,ae(R,b)}function le(R){return!R||!/\S/.test(R.string)}function ke(R){if(R.linkTitle=!1,R.linkHref=!1,R.linkText=!1,R.em=!1,R.strong=!1,R.strikethrough=!1,R.quote=0,R.indentedCode=!1,R.f==Se){var b=l;if(!b){var ae=e.innerMode(o,R.htmlState);b=ae.mode.name=="xml"&&ae.state.tagStart===null&&!ae.state.context&&ae.state.tokenize.isInText}b&&(R.f=x,R.block=we,R.htmlState=null)}return R.trailingSpace=0,R.trailingSpaceNewLine=!1,R.prevLine=R.thisLine,R.thisLine={stream:null},null}function we(R,b){var ae=R.column()===b.indentation,me=le(b.prevLine.stream),de=b.indentedCode,Fe=b.prevLine.hr,Ae=b.list!==!1,_e=(b.listStack[b.listStack.length-1]||0)+3;b.indentedCode=!1;var Pe=b.indentation;if(b.indentationDiff===null&&(b.indentationDiff=b.indentation,Ae)){for(b.list=null;Pe<b.listStack[b.listStack.length-1];)b.listStack.pop(),b.listStack.length?b.indentation=b.listStack[b.listStack.length-1]:b.list=!1;b.list!==!1&&(b.indentationDiff=Pe-b.listStack[b.listStack.length-1])}var S=!me&&!Fe&&!b.prevLine.header&&(!Ae||!de)&&!b.prevLine.fencedCodeEnd,F=(b.list===!1||Fe||me)&&b.indentation<=_e&&R.match(v),p=null;if(b.indentationDiff>=4&&(de||b.prevLine.fencedCodeEnd||b.prevLine.header||me))return R.skipToEnd(),b.indentedCode=!0,c.code;if(R.eatSpace())return null;if(ae&&b.indentation<=_e&&(p=R.match(z))&&p[1].length<=6)return b.quote=0,b.header=p[1].length,b.thisLine.header=!0,i.highlightFormatting&&(b.formatting="header"),b.f=b.inline,Ee(b);if(b.indentation<=_e&&R.eat(">"))return b.quote=ae?1:b.quote+1,i.highlightFormatting&&(b.formatting="quote"),R.eatSpace(),Ee(b);if(!F&&!b.setext&&ae&&b.indentation<=_e&&(p=R.match(D))){var k=p[1]?"ol":"ul";return b.indentation=Pe+R.current().length,b.list=!0,b.quote=0,b.listStack.push(b.indentation),b.em=!1,b.strong=!1,b.code=!1,b.strikethrough=!1,i.taskLists&&R.match(O,!1)&&(b.taskList=!0),b.f=b.inline,i.highlightFormatting&&(b.formatting=["list","list-"+k]),Ee(b)}else{if(ae&&b.indentation<=_e&&(p=R.match(se,!0)))return b.quote=0,b.fencedEndRE=new RegExp(p[1]+"+ *$"),b.localMode=i.fencedCodeBlockHighlighting&&f(p[2]||i.fencedCodeBlockDefaultMode),b.localMode&&(b.localState=e.startState(b.localMode)),b.f=b.block=$e,i.highlightFormatting&&(b.formatting="code-block"),b.code=-1,Ee(b);if(b.setext||(!S||!Ae)&&!b.quote&&b.list===!1&&!b.code&&!F&&!ne.test(R.string)&&(p=R.lookAhead(1))&&(p=p.match($)))return b.setext?(b.header=b.setext,b.setext=0,R.skipToEnd(),i.highlightFormatting&&(b.formatting="header")):(b.header=p[0].charAt(0)=="="?1:2,b.setext=b.header),b.thisLine.header=!0,b.f=b.inline,Ee(b);if(F)return R.skipToEnd(),b.hr=!0,b.thisLine.hr=!0,c.hr;if(R.peek()==="[")return ue(R,b,H)}return ue(R,b,b.inline)}function Se(R,b){var ae=o.token(R,b.htmlState);if(!l){var me=e.innerMode(o,b.htmlState);(me.mode.name=="xml"&&me.state.tagStart===null&&!me.state.context&&me.state.tokenize.isInText||b.md_inside&&R.current().indexOf(">")>-1)&&(b.f=x,b.block=we,b.htmlState=null)}return ae}function $e(R,b){var ae=b.listStack[b.listStack.length-1]||0,me=b.indentation<ae,de=ae+3;if(b.fencedEndRE&&b.indentation<=de&&(me||R.match(b.fencedEndRE))){i.highlightFormatting&&(b.formatting="code-block");var Fe;return me||(Fe=Ee(b)),b.localMode=b.localState=null,b.block=we,b.f=x,b.fencedEndRE=null,b.code=0,b.thisLine.fencedCodeEnd=!0,me?ee(R,b,b.block):Fe}else return b.localMode?b.localMode.token(R,b.localState):(R.skipToEnd(),c.code)}function Ee(R){var b=[];if(R.formatting){b.push(c.formatting),typeof R.formatting=="string"&&(R.formatting=[R.formatting]);for(var ae=0;ae<R.formatting.length;ae++)b.push(c.formatting+"-"+R.formatting[ae]),R.formatting[ae]==="header"&&b.push(c.formatting+"-"+R.formatting[ae]+"-"+R.header),R.formatting[ae]==="quote"&&(!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=R.quote?b.push(c.formatting+"-"+R.formatting[ae]+"-"+R.quote):b.push("error"))}if(R.taskOpen)return b.push("meta"),b.length?b.join(" "):null;if(R.taskClosed)return b.push("property"),b.length?b.join(" "):null;if(R.linkHref?b.push(c.linkHref,"url"):(R.strong&&b.push(c.strong),R.em&&b.push(c.em),R.strikethrough&&b.push(c.strikethrough),R.emoji&&b.push(c.emoji),R.linkText&&b.push(c.linkText),R.code&&b.push(c.code),R.image&&b.push(c.image),R.imageAltText&&b.push(c.imageAltText,"link"),R.imageMarker&&b.push(c.imageMarker)),R.header&&b.push(c.header,c.header+"-"+R.header),R.quote&&(b.push(c.quote),!i.maxBlockquoteDepth||i.maxBlockquoteDepth>=R.quote?b.push(c.quote+"-"+R.quote):b.push(c.quote+"-"+i.maxBlockquoteDepth)),R.list!==!1){var me=(R.listStack.length-1)%3;me?me===1?b.push(c.list2):b.push(c.list3):b.push(c.list1)}return R.trailingSpaceNewLine?b.push("trailing-space-new-line"):R.trailingSpace&&b.push("trailing-space-"+(R.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function Z(R,b){if(R.match(J,!0))return Ee(b)}function x(R,b){var ae=b.text(R,b);if(typeof ae<"u")return ae;if(b.list)return b.list=null,Ee(b);if(b.taskList){var me=R.match(O,!0)[1]===" ";return me?b.taskOpen=!0:b.taskClosed=!0,i.highlightFormatting&&(b.formatting="task"),b.taskList=!1,Ee(b)}if(b.taskOpen=!1,b.taskClosed=!1,b.header&&R.match(/^#+$/,!0))return i.highlightFormatting&&(b.formatting="header"),Ee(b);var de=R.next();if(b.linkTitle){b.linkTitle=!1;var Fe=de;de==="("&&(Fe=")"),Fe=(Fe+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var Ae="^\\s*(?:[^"+Fe+"\\\\]+|\\\\\\\\|\\\\.)"+Fe;if(R.match(new RegExp(Ae),!0))return c.linkHref}if(de==="`"){var _e=b.formatting;i.highlightFormatting&&(b.formatting="code"),R.eatWhile("`");var Pe=R.current().length;if(b.code==0&&(!b.quote||Pe==1))return b.code=Pe,Ee(b);if(Pe==b.code){var S=Ee(b);return b.code=0,S}else return b.formatting=_e,Ee(b)}else if(b.code)return Ee(b);if(de==="\\"&&(R.next(),i.highlightFormatting)){var F=Ee(b),p=c.formatting+"-escape";return F?F+" "+p:p}if(de==="!"&&R.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.imageMarker=!0,b.image=!0,i.highlightFormatting&&(b.formatting="image"),Ee(b);if(de==="["&&b.imageMarker&&R.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return b.imageMarker=!1,b.imageAltText=!0,i.highlightFormatting&&(b.formatting="image"),Ee(b);if(de==="]"&&b.imageAltText){i.highlightFormatting&&(b.formatting="image");var F=Ee(b);return b.imageAltText=!1,b.image=!1,b.inline=b.f=E,F}if(de==="["&&!b.image)return b.linkText&&R.match(/^.*?\]/)||(b.linkText=!0,i.highlightFormatting&&(b.formatting="link")),Ee(b);if(de==="]"&&b.linkText){i.highlightFormatting&&(b.formatting="link");var F=Ee(b);return b.linkText=!1,b.inline=b.f=R.match(/\(.*?\)| ?\[.*?\]/,!1)?E:x,F}if(de==="<"&&R.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=A,i.highlightFormatting&&(b.formatting="link");var F=Ee(b);return F?F+=" ":F="",F+c.linkInline}if(de==="<"&&R.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=A,i.highlightFormatting&&(b.formatting="link");var F=Ee(b);return F?F+=" ":F="",F+c.linkEmail}if(i.xml&&de==="<"&&R.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var k=R.string.indexOf(">",R.pos);if(k!=-1){var B=R.string.substring(R.start,k);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(B)&&(b.md_inside=!0)}return R.backUp(1),b.htmlState=e.startState(o),ee(R,b,Se)}if(i.xml&&de==="<"&&R.match(/^\/\w*?>/))return b.md_inside=!1,"tag";if(de==="*"||de==="_"){for(var I=1,L=R.pos==1?" ":R.string.charAt(R.pos-2);I<3&&R.eat(de);)I++;var W=R.peek()||" ",Y=!/\s/.test(W)&&(!q.test(W)||/\s/.test(L)||q.test(L)),U=!/\s/.test(L)&&(!q.test(L)||/\s/.test(W)||q.test(W)),he=null,De=null;if(I%2&&(!b.em&&Y&&(de==="*"||!U||q.test(L))?he=!0:b.em==de&&U&&(de==="*"||!Y||q.test(W))&&(he=!1)),I>1&&(!b.strong&&Y&&(de==="*"||!U||q.test(L))?De=!0:b.strong==de&&U&&(de==="*"||!Y||q.test(W))&&(De=!1)),De!=null||he!=null){i.highlightFormatting&&(b.formatting=he==null?"strong":De==null?"em":"strong em"),he===!0&&(b.em=de),De===!0&&(b.strong=de);var S=Ee(b);return he===!1&&(b.em=!1),De===!1&&(b.strong=!1),S}}else if(de===" "&&(R.eat("*")||R.eat("_"))){if(R.peek()===" ")return Ee(b);R.backUp(1)}if(i.strikethrough){if(de==="~"&&R.eatWhile(de)){if(b.strikethrough){i.highlightFormatting&&(b.formatting="strikethrough");var S=Ee(b);return b.strikethrough=!1,S}else if(R.match(/^[^\s]/,!1))return b.strikethrough=!0,i.highlightFormatting&&(b.formatting="strikethrough"),Ee(b)}else if(de===" "&&R.match("~~",!0)){if(R.peek()===" ")return Ee(b);R.backUp(2)}}if(i.emoji&&de===":"&&R.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){b.emoji=!0,i.highlightFormatting&&(b.formatting="emoji");var ye=Ee(b);return b.emoji=!1,ye}return de===" "&&(R.match(/^ +$/,!1)?b.trailingSpace++:b.trailingSpace&&(b.trailingSpaceNewLine=!0)),Ee(b)}function A(R,b){var ae=R.next();if(ae===">"){b.f=b.inline=x,i.highlightFormatting&&(b.formatting="link");var me=Ee(b);return me?me+=" ":me="",me+c.linkInline}return R.match(/^[^>]+/,!0),c.linkInline}function E(R,b){if(R.eatSpace())return null;var ae=R.next();return ae==="("||ae==="["?(b.f=b.inline=j(ae==="("?")":"]"),i.highlightFormatting&&(b.formatting="link-string"),b.linkHref=!0,Ee(b)):"error"}var _={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function j(R){return function(b,ae){var me=b.next();if(me===R){ae.f=ae.inline=x,i.highlightFormatting&&(ae.formatting="link-string");var de=Ee(ae);return ae.linkHref=!1,de}return b.match(_[R]),ae.linkHref=!0,Ee(ae)}}function H(R,b){return R.match(/^([^\]\\]|\\.)*\]:/,!1)?(b.f=V,R.next(),i.highlightFormatting&&(b.formatting="link"),b.linkText=!0,Ee(b)):ue(R,b,x)}function V(R,b){if(R.match("]:",!0)){b.f=b.inline=N,i.highlightFormatting&&(b.formatting="link");var ae=Ee(b);return b.linkText=!1,ae}return R.match(/^([^\]\\]|\\.)+/,!0),c.linkText}function N(R,b){return R.eatSpace()?null:(R.match(/^[^\s]+/,!0),R.peek()===void 0?b.linkTitle=!0:R.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),b.f=b.inline=x,c.linkHref+" url")}var ve={startState:function(){return{f:we,prevLine:{stream:null},thisLine:{stream:null},block:we,htmlState:null,indentation:0,inline:x,text:Z,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(R){return{f:R.f,prevLine:R.prevLine,thisLine:R.thisLine,block:R.block,htmlState:R.htmlState&&e.copyState(o,R.htmlState),indentation:R.indentation,localMode:R.localMode,localState:R.localMode?e.copyState(R.localMode,R.localState):null,inline:R.inline,text:R.text,formatting:!1,linkText:R.linkText,linkTitle:R.linkTitle,linkHref:R.linkHref,code:R.code,em:R.em,strong:R.strong,strikethrough:R.strikethrough,emoji:R.emoji,header:R.header,setext:R.setext,hr:R.hr,taskList:R.taskList,list:R.list,listStack:R.listStack.slice(0),quote:R.quote,indentedCode:R.indentedCode,trailingSpace:R.trailingSpace,trailingSpaceNewLine:R.trailingSpaceNewLine,md_inside:R.md_inside,fencedEndRE:R.fencedEndRE}},token:function(R,b){if(b.formatting=!1,R!=b.thisLine.stream){if(b.header=0,b.hr=!1,R.match(/^\s*$/,!0))return ke(b),null;if(b.prevLine=b.thisLine,b.thisLine={stream:R},b.taskList=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,!b.localState&&(b.f=b.block,b.f!=Se)){var ae=R.match(/^\s*/,!0)[0].replace(/\t/g,Q).length;if(b.indentation=ae,b.indentationDiff=null,ae>0)return null}}return b.f(R,b)},innerMode:function(R){return R.block==Se?{state:R.htmlState,mode:o}:R.localState?{state:R.localState,mode:R.localMode}:{state:R,mode:ve}},indent:function(R,b,ae){return R.block==Se&&o.indent?o.indent(R.htmlState,b,ae):R.localState&&R.localMode.indent?R.localMode.indent(R.localState,b,ae):e.Pass},blankLine:ke,getType:Ee,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return ve},"xml"),e.defineMIME("text/markdown","markdown"),e.defineMIME("text/x-markdown","markdown")})});var vu=sn((eh,th)=>{(function(e){typeof eh=="object"&&typeof th=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.overlayMode=function(n,i,o){return{startState:function(){return{base:e.startState(n),overlay:e.startState(i),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(l){return{base:e.copyState(n,l.base),overlay:e.copyState(i,l.overlay),basePos:l.basePos,baseCur:null,overlayPos:l.overlayPos,overlayCur:null}},token:function(l,f){return(l!=f.streamSeen||Math.min(f.basePos,f.overlayPos)<l.start)&&(f.streamSeen=l,f.basePos=f.overlayPos=l.start),l.start==f.basePos&&(f.baseCur=n.token(l,f.base),f.basePos=l.pos),l.start==f.overlayPos&&(l.pos=l.start,f.overlayCur=i.token(l,f.overlay),f.overlayPos=l.pos),l.pos=Math.min(f.basePos,f.overlayPos),f.overlayCur==null?f.baseCur:f.baseCur!=null&&f.overlay.combineTokens||o&&f.overlay.combineTokens==null?f.baseCur+" "+f.overlayCur:f.overlayCur},indent:n.indent&&function(l,f,c){return n.indent(l.base,f,c)},electricChars:n.electricChars,innerMode:function(l){return{state:l.base,mode:n}},blankLine:function(l){var f,c;return n.blankLine&&(f=n.blankLine(l.base)),i.blankLine&&(c=i.blankLine(l.overlay)),c==null?f:o&&f!=null?f+" "+c:c}}}})});var ih=sn((nh,rh)=>{(function(e){typeof nh=="object"&&typeof rh=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineOption("placeholder","",function(h,v,D){var O=D&&D!=e.Init;if(v&&!O)h.on("blur",l),h.on("change",f),h.on("swapDoc",f),e.on(h.getInputField(),"compositionupdate",h.state.placeholderCompose=function(){o(h)}),f(h);else if(!v&&O){h.off("blur",l),h.off("change",f),h.off("swapDoc",f),e.off(h.getInputField(),"compositionupdate",h.state.placeholderCompose),n(h);var z=h.getWrapperElement();z.className=z.className.replace(" CodeMirror-empty","")}v&&!h.hasFocus()&&l(h)});function n(h){h.state.placeholder&&(h.state.placeholder.parentNode.removeChild(h.state.placeholder),h.state.placeholder=null)}function i(h){n(h);var v=h.state.placeholder=document.createElement("pre");v.style.cssText="height: 0; overflow: visible",v.style.direction=h.getOption("direction"),v.className="CodeMirror-placeholder CodeMirror-line-like";var D=h.getOption("placeholder");typeof D=="string"&&(D=document.createTextNode(D)),v.appendChild(D),h.display.lineSpace.insertBefore(v,h.display.lineSpace.firstChild)}function o(h){setTimeout(function(){var v=!1;if(h.lineCount()==1){var D=h.getInputField();v=D.nodeName=="TEXTAREA"?!h.getLine(0).length:!/[^\u200b]/.test(D.querySelector(".CodeMirror-line").textContent)}v?i(h):n(h)},20)}function l(h){c(h)&&i(h)}function f(h){var v=h.getWrapperElement(),D=c(h);v.className=v.className.replace(" CodeMirror-empty","")+(D?" CodeMirror-empty":""),D?i(h):n(h)}function c(h){return h.lineCount()===1&&h.getLine(0)===""}})});var sh=sn((oh,ah)=>{(function(e){typeof oh=="object"&&typeof ah=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.defineOption("autoRefresh",!1,function(o,l){o.state.autoRefresh&&(i(o,o.state.autoRefresh),o.state.autoRefresh=null),l&&o.display.wrapper.offsetHeight==0&&n(o,o.state.autoRefresh={delay:l.delay||250})});function n(o,l){function f(){o.display.wrapper.offsetHeight?(i(o,l),o.display.lastWrapHeight!=o.display.wrapper.clientHeight&&o.refresh()):l.timeout=setTimeout(f,l.delay)}l.timeout=setTimeout(f,l.delay),l.hurry=function(){clearTimeout(l.timeout),l.timeout=setTimeout(f,50)},e.on(window,"mouseup",l.hurry),e.on(window,"keyup",l.hurry)}function i(o,l){clearTimeout(l.timeout),e.off(window,"mouseup",l.hurry),e.off(window,"keyup",l.hurry)}})});var fh=sn((lh,uh)=>{(function(e){typeof lh=="object"&&typeof uh=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";e.defineOption("styleSelectedText",!1,function(O,z,$){var J=$&&$!=e.Init;z&&!J?(O.state.markedSelection=[],O.state.markedSelectionStyle=typeof z=="string"?z:"CodeMirror-selectedtext",v(O),O.on("cursorActivity",n),O.on("change",i)):!z&&J&&(O.off("cursorActivity",n),O.off("change",i),h(O),O.state.markedSelection=O.state.markedSelectionStyle=null)});function n(O){O.state.markedSelection&&O.operation(function(){D(O)})}function i(O){O.state.markedSelection&&O.state.markedSelection.length&&O.operation(function(){h(O)})}var o=8,l=e.Pos,f=e.cmpPos;function c(O,z,$,J){if(f(z,$)!=0)for(var se=O.state.markedSelection,ne=O.state.markedSelectionStyle,q=z.line;;){var Q=q==z.line?z:l(q,0),ue=q+o,ee=ue>=$.line,le=ee?$:l(ue,0),ke=O.markText(Q,le,{className:ne});if(J==null?se.push(ke):se.splice(J++,0,ke),ee)break;q=ue}}function h(O){for(var z=O.state.markedSelection,$=0;$<z.length;++$)z[$].clear();z.length=0}function v(O){h(O);for(var z=O.listSelections(),$=0;$<z.length;$++)c(O,z[$].from(),z[$].to())}function D(O){if(!O.somethingSelected())return h(O);if(O.listSelections().length>1)return v(O);var z=O.getCursor("start"),$=O.getCursor("end"),J=O.state.markedSelection;if(!J.length)return c(O,z,$);var se=J[0].find(),ne=J[J.length-1].find();if(!se||!ne||$.line-z.line<=o||f(z,ne.to)>=0||f($,se.from)<=0)return v(O);for(;f(z,se.from)>0;)J.shift().clear(),se=J[0].find();for(f(z,se.from)<0&&(se.to.line-z.line<o?(J.shift().clear(),c(O,z,se.to,0)):c(O,z,se.from,0));f($,ne.to)<0;)J.pop().clear(),ne=J[J.length-1].find();f($,ne.to)>0&&($.line-ne.from.line<o?(J.pop().clear(),c(O,ne.from,$)):c(O,ne.to,$))}})});var hh=sn((ch,dh)=>{(function(e){typeof ch=="object"&&typeof dh=="object"?e($n()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){"use strict";var n=e.Pos;function i(q){var Q=q.flags;return Q??(q.ignoreCase?"i":"")+(q.global?"g":"")+(q.multiline?"m":"")}function o(q,Q){for(var ue=i(q),ee=ue,le=0;le<Q.length;le++)ee.indexOf(Q.charAt(le))==-1&&(ee+=Q.charAt(le));return ue==ee?q:new RegExp(q.source,ee)}function l(q){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(q.source)}function f(q,Q,ue){Q=o(Q,"g");for(var ee=ue.line,le=ue.ch,ke=q.lastLine();ee<=ke;ee++,le=0){Q.lastIndex=le;var we=q.getLine(ee),Se=Q.exec(we);if(Se)return{from:n(ee,Se.index),to:n(ee,Se.index+Se[0].length),match:Se}}}function c(q,Q,ue){if(!l(Q))return f(q,Q,ue);Q=o(Q,"gm");for(var ee,le=1,ke=ue.line,we=q.lastLine();ke<=we;){for(var Se=0;Se<le&&!(ke>we);Se++){var $e=q.getLine(ke++);ee=ee==null?$e:ee+`
`+$e}le=le*2,Q.lastIndex=ue.ch;var Ee=Q.exec(ee);if(Ee){var Z=ee.slice(0,Ee.index).split(`
`),x=Ee[0].split(`
`),A=ue.line+Z.length-1,E=Z[Z.length-1].length;return{from:n(A,E),to:n(A+x.length-1,x.length==1?E+x[0].length:x[x.length-1].length),match:Ee}}}}function h(q,Q,ue){for(var ee,le=0;le<=q.length;){Q.lastIndex=le;var ke=Q.exec(q);if(!ke)break;var we=ke.index+ke[0].length;if(we>q.length-ue)break;(!ee||we>ee.index+ee[0].length)&&(ee=ke),le=ke.index+1}return ee}function v(q,Q,ue){Q=o(Q,"g");for(var ee=ue.line,le=ue.ch,ke=q.firstLine();ee>=ke;ee--,le=-1){var we=q.getLine(ee),Se=h(we,Q,le<0?0:we.length-le);if(Se)return{from:n(ee,Se.index),to:n(ee,Se.index+Se[0].length),match:Se}}}function D(q,Q,ue){if(!l(Q))return v(q,Q,ue);Q=o(Q,"gm");for(var ee,le=1,ke=q.getLine(ue.line).length-ue.ch,we=ue.line,Se=q.firstLine();we>=Se;){for(var $e=0;$e<le&&we>=Se;$e++){var Ee=q.getLine(we--);ee=ee==null?Ee:Ee+`
`+ee}le*=2;var Z=h(ee,Q,ke);if(Z){var x=ee.slice(0,Z.index).split(`
`),A=Z[0].split(`
`),E=we+x.length,_=x[x.length-1].length;return{from:n(E,_),to:n(E+A.length-1,A.length==1?_+A[0].length:A[A.length-1].length),match:Z}}}}var O,z;String.prototype.normalize?(O=function(q){return q.normalize("NFD").toLowerCase()},z=function(q){return q.normalize("NFD")}):(O=function(q){return q.toLowerCase()},z=function(q){return q});function $(q,Q,ue,ee){if(q.length==Q.length)return ue;for(var le=0,ke=ue+Math.max(0,q.length-Q.length);;){if(le==ke)return le;var we=le+ke>>1,Se=ee(q.slice(0,we)).length;if(Se==ue)return we;Se>ue?ke=we:le=we+1}}function J(q,Q,ue,ee){if(!Q.length)return null;var le=ee?O:z,ke=le(Q).split(/\r|\n\r?/);e:for(var we=ue.line,Se=ue.ch,$e=q.lastLine()+1-ke.length;we<=$e;we++,Se=0){var Ee=q.getLine(we).slice(Se),Z=le(Ee);if(ke.length==1){var x=Z.indexOf(ke[0]);if(x==-1)continue e;var ue=$(Ee,Z,x,le)+Se;return{from:n(we,$(Ee,Z,x,le)+Se),to:n(we,$(Ee,Z,x+ke[0].length,le)+Se)}}else{var A=Z.length-ke[0].length;if(Z.slice(A)!=ke[0])continue e;for(var E=1;E<ke.length-1;E++)if(le(q.getLine(we+E))!=ke[E])continue e;var _=q.getLine(we+ke.length-1),j=le(_),H=ke[ke.length-1];if(j.slice(0,H.length)!=H)continue e;return{from:n(we,$(Ee,Z,A,le)+Se),to:n(we+ke.length-1,$(_,j,H.length,le))}}}}function se(q,Q,ue,ee){if(!Q.length)return null;var le=ee?O:z,ke=le(Q).split(/\r|\n\r?/);e:for(var we=ue.line,Se=ue.ch,$e=q.firstLine()-1+ke.length;we>=$e;we--,Se=-1){var Ee=q.getLine(we);Se>-1&&(Ee=Ee.slice(0,Se));var Z=le(Ee);if(ke.length==1){var x=Z.lastIndexOf(ke[0]);if(x==-1)continue e;return{from:n(we,$(Ee,Z,x,le)),to:n(we,$(Ee,Z,x+ke[0].length,le))}}else{var A=ke[ke.length-1];if(Z.slice(0,A.length)!=A)continue e;for(var E=1,ue=we-ke.length+1;E<ke.length-1;E++)if(le(q.getLine(ue+E))!=ke[E])continue e;var _=q.getLine(we+1-ke.length),j=le(_);if(j.slice(j.length-ke[0].length)!=ke[0])continue e;return{from:n(we+1-ke.length,$(_,j,_.length-ke[0].length,le)),to:n(we,$(Ee,Z,A.length,le))}}}}function ne(q,Q,ue,ee){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=q,ue=ue?q.clipPos(ue):n(0,0),this.pos={from:ue,to:ue};var le;typeof ee=="object"?le=ee.caseFold:(le=ee,ee=null),typeof Q=="string"?(le==null&&(le=!1),this.matches=function(ke,we){return(ke?se:J)(q,Q,we,le)}):(Q=o(Q,"gm"),!ee||ee.multiline!==!1?this.matches=function(ke,we){return(ke?D:c)(q,Q,we)}:this.matches=function(ke,we){return(ke?v:f)(q,Q,we)})}ne.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(q){var Q=this.doc.clipPos(q?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&(Q=n(Q.line,Q.ch),q?(Q.ch--,Q.ch<0&&(Q.line--,Q.ch=(this.doc.getLine(Q.line)||"").length)):(Q.ch++,Q.ch>(this.doc.getLine(Q.line)||"").length&&(Q.ch=0,Q.line++)),e.cmpPos(Q,this.doc.clipPos(Q))!=0))return this.atOccurrence=!1;var ue=this.matches(q,Q);if(this.afterEmptyMatch=ue&&e.cmpPos(ue.from,ue.to)==0,ue)return this.pos=ue,this.atOccurrence=!0,this.pos.match||!0;var ee=n(q?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:ee,to:ee},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(q,Q){if(this.atOccurrence){var ue=e.splitLines(q);this.doc.replaceRange(ue,this.pos.from,this.pos.to,Q),this.pos.to=n(this.pos.from.line+ue.length-1,ue[ue.length-1].length+(ue.length==1?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(q,Q,ue){return new ne(this.doc,q,Q,ue)}),e.defineDocExtension("getSearchCursor",function(q,Q,ue){return new ne(this,q,Q,ue)}),e.defineExtension("selectMatches",function(q,Q){for(var ue=[],ee=this.getSearchCursor(q,this.getCursor("from"),Q);ee.findNext()&&!(e.cmpPos(ee.to(),this.getCursor("to"))>0);)ue.push({anchor:ee.from(),head:ee.to()});ue.length&&this.setSelections(ue,0)})})});var gh=sn((ph,mh)=>{(function(e){typeof ph=="object"&&typeof mh=="object"?e($n(),gu(),vu()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],e):e(CodeMirror)})(function(e){"use strict";var n=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?«»“”‘’]))/i;e.defineMode("gfm",function(i,o){var l=0;function f(D){return D.code=!1,null}var c={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(D){return{code:D.code,codeBlock:D.codeBlock,ateSpace:D.ateSpace}},token:function(D,O){if(O.combineTokens=null,O.codeBlock)return D.match(/^```+/)?(O.codeBlock=!1,null):(D.skipToEnd(),null);if(D.sol()&&(O.code=!1),D.sol()&&D.match(/^```+/))return D.skipToEnd(),O.codeBlock=!0,null;if(D.peek()==="`"){D.next();var z=D.pos;D.eatWhile("`");var $=1+D.pos-z;return O.code?$===l&&(O.code=!1):(l=$,O.code=!0),null}else if(O.code)return D.next(),null;if(D.eatSpace())return O.ateSpace=!0,null;if((D.sol()||O.ateSpace)&&(O.ateSpace=!1,o.gitHubSpice!==!1)){if(D.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return O.combineTokens=!0,"link";if(D.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return O.combineTokens=!0,"link"}return D.match(n)&&D.string.slice(D.start-2,D.start)!="]("&&(D.start==0||/\W/.test(D.string.charAt(D.start-1)))?(O.combineTokens=!0,"link"):(D.next(),null)},blankLine:f},h={taskLists:!0,strikethrough:!0,emoji:!0};for(var v in o)h[v]=o[v];return h.name="markdown",e.overlayMode(e.getMode(i,h),c)},"markdown"),e.defineMIME("text/x-gfm","gfm")})});var vh=sn(()=>{});var yh=sn((AE,xu)=>{var yu;(function(){"use strict";yu=function(e,n,i,o){o=o||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=o.flags||{},this.memoized={},this.loaded=!1;var l=this,f,c,h,v,D;e&&(l.dictionary=e,n&&i?J():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(o.dictionaryPath?f=o.dictionaryPath:f="typo/dictionaries",n||O(chrome.extension.getURL(f+"/"+e+"/"+e+".aff"),z),i||O(chrome.extension.getURL(f+"/"+e+"/"+e+".dic"),$)):(o.dictionaryPath?f=o.dictionaryPath:typeof __dirname<"u"?f=__dirname+"/dictionaries":f="./dictionaries",n||O(f+"/"+e+"/"+e+".aff",z),i||O(f+"/"+e+"/"+e+".dic",$)));function O(se,ne){var q=l._readFile(se,null,o.asyncLoad);o.asyncLoad?q.then(function(Q){ne(Q)}):ne(q)}function z(se){n=se,i&&J()}function $(se){i=se,n&&J()}function J(){for(l.rules=l._parseAFF(n),l.compoundRuleCodes={},c=0,v=l.compoundRules.length;c<v;c++){var se=l.compoundRules[c];for(h=0,D=se.length;h<D;h++)l.compoundRuleCodes[se[h]]=[]}"ONLYINCOMPOUND"in l.flags&&(l.compoundRuleCodes[l.flags.ONLYINCOMPOUND]=[]),l.dictionaryTable=l._parseDIC(i);for(c in l.compoundRuleCodes)l.compoundRuleCodes[c].length===0&&delete l.compoundRuleCodes[c];for(c=0,v=l.compoundRules.length;c<v;c++){var ne=l.compoundRules[c],q="";for(h=0,D=ne.length;h<D;h++){var Q=ne[h];Q in l.compoundRuleCodes?q+="("+l.compoundRuleCodes[Q].join("|")+")":q+=Q}l.compoundRules[c]=new RegExp(q,"i")}l.loaded=!0,o.asyncLoad&&o.loadedCallback&&o.loadedCallback(l)}return this},yu.prototype={load:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);return this},_readFile:function(e,n,i){if(n=n||"utf8",typeof XMLHttpRequest<"u"){var o,l=new XMLHttpRequest;return l.open("GET",e,i),i&&(o=new Promise(function(c,h){l.onload=function(){l.status===200?c(l.responseText):h(l.statusText)},l.onerror=function(){h(l.statusText)}})),l.overrideMimeType&&l.overrideMimeType("text/plain; charset="+n),l.send(null),i?o:l.responseText}else if(typeof Id<"u"){var f=vh();try{if(f.existsSync(e))return f.readFileSync(e,n);console.log("Path "+e+" does not exist.")}catch(c){return console.log(c),""}}},_parseAFF:function(e){var n={},i,o,l,f,c,h,v,D,O=e.split(/\r?\n/);for(c=0,v=O.length;c<v;c++)if(i=this._removeAffixComments(O[c]),i=i.trim(),!!i){var z=i.split(/\s+/),$=z[0];if($=="PFX"||$=="SFX"){var J=z[1],se=z[2];l=parseInt(z[3],10);var ne=[];for(h=c+1,D=c+1+l;h<D;h++){o=O[h],f=o.split(/\s+/);var q=f[2],Q=f[3].split("/"),ue=Q[0];ue==="0"&&(ue="");var ee=this.parseRuleCodes(Q[1]),le=f[4],ke={};ke.add=ue,ee.length>0&&(ke.continuationClasses=ee),le!=="."&&($==="SFX"?ke.match=new RegExp(le+"$"):ke.match=new RegExp("^"+le)),q!="0"&&($==="SFX"?ke.remove=new RegExp(q+"$"):ke.remove=q),ne.push(ke)}n[J]={type:$,combineable:se=="Y",entries:ne},c+=l}else if($==="COMPOUNDRULE"){for(l=parseInt(z[1],10),h=c+1,D=c+1+l;h<D;h++)i=O[h],f=i.split(/\s+/),this.compoundRules.push(f[1]);c+=l}else $==="REP"?(f=i.split(/\s+/),f.length===3&&this.replacementTable.push([f[1],f[2]])):this.flags[$]=z[1]}return n},_removeAffixComments:function(e){return e.match(/^\s*#/,"")?"":e},_parseDIC:function(e){e=this._removeDicComments(e);var n=e.split(/\r?\n/),i={};function o(Ee,Z){i.hasOwnProperty(Ee)||(i[Ee]=null),Z.length>0&&(i[Ee]===null&&(i[Ee]=[]),i[Ee].push(Z))}for(var l=1,f=n.length;l<f;l++){var c=n[l];if(c){var h=c.split("/",2),v=h[0];if(h.length>1){var D=this.parseRuleCodes(h[1]);(!("NEEDAFFIX"in this.flags)||D.indexOf(this.flags.NEEDAFFIX)==-1)&&o(v,D);for(var O=0,z=D.length;O<z;O++){var $=D[O],J=this.rules[$];if(J)for(var se=this._applyRule(v,J),ne=0,q=se.length;ne<q;ne++){var Q=se[ne];if(o(Q,[]),J.combineable)for(var ue=O+1;ue<z;ue++){var ee=D[ue],le=this.rules[ee];if(le&&le.combineable&&J.type!=le.type)for(var ke=this._applyRule(Q,le),we=0,Se=ke.length;we<Se;we++){var $e=ke[we];o($e,[])}}}$ in this.compoundRuleCodes&&this.compoundRuleCodes[$].push(v)}}else o(v.trim(),[])}}return i},_removeDicComments:function(e){return e=e.replace(/^\t.*$/mg,""),e},parseRuleCodes:function(e){if(e)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var n=[],i=0,o=e.length;i<o;i+=2)n.push(e.substr(i,2));return n}else return this.flags.FLAG==="num"?e.split(","):this.flags.FLAG==="UTF-8"?Array.from(e):e.split("");else return e.split("");else return[]},_applyRule:function(e,n){for(var i=n.entries,o=[],l=0,f=i.length;l<f;l++){var c=i[l];if(!c.match||e.match(c.match)){var h=e;if(c.remove&&(h=h.replace(c.remove,"")),n.type==="SFX"?h=h+c.add:h=c.add+h,o.push(h),"continuationClasses"in c)for(var v=0,D=c.continuationClasses.length;v<D;v++){var O=this.rules[c.continuationClasses[v]];O&&(o=o.concat(this._applyRule(h,O)))}}}return o},check:function(e){if(!this.loaded)throw"Dictionary not loaded.";if(!e)return!1;var n=e.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(n))return!0;if(n.toUpperCase()===n){var i=n[0]+n.substring(1).toLowerCase();if(this.hasFlag(i,"KEEPCASE"))return!1;if(this.checkExact(i)||this.checkExact(n.toLowerCase()))return!0}var o=n[0].toLowerCase()+n.substring(1);if(o!==n){if(this.hasFlag(o,"KEEPCASE"))return!1;if(this.checkExact(o))return!0}return!1},checkExact:function(e){if(!this.loaded)throw"Dictionary not loaded.";var n=this.dictionaryTable[e],i,o;if(typeof n>"u"){if("COMPOUNDMIN"in this.flags&&e.length>=this.flags.COMPOUNDMIN){for(i=0,o=this.compoundRules.length;i<o;i++)if(e.match(this.compoundRules[i]))return!0}}else{if(n===null)return!0;if(typeof n=="object"){for(i=0,o=n.length;i<o;i++)if(!this.hasFlag(e,"ONLYINCOMPOUND",n[i]))return!0}}return!1},hasFlag:function(e,n,i){if(!this.loaded)throw"Dictionary not loaded.";return!!(n in this.flags&&(typeof i>"u"&&(i=Array.prototype.concat.apply([],this.dictionaryTable[e])),i&&i.indexOf(this.flags[n])!==-1))},alphabet:"",suggest:function(e,n){if(!this.loaded)throw"Dictionary not loaded.";if(n=n||5,this.memoized.hasOwnProperty(e)){var i=this.memoized[e].limit;if(n<=i||this.memoized[e].suggestions.length<i)return this.memoized[e].suggestions.slice(0,n)}if(this.check(e))return[];for(var o=0,l=this.replacementTable.length;o<l;o++){var f=this.replacementTable[o];if(e.indexOf(f[0])!==-1){var c=e.replace(f[0],f[1]);if(this.check(c))return[c]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var h=this.alphabet.split("");h.sort();for(var v={},o=0;o<h.length;o++)v[h[o]]=!0;this.alphabet="";for(var o in v)this.alphabet+=o}var D=this;function O($,J){var se={},ne,q,Q,ue,ee,le,ke=D.alphabet.length;if(typeof $=="string"){var we=$;$={},$[we]=!0}for(var we in $)for(ne=0,ue=we.length+1;ne<ue;ne++){var Se=[we.substring(0,ne),we.substring(ne)];if(Se[1]&&(le=Se[0]+Se[1].substring(1),(!J||D.check(le))&&(le in se?se[le]+=1:se[le]=1)),Se[1].length>1&&Se[1][1]!==Se[1][0]&&(le=Se[0]+Se[1][1]+Se[1][0]+Se[1].substring(2),(!J||D.check(le))&&(le in se?se[le]+=1:se[le]=1)),Se[1]){var $e=Se[1].substring(0,1).toUpperCase()===Se[1].substring(0,1)?"uppercase":"lowercase";for(q=0;q<ke;q++){var Ee=D.alphabet[q];$e==="uppercase"&&(Ee=Ee.toUpperCase()),Ee!=Se[1].substring(0,1)&&(le=Se[0]+Ee+Se[1].substring(1),(!J||D.check(le))&&(le in se?se[le]+=1:se[le]=1))}}if(Se[1])for(q=0;q<ke;q++){var $e=Se[0].substring(-1).toUpperCase()===Se[0].substring(-1)&&Se[1].substring(0,1).toUpperCase()===Se[1].substring(0,1)?"uppercase":"lowercase",Ee=D.alphabet[q];$e==="uppercase"&&(Ee=Ee.toUpperCase()),le=Se[0]+Ee+Se[1],(!J||D.check(le))&&(le in se?se[le]+=1:se[le]=1)}}return se}function z($){var J=O($),se=O(J,!0),ne=se;for(var q in J)D.check(q)&&(q in ne?ne[q]+=J[q]:ne[q]=J[q]);var Q,ue,ee=[];for(Q in ne)ne.hasOwnProperty(Q)&&ee.push([Q,ne[Q]]);function le($e,Ee){var Z=$e[1],x=Ee[1];return Z<x?-1:Z>x?1:Ee[0].localeCompare($e[0])}ee.sort(le).reverse();var ke=[],we="lowercase";$.toUpperCase()===$?we="uppercase":$.substr(0,1).toUpperCase()+$.substr(1).toLowerCase()===$&&(we="capitalized");var Se=n;for(Q=0;Q<Math.min(Se,ee.length);Q++)we==="uppercase"?ee[Q][0]=ee[Q][0].toUpperCase():we==="capitalized"&&(ee[Q][0]=ee[Q][0].substr(0,1).toUpperCase()+ee[Q][0].substr(1)),!D.hasFlag(ee[Q][0],"NOSUGGEST")&&ke.indexOf(ee[Q][0])==-1?ke.push(ee[Q][0]):Se++;return ke}return this.memoized[e]={suggestions:z(e),limit:n},this.memoized[e].suggestions}}})();typeof xu<"u"&&(xu.exports=yu)});var wh=sn((FE,bh)=>{"use strict";var xh=yh();function _t(e){if(e=e||{},typeof e.codeMirrorInstance!="function"||typeof e.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){"use strict";return String.prototype.indexOf.apply(this,arguments)!==-1}),e.codeMirrorInstance.defineMode("spell-checker",function(n){if(!_t.aff_loading){_t.aff_loading=!0;var i=new XMLHttpRequest;i.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),i.onload=function(){i.readyState===4&&i.status===200&&(_t.aff_data=i.responseText,_t.num_loaded++,_t.num_loaded==2&&(_t.typo=new xh("en_US",_t.aff_data,_t.dic_data,{platform:"any"})))},i.send(null)}if(!_t.dic_loading){_t.dic_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),o.onload=function(){o.readyState===4&&o.status===200&&(_t.dic_data=o.responseText,_t.num_loaded++,_t.num_loaded==2&&(_t.typo=new xh("en_US",_t.aff_data,_t.dic_data,{platform:"any"})))},o.send(null)}var l='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',f={token:function(h){var v=h.peek(),D="";if(l.includes(v))return h.next(),null;for(;(v=h.peek())!=null&&!l.includes(v);)D+=v,h.next();return _t.typo&&!_t.typo.check(D)?"spell-error":null}},c=e.codeMirrorInstance.getMode(n,n.backdrop||"text/plain");return e.codeMirrorInstance.overlayMode(c,f,!0)})}_t.num_loaded=0;_t.aff_loading=!1;_t.dic_loading=!1;_t.aff_data="";_t.dic_data="";_t.typo;bh.exports=_t});var _h=sn(Ot=>{"use strict";function Eh(e,n){for(var i=0;i<n.length;i++){var o=n[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,Ay(o.key),o)}}function Dy(e,n,i){return n&&Eh(e.prototype,n),i&&Eh(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function Kn(){return Kn=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e},Kn.apply(this,arguments)}function Ty(e,n){if(e){if(typeof e=="string")return Ch(e,n);var i=Object.prototype.toString.call(e).slice(8,-1);if(i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set")return Array.from(e);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ch(e,n)}}function Ch(e,n){(n==null||n>e.length)&&(n=e.length);for(var i=0,o=new Array(n);i<n;i++)o[i]=e[i];return o}function cs(e,n){var i=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=Ty(e))||n&&e&&typeof e.length=="number"){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sy(e,n){if(typeof e!="object"||e===null)return e;var i=e[Symbol.toPrimitive];if(i!==void 0){var o=i.call(e,n||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(e)}function Ay(e){var n=Sy(e,"string");return typeof n=="symbol"?n:String(n)}function bu(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Ot.defaults=bu();function Ly(e){Ot.defaults=e}var Fh=/[&<>"']/,Fy=new RegExp(Fh.source,"g"),Oh=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Oy=new RegExp(Oh.source,"g"),My={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kh=function(n){return My[n]};function Ln(e,n){if(n){if(Fh.test(e))return e.replace(Fy,kh)}else if(Oh.test(e))return e.replace(Oy,kh);return e}var Iy=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Mh(e){return e.replace(Iy,function(n,i){return i=i.toLowerCase(),i==="colon"?":":i.charAt(0)==="#"?i.charAt(1)==="x"?String.fromCharCode(parseInt(i.substring(2),16)):String.fromCharCode(+i.substring(1)):""})}var _y=/(^|[^\[])\^/g;function At(e,n){e=typeof e=="string"?e:e.source,n=n||"";var i={replace:function(l,f){return f=f.source||f,f=f.replace(_y,"$1"),e=e.replace(l,f),i},getRegex:function(){return new RegExp(e,n)}};return i}var Ry=/[^\w:]/g,Ny=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Dh(e,n,i){if(e){var o;try{o=decodeURIComponent(Mh(i)).replace(Ry,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}n&&!Ny.test(i)&&(i=qy(n,i));try{i=encodeURI(i).replace(/%25/g,"%")}catch{return null}return i}var ds={},By=/^[^:]+:\/*[^/]*$/,Py=/^([^:]+:)[\s\S]*$/,Hy=/^([^:]+:\/*[^/]*)[\s\S]*$/;function qy(e,n){ds[" "+e]||(By.test(e)?ds[" "+e]=e+"/":ds[" "+e]=hs(e,"/",!0)),e=ds[" "+e];var i=e.indexOf(":")===-1;return n.substring(0,2)==="//"?i?n:e.replace(Py,"$1")+n:n.charAt(0)==="/"?i?n:e.replace(Hy,"$1")+n:e+n}var ps={exec:function(){}};function Th(e,n){var i=e.replace(/\|/g,function(f,c,h){for(var v=!1,D=c;--D>=0&&h[D]==="\\";)v=!v;return v?"|":" |"}),o=i.split(/ \|/),l=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>n)o.splice(n);else for(;o.length<n;)o.push("");for(;l<o.length;l++)o[l]=o[l].trim().replace(/\\\|/g,"|");return o}function hs(e,n,i){var o=e.length;if(o===0)return"";for(var l=0;l<o;){var f=e.charAt(o-l-1);if(f===n&&!i)l++;else if(f!==n&&i)l++;else break}return e.slice(0,o-l)}function Wy(e,n){if(e.indexOf(n[1])===-1)return-1;for(var i=e.length,o=0,l=0;l<i;l++)if(e[l]==="\\")l++;else if(e[l]===n[0])o++;else if(e[l]===n[1]&&(o--,o<0))return l;return-1}function zy(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Sh(e,n){if(n<1)return"";for(var i="";n>1;)n&1&&(i+=e),n>>=1,e+=e;return i+e}function Ah(e,n,i,o){var l=n.href,f=n.title?Ln(n.title):null,c=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;var h={type:"link",raw:i,href:l,title:f,text:c,tokens:o.inlineTokens(c)};return o.state.inLink=!1,h}return{type:"image",raw:i,href:l,title:f,text:Ln(c)}}function Uy(e,n){var i=e.match(/^(\s+)(?:```)/);if(i===null)return n;var o=i[1];return n.split(`
`).map(function(l){var f=l.match(/^\s+/);if(f===null)return l;var c=f[0];return c.length>=o.length?l.slice(o.length):l}).join(`
`)}var ms=function(){function e(i){this.options=i||Ot.defaults}var n=e.prototype;return n.space=function(o){var l=this.rules.block.newline.exec(o);if(l&&l[0].length>0)return{type:"space",raw:l[0]}},n.code=function(o){var l=this.rules.block.code.exec(o);if(l){var f=l[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:l[0],codeBlockStyle:"indented",text:this.options.pedantic?f:hs(f,`
`)}}},n.fences=function(o){var l=this.rules.block.fences.exec(o);if(l){var f=l[0],c=Uy(f,l[3]||"");return{type:"code",raw:f,lang:l[2]?l[2].trim().replace(this.rules.inline._escapes,"$1"):l[2],text:c}}},n.heading=function(o){var l=this.rules.block.heading.exec(o);if(l){var f=l[2].trim();if(/#$/.test(f)){var c=hs(f,"#");(this.options.pedantic||!c||/ $/.test(c))&&(f=c.trim())}return{type:"heading",raw:l[0],depth:l[1].length,text:f,tokens:this.lexer.inline(f)}}},n.hr=function(o){var l=this.rules.block.hr.exec(o);if(l)return{type:"hr",raw:l[0]}},n.blockquote=function(o){var l=this.rules.block.blockquote.exec(o);if(l){var f=l[0].replace(/^ *>[ \t]?/gm,""),c=this.lexer.state.top;this.lexer.state.top=!0;var h=this.lexer.blockTokens(f);return this.lexer.state.top=c,{type:"blockquote",raw:l[0],tokens:h,text:f}}},n.list=function(o){var l=this.rules.block.list.exec(o);if(l){var f,c,h,v,D,O,z,$,J,se,ne,q,Q=l[1].trim(),ue=Q.length>1,ee={type:"list",raw:"",ordered:ue,start:ue?+Q.slice(0,-1):"",loose:!1,items:[]};Q=ue?"\\d{1,9}\\"+Q.slice(-1):"\\"+Q,this.options.pedantic&&(Q=ue?Q:"[*+-]");for(var le=new RegExp("^( {0,3}"+Q+")((?:[	 ][^\\n]*)?(?:\\n|$))");o&&(q=!1,!(!(l=le.exec(o))||this.rules.block.hr.test(o)));){if(f=l[0],o=o.substring(f.length),$=l[2].split(`
`,1)[0].replace(/^\t+/,function(A){return" ".repeat(3*A.length)}),J=o.split(`
`,1)[0],this.options.pedantic?(v=2,ne=$.trimLeft()):(v=l[2].search(/[^ ]/),v=v>4?1:v,ne=$.slice(v),v+=l[1].length),O=!1,!$&&/^ *$/.test(J)&&(f+=J+`
`,o=o.substring(J.length+1),q=!0),!q)for(var ke=new RegExp("^ {0,"+Math.min(3,v-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),we=new RegExp("^ {0,"+Math.min(3,v-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Se=new RegExp("^ {0,"+Math.min(3,v-1)+"}(?:```|~~~)"),$e=new RegExp("^ {0,"+Math.min(3,v-1)+"}#");o&&(se=o.split(`
`,1)[0],J=se,this.options.pedantic&&(J=J.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Se.test(J)||$e.test(J)||ke.test(J)||we.test(o)));){if(J.search(/[^ ]/)>=v||!J.trim())ne+=`
`+J.slice(v);else{if(O||$.search(/[^ ]/)>=4||Se.test($)||$e.test($)||we.test($))break;ne+=`
`+J}!O&&!J.trim()&&(O=!0),f+=se+`
`,o=o.substring(se.length+1),$=J.slice(v)}ee.loose||(z?ee.loose=!0:/\n *\n *$/.test(f)&&(z=!0)),this.options.gfm&&(c=/^\[[ xX]\] /.exec(ne),c&&(h=c[0]!=="[ ] ",ne=ne.replace(/^\[[ xX]\] +/,""))),ee.items.push({type:"list_item",raw:f,task:!!c,checked:h,loose:!1,text:ne}),ee.raw+=f}ee.items[ee.items.length-1].raw=f.trimRight(),ee.items[ee.items.length-1].text=ne.trimRight(),ee.raw=ee.raw.trimRight();var Ee=ee.items.length;for(D=0;D<Ee;D++)if(this.lexer.state.top=!1,ee.items[D].tokens=this.lexer.blockTokens(ee.items[D].text,[]),!ee.loose){var Z=ee.items[D].tokens.filter(function(A){return A.type==="space"}),x=Z.length>0&&Z.some(function(A){return/\n.*\n/.test(A.raw)});ee.loose=x}if(ee.loose)for(D=0;D<Ee;D++)ee.items[D].loose=!0;return ee}},n.html=function(o){var l=this.rules.block.html.exec(o);if(l){var f={type:"html",raw:l[0],pre:!this.options.sanitizer&&(l[1]==="pre"||l[1]==="script"||l[1]==="style"),text:l[0]};if(this.options.sanitize){var c=this.options.sanitizer?this.options.sanitizer(l[0]):Ln(l[0]);f.type="paragraph",f.text=c,f.tokens=this.lexer.inline(c)}return f}},n.def=function(o){var l=this.rules.block.def.exec(o);if(l){var f=l[1].toLowerCase().replace(/\s+/g," "),c=l[2]?l[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",h=l[3]?l[3].substring(1,l[3].length-1).replace(this.rules.inline._escapes,"$1"):l[3];return{type:"def",tag:f,raw:l[0],href:c,title:h}}},n.table=function(o){var l=this.rules.block.table.exec(o);if(l){var f={type:"table",header:Th(l[1]).map(function(z){return{text:z}}),align:l[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:l[3]&&l[3].trim()?l[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(f.header.length===f.align.length){f.raw=l[0];var c=f.align.length,h,v,D,O;for(h=0;h<c;h++)/^ *-+: *$/.test(f.align[h])?f.align[h]="right":/^ *:-+: *$/.test(f.align[h])?f.align[h]="center":/^ *:-+ *$/.test(f.align[h])?f.align[h]="left":f.align[h]=null;for(c=f.rows.length,h=0;h<c;h++)f.rows[h]=Th(f.rows[h],f.header.length).map(function(z){return{text:z}});for(c=f.header.length,v=0;v<c;v++)f.header[v].tokens=this.lexer.inline(f.header[v].text);for(c=f.rows.length,v=0;v<c;v++)for(O=f.rows[v],D=0;D<O.length;D++)O[D].tokens=this.lexer.inline(O[D].text);return f}}},n.lheading=function(o){var l=this.rules.block.lheading.exec(o);if(l)return{type:"heading",raw:l[0],depth:l[2].charAt(0)==="="?1:2,text:l[1],tokens:this.lexer.inline(l[1])}},n.paragraph=function(o){var l=this.rules.block.paragraph.exec(o);if(l){var f=l[1].charAt(l[1].length-1)===`
`?l[1].slice(0,-1):l[1];return{type:"paragraph",raw:l[0],text:f,tokens:this.lexer.inline(f)}}},n.text=function(o){var l=this.rules.block.text.exec(o);if(l)return{type:"text",raw:l[0],text:l[0],tokens:this.lexer.inline(l[0])}},n.escape=function(o){var l=this.rules.inline.escape.exec(o);if(l)return{type:"escape",raw:l[0],text:Ln(l[1])}},n.tag=function(o){var l=this.rules.inline.tag.exec(o);if(l)return!this.lexer.state.inLink&&/^<a /i.test(l[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(l[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(l[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(l[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:l[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(l[0]):Ln(l[0]):l[0]}},n.link=function(o){var l=this.rules.inline.link.exec(o);if(l){var f=l[2].trim();if(!this.options.pedantic&&/^</.test(f)){if(!/>$/.test(f))return;var c=hs(f.slice(0,-1),"\\");if((f.length-c.length)%2===0)return}else{var h=Wy(l[2],"()");if(h>-1){var v=l[0].indexOf("!")===0?5:4,D=v+l[1].length+h;l[2]=l[2].substring(0,h),l[0]=l[0].substring(0,D).trim(),l[3]=""}}var O=l[2],z="";if(this.options.pedantic){var $=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(O);$&&(O=$[1],z=$[3])}else z=l[3]?l[3].slice(1,-1):"";return O=O.trim(),/^</.test(O)&&(this.options.pedantic&&!/>$/.test(f)?O=O.slice(1):O=O.slice(1,-1)),Ah(l,{href:O&&O.replace(this.rules.inline._escapes,"$1"),title:z&&z.replace(this.rules.inline._escapes,"$1")},l[0],this.lexer)}},n.reflink=function(o,l){var f;if((f=this.rules.inline.reflink.exec(o))||(f=this.rules.inline.nolink.exec(o))){var c=(f[2]||f[1]).replace(/\s+/g," ");if(c=l[c.toLowerCase()],!c){var h=f[0].charAt(0);return{type:"text",raw:h,text:h}}return Ah(f,c,f[0],this.lexer)}},n.emStrong=function(o,l,f){f===void 0&&(f="");var c=this.rules.inline.emStrong.lDelim.exec(o);if(c&&!(c[3]&&f.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var h=c[1]||c[2]||"";if(!h||h&&(f===""||this.rules.inline.punctuation.exec(f))){var v=c[0].length-1,D,O,z=v,$=0,J=c[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(J.lastIndex=0,l=l.slice(-1*o.length+v);(c=J.exec(l))!=null;)if(D=c[1]||c[2]||c[3]||c[4]||c[5]||c[6],!!D){if(O=D.length,c[3]||c[4]){z+=O;continue}else if((c[5]||c[6])&&v%3&&!((v+O)%3)){$+=O;continue}if(z-=O,!(z>0)){O=Math.min(O,O+z+$);var se=o.slice(0,v+c.index+(c[0].length-D.length)+O);if(Math.min(v,O)%2){var ne=se.slice(1,-1);return{type:"em",raw:se,text:ne,tokens:this.lexer.inlineTokens(ne)}}var q=se.slice(2,-2);return{type:"strong",raw:se,text:q,tokens:this.lexer.inlineTokens(q)}}}}}},n.codespan=function(o){var l=this.rules.inline.code.exec(o);if(l){var f=l[2].replace(/\n/g," "),c=/[^ ]/.test(f),h=/^ /.test(f)&&/ $/.test(f);return c&&h&&(f=f.substring(1,f.length-1)),f=Ln(f,!0),{type:"codespan",raw:l[0],text:f}}},n.br=function(o){var l=this.rules.inline.br.exec(o);if(l)return{type:"br",raw:l[0]}},n.del=function(o){var l=this.rules.inline.del.exec(o);if(l)return{type:"del",raw:l[0],text:l[2],tokens:this.lexer.inlineTokens(l[2])}},n.autolink=function(o,l){var f=this.rules.inline.autolink.exec(o);if(f){var c,h;return f[2]==="@"?(c=Ln(this.options.mangle?l(f[1]):f[1]),h="mailto:"+c):(c=Ln(f[1]),h=c),{type:"link",raw:f[0],text:c,href:h,tokens:[{type:"text",raw:c,text:c}]}}},n.url=function(o,l){var f;if(f=this.rules.inline.url.exec(o)){var c,h;if(f[2]==="@")c=Ln(this.options.mangle?l(f[0]):f[0]),h="mailto:"+c;else{var v;do v=f[0],f[0]=this.rules.inline._backpedal.exec(f[0])[0];while(v!==f[0]);c=Ln(f[0]),f[1]==="www."?h="http://"+f[0]:h=f[0]}return{type:"link",raw:f[0],text:c,href:h,tokens:[{type:"text",raw:c,text:c}]}}},n.inlineText=function(o,l){var f=this.rules.inline.text.exec(o);if(f){var c;return this.lexer.state.inRawBlock?c=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):Ln(f[0]):f[0]:c=Ln(this.options.smartypants?l(f[0]):f[0]),{type:"text",raw:f[0],text:c}}},e}(),et={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ps,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};et._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;et._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;et.def=At(et.def).replace("label",et._label).replace("title",et._title).getRegex();et.bullet=/(?:[*+-]|\d{1,9}[.)])/;et.listItemStart=At(/^( *)(bull) */).replace("bull",et.bullet).getRegex();et.list=At(et.list).replace(/bull/g,et.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+et.def.source+")").getRegex();et._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";et._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;et.html=At(et.html,"i").replace("comment",et._comment).replace("tag",et._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();et.paragraph=At(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.blockquote=At(et.blockquote).replace("paragraph",et.paragraph).getRegex();et.normal=Kn({},et);et.gfm=Kn({},et.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});et.gfm.table=At(et.gfm.table).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.gfm.paragraph=At(et._paragraph).replace("hr",et.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",et.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",et._tag).getRegex();et.pedantic=Kn({},et.normal,{html:At(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",et._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ps,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:At(et.normal._paragraph).replace("hr",et.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",et.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var je={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ps,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ps,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};je._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";je.punctuation=At(je.punctuation).replace(/punctuation/g,je._punctuation).getRegex();je.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;je.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;je._comment=At(et._comment).replace("(?:-->|$)","-->").getRegex();je.emStrong.lDelim=At(je.emStrong.lDelim).replace(/punct/g,je._punctuation).getRegex();je.emStrong.rDelimAst=At(je.emStrong.rDelimAst,"g").replace(/punct/g,je._punctuation).getRegex();je.emStrong.rDelimUnd=At(je.emStrong.rDelimUnd,"g").replace(/punct/g,je._punctuation).getRegex();je._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;je._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;je._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;je.autolink=At(je.autolink).replace("scheme",je._scheme).replace("email",je._email).getRegex();je._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;je.tag=At(je.tag).replace("comment",je._comment).replace("attribute",je._attribute).getRegex();je._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;je._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;je._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;je.link=At(je.link).replace("label",je._label).replace("href",je._href).replace("title",je._title).getRegex();je.reflink=At(je.reflink).replace("label",je._label).replace("ref",et._label).getRegex();je.nolink=At(je.nolink).replace("ref",et._label).getRegex();je.reflinkSearch=At(je.reflinkSearch,"g").replace("reflink",je.reflink).replace("nolink",je.nolink).getRegex();je.normal=Kn({},je);je.pedantic=Kn({},je.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:At(/^!?\[(label)\]\((.*?)\)/).replace("label",je._label).getRegex(),reflink:At(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",je._label).getRegex()});je.gfm=Kn({},je.normal,{escape:At(je.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});je.gfm.url=At(je.gfm.url,"i").replace("email",je.gfm._extended_email).getRegex();je.breaks=Kn({},je.gfm,{br:At(je.br).replace("{2,}","*").getRegex(),text:At(je.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function jy(e){return e.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function Lh(e){var n="",i,o,l=e.length;for(i=0;i<l;i++)o=e.charCodeAt(i),Math.random()>.5&&(o="x"+o.toString(16)),n+="&#"+o+";";return n}var po=function(){function e(i){this.tokens=[],this.tokens.links=Object.create(null),this.options=i||Ot.defaults,this.options.tokenizer=this.options.tokenizer||new ms,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var o={block:et.normal,inline:je.normal};this.options.pedantic?(o.block=et.pedantic,o.inline=je.pedantic):this.options.gfm&&(o.block=et.gfm,this.options.breaks?o.inline=je.breaks:o.inline=je.gfm),this.tokenizer.rules=o}e.lex=function(o,l){var f=new e(l);return f.lex(o)},e.lexInline=function(o,l){var f=new e(l);return f.inlineTokens(o)};var n=e.prototype;return n.lex=function(o){o=o.replace(/\r\n|\r/g,`
`),this.blockTokens(o,this.tokens);for(var l;l=this.inlineQueue.shift();)this.inlineTokens(l.src,l.tokens);return this.tokens},n.blockTokens=function(o,l){var f=this;l===void 0&&(l=[]),this.options.pedantic?o=o.replace(/\t/g,"    ").replace(/^ +$/gm,""):o=o.replace(/^( *)(\t+)/gm,function(z,$,J){return $+"    ".repeat(J.length)});for(var c,h,v,D;o;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(z){return(c=z.call({lexer:f},o,l))?(o=o.substring(c.raw.length),l.push(c),!0):!1}))){if(c=this.tokenizer.space(o)){o=o.substring(c.raw.length),c.raw.length===1&&l.length>0?l[l.length-1].raw+=`
`:l.push(c);continue}if(c=this.tokenizer.code(o)){o=o.substring(c.raw.length),h=l[l.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue[this.inlineQueue.length-1].src=h.text):l.push(c);continue}if(c=this.tokenizer.fences(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.heading(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.hr(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.blockquote(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.list(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.html(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.def(o)){o=o.substring(c.raw.length),h=l[l.length-1],h&&(h.type==="paragraph"||h.type==="text")?(h.raw+=`
`+c.raw,h.text+=`
`+c.raw,this.inlineQueue[this.inlineQueue.length-1].src=h.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.lheading(o)){o=o.substring(c.raw.length),l.push(c);continue}if(v=o,this.options.extensions&&this.options.extensions.startBlock&&function(){var z=1/0,$=o.slice(1),J=void 0;f.options.extensions.startBlock.forEach(function(se){J=se.call({lexer:this},$),typeof J=="number"&&J>=0&&(z=Math.min(z,J))}),z<1/0&&z>=0&&(v=o.substring(0,z+1))}(),this.state.top&&(c=this.tokenizer.paragraph(v))){h=l[l.length-1],D&&h.type==="paragraph"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):l.push(c),D=v.length!==o.length,o=o.substring(c.raw.length);continue}if(c=this.tokenizer.text(o)){o=o.substring(c.raw.length),h=l[l.length-1],h&&h.type==="text"?(h.raw+=`
`+c.raw,h.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=h.text):l.push(c);continue}if(o){var O="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(O);break}else throw new Error(O)}}return this.state.top=!0,l},n.inline=function(o,l){return l===void 0&&(l=[]),this.inlineQueue.push({src:o,tokens:l}),l},n.inlineTokens=function(o,l){var f=this;l===void 0&&(l=[]);var c,h,v,D=o,O,z,$;if(this.tokens.links){var J=Object.keys(this.tokens.links);if(J.length>0)for(;(O=this.tokenizer.rules.inline.reflinkSearch.exec(D))!=null;)J.includes(O[0].slice(O[0].lastIndexOf("[")+1,-1))&&(D=D.slice(0,O.index)+"["+Sh("a",O[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(O=this.tokenizer.rules.inline.blockSkip.exec(D))!=null;)D=D.slice(0,O.index)+"["+Sh("a",O[0].length-2)+"]"+D.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(O=this.tokenizer.rules.inline.escapedEmSt.exec(D))!=null;)D=D.slice(0,O.index+O[0].length-2)+"++"+D.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;o;)if(z||($=""),z=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(ne){return(c=ne.call({lexer:f},o,l))?(o=o.substring(c.raw.length),l.push(c),!0):!1}))){if(c=this.tokenizer.escape(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.tag(o)){o=o.substring(c.raw.length),h=l[l.length-1],h&&c.type==="text"&&h.type==="text"?(h.raw+=c.raw,h.text+=c.text):l.push(c);continue}if(c=this.tokenizer.link(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.reflink(o,this.tokens.links)){o=o.substring(c.raw.length),h=l[l.length-1],h&&c.type==="text"&&h.type==="text"?(h.raw+=c.raw,h.text+=c.text):l.push(c);continue}if(c=this.tokenizer.emStrong(o,D,$)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.codespan(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.br(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.del(o)){o=o.substring(c.raw.length),l.push(c);continue}if(c=this.tokenizer.autolink(o,Lh)){o=o.substring(c.raw.length),l.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(o,Lh))){o=o.substring(c.raw.length),l.push(c);continue}if(v=o,this.options.extensions&&this.options.extensions.startInline&&function(){var ne=1/0,q=o.slice(1),Q=void 0;f.options.extensions.startInline.forEach(function(ue){Q=ue.call({lexer:this},q),typeof Q=="number"&&Q>=0&&(ne=Math.min(ne,Q))}),ne<1/0&&ne>=0&&(v=o.substring(0,ne+1))}(),c=this.tokenizer.inlineText(v,jy)){o=o.substring(c.raw.length),c.raw.slice(-1)!=="_"&&($=c.raw.slice(-1)),z=!0,h=l[l.length-1],h&&h.type==="text"?(h.raw+=c.raw,h.text+=c.text):l.push(c);continue}if(o){var se="Infinite loop on byte: "+o.charCodeAt(0);if(this.options.silent){console.error(se);break}else throw new Error(se)}}return l},Dy(e,null,[{key:"rules",get:function(){return{block:et,inline:je}}}]),e}(),gs=function(){function e(i){this.options=i||Ot.defaults}var n=e.prototype;return n.code=function(o,l,f){var c=(l||"").match(/\S*/)[0];if(this.options.highlight){var h=this.options.highlight(o,c);h!=null&&h!==o&&(f=!0,o=h)}return o=o.replace(/\n$/,"")+`
`,c?'<pre><code class="'+this.options.langPrefix+Ln(c)+'">'+(f?o:Ln(o,!0))+`</code></pre>
`:"<pre><code>"+(f?o:Ln(o,!0))+`</code></pre>
`},n.blockquote=function(o){return`<blockquote>
`+o+`</blockquote>
`},n.html=function(o){return o},n.heading=function(o,l,f,c){if(this.options.headerIds){var h=this.options.headerPrefix+c.slug(f);return"<h"+l+' id="'+h+'">'+o+"</h"+l+`>
`}return"<h"+l+">"+o+"</h"+l+`>
`},n.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},n.list=function(o,l,f){var c=l?"ol":"ul",h=l&&f!==1?' start="'+f+'"':"";return"<"+c+h+`>
`+o+"</"+c+`>
`},n.listitem=function(o){return"<li>"+o+`</li>
`},n.checkbox=function(o){return"<input "+(o?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},n.paragraph=function(o){return"<p>"+o+`</p>
`},n.table=function(o,l){return l&&(l="<tbody>"+l+"</tbody>"),`<table>
<thead>
`+o+`</thead>
`+l+`</table>
`},n.tablerow=function(o){return`<tr>
`+o+`</tr>
`},n.tablecell=function(o,l){var f=l.header?"th":"td",c=l.align?"<"+f+' align="'+l.align+'">':"<"+f+">";return c+o+("</"+f+`>
`)},n.strong=function(o){return"<strong>"+o+"</strong>"},n.em=function(o){return"<em>"+o+"</em>"},n.codespan=function(o){return"<code>"+o+"</code>"},n.br=function(){return this.options.xhtml?"<br/>":"<br>"},n.del=function(o){return"<del>"+o+"</del>"},n.link=function(o,l,f){if(o=Dh(this.options.sanitize,this.options.baseUrl,o),o===null)return f;var c='<a href="'+o+'"';return l&&(c+=' title="'+l+'"'),c+=">"+f+"</a>",c},n.image=function(o,l,f){if(o=Dh(this.options.sanitize,this.options.baseUrl,o),o===null)return f;var c='<img src="'+o+'" alt="'+f+'"';return l&&(c+=' title="'+l+'"'),c+=this.options.xhtml?"/>":">",c},n.text=function(o){return o},e}(),wu=function(){function e(){}var n=e.prototype;return n.strong=function(o){return o},n.em=function(o){return o},n.codespan=function(o){return o},n.del=function(o){return o},n.html=function(o){return o},n.text=function(o){return o},n.link=function(o,l,f){return""+f},n.image=function(o,l,f){return""+f},n.br=function(){return""},e}(),Eu=function(){function e(){this.seen={}}var n=e.prototype;return n.serialize=function(o){return o.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},n.getNextSafeSlug=function(o,l){var f=o,c=0;if(this.seen.hasOwnProperty(f)){c=this.seen[o];do c++,f=o+"-"+c;while(this.seen.hasOwnProperty(f))}return l||(this.seen[o]=c,this.seen[f]=0),f},n.slug=function(o,l){l===void 0&&(l={});var f=this.serialize(o);return this.getNextSafeSlug(f,l.dryrun)},e}(),mo=function(){function e(i){this.options=i||Ot.defaults,this.options.renderer=this.options.renderer||new gs,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wu,this.slugger=new Eu}e.parse=function(o,l){var f=new e(l);return f.parse(o)},e.parseInline=function(o,l){var f=new e(l);return f.parseInline(o)};var n=e.prototype;return n.parse=function(o,l){l===void 0&&(l=!0);var f="",c,h,v,D,O,z,$,J,se,ne,q,Q,ue,ee,le,ke,we,Se,$e,Ee=o.length;for(c=0;c<Ee;c++){if(ne=o[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ne.type]&&($e=this.options.extensions.renderers[ne.type].call({parser:this},ne),$e!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(ne.type))){f+=$e||"";continue}switch(ne.type){case"space":continue;case"hr":{f+=this.renderer.hr();continue}case"heading":{f+=this.renderer.heading(this.parseInline(ne.tokens),ne.depth,Mh(this.parseInline(ne.tokens,this.textRenderer)),this.slugger);continue}case"code":{f+=this.renderer.code(ne.text,ne.lang,ne.escaped);continue}case"table":{for(J="",$="",D=ne.header.length,h=0;h<D;h++)$+=this.renderer.tablecell(this.parseInline(ne.header[h].tokens),{header:!0,align:ne.align[h]});for(J+=this.renderer.tablerow($),se="",D=ne.rows.length,h=0;h<D;h++){for(z=ne.rows[h],$="",O=z.length,v=0;v<O;v++)$+=this.renderer.tablecell(this.parseInline(z[v].tokens),{header:!1,align:ne.align[v]});se+=this.renderer.tablerow($)}f+=this.renderer.table(J,se);continue}case"blockquote":{se=this.parse(ne.tokens),f+=this.renderer.blockquote(se);continue}case"list":{for(q=ne.ordered,Q=ne.start,ue=ne.loose,D=ne.items.length,se="",h=0;h<D;h++)le=ne.items[h],ke=le.checked,we=le.task,ee="",le.task&&(Se=this.renderer.checkbox(ke),ue?le.tokens.length>0&&le.tokens[0].type==="paragraph"?(le.tokens[0].text=Se+" "+le.tokens[0].text,le.tokens[0].tokens&&le.tokens[0].tokens.length>0&&le.tokens[0].tokens[0].type==="text"&&(le.tokens[0].tokens[0].text=Se+" "+le.tokens[0].tokens[0].text)):le.tokens.unshift({type:"text",text:Se}):ee+=Se),ee+=this.parse(le.tokens,ue),se+=this.renderer.listitem(ee,we,ke);f+=this.renderer.list(se,q,Q);continue}case"html":{f+=this.renderer.html(ne.text);continue}case"paragraph":{f+=this.renderer.paragraph(this.parseInline(ne.tokens));continue}case"text":{for(se=ne.tokens?this.parseInline(ne.tokens):ne.text;c+1<Ee&&o[c+1].type==="text";)ne=o[++c],se+=`
`+(ne.tokens?this.parseInline(ne.tokens):ne.text);f+=l?this.renderer.paragraph(se):se;continue}default:{var Z='Token with "'+ne.type+'" type was not found.';if(this.options.silent){console.error(Z);return}else throw new Error(Z)}}}return f},n.parseInline=function(o,l){l=l||this.renderer;var f="",c,h,v,D=o.length;for(c=0;c<D;c++){if(h=o[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(v=this.options.extensions.renderers[h.type].call({parser:this},h),v!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(h.type))){f+=v||"";continue}switch(h.type){case"escape":{f+=l.text(h.text);break}case"html":{f+=l.html(h.text);break}case"link":{f+=l.link(h.href,h.title,this.parseInline(h.tokens,l));break}case"image":{f+=l.image(h.href,h.title,h.text);break}case"strong":{f+=l.strong(this.parseInline(h.tokens,l));break}case"em":{f+=l.em(this.parseInline(h.tokens,l));break}case"codespan":{f+=l.codespan(h.text);break}case"br":{f+=l.br();break}case"del":{f+=l.del(this.parseInline(h.tokens,l));break}case"text":{f+=l.text(h.text);break}default:{var O='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(O);return}else throw new Error(O)}}}return f},e}(),ca=function(){function e(i){this.options=i||Ot.defaults}var n=e.prototype;return n.preprocess=function(o){return o},n.postprocess=function(o){return o},e}();ca.passThroughHooks=new Set(["preprocess","postprocess"]);function $y(e,n,i){return function(o){if(o.message+=`
Please report this to https://github.com/markedjs/marked.`,e){var l="<p>An error occurred:</p><pre>"+Ln(o.message+"",!0)+"</pre>";if(n)return Promise.resolve(l);if(i){i(null,l);return}return l}if(n)return Promise.reject(o);if(i){i(o);return}throw o}}function Ih(e,n){return function(i,o,l){typeof o=="function"&&(l=o,o=null);var f=Kn({},o);o=Kn({},Qe.defaults,f);var c=$y(o.silent,o.async,l);if(typeof i>"u"||i===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));if(zy(o),o.hooks&&(o.hooks.options=o),l){var h=o.highlight,v;try{o.hooks&&(i=o.hooks.preprocess(i)),v=e(i,o)}catch(J){return c(J)}var D=function(se){var ne;if(!se)try{o.walkTokens&&Qe.walkTokens(v,o.walkTokens),ne=n(v,o),o.hooks&&(ne=o.hooks.postprocess(ne))}catch(q){se=q}return o.highlight=h,se?c(se):l(null,ne)};if(!h||h.length<3||(delete o.highlight,!v.length))return D();var O=0;Qe.walkTokens(v,function(J){J.type==="code"&&(O++,setTimeout(function(){h(J.text,J.lang,function(se,ne){if(se)return D(se);ne!=null&&ne!==J.text&&(J.text=ne,J.escaped=!0),O--,O===0&&D()})},0))}),O===0&&D();return}if(o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(i):i).then(function(J){return e(J,o)}).then(function(J){return o.walkTokens?Promise.all(Qe.walkTokens(J,o.walkTokens)).then(function(){return J}):J}).then(function(J){return n(J,o)}).then(function(J){return o.hooks?o.hooks.postprocess(J):J}).catch(c);try{o.hooks&&(i=o.hooks.preprocess(i));var z=e(i,o);o.walkTokens&&Qe.walkTokens(z,o.walkTokens);var $=n(z,o);return o.hooks&&($=o.hooks.postprocess($)),$}catch(J){return c(J)}}}function Qe(e,n,i){return Ih(po.lex,mo.parse)(e,n,i)}Qe.options=Qe.setOptions=function(e){return Qe.defaults=Kn({},Qe.defaults,e),Ly(Qe.defaults),Qe};Qe.getDefaults=bu;Qe.defaults=Ot.defaults;Qe.use=function(){for(var e=Qe.defaults.extensions||{renderers:{},childTokens:{}},n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];i.forEach(function(l){var f=Kn({},l);if(f.async=Qe.defaults.async||f.async||!1,l.extensions&&(l.extensions.forEach(function(h){if(!h.name)throw new Error("extension name required");if(h.renderer){var v=e.renderers[h.name];v?e.renderers[h.name]=function(){for(var D=arguments.length,O=new Array(D),z=0;z<D;z++)O[z]=arguments[z];var $=h.renderer.apply(this,O);return $===!1&&($=v.apply(this,O)),$}:e.renderers[h.name]=h.renderer}if(h.tokenizer){if(!h.level||h.level!=="block"&&h.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");e[h.level]?e[h.level].unshift(h.tokenizer):e[h.level]=[h.tokenizer],h.start&&(h.level==="block"?e.startBlock?e.startBlock.push(h.start):e.startBlock=[h.start]:h.level==="inline"&&(e.startInline?e.startInline.push(h.start):e.startInline=[h.start]))}h.childTokens&&(e.childTokens[h.name]=h.childTokens)}),f.extensions=e),l.renderer&&function(){var h=Qe.defaults.renderer||new gs,v=function(z){var $=h[z];h[z]=function(){for(var J=arguments.length,se=new Array(J),ne=0;ne<J;ne++)se[ne]=arguments[ne];var q=l.renderer[z].apply(h,se);return q===!1&&(q=$.apply(h,se)),q}};for(var D in l.renderer)v(D);f.renderer=h}(),l.tokenizer&&function(){var h=Qe.defaults.tokenizer||new ms,v=function(z){var $=h[z];h[z]=function(){for(var J=arguments.length,se=new Array(J),ne=0;ne<J;ne++)se[ne]=arguments[ne];var q=l.tokenizer[z].apply(h,se);return q===!1&&(q=$.apply(h,se)),q}};for(var D in l.tokenizer)v(D);f.tokenizer=h}(),l.hooks&&function(){var h=Qe.defaults.hooks||new ca,v=function(z){var $=h[z];ca.passThroughHooks.has(z)?h[z]=function(J){if(Qe.defaults.async)return Promise.resolve(l.hooks[z].call(h,J)).then(function(ne){return $.call(h,ne)});var se=l.hooks[z].call(h,J);return $.call(h,se)}:h[z]=function(){for(var J=arguments.length,se=new Array(J),ne=0;ne<J;ne++)se[ne]=arguments[ne];var q=l.hooks[z].apply(h,se);return q===!1&&(q=$.apply(h,se)),q}};for(var D in l.hooks)v(D);f.hooks=h}(),l.walkTokens){var c=Qe.defaults.walkTokens;f.walkTokens=function(h){var v=[];return v.push(l.walkTokens.call(this,h)),c&&(v=v.concat(c.call(this,h))),v}}Qe.setOptions(f)})};Qe.walkTokens=function(e,n){for(var i=[],o=function(){var h=f.value;switch(i=i.concat(n.call(Qe,h)),h.type){case"table":{for(var v=cs(h.header),D;!(D=v()).done;){var O=D.value;i=i.concat(Qe.walkTokens(O.tokens,n))}for(var z=cs(h.rows),$;!($=z()).done;)for(var J=$.value,se=cs(J),ne;!(ne=se()).done;){var q=ne.value;i=i.concat(Qe.walkTokens(q.tokens,n))}break}case"list":{i=i.concat(Qe.walkTokens(h.items,n));break}default:Qe.defaults.extensions&&Qe.defaults.extensions.childTokens&&Qe.defaults.extensions.childTokens[h.type]?Qe.defaults.extensions.childTokens[h.type].forEach(function(Q){i=i.concat(Qe.walkTokens(h[Q],n))}):h.tokens&&(i=i.concat(Qe.walkTokens(h.tokens,n)))}},l=cs(e),f;!(f=l()).done;)o();return i};Qe.parseInline=Ih(po.lexInline,mo.parseInline);Qe.Parser=mo;Qe.parser=mo.parse;Qe.Renderer=gs;Qe.TextRenderer=wu;Qe.Lexer=po;Qe.lexer=po.lex;Qe.Tokenizer=ms;Qe.Slugger=Eu;Qe.Hooks=ca;Qe.parse=Qe;var Gy=Qe.options,Xy=Qe.setOptions,Vy=Qe.use,Yy=Qe.walkTokens,Ky=Qe.parseInline,Zy=Qe,Jy=mo.parse,Qy=po.lex;Ot.Hooks=ca;Ot.Lexer=po;Ot.Parser=mo;Ot.Renderer=gs;Ot.Slugger=Eu;Ot.TextRenderer=wu;Ot.Tokenizer=ms;Ot.getDefaults=bu;Ot.lexer=Qy;Ot.marked=Qe;Ot.options=Gy;Ot.parse=Zy;Ot.parseInline=Ky;Ot.parser=Jy;Ot.setOptions=Xy;Ot.use=Vy;Ot.walkTokens=Yy});var $h=sn((ME,jh)=>{"use strict";var go=$n();Wd();Ud();Gd();gu();vu();ih();sh();fh();hh();gh();mu();var e0=wh(),Cu=_h().marked,Bh=/Mac/.test(navigator.platform),t0=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),da={toggleBold:xs,toggleItalic:bs,drawLink:Os,toggleHeadingSmaller:ha,toggleHeadingBigger:ks,drawImage:Ms,toggleBlockquote:Cs,toggleOrderedList:Ls,toggleUnorderedList:As,toggleCodeBlock:Es,togglePreview:Bs,toggleStrikethrough:ws,toggleHeading1:Ds,toggleHeading2:Ts,toggleHeading3:Ss,toggleHeading4:Du,toggleHeading5:Tu,toggleHeading6:Su,cleanBlock:Fs,drawTable:Is,drawHorizontalRule:_s,undo:Rs,redo:Ns,toggleSideBySide:vo,toggleFullScreen:Ti},n0={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},r0=function(e){for(var n in da)if(da[n]===e)return n;return null},ku=function(){var e=!1;return function(n){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(n.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e};function i0(e){for(var n;(n=t0.exec(e))!==null;){var i=n[0];if(i.indexOf("target=")===-1){var o=i.replace(/>$/,' target="_blank">');e=e.replace(i,o)}}return e}function o0(e){for(var n=new DOMParser,i=n.parseFromString(e,"text/html"),o=i.getElementsByTagName("li"),l=0;l<o.length;l++)for(var f=o[l],c=0;c<f.children.length;c++){var h=f.children[c];h instanceof HTMLInputElement&&h.type==="checkbox"&&(f.style.marginLeft="-1.5em",f.style.listStyleType="none")}return i.documentElement.innerHTML}function Ph(e){return Bh?e=e.replace("Ctrl","Cmd"):e=e.replace("Cmd","Ctrl"),e}function a0(e,n,i,o){var l=vs(e,!1,n,i,"button",o);l.classList.add("easymde-dropdown"),l.onclick=function(){l.focus()};var f=document.createElement("div");f.className="easymde-dropdown-content";for(var c=0;c<e.children.length;c++){var h=e.children[c],v;typeof h=="string"&&h in Di?v=vs(Di[h],!0,n,i,"button",o):v=vs(h,!0,n,i,"button",o),v.addEventListener("click",function(D){D.stopPropagation()},!1),f.appendChild(v)}return l.appendChild(f),l}function vs(e,n,i,o,l,f){e=e||{};var c=document.createElement(l);if(e.attributes)for(var h in e.attributes)Object.prototype.hasOwnProperty.call(e.attributes,h)&&c.setAttribute(h,e.attributes[h]);var v=f.options.toolbarButtonClassPrefix?f.options.toolbarButtonClassPrefix+"-":"";c.className=v+e.name,c.setAttribute("type",l),i=i??!0,e.text&&(c.innerText=e.text),e.name&&e.name in o&&(da[e.name]=e.action),e.title&&i&&(c.title=l0(e.title,e.action,o),Bh&&(c.title=c.title.replace("Ctrl","\u2318"),c.title=c.title.replace("Alt","\u2325"))),e.title&&c.setAttribute("aria-label",e.title),e.noDisable&&c.classList.add("no-disable"),e.noMobile&&c.classList.add("no-mobile");var D=[];typeof e.className<"u"&&(D=e.className.split(" "));for(var O=[],z=0;z<D.length;z++){var $=D[z];$.match(/^fa([srlb]|(-[\w-]*)|$)/)?O.push($):c.classList.add($)}if(c.tabIndex=-1,O.length>0){for(var J=document.createElement("i"),se=0;se<O.length;se++){var ne=O[se];J.classList.add(ne)}c.appendChild(J)}return typeof e.icon<"u"&&(c.innerHTML=e.icon),e.action&&n&&(typeof e.action=="function"?c.onclick=function(q){q.preventDefault(),e.action(f)}:typeof e.action=="string"&&(c.onclick=function(q){q.preventDefault(),window.open(e.action,"_blank")})),c}function s0(){var e=document.createElement("i");return e.className="separator",e.innerHTML="|",e}function l0(e,n,i){var o,l=e;return n&&(o=r0(n),i[o]&&(l+=" ("+Ph(i[o])+")")),l}function ni(e,n){n=n||e.getCursor("start");var i=e.getTokenAt(n);if(!i.type)return{};for(var o=i.type.split(" "),l={},f,c,h=0;h<o.length;h++)f=o[h],f==="strong"?l.bold=!0:f==="variable-2"?(c=e.getLine(n.line),/^\s*\d+\.\s/.test(c)?l["ordered-list"]=!0:l["unordered-list"]=!0):f==="atom"?l.quote=!0:f==="em"?l.italic=!0:f==="quote"?l.quote=!0:f==="strikethrough"?l.strikethrough=!0:f==="comment"?l.code=!0:f==="link"&&!l.image?l.link=!0:f==="image"?l.image=!0:f.match(/^header(-[1-6])?$/)&&(l[f.replace("header","heading")]=!0);return l}var Rh="";function Ti(e){var n=e.codemirror;n.setOption("fullScreen",!n.getOption("fullScreen")),n.getOption("fullScreen")?(Rh=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=Rh;var i=n.getWrapperElement(),o=i.nextSibling;if(o.classList.contains("editor-preview-active-side"))if(e.options.sideBySideFullscreen===!1){var l=i.parentNode;n.getOption("fullScreen")?l.classList.remove("sided--no-fullscreen"):l.classList.add("sided--no-fullscreen")}else vo(e);if(e.options.onToggleFullScreen&&e.options.onToggleFullScreen(n.getOption("fullScreen")||!1),typeof e.options.maxHeight<"u"&&(n.getOption("fullScreen")?(n.getScrollerElement().style.removeProperty("height"),o.style.removeProperty("height")):(n.getScrollerElement().style.height=e.options.maxHeight,e.setPreviewMaxHeight())),e.toolbar_div.classList.toggle("fullscreen"),e.toolbarElements&&e.toolbarElements.fullscreen){var f=e.toolbarElements.fullscreen;f.classList.toggle("active")}}function xs(e){Fu(e,"bold",e.options.blockStyles.bold)}function bs(e){Fu(e,"italic",e.options.blockStyles.italic)}function ws(e){Fu(e,"strikethrough","~~")}function Es(e){var n=e.options.blockStyles.code;function i(_){if(typeof _!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof _+": "+_;return _.styles&&_.styles[2]&&_.styles[2].indexOf("formatting-code-block")!==-1}function o(_){return _.state.base.base||_.state.base}function l(_,j,H,V,N){H=H||_.getLineHandle(j),V=V||_.getTokenAt({line:j,ch:1}),N=N||!!H.text&&_.getTokenAt({line:j,ch:H.text.length-1});var ve=V.type?V.type.split(" "):[];return N&&o(N).indentedCode?"indented":ve.indexOf("comment")===-1?!1:o(V).fencedChars||o(N).fencedChars||i(H)?"fenced":"single"}function f(_,j,H,V){var N=j.line+1,ve=H.line+1,R=j.line!==H.line,b=V+`
`,ae=`
`+V;R&&ve++,R&&H.ch===0&&(ae=V+`
`,ve--),Si(_,!1,[b,ae]),_.setSelection({line:N,ch:0},{line:ve,ch:0})}var c=e.codemirror,h=c.getCursor("start"),v=c.getCursor("end"),D=c.getTokenAt({line:h.line,ch:h.ch||1}),O=c.getLineHandle(h.line),z=l(c,h.line,O,D),$,J,se;if(z==="single"){var ne=O.text.slice(0,h.ch).replace("`",""),q=O.text.slice(h.ch).replace("`","");c.replaceRange(ne+q,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch--,h!==v&&v.ch--,c.setSelection(h,v),c.focus()}else if(z==="fenced")if(h.line!==v.line||h.ch!==v.ch){for($=h.line;$>=0&&(O=c.getLineHandle($),!i(O));$--);var Q=c.getTokenAt({line:$,ch:1}),ue=o(Q).fencedChars,ee,le,ke,we;i(c.getLineHandle(h.line))?(ee="",le=h.line):i(c.getLineHandle(h.line-1))?(ee="",le=h.line-1):(ee=ue+`
`,le=h.line),i(c.getLineHandle(v.line))?(ke="",we=v.line,v.ch===0&&(we+=1)):v.ch!==0&&i(c.getLineHandle(v.line+1))?(ke="",we=v.line+1):(ke=ue+`
`,we=v.line+1),v.ch===0&&(we-=1),c.operation(function(){c.replaceRange(ke,{line:we,ch:0},{line:we+(ke?0:1),ch:0}),c.replaceRange(ee,{line:le,ch:0},{line:le+(ee?0:1),ch:0})}),c.setSelection({line:le+(ee?1:0),ch:0},{line:we+(ee?1:-1),ch:0}),c.focus()}else{var Se=h.line;if(i(c.getLineHandle(h.line))&&(l(c,h.line+1)==="fenced"?($=h.line,Se=h.line+1):(J=h.line,Se=h.line-1)),$===void 0)for($=Se;$>=0&&(O=c.getLineHandle($),!i(O));$--);if(J===void 0)for(se=c.lineCount(),J=Se;J<se&&(O=c.getLineHandle(J),!i(O));J++);c.operation(function(){c.replaceRange("",{line:$,ch:0},{line:$+1,ch:0}),c.replaceRange("",{line:J-1,ch:0},{line:J,ch:0})}),c.focus()}else if(z==="indented"){if(h.line!==v.line||h.ch!==v.ch)$=h.line,J=v.line,v.ch===0&&J--;else{for($=h.line;$>=0;$--)if(O=c.getLineHandle($),!O.text.match(/^\s*$/)&&l(c,$,O)!=="indented"){$+=1;break}for(se=c.lineCount(),J=h.line;J<se;J++)if(O=c.getLineHandle(J),!O.text.match(/^\s*$/)&&l(c,J,O)!=="indented"){J-=1;break}}var $e=c.getLineHandle(J+1),Ee=$e&&c.getTokenAt({line:J+1,ch:$e.text.length-1}),Z=Ee&&o(Ee).indentedCode;Z&&c.replaceRange(`
`,{line:J+1,ch:0});for(var x=$;x<=J;x++)c.indentLine(x,"subtract");c.focus()}else{var A=h.line===v.line&&h.ch===v.ch&&h.ch===0,E=h.line!==v.line;A||E?f(c,h,v,n):Si(c,!1,["`","`"])}}function Cs(e){Lu(e.codemirror,"quote")}function ha(e){ri(e.codemirror,"smaller")}function ks(e){ri(e.codemirror,"bigger")}function Ds(e){ri(e.codemirror,void 0,1)}function Ts(e){ri(e.codemirror,void 0,2)}function Ss(e){ri(e.codemirror,void 0,3)}function Du(e){ri(e.codemirror,void 0,4)}function Tu(e){ri(e.codemirror,void 0,5)}function Su(e){ri(e.codemirror,void 0,6)}function As(e){var n=e.codemirror,i="*";["-","+","*"].includes(e.options.unorderedListStyle)&&(i=e.options.unorderedListStyle),Lu(n,"unordered-list",i)}function Ls(e){Lu(e.codemirror,"ordered-list")}function Fs(e){u0(e.codemirror)}function Os(e){var n=e.options,i="https://";if(n.promptURLs){var o=prompt(n.promptTexts.link,i);if(!o)return!1;i=Hh(o)}Wh(e,"link",n.insertTexts.link,i)}function Ms(e){var n=e.options,i="https://";if(n.promptURLs){var o=prompt(n.promptTexts.image,i);if(!o)return!1;i=Hh(o)}Wh(e,"image",n.insertTexts.image,i)}function Hh(e){return encodeURI(e).replace(/([\\()])/g,"\\$1")}function Au(e){e.openBrowseFileWindow()}function qh(e,n){var i=e.codemirror,o=ni(i),l=e.options,f=n.substr(n.lastIndexOf("/")+1),c=f.substring(f.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(c))Si(i,o.image,l.insertTexts.uploadedImage,n);else{var h=l.insertTexts.link;h[0]="["+f,Si(i,o.link,h,n)}e.updateStatusBar("upload-image",e.options.imageTexts.sbOnUploaded.replace("#image_name#",f)),setTimeout(function(){e.updateStatusBar("upload-image",e.options.imageTexts.sbInit)},1e3)}function Is(e){var n=e.codemirror,i=ni(n),o=e.options;Si(n,i.table,o.insertTexts.table)}function _s(e){var n=e.codemirror,i=ni(n),o=e.options;Si(n,i.image,o.insertTexts.horizontalRule)}function Rs(e){var n=e.codemirror;n.undo(),n.focus()}function Ns(e){var n=e.codemirror;n.redo(),n.focus()}function vo(e){var n=e.codemirror,i=n.getWrapperElement(),o=i.nextSibling,l=e.toolbarElements&&e.toolbarElements["side-by-side"],f=!1,c=i.parentNode;o.classList.contains("editor-preview-active-side")?(e.options.sideBySideFullscreen===!1&&c.classList.remove("sided--no-fullscreen"),o.classList.remove("editor-preview-active-side"),l&&l.classList.remove("active"),i.classList.remove("CodeMirror-sided")):(setTimeout(function(){n.getOption("fullScreen")||(e.options.sideBySideFullscreen===!1?c.classList.add("sided--no-fullscreen"):Ti(e)),o.classList.add("editor-preview-active-side")},1),l&&l.classList.add("active"),i.classList.add("CodeMirror-sided"),f=!0);var h=i.lastChild;if(h.classList.contains("editor-preview-active")){h.classList.remove("editor-preview-active");var v=e.toolbarElements.preview,D=e.toolbar_div;v.classList.remove("active"),D.classList.remove("disabled-for-preview")}var O=function(){var $=e.options.previewRender(e.value(),o);$!=null&&(o.innerHTML=$)};if(n.sideBySideRenderingFunction||(n.sideBySideRenderingFunction=O),f){var z=e.options.previewRender(e.value(),o);z!=null&&(o.innerHTML=z),n.on("update",n.sideBySideRenderingFunction)}else n.off("update",n.sideBySideRenderingFunction);n.refresh()}function Bs(e){var n=e.codemirror,i=n.getWrapperElement(),o=e.toolbar_div,l=e.options.toolbar?e.toolbarElements.preview:!1,f=i.lastChild,c=n.getWrapperElement().nextSibling;if(c.classList.contains("editor-preview-active-side")&&vo(e),!f||!f.classList.contains("editor-preview-full")){if(f=document.createElement("div"),f.className="editor-preview-full",e.options.previewClass)if(Array.isArray(e.options.previewClass))for(var h=0;h<e.options.previewClass.length;h++)f.classList.add(e.options.previewClass[h]);else typeof e.options.previewClass=="string"&&f.classList.add(e.options.previewClass);i.appendChild(f)}f.classList.contains("editor-preview-active")?(f.classList.remove("editor-preview-active"),l&&(l.classList.remove("active"),o.classList.remove("disabled-for-preview"))):(setTimeout(function(){f.classList.add("editor-preview-active")},1),l&&(l.classList.add("active"),o.classList.add("disabled-for-preview")));var v=e.options.previewRender(e.value(),f);v!==null&&(f.innerHTML=v)}function Si(e,n,i,o){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var l,f=i[0],c=i[1],h={},v={};Object.assign(h,e.getCursor("start")),Object.assign(v,e.getCursor("end")),o&&(f=f.replace("#url#",o),c=c.replace("#url#",o)),n?(l=e.getLine(h.line),f=l.slice(0,h.ch),c=l.slice(h.ch),e.replaceRange(f+c,{line:h.line,ch:0})):(l=e.getSelection(),e.replaceSelection(f+l+c),h.ch+=f.length,h!==v&&(v.ch+=f.length)),e.setSelection(h,v),e.focus()}}function ri(e,n,i){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var o=e.getCursor("start"),l=e.getCursor("end"),f=o.line;f<=l.line;f++)(function(c){var h=e.getLine(c),v=h.search(/[^#]/);n!==void 0?v<=0?n=="bigger"?h="###### "+h:h="# "+h:v==6&&n=="smaller"?h=h.substr(7):v==1&&n=="bigger"?h=h.substr(2):n=="bigger"?h=h.substr(1):h="#"+h:v<=0?h="#".repeat(i)+" "+h:v==i?h=h.substr(v+1):h="#".repeat(i)+" "+h.substr(v+1),e.replaceRange(h,{line:c,ch:0},{line:c,ch:99999999999999})})(f);e.focus()}}function Lu(e,n,i){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var o=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,l=/^\s*/,f=ni(e),c=e.getCursor("start"),h=e.getCursor("end"),v={quote:/^(\s*)>\s+/,"unordered-list":o,"ordered-list":o},D=function(se,ne){var q={quote:">","unordered-list":i,"ordered-list":"%%i."};return q[se].replace("%%i",ne)},O=function(se,ne){var q={quote:">","unordered-list":"\\"+i,"ordered-list":"\\d+."},Q=new RegExp(q[se]);return ne&&Q.test(ne)},z=function(se,ne,q){var Q=o.exec(ne),ue=D(se,$);return Q!==null?(O(se,Q[2])&&(ue=""),ne=Q[1]+ue+Q[3]+ne.replace(l,"").replace(v[se],"$1")):q==!1&&(ne=ue+" "+ne),ne},$=1,J=c.line;J<=h.line;J++)(function(se){var ne=e.getLine(se);f[n]?ne=ne.replace(v[n],"$1"):(n=="unordered-list"&&(ne=z("ordered-list",ne,!0)),ne=z(n,ne,!1),$+=1),e.replaceRange(ne,{line:se,ch:0},{line:se,ch:99999999999999})})(J);e.focus()}}function Wh(e,n,i,o){if(!(!e.codemirror||e.isPreviewActive())){var l=e.codemirror,f=ni(l),c=f[n];if(!c){Si(l,c,i,o);return}var h=l.getCursor("start"),v=l.getCursor("end"),D=l.getLine(h.line),O=D.slice(0,h.ch),z=D.slice(h.ch);n=="link"?O=O.replace(/(.*)[^!]\[/,"$1"):n=="image"&&(O=O.replace(/(.*)!\[$/,"$1")),z=z.replace(/]\(.*?\)/,""),l.replaceRange(O+z,{line:h.line,ch:0},{line:h.line,ch:99999999999999}),h.ch-=i[0].length,h!==v&&(v.ch-=i[0].length),l.setSelection(h,v),l.focus()}}function Fu(e,n,i,o){if(!(!e.codemirror||e.isPreviewActive())){o=typeof o>"u"?i:o;var l=e.codemirror,f=ni(l),c,h=i,v=o,D=l.getCursor("start"),O=l.getCursor("end");f[n]?(c=l.getLine(D.line),h=c.slice(0,D.ch),v=c.slice(D.ch),n=="bold"?(h=h.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),v=v.replace(/(\*\*|__)/,"")):n=="italic"?(h=h.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),v=v.replace(/(\*|_)/,"")):n=="strikethrough"&&(h=h.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),v=v.replace(/(\*\*|~~)/,"")),l.replaceRange(h+v,{line:D.line,ch:0},{line:D.line,ch:99999999999999}),n=="bold"||n=="strikethrough"?(D.ch-=2,D!==O&&(O.ch-=2)):n=="italic"&&(D.ch-=1,D!==O&&(O.ch-=1))):(c=l.getSelection(),n=="bold"?(c=c.split("**").join(""),c=c.split("__").join("")):n=="italic"?(c=c.split("*").join(""),c=c.split("_").join("")):n=="strikethrough"&&(c=c.split("~~").join("")),l.replaceSelection(h+c+v),D.ch+=i.length,O.ch=D.ch+c.length),l.setSelection(D,O),l.focus()}}function u0(e){if(!e.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var n=e.getCursor("start"),i=e.getCursor("end"),o,l=n.line;l<=i.line;l++)o=e.getLine(l),o=o.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),e.replaceRange(o,{line:l,ch:0},{line:l,ch:99999999999999})}function ys(e,n){if(Math.abs(e)<1024)return""+e+n[0];var i=0;do e/=1024,++i;while(Math.abs(e)>=1024&&i<n.length);return""+e.toFixed(1)+n[i]}function zh(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(n[i]instanceof Array?e[i]=n[i].concat(e[i]instanceof Array?e[i]:[]):n[i]!==null&&typeof n[i]=="object"&&n[i].constructor===Object?e[i]=zh(e[i]||{},n[i]):e[i]=n[i]);return e}function Pr(e){for(var n=1;n<arguments.length;n++)e=zh(e,arguments[n]);return e}function Nh(e){var n=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,i=e.match(n),o=0;if(i===null)return o;for(var l=0;l<i.length;l++)i[l].charCodeAt(0)>=19968?o+=i[l].length:o+=1;return o}var Mt={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},Di={bold:{name:"bold",action:xs,className:Mt.bold,title:"Bold",default:!0},italic:{name:"italic",action:bs,className:Mt.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:ws,className:Mt.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:ha,className:Mt.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:ha,className:Mt["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:ks,className:Mt["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ds,className:Mt["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Ts,className:Mt["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ss,className:Mt["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:Es,className:Mt.code,title:"Code"},quote:{name:"quote",action:Cs,className:Mt.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:As,className:Mt["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Ls,className:Mt["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Fs,className:Mt["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:Os,className:Mt.link,title:"Create Link",default:!0},image:{name:"image",action:Ms,className:Mt.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:Au,className:Mt["upload-image"],title:"Import an image"},table:{name:"table",action:Is,className:Mt.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:_s,className:Mt["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Bs,className:Mt.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:vo,className:Mt["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:Ti,className:Mt.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Mt.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Rs,className:Mt.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Ns,className:Mt.redo,noDisable:!0,title:"Redo"}},f0={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},c0={link:"URL for the link:",image:"URL of the image:"},d0={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},h0={bold:"**",code:"```",italic:"*"},p0={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},m0={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function ze(e){e=e||{},e.parent=this;var n=!0;if(e.autoDownloadFontAwesome===!1&&(n=!1),e.autoDownloadFontAwesome!==!0)for(var i=document.styleSheets,o=0;o<i.length;o++)i[o].href&&i[o].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(n=!1);if(n){var l=document.createElement("link");l.rel="stylesheet",l.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(l)}if(e.element)this.element=e.element;else if(e.element===null){console.log("EasyMDE: Error. No element was found.");return}if(e.toolbar===void 0){e.toolbar=[];for(var f in Di)Object.prototype.hasOwnProperty.call(Di,f)&&(f.indexOf("separator-")!=-1&&e.toolbar.push("|"),(Di[f].default===!0||e.showIcons&&e.showIcons.constructor===Array&&e.showIcons.indexOf(f)!=-1)&&e.toolbar.push(f))}if(Object.prototype.hasOwnProperty.call(e,"previewClass")||(e.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(e,"status")||(e.status=["autosave","lines","words","cursor"],e.uploadImage&&e.status.unshift("upload-image")),e.previewRender||(e.previewRender=function(h){return this.parent.markdown(h)}),e.parsingConfig=Pr({highlightFormatting:!0},e.parsingConfig||{}),e.insertTexts=Pr({},f0,e.insertTexts||{}),e.promptTexts=Pr({},c0,e.promptTexts||{}),e.blockStyles=Pr({},h0,e.blockStyles||{}),e.autosave!=null&&(e.autosave.timeFormat=Pr({},d0,e.autosave.timeFormat||{})),e.iconClassMap=Pr({},Mt,e.iconClassMap||{}),e.shortcuts=Pr({},n0,e.shortcuts||{}),e.maxHeight=e.maxHeight||void 0,e.direction=e.direction||"ltr",typeof e.maxHeight<"u"?e.minHeight=e.maxHeight:e.minHeight=e.minHeight||"300px",e.errorCallback=e.errorCallback||function(h){alert(h)},e.uploadImage=e.uploadImage||!1,e.imageMaxSize=e.imageMaxSize||2097152,e.imageAccept=e.imageAccept||"image/png, image/jpeg, image/gif, image/avif",e.imageTexts=Pr({},p0,e.imageTexts||{}),e.errorMessages=Pr({},m0,e.errorMessages||{}),e.imagePathAbsolute=e.imagePathAbsolute||!1,e.imageCSRFName=e.imageCSRFName||"csrfmiddlewaretoken",e.imageCSRFHeader=e.imageCSRFHeader||!1,e.autosave!=null&&e.autosave.unique_id!=null&&e.autosave.unique_id!=""&&(e.autosave.uniqueId=e.autosave.unique_id),e.overlayMode&&e.overlayMode.combine===void 0&&(e.overlayMode.combine=!0),this.options=e,this.render(),e.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(e.initialValue),e.uploadImage){var c=this;this.codemirror.on("dragenter",function(h,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbOnDragEnter),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragend",function(h,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragleave",function(h,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragover",function(h,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbOnDragEnter),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("drop",function(h,v){v.stopPropagation(),v.preventDefault(),e.imageUploadFunction?c.uploadImagesUsingCustomFunction(e.imageUploadFunction,v.dataTransfer.files):c.uploadImages(v.dataTransfer.files)}),this.codemirror.on("paste",function(h,v){e.imageUploadFunction?c.uploadImagesUsingCustomFunction(e.imageUploadFunction,v.clipboardData.files):c.uploadImages(v.clipboardData.files)})}}ze.prototype.uploadImages=function(e,n,i){if(e.length!==0){for(var o=[],l=0;l<e.length;l++)o.push(e[l].name),this.uploadImage(e[l],n,i);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",o.join(", ")))}};ze.prototype.uploadImagesUsingCustomFunction=function(e,n){if(n.length!==0){for(var i=[],o=0;o<n.length;o++)i.push(n[o].name),this.uploadImageUsingCustomFunction(e,n[o]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",i.join(", ")))}};ze.prototype.updateStatusBar=function(e,n){if(this.gui.statusbar){var i=this.gui.statusbar.getElementsByClassName(e);i.length===1?this.gui.statusbar.getElementsByClassName(e)[0].textContent=n:i.length===0?console.log("EasyMDE: status bar item "+e+" was not found."):console.log("EasyMDE: Several status bar items named "+e+" was found.")}};ze.prototype.markdown=function(e){if(Cu){var n;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?n=this.options.renderingConfig.markedOptions:n={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?n.breaks=!1:n.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var i=this.options.renderingConfig.hljs||window.hljs;i&&(n.highlight=function(l,f){return f&&i.getLanguage(f)?i.highlight(f,l).value:i.highlightAuto(l).value})}Cu.setOptions(n);var o=Cu.parse(e);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(o=this.options.renderingConfig.sanitizerFunction.call(this,o)),o=i0(o),o=o0(o),o}};ze.prototype.render=function(e){if(e||(e=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===e)return;this.element=e;var n=this.options,i=this,o={};for(var l in n.shortcuts)n.shortcuts[l]!==null&&da[l]!==null&&function(q){o[Ph(n.shortcuts[q])]=function(){var Q=da[q];typeof Q=="function"?Q(i):typeof Q=="string"&&window.open(Q,"_blank")}}(l);o.Enter="newlineAndIndentContinueMarkdownList",o.Tab="tabAndIndentMarkdownList",o["Shift-Tab"]="shiftTabAndUnindentMarkdownList",o.Esc=function(q){q.getOption("fullScreen")&&Ti(i)},this.documentOnKeyDown=function(q){q=q||window.event,q.keyCode==27&&i.codemirror.getOption("fullScreen")&&Ti(i)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var f,c;n.overlayMode?(go.defineMode("overlay-mode",function(q){return go.overlayMode(go.getMode(q,n.spellChecker!==!1?"spell-checker":"gfm"),n.overlayMode.mode,n.overlayMode.combine)}),f="overlay-mode",c=n.parsingConfig,c.gitHubSpice=!1):(f=n.parsingConfig,f.name="gfm",f.gitHubSpice=!1),n.spellChecker!==!1&&(f="spell-checker",c=n.parsingConfig,c.name="gfm",c.gitHubSpice=!1,typeof n.spellChecker=="function"?n.spellChecker({codeMirrorInstance:go}):e0({codeMirrorInstance:go}));function h(q,Q,ue){return{addNew:!1}}if(this.codemirror=go.fromTextArea(e,{mode:f,backdrop:c,theme:n.theme!=null?n.theme:"easymde",tabSize:n.tabSize!=null?n.tabSize:2,indentUnit:n.tabSize!=null?n.tabSize:2,indentWithTabs:n.indentWithTabs!==!1,lineNumbers:n.lineNumbers===!0,autofocus:n.autofocus===!0,extraKeys:o,direction:n.direction,lineWrapping:n.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:n.placeholder||e.getAttribute("placeholder")||"",styleSelectedText:n.styleSelectedText!=null?n.styleSelectedText:!ku(),scrollbarStyle:n.scrollbarStyle!=null?n.scrollbarStyle:"native",configureMouse:h,inputStyle:n.inputStyle!=null?n.inputStyle:ku()?"contenteditable":"textarea",spellcheck:n.nativeSpellcheck!=null?n.nativeSpellcheck:!0,autoRefresh:n.autoRefresh!=null?n.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=n.minHeight,typeof n.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=n.maxHeight),n.forceSync===!0){var v=this.codemirror;v.on("change",function(){v.save()})}this.gui={};var D=document.createElement("div");D.classList.add("EasyMDEContainer"),D.setAttribute("role","application");var O=this.codemirror.getWrapperElement();O.parentNode.insertBefore(D,O),D.appendChild(O),n.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),n.status!==!1&&(this.gui.statusbar=this.createStatusbar()),n.autosave!=null&&n.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(i._autosave_timeout),i._autosave_timeout=setTimeout(function(){i.autosave()},i.options.autosave.submit_delay||i.options.autosave.delay||1e3)}));function z(q,Q){var ue,ee=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return q<ee?ue=Q+"px":ue=Q/q*100+"%",ue}var $=this;function J(q,Q){q.setAttribute("data-img-src",Q.url),q.setAttribute("style","--bg-image:url("+Q.url+");--width:"+Q.naturalWidth+"px;--height:"+z(Q.naturalWidth,Q.naturalHeight)),$.codemirror.setSize()}function se(){n.previewImagesInEditor&&D.querySelectorAll(".cm-image-marker").forEach(function(q){var Q=q.parentElement;if(Q.innerText.match(/^!\[.*?\]\(.*\)/g)&&!Q.hasAttribute("data-img-src")){var ue=Q.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),ue&&ue.length>=2){var ee=ue[1];if(n.imagesPreviewHandler){var le=n.imagesPreviewHandler(ue[1]);typeof le=="string"&&(ee=le)}if(window.EMDEimagesCache[ee])J(Q,window.EMDEimagesCache[ee]);else{var ke=document.createElement("img");ke.onload=function(){window.EMDEimagesCache[ee]={naturalWidth:ke.naturalWidth,naturalHeight:ke.naturalHeight,url:ee},J(Q,window.EMDEimagesCache[ee])},ke.src=ee}}}})}this.codemirror.on("update",function(){se()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(n.autofocus===!0||e.autofocus)&&this.codemirror.focus();var ne=this.codemirror;setTimeout(function(){ne.refresh()}.bind(ne),0)};ze.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Uh(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}ze.prototype.autosave=function(){if(Uh()){var e=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(e.element.form!=null&&e.element.form!=null&&e.element.form.addEventListener("submit",function(){clearTimeout(e.autosaveTimeoutId),e.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+e.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var n=e.value();n!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,n):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var i=document.getElementById("autosaved");if(i!=null&&i!=null&&i!=""){var o=new Date,l=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(o),f=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;i.innerHTML=f+l}}else console.log("EasyMDE: localStorage not available, cannot autosave")};ze.prototype.clearAutosavedValue=function(){if(Uh()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};ze.prototype.openBrowseFileWindow=function(e,n){var i=this,o=this.gui.toolbar.getElementsByClassName("imageInput")[0];o.click();function l(f){i.options.imageUploadFunction?i.uploadImagesUsingCustomFunction(i.options.imageUploadFunction,f.target.files):i.uploadImages(f.target.files,e,n),o.removeEventListener("change",l)}o.addEventListener("change",l)};ze.prototype.uploadImage=function(e,n,i){var o=this;n=n||function(D){qh(o,D)};function l(v){o.updateStatusBar("upload-image",v),setTimeout(function(){o.updateStatusBar("upload-image",o.options.imageTexts.sbInit)},1e4),i&&typeof i=="function"&&i(v),o.options.errorCallback(v)}function f(v){var D=o.options.imageTexts.sizeUnits.split(",");return v.replace("#image_name#",e.name).replace("#image_size#",ys(e.size,D)).replace("#image_max_size#",ys(o.options.imageMaxSize,D))}if(e.size>this.options.imageMaxSize){l(f(this.options.errorMessages.fileTooLarge));return}var c=new FormData;c.append("image",e),o.options.imageCSRFToken&&!o.options.imageCSRFHeader&&c.append(o.options.imageCSRFName,o.options.imageCSRFToken);var h=new XMLHttpRequest;h.upload.onprogress=function(v){if(v.lengthComputable){var D=""+Math.round(v.loaded*100/v.total);o.updateStatusBar("upload-image",o.options.imageTexts.sbProgress.replace("#file_name#",e.name).replace("#progress#",D))}},h.open("POST",this.options.imageUploadEndpoint),o.options.imageCSRFToken&&o.options.imageCSRFHeader&&h.setRequestHeader(o.options.imageCSRFName,o.options.imageCSRFToken),h.onload=function(){try{var v=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),l(f(o.options.errorMessages.importError));return}this.status===200&&v&&!v.error&&v.data&&v.data.filePath?n((o.options.imagePathAbsolute?"":window.location.origin+"/")+v.data.filePath):v.error&&v.error in o.options.errorMessages?l(f(o.options.errorMessages[v.error])):v.error?l(f(v.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),l(f(o.options.errorMessages.importError)))},h.onerror=function(v){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+v.target.status+" ("+v.target.statusText+")"),l(o.options.errorMessages.importError)},h.send(c)};ze.prototype.uploadImageUsingCustomFunction=function(e,n){var i=this;function o(c){qh(i,c)}function l(c){var h=f(c);i.updateStatusBar("upload-image",h),setTimeout(function(){i.updateStatusBar("upload-image",i.options.imageTexts.sbInit)},1e4),i.options.errorCallback(h)}function f(c){var h=i.options.imageTexts.sizeUnits.split(",");return c.replace("#image_name#",n.name).replace("#image_size#",ys(n.size,h)).replace("#image_max_size#",ys(i.options.imageMaxSize,h))}e.apply(this,[n,o,l])};ze.prototype.setPreviewMaxHeight=function(){var e=this.codemirror,n=e.getWrapperElement(),i=n.nextSibling,o=parseInt(window.getComputedStyle(n).paddingTop),l=parseInt(window.getComputedStyle(n).borderTopWidth),f=parseInt(this.options.maxHeight),c=f+o*2+l*2,h=c.toString()+"px";i.style.height=h};ze.prototype.createSideBySide=function(){var e=this.codemirror,n=e.getWrapperElement(),i=n.nextSibling;if(!i||!i.classList.contains("editor-preview-side")){if(i=document.createElement("div"),i.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var o=0;o<this.options.previewClass.length;o++)i.classList.add(this.options.previewClass[o]);else typeof this.options.previewClass=="string"&&i.classList.add(this.options.previewClass);n.parentNode.insertBefore(i,n.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return i;var l=!1,f=!1;return e.on("scroll",function(c){if(l){l=!1;return}f=!0;var h=c.getScrollInfo().height-c.getScrollInfo().clientHeight,v=parseFloat(c.getScrollInfo().top)/h,D=(i.scrollHeight-i.clientHeight)*v;i.scrollTop=D}),i.onscroll=function(){if(f){f=!1;return}l=!0;var c=i.scrollHeight-i.clientHeight,h=parseFloat(i.scrollTop)/c,v=(e.getScrollInfo().height-e.getScrollInfo().clientHeight)*h;e.scrollTo(0,v)},i};ze.prototype.createToolbar=function(e){if(e=e||this.options.toolbar,!(!e||e.length===0)){var n;for(n=0;n<e.length;n++)Di[e[n]]!=null&&(e[n]=Di[e[n]]);var i=document.createElement("div");i.className="editor-toolbar",i.setAttribute("role","toolbar");var o=this,l={};for(o.toolbar=e,n=0;n<e.length;n++)if(!(e[n].name=="guide"&&o.options.toolbarGuideIcon===!1)&&!(o.options.hideIcons&&o.options.hideIcons.indexOf(e[n].name)!=-1)&&!((e[n].name=="fullscreen"||e[n].name=="side-by-side")&&ku())){if(e[n]==="|"){for(var f=!1,c=n+1;c<e.length;c++)e[c]!=="|"&&(!o.options.hideIcons||o.options.hideIcons.indexOf(e[c].name)==-1)&&(f=!0);if(!f)continue}(function(D){var O;if(D==="|"?O=s0():D.children?O=a0(D,o.options.toolbarTips,o.options.shortcuts,o):O=vs(D,!0,o.options.toolbarTips,o.options.shortcuts,"button",o),l[D.name||D]=O,i.appendChild(O),D.name==="upload-image"){var z=document.createElement("input");z.className="imageInput",z.type="file",z.multiple=!0,z.name="image",z.accept=o.options.imageAccept,z.style.display="none",z.style.opacity=0,i.appendChild(z)}})(e[n])}o.toolbar_div=i,o.toolbarElements=l;var h=this.codemirror;h.on("cursorActivity",function(){var D=ni(h);for(var O in l)(function(z){var $=l[z];D[z]?$.classList.add("active"):z!="fullscreen"&&z!="side-by-side"&&$.classList.remove("active")})(O)});var v=h.getWrapperElement();return v.parentNode.insertBefore(i,v),i}};ze.prototype.createStatusbar=function(e){e=e||this.options.status;var n=this.options,i=this.codemirror;if(!(!e||e.length===0)){var o=[],l,f,c,h;for(l=0;l<e.length;l++)if(f=void 0,c=void 0,h=void 0,typeof e[l]=="object")o.push({className:e[l].className,defaultValue:e[l].defaultValue,onUpdate:e[l].onUpdate,onActivity:e[l].onActivity});else{var v=e[l];v==="words"?(h=function(J){J.innerHTML=Nh(i.getValue())},f=function(J){J.innerHTML=Nh(i.getValue())}):v==="lines"?(h=function(J){J.innerHTML=i.lineCount()},f=function(J){J.innerHTML=i.lineCount()}):v==="cursor"?(h=function(J){J.innerHTML="1:1"},c=function(J){var se=i.getCursor(),ne=se.line+1,q=se.ch+1;J.innerHTML=ne+":"+q}):v==="autosave"?h=function(J){n.autosave!=null&&n.autosave.enabled===!0&&J.setAttribute("id","autosaved")}:v==="upload-image"&&(h=function(J){J.innerHTML=n.imageTexts.sbInit}),o.push({className:v,defaultValue:h,onUpdate:f,onActivity:c})}var D=document.createElement("div");for(D.className="editor-statusbar",l=0;l<o.length;l++){var O=o[l],z=document.createElement("span");z.className=O.className,typeof O.defaultValue=="function"&&O.defaultValue(z),typeof O.onUpdate=="function"&&this.codemirror.on("update",function(J,se){return function(){se.onUpdate(J)}}(z,O)),typeof O.onActivity=="function"&&this.codemirror.on("cursorActivity",function(J,se){return function(){se.onActivity(J)}}(z,O)),D.appendChild(z)}var $=this.codemirror.getWrapperElement();return $.parentNode.insertBefore(D,$.nextSibling),D}};ze.prototype.value=function(e){var n=this.codemirror;if(e===void 0)return n.getValue();if(n.getDoc().setValue(e),this.isPreviewActive()){var i=n.getWrapperElement(),o=i.lastChild,l=this.options.previewRender(e,o);l!==null&&(o.innerHTML=l)}return this};ze.toggleBold=xs;ze.toggleItalic=bs;ze.toggleStrikethrough=ws;ze.toggleBlockquote=Cs;ze.toggleHeadingSmaller=ha;ze.toggleHeadingBigger=ks;ze.toggleHeading1=Ds;ze.toggleHeading2=Ts;ze.toggleHeading3=Ss;ze.toggleHeading4=Du;ze.toggleHeading5=Tu;ze.toggleHeading6=Su;ze.toggleCodeBlock=Es;ze.toggleUnorderedList=As;ze.toggleOrderedList=Ls;ze.cleanBlock=Fs;ze.drawLink=Os;ze.drawImage=Ms;ze.drawUploadedImage=Au;ze.drawTable=Is;ze.drawHorizontalRule=_s;ze.undo=Rs;ze.redo=Ns;ze.togglePreview=Bs;ze.toggleSideBySide=vo;ze.toggleFullScreen=Ti;ze.prototype.toggleBold=function(){xs(this)};ze.prototype.toggleItalic=function(){bs(this)};ze.prototype.toggleStrikethrough=function(){ws(this)};ze.prototype.toggleBlockquote=function(){Cs(this)};ze.prototype.toggleHeadingSmaller=function(){ha(this)};ze.prototype.toggleHeadingBigger=function(){ks(this)};ze.prototype.toggleHeading1=function(){Ds(this)};ze.prototype.toggleHeading2=function(){Ts(this)};ze.prototype.toggleHeading3=function(){Ss(this)};ze.prototype.toggleHeading4=function(){Du(this)};ze.prototype.toggleHeading5=function(){Tu(this)};ze.prototype.toggleHeading6=function(){Su(this)};ze.prototype.toggleCodeBlock=function(){Es(this)};ze.prototype.toggleUnorderedList=function(){As(this)};ze.prototype.toggleOrderedList=function(){Ls(this)};ze.prototype.cleanBlock=function(){Fs(this)};ze.prototype.drawLink=function(){Os(this)};ze.prototype.drawImage=function(){Ms(this)};ze.prototype.drawUploadedImage=function(){Au(this)};ze.prototype.drawTable=function(){Is(this)};ze.prototype.drawHorizontalRule=function(){_s(this)};ze.prototype.undo=function(){Rs(this)};ze.prototype.redo=function(){Ns(this)};ze.prototype.togglePreview=function(){Bs(this)};ze.prototype.toggleSideBySide=function(){vo(this)};ze.prototype.toggleFullScreen=function(){Ti(this)};ze.prototype.isPreviewActive=function(){var e=this.codemirror,n=e.getWrapperElement(),i=n.lastChild;return i.classList.contains("editor-preview-active")};ze.prototype.isSideBySideActive=function(){var e=this.codemirror,n=e.getWrapperElement(),i=n.nextSibling;return i.classList.contains("editor-preview-active-side")};ze.prototype.isFullscreenActive=function(){var e=this.codemirror;return e.getOption("fullScreen")};ze.prototype.getState=function(){var e=this.codemirror;return ni(e)};ze.prototype.toTextArea=function(){var e=this.codemirror,n=e.getWrapperElement(),i=n.parentNode;i&&(this.gui.toolbar&&i.removeChild(this.gui.toolbar),this.gui.statusbar&&i.removeChild(this.gui.statusbar),this.gui.sideBySide&&i.removeChild(this.gui.sideBySide)),i.parentNode.insertBefore(n,i),i.remove(),e.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};jh.exports=ze});var Tg=sn((Vf,Yf)=>{(function(e,n){typeof Vf=="object"&&typeof Yf<"u"?Yf.exports=n():typeof define=="function"&&define.amd?define(n):(e=typeof globalThis<"u"?globalThis:e||self,e.Cropper=n())})(Vf,function(){"use strict";function e(X,C){var M=Object.keys(X);if(Object.getOwnPropertySymbols){var T=Object.getOwnPropertySymbols(X);C&&(T=T.filter(function(ie){return Object.getOwnPropertyDescriptor(X,ie).enumerable})),M.push.apply(M,T)}return M}function n(X){for(var C=1;C<arguments.length;C++){var M=arguments[C]!=null?arguments[C]:{};C%2?e(Object(M),!0).forEach(function(T){v(X,T,M[T])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(M)):e(Object(M)).forEach(function(T){Object.defineProperty(X,T,Object.getOwnPropertyDescriptor(M,T))})}return X}function i(X,C){if(typeof X!="object"||!X)return X;var M=X[Symbol.toPrimitive];if(M!==void 0){var T=M.call(X,C||"default");if(typeof T!="object")return T;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(X)}function o(X){var C=i(X,"string");return typeof C=="symbol"?C:C+""}function l(X){"@babel/helpers - typeof";return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},l(X)}function f(X,C){if(!(X instanceof C))throw new TypeError("Cannot call a class as a function")}function c(X,C){for(var M=0;M<C.length;M++){var T=C[M];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(X,o(T.key),T)}}function h(X,C,M){return C&&c(X.prototype,C),M&&c(X,M),Object.defineProperty(X,"prototype",{writable:!1}),X}function v(X,C,M){return C=o(C),C in X?Object.defineProperty(X,C,{value:M,enumerable:!0,configurable:!0,writable:!0}):X[C]=M,X}function D(X){return O(X)||z(X)||$(X)||se()}function O(X){if(Array.isArray(X))return J(X)}function z(X){if(typeof Symbol<"u"&&X[Symbol.iterator]!=null||X["@@iterator"]!=null)return Array.from(X)}function $(X,C){if(X){if(typeof X=="string")return J(X,C);var M=Object.prototype.toString.call(X).slice(8,-1);if(M==="Object"&&X.constructor&&(M=X.constructor.name),M==="Map"||M==="Set")return Array.from(X);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return J(X,C)}}function J(X,C){(C==null||C>X.length)&&(C=X.length);for(var M=0,T=new Array(C);M<C;M++)T[M]=X[M];return T}function se(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ne=typeof window<"u"&&typeof window.document<"u",q=ne?window:{},Q=ne&&q.document.documentElement?"ontouchstart"in q.document.documentElement:!1,ue=ne?"PointerEvent"in q:!1,ee="cropper",le="all",ke="crop",we="move",Se="zoom",$e="e",Ee="w",Z="s",x="n",A="ne",E="nw",_="se",j="sw",H="".concat(ee,"-crop"),V="".concat(ee,"-disabled"),N="".concat(ee,"-hidden"),ve="".concat(ee,"-hide"),R="".concat(ee,"-invisible"),b="".concat(ee,"-modal"),ae="".concat(ee,"-move"),me="".concat(ee,"Action"),de="".concat(ee,"Preview"),Fe="crop",Ae="move",_e="none",Pe="crop",S="cropend",F="cropmove",p="cropstart",k="dblclick",B=Q?"touchstart":"mousedown",I=Q?"touchmove":"mousemove",L=Q?"touchend touchcancel":"mouseup",W=ue?"pointerdown":B,Y=ue?"pointermove":I,U=ue?"pointerup pointercancel":L,he="ready",De="resize",ye="wheel",ce="zoom",He="image/jpeg",Je=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,We=/^data:/,yt=/^data:image\/jpeg;base64,/,ht=/^img|canvas$/i,en=200,yn=100,pt={viewMode:0,dragMode:Fe,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:en,minContainerHeight:yn,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},tn='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',nn=Number.isNaN||q.isNaN;function Ke(X){return typeof X=="number"&&!nn(X)}var xn=function(C){return C>0&&C<1/0};function rn(X){return typeof X>"u"}function Dn(X){return l(X)==="object"&&X!==null}var Ve=Object.prototype.hasOwnProperty;function Bn(X){if(!Dn(X))return!1;try{var C=X.constructor,M=C.prototype;return C&&M&&Ve.call(M,"isPrototypeOf")}catch{return!1}}function mt(X){return typeof X=="function"}var Lt=Array.prototype.slice;function dt(X){return Array.from?Array.from(X):Lt.call(X)}function at(X,C){return X&&mt(C)&&(Array.isArray(X)||Ke(X.length)?dt(X).forEach(function(M,T){C.call(X,M,T,X)}):Dn(X)&&Object.keys(X).forEach(function(M){C.call(X,X[M],M,X)})),X}var rt=Object.assign||function(C){for(var M=arguments.length,T=new Array(M>1?M-1:0),ie=1;ie<M;ie++)T[ie-1]=arguments[ie];return Dn(C)&&T.length>0&&T.forEach(function(K){Dn(K)&&Object.keys(K).forEach(function(re){C[re]=K[re]})}),C},Ut=/\.\d*(?:0|9){12}\d*$/;function Ge(X){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Ut.test(X)?Math.round(X*C)/C:X}var Tn=/^width|height|left|top|marginLeft|marginTop$/;function un(X,C){var M=X.style;at(C,function(T,ie){Tn.test(ie)&&Ke(T)&&(T="".concat(T,"px")),M[ie]=T})}function Lr(X,C){return X.classList?X.classList.contains(C):X.className.indexOf(C)>-1}function Dt(X,C){if(C){if(Ke(X.length)){at(X,function(T){Dt(T,C)});return}if(X.classList){X.classList.add(C);return}var M=X.className.trim();M?M.indexOf(C)<0&&(X.className="".concat(M," ").concat(C)):X.className=C}}function Vt(X,C){if(C){if(Ke(X.length)){at(X,function(M){Vt(M,C)});return}if(X.classList){X.classList.remove(C);return}X.className.indexOf(C)>=0&&(X.className=X.className.replace(C,""))}}function gt(X,C,M){if(C){if(Ke(X.length)){at(X,function(T){gt(T,C,M)});return}M?Dt(X,C):Vt(X,C)}}var vr=/([a-z\d])([A-Z])/g;function ci(X){return X.replace(vr,"$1-$2").toLowerCase()}function Pn(X,C){return Dn(X[C])?X[C]:X.dataset?X.dataset[C]:X.getAttribute("data-".concat(ci(C)))}function er(X,C,M){Dn(M)?X[C]=M:X.dataset?X.dataset[C]=M:X.setAttribute("data-".concat(ci(C)),M)}function jr(X,C){if(Dn(X[C]))try{delete X[C]}catch{X[C]=void 0}else if(X.dataset)try{delete X.dataset[C]}catch{X.dataset[C]=void 0}else X.removeAttribute("data-".concat(ci(C)))}var Ra=/\s\s*/,Na=function(){var X=!1;if(ne){var C=!1,M=function(){},T=Object.defineProperty({},"once",{get:function(){return X=!0,C},set:function(K){C=K}});q.addEventListener("test",M,T),q.removeEventListener("test",M,T)}return X}();function Fn(X,C,M){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=M;C.trim().split(Ra).forEach(function(K){if(!Na){var re=X.listeners;re&&re[K]&&re[K][M]&&(ie=re[K][M],delete re[K][M],Object.keys(re[K]).length===0&&delete re[K],Object.keys(re).length===0&&delete X.listeners)}X.removeEventListener(K,ie,T)})}function Hn(X,C,M){var T=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},ie=M;C.trim().split(Ra).forEach(function(K){if(T.once&&!Na){var re=X.listeners,ge=re===void 0?{}:re;ie=function(){delete ge[K][M],X.removeEventListener(K,ie,T);for(var Te=arguments.length,xe=new Array(Te),be=0;be<Te;be++)xe[be]=arguments[be];M.apply(X,xe)},ge[K]||(ge[K]={}),ge[K][M]&&X.removeEventListener(K,ge[K][M],T),ge[K][M]=ie,X.listeners=ge}X.addEventListener(K,ie,T)})}function yr(X,C,M){var T;return mt(Event)&&mt(CustomEvent)?T=new CustomEvent(C,{detail:M,bubbles:!0,cancelable:!0}):(T=document.createEvent("CustomEvent"),T.initCustomEvent(C,!0,!0,M)),X.dispatchEvent(T)}function Fr(X){var C=X.getBoundingClientRect();return{left:C.left+(window.pageXOffset-document.documentElement.clientLeft),top:C.top+(window.pageYOffset-document.documentElement.clientTop)}}var Io=q.location,yl=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function di(X){var C=X.match(yl);return C!==null&&(C[1]!==Io.protocol||C[2]!==Io.hostname||C[3]!==Io.port)}function Ui(X){var C="timestamp=".concat(new Date().getTime());return X+(X.indexOf("?")===-1?"?":"&")+C}function tr(X){var C=X.rotate,M=X.scaleX,T=X.scaleY,ie=X.translateX,K=X.translateY,re=[];Ke(ie)&&ie!==0&&re.push("translateX(".concat(ie,"px)")),Ke(K)&&K!==0&&re.push("translateY(".concat(K,"px)")),Ke(C)&&C!==0&&re.push("rotate(".concat(C,"deg)")),Ke(M)&&M!==1&&re.push("scaleX(".concat(M,")")),Ke(T)&&T!==1&&re.push("scaleY(".concat(T,")"));var ge=re.length?re.join(" "):"none";return{WebkitTransform:ge,msTransform:ge,transform:ge}}function xl(X){var C=n({},X),M=0;return at(X,function(T,ie){delete C[ie],at(C,function(K){var re=Math.abs(T.startX-K.startX),ge=Math.abs(T.startY-K.startY),Ie=Math.abs(T.endX-K.endX),Te=Math.abs(T.endY-K.endY),xe=Math.sqrt(re*re+ge*ge),be=Math.sqrt(Ie*Ie+Te*Te),Me=(be-xe)/xe;Math.abs(Me)>Math.abs(M)&&(M=Me)})}),M}function nr(X,C){var M=X.pageX,T=X.pageY,ie={endX:M,endY:T};return C?ie:n({startX:M,startY:T},ie)}function _o(X){var C=0,M=0,T=0;return at(X,function(ie){var K=ie.startX,re=ie.startY;C+=K,M+=re,T+=1}),C/=T,M/=T,{pageX:C,pageY:M}}function sr(X){var C=X.aspectRatio,M=X.height,T=X.width,ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",K=xn(T),re=xn(M);if(K&&re){var ge=M*C;ie==="contain"&&ge>T||ie==="cover"&&ge<T?M=T/C:T=M*C}else K?M=T/C:re&&(T=M*C);return{width:T,height:M}}function Ht(X){var C=X.width,M=X.height,T=X.degree;if(T=Math.abs(T)%180,T===90)return{width:M,height:C};var ie=T%90*Math.PI/180,K=Math.sin(ie),re=Math.cos(ie),ge=C*re+M*K,Ie=C*K+M*re;return T>90?{width:Ie,height:ge}:{width:ge,height:Ie}}function Xe(X,C,M,T){var ie=C.aspectRatio,K=C.naturalWidth,re=C.naturalHeight,ge=C.rotate,Ie=ge===void 0?0:ge,Te=C.scaleX,xe=Te===void 0?1:Te,be=C.scaleY,Me=be===void 0?1:be,ut=M.aspectRatio,ft=M.naturalWidth,Ft=M.naturalHeight,vt=T.fillColor,kt=vt===void 0?"transparent":vt,on=T.imageSmoothingEnabled,jt=on===void 0?!0:on,qn=T.imageSmoothingQuality,fn=qn===void 0?"low":qn,Re=T.maxWidth,bt=Re===void 0?1/0:Re,Yt=T.maxHeight,Wn=Yt===void 0?1/0:Yt,Xn=T.minWidth,br=Xn===void 0?0:Xn,Mr=T.minHeight,lr=Mr===void 0?0:Mr,Vn=document.createElement("canvas"),cn=Vn.getContext("2d"),ir=sr({aspectRatio:ut,width:bt,height:Wn}),$r=sr({aspectRatio:ut,width:br,height:lr},"cover"),Gi=Math.min(ir.width,Math.max($r.width,ft)),Xi=Math.min(ir.height,Math.max($r.height,Ft)),pi=sr({aspectRatio:ie,width:bt,height:Wn}),Pa=sr({aspectRatio:ie,width:br,height:lr},"cover"),Ho=Math.min(pi.width,Math.max(Pa.width,K)),zn=Math.min(pi.height,Math.max(Pa.height,re)),bl=[-Ho/2,-zn/2,Ho,zn];return Vn.width=Ge(Gi),Vn.height=Ge(Xi),cn.fillStyle=kt,cn.fillRect(0,0,Gi,Xi),cn.save(),cn.translate(Gi/2,Xi/2),cn.rotate(Ie*Math.PI/180),cn.scale(xe,Me),cn.imageSmoothingEnabled=jt,cn.imageSmoothingQuality=fn,cn.drawImage.apply(cn,[X].concat(D(bl.map(function(wl){return Math.floor(Ge(wl))})))),cn.restore(),Vn}var xr=String.fromCharCode;function Ro(X,C,M){var T="";M+=C;for(var ie=C;ie<M;ie+=1)T+=xr(X.getUint8(ie));return T}var rr=/^data:.*,/;function xt(X){var C=X.replace(rr,""),M=atob(C),T=new ArrayBuffer(M.length),ie=new Uint8Array(T);return at(ie,function(K,re){ie[re]=M.charCodeAt(re)}),T}function Or(X,C){for(var M=[],T=8192,ie=new Uint8Array(X);ie.length>0;)M.push(xr.apply(null,dt(ie.subarray(0,T)))),ie=ie.subarray(T);return"data:".concat(C,";base64,").concat(btoa(M.join("")))}function hi(X){var C=new DataView(X),M;try{var T,ie,K;if(C.getUint8(0)===255&&C.getUint8(1)===216)for(var re=C.byteLength,ge=2;ge+1<re;){if(C.getUint8(ge)===255&&C.getUint8(ge+1)===225){ie=ge;break}ge+=1}if(ie){var Ie=ie+4,Te=ie+10;if(Ro(C,Ie,4)==="Exif"){var xe=C.getUint16(Te);if(T=xe===18761,(T||xe===19789)&&C.getUint16(Te+2,T)===42){var be=C.getUint32(Te+4,T);be>=8&&(K=Te+be)}}}if(K){var Me=C.getUint16(K,T),ut,ft;for(ft=0;ft<Me;ft+=1)if(ut=K+ft*12+2,C.getUint16(ut,T)===274){ut+=8,M=C.getUint16(ut,T),C.setUint16(ut,1,T);break}}}catch{M=1}return M}function No(X){var C=0,M=1,T=1;switch(X){case 2:M=-1;break;case 3:C=-180;break;case 4:T=-1;break;case 5:C=90,T=-1;break;case 6:C=90;break;case 7:C=90,M=-1;break;case 8:C=-90;break}return{rotate:C,scaleX:M,scaleY:T}}var Le={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var C=this.element,M=this.options,T=this.container,ie=this.cropper,K=Number(M.minContainerWidth),re=Number(M.minContainerHeight);Dt(ie,N),Vt(C,N);var ge={width:Math.max(T.offsetWidth,K>=0?K:en),height:Math.max(T.offsetHeight,re>=0?re:yn)};this.containerData=ge,un(ie,{width:ge.width,height:ge.height}),Dt(C,N),Vt(ie,N)},initCanvas:function(){var C=this.containerData,M=this.imageData,T=this.options.viewMode,ie=Math.abs(M.rotate)%180===90,K=ie?M.naturalHeight:M.naturalWidth,re=ie?M.naturalWidth:M.naturalHeight,ge=K/re,Ie=C.width,Te=C.height;C.height*ge>C.width?T===3?Ie=C.height*ge:Te=C.width/ge:T===3?Te=C.width/ge:Ie=C.height*ge;var xe={aspectRatio:ge,naturalWidth:K,naturalHeight:re,width:Ie,height:Te};this.canvasData=xe,this.limited=T===1||T===2,this.limitCanvas(!0,!0),xe.width=Math.min(Math.max(xe.width,xe.minWidth),xe.maxWidth),xe.height=Math.min(Math.max(xe.height,xe.minHeight),xe.maxHeight),xe.left=(C.width-xe.width)/2,xe.top=(C.height-xe.height)/2,xe.oldLeft=xe.left,xe.oldTop=xe.top,this.initialCanvasData=rt({},xe)},limitCanvas:function(C,M){var T=this.options,ie=this.containerData,K=this.canvasData,re=this.cropBoxData,ge=T.viewMode,Ie=K.aspectRatio,Te=this.cropped&&re;if(C){var xe=Number(T.minCanvasWidth)||0,be=Number(T.minCanvasHeight)||0;ge>1?(xe=Math.max(xe,ie.width),be=Math.max(be,ie.height),ge===3&&(be*Ie>xe?xe=be*Ie:be=xe/Ie)):ge>0&&(xe?xe=Math.max(xe,Te?re.width:0):be?be=Math.max(be,Te?re.height:0):Te&&(xe=re.width,be=re.height,be*Ie>xe?xe=be*Ie:be=xe/Ie));var Me=sr({aspectRatio:Ie,width:xe,height:be});xe=Me.width,be=Me.height,K.minWidth=xe,K.minHeight=be,K.maxWidth=1/0,K.maxHeight=1/0}if(M)if(ge>(Te?0:1)){var ut=ie.width-K.width,ft=ie.height-K.height;K.minLeft=Math.min(0,ut),K.minTop=Math.min(0,ft),K.maxLeft=Math.max(0,ut),K.maxTop=Math.max(0,ft),Te&&this.limited&&(K.minLeft=Math.min(re.left,re.left+(re.width-K.width)),K.minTop=Math.min(re.top,re.top+(re.height-K.height)),K.maxLeft=re.left,K.maxTop=re.top,ge===2&&(K.width>=ie.width&&(K.minLeft=Math.min(0,ut),K.maxLeft=Math.max(0,ut)),K.height>=ie.height&&(K.minTop=Math.min(0,ft),K.maxTop=Math.max(0,ft))))}else K.minLeft=-K.width,K.minTop=-K.height,K.maxLeft=ie.width,K.maxTop=ie.height},renderCanvas:function(C,M){var T=this.canvasData,ie=this.imageData;if(M){var K=Ht({width:ie.naturalWidth*Math.abs(ie.scaleX||1),height:ie.naturalHeight*Math.abs(ie.scaleY||1),degree:ie.rotate||0}),re=K.width,ge=K.height,Ie=T.width*(re/T.naturalWidth),Te=T.height*(ge/T.naturalHeight);T.left-=(Ie-T.width)/2,T.top-=(Te-T.height)/2,T.width=Ie,T.height=Te,T.aspectRatio=re/ge,T.naturalWidth=re,T.naturalHeight=ge,this.limitCanvas(!0,!1)}(T.width>T.maxWidth||T.width<T.minWidth)&&(T.left=T.oldLeft),(T.height>T.maxHeight||T.height<T.minHeight)&&(T.top=T.oldTop),T.width=Math.min(Math.max(T.width,T.minWidth),T.maxWidth),T.height=Math.min(Math.max(T.height,T.minHeight),T.maxHeight),this.limitCanvas(!1,!0),T.left=Math.min(Math.max(T.left,T.minLeft),T.maxLeft),T.top=Math.min(Math.max(T.top,T.minTop),T.maxTop),T.oldLeft=T.left,T.oldTop=T.top,un(this.canvas,rt({width:T.width,height:T.height},tr({translateX:T.left,translateY:T.top}))),this.renderImage(C),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(C){var M=this.canvasData,T=this.imageData,ie=T.naturalWidth*(M.width/M.naturalWidth),K=T.naturalHeight*(M.height/M.naturalHeight);rt(T,{width:ie,height:K,left:(M.width-ie)/2,top:(M.height-K)/2}),un(this.image,rt({width:T.width,height:T.height},tr(rt({translateX:T.left,translateY:T.top},T)))),C&&this.output()},initCropBox:function(){var C=this.options,M=this.canvasData,T=C.aspectRatio||C.initialAspectRatio,ie=Number(C.autoCropArea)||.8,K={width:M.width,height:M.height};T&&(M.height*T>M.width?K.height=K.width/T:K.width=K.height*T),this.cropBoxData=K,this.limitCropBox(!0,!0),K.width=Math.min(Math.max(K.width,K.minWidth),K.maxWidth),K.height=Math.min(Math.max(K.height,K.minHeight),K.maxHeight),K.width=Math.max(K.minWidth,K.width*ie),K.height=Math.max(K.minHeight,K.height*ie),K.left=M.left+(M.width-K.width)/2,K.top=M.top+(M.height-K.height)/2,K.oldLeft=K.left,K.oldTop=K.top,this.initialCropBoxData=rt({},K)},limitCropBox:function(C,M){var T=this.options,ie=this.containerData,K=this.canvasData,re=this.cropBoxData,ge=this.limited,Ie=T.aspectRatio;if(C){var Te=Number(T.minCropBoxWidth)||0,xe=Number(T.minCropBoxHeight)||0,be=ge?Math.min(ie.width,K.width,K.width+K.left,ie.width-K.left):ie.width,Me=ge?Math.min(ie.height,K.height,K.height+K.top,ie.height-K.top):ie.height;Te=Math.min(Te,ie.width),xe=Math.min(xe,ie.height),Ie&&(Te&&xe?xe*Ie>Te?xe=Te/Ie:Te=xe*Ie:Te?xe=Te/Ie:xe&&(Te=xe*Ie),Me*Ie>be?Me=be/Ie:be=Me*Ie),re.minWidth=Math.min(Te,be),re.minHeight=Math.min(xe,Me),re.maxWidth=be,re.maxHeight=Me}M&&(ge?(re.minLeft=Math.max(0,K.left),re.minTop=Math.max(0,K.top),re.maxLeft=Math.min(ie.width,K.left+K.width)-re.width,re.maxTop=Math.min(ie.height,K.top+K.height)-re.height):(re.minLeft=0,re.minTop=0,re.maxLeft=ie.width-re.width,re.maxTop=ie.height-re.height))},renderCropBox:function(){var C=this.options,M=this.containerData,T=this.cropBoxData;(T.width>T.maxWidth||T.width<T.minWidth)&&(T.left=T.oldLeft),(T.height>T.maxHeight||T.height<T.minHeight)&&(T.top=T.oldTop),T.width=Math.min(Math.max(T.width,T.minWidth),T.maxWidth),T.height=Math.min(Math.max(T.height,T.minHeight),T.maxHeight),this.limitCropBox(!1,!0),T.left=Math.min(Math.max(T.left,T.minLeft),T.maxLeft),T.top=Math.min(Math.max(T.top,T.minTop),T.maxTop),T.oldLeft=T.left,T.oldTop=T.top,C.movable&&C.cropBoxMovable&&er(this.face,me,T.width>=M.width&&T.height>=M.height?we:le),un(this.cropBox,rt({width:T.width,height:T.height},tr({translateX:T.left,translateY:T.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),yr(this.element,Pe,this.getData())}},nt={initPreview:function(){var C=this.element,M=this.crossOrigin,T=this.options.preview,ie=M?this.crossOriginUrl:this.url,K=C.alt||"The image to preview",re=document.createElement("img");if(M&&(re.crossOrigin=M),re.src=ie,re.alt=K,this.viewBox.appendChild(re),this.viewBoxImage=re,!!T){var ge=T;typeof T=="string"?ge=C.ownerDocument.querySelectorAll(T):T.querySelector&&(ge=[T]),this.previews=ge,at(ge,function(Ie){var Te=document.createElement("img");er(Ie,de,{width:Ie.offsetWidth,height:Ie.offsetHeight,html:Ie.innerHTML}),M&&(Te.crossOrigin=M),Te.src=ie,Te.alt=K,Te.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Ie.innerHTML="",Ie.appendChild(Te)})}},resetPreview:function(){at(this.previews,function(C){var M=Pn(C,de);un(C,{width:M.width,height:M.height}),C.innerHTML=M.html,jr(C,de)})},preview:function(){var C=this.imageData,M=this.canvasData,T=this.cropBoxData,ie=T.width,K=T.height,re=C.width,ge=C.height,Ie=T.left-M.left-C.left,Te=T.top-M.top-C.top;!this.cropped||this.disabled||(un(this.viewBoxImage,rt({width:re,height:ge},tr(rt({translateX:-Ie,translateY:-Te},C)))),at(this.previews,function(xe){var be=Pn(xe,de),Me=be.width,ut=be.height,ft=Me,Ft=ut,vt=1;ie&&(vt=Me/ie,Ft=K*vt),K&&Ft>ut&&(vt=ut/K,ft=ie*vt,Ft=ut),un(xe,{width:ft,height:Ft}),un(xe.getElementsByTagName("img")[0],rt({width:re*vt,height:ge*vt},tr(rt({translateX:-Ie*vt,translateY:-Te*vt},C))))}))}},Bo={bind:function(){var C=this.element,M=this.options,T=this.cropper;mt(M.cropstart)&&Hn(C,p,M.cropstart),mt(M.cropmove)&&Hn(C,F,M.cropmove),mt(M.cropend)&&Hn(C,S,M.cropend),mt(M.crop)&&Hn(C,Pe,M.crop),mt(M.zoom)&&Hn(C,ce,M.zoom),Hn(T,W,this.onCropStart=this.cropStart.bind(this)),M.zoomable&&M.zoomOnWheel&&Hn(T,ye,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),M.toggleDragModeOnDblclick&&Hn(T,k,this.onDblclick=this.dblclick.bind(this)),Hn(C.ownerDocument,Y,this.onCropMove=this.cropMove.bind(this)),Hn(C.ownerDocument,U,this.onCropEnd=this.cropEnd.bind(this)),M.responsive&&Hn(window,De,this.onResize=this.resize.bind(this))},unbind:function(){var C=this.element,M=this.options,T=this.cropper;mt(M.cropstart)&&Fn(C,p,M.cropstart),mt(M.cropmove)&&Fn(C,F,M.cropmove),mt(M.cropend)&&Fn(C,S,M.cropend),mt(M.crop)&&Fn(C,Pe,M.crop),mt(M.zoom)&&Fn(C,ce,M.zoom),Fn(T,W,this.onCropStart),M.zoomable&&M.zoomOnWheel&&Fn(T,ye,this.onWheel,{passive:!1,capture:!0}),M.toggleDragModeOnDblclick&&Fn(T,k,this.onDblclick),Fn(C.ownerDocument,Y,this.onCropMove),Fn(C.ownerDocument,U,this.onCropEnd),M.responsive&&Fn(window,De,this.onResize)}},Po={resize:function(){if(!this.disabled){var C=this.options,M=this.container,T=this.containerData,ie=M.offsetWidth/T.width,K=M.offsetHeight/T.height,re=Math.abs(ie-1)>Math.abs(K-1)?ie:K;if(re!==1){var ge,Ie;C.restore&&(ge=this.getCanvasData(),Ie=this.getCropBoxData()),this.render(),C.restore&&(this.setCanvasData(at(ge,function(Te,xe){ge[xe]=Te*re})),this.setCropBoxData(at(Ie,function(Te,xe){Ie[xe]=Te*re})))}}},dblclick:function(){this.disabled||this.options.dragMode===_e||this.setDragMode(Lr(this.dragBox,H)?Ae:Fe)},wheel:function(C){var M=this,T=Number(this.options.wheelZoomRatio)||.1,ie=1;this.disabled||(C.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){M.wheeling=!1},50),C.deltaY?ie=C.deltaY>0?1:-1:C.wheelDelta?ie=-C.wheelDelta/120:C.detail&&(ie=C.detail>0?1:-1),this.zoom(-ie*T,C)))},cropStart:function(C){var M=C.buttons,T=C.button;if(!(this.disabled||(C.type==="mousedown"||C.type==="pointerdown"&&C.pointerType==="mouse")&&(Ke(M)&&M!==1||Ke(T)&&T!==0||C.ctrlKey))){var ie=this.options,K=this.pointers,re;C.changedTouches?at(C.changedTouches,function(ge){K[ge.identifier]=nr(ge)}):K[C.pointerId||0]=nr(C),Object.keys(K).length>1&&ie.zoomable&&ie.zoomOnTouch?re=Se:re=Pn(C.target,me),Je.test(re)&&yr(this.element,p,{originalEvent:C,action:re})!==!1&&(C.preventDefault(),this.action=re,this.cropping=!1,re===ke&&(this.cropping=!0,Dt(this.dragBox,b)))}},cropMove:function(C){var M=this.action;if(!(this.disabled||!M)){var T=this.pointers;C.preventDefault(),yr(this.element,F,{originalEvent:C,action:M})!==!1&&(C.changedTouches?at(C.changedTouches,function(ie){rt(T[ie.identifier]||{},nr(ie,!0))}):rt(T[C.pointerId||0]||{},nr(C,!0)),this.change(C))}},cropEnd:function(C){if(!this.disabled){var M=this.action,T=this.pointers;C.changedTouches?at(C.changedTouches,function(ie){delete T[ie.identifier]}):delete T[C.pointerId||0],M&&(C.preventDefault(),Object.keys(T).length||(this.action=""),this.cropping&&(this.cropping=!1,gt(this.dragBox,b,this.cropped&&this.options.modal)),yr(this.element,S,{originalEvent:C,action:M}))}}},ji={change:function(C){var M=this.options,T=this.canvasData,ie=this.containerData,K=this.cropBoxData,re=this.pointers,ge=this.action,Ie=M.aspectRatio,Te=K.left,xe=K.top,be=K.width,Me=K.height,ut=Te+be,ft=xe+Me,Ft=0,vt=0,kt=ie.width,on=ie.height,jt=!0,qn;!Ie&&C.shiftKey&&(Ie=be&&Me?be/Me:1),this.limited&&(Ft=K.minLeft,vt=K.minTop,kt=Ft+Math.min(ie.width,T.width,T.left+T.width),on=vt+Math.min(ie.height,T.height,T.top+T.height));var fn=re[Object.keys(re)[0]],Re={x:fn.endX-fn.startX,y:fn.endY-fn.startY},bt=function(Wn){switch(Wn){case $e:ut+Re.x>kt&&(Re.x=kt-ut);break;case Ee:Te+Re.x<Ft&&(Re.x=Ft-Te);break;case x:xe+Re.y<vt&&(Re.y=vt-xe);break;case Z:ft+Re.y>on&&(Re.y=on-ft);break}};switch(ge){case le:Te+=Re.x,xe+=Re.y;break;case $e:if(Re.x>=0&&(ut>=kt||Ie&&(xe<=vt||ft>=on))){jt=!1;break}bt($e),be+=Re.x,be<0&&(ge=Ee,be=-be,Te-=be),Ie&&(Me=be/Ie,xe+=(K.height-Me)/2);break;case x:if(Re.y<=0&&(xe<=vt||Ie&&(Te<=Ft||ut>=kt))){jt=!1;break}bt(x),Me-=Re.y,xe+=Re.y,Me<0&&(ge=Z,Me=-Me,xe-=Me),Ie&&(be=Me*Ie,Te+=(K.width-be)/2);break;case Ee:if(Re.x<=0&&(Te<=Ft||Ie&&(xe<=vt||ft>=on))){jt=!1;break}bt(Ee),be-=Re.x,Te+=Re.x,be<0&&(ge=$e,be=-be,Te-=be),Ie&&(Me=be/Ie,xe+=(K.height-Me)/2);break;case Z:if(Re.y>=0&&(ft>=on||Ie&&(Te<=Ft||ut>=kt))){jt=!1;break}bt(Z),Me+=Re.y,Me<0&&(ge=x,Me=-Me,xe-=Me),Ie&&(be=Me*Ie,Te+=(K.width-be)/2);break;case A:if(Ie){if(Re.y<=0&&(xe<=vt||ut>=kt)){jt=!1;break}bt(x),Me-=Re.y,xe+=Re.y,be=Me*Ie}else bt(x),bt($e),Re.x>=0?ut<kt?be+=Re.x:Re.y<=0&&xe<=vt&&(jt=!1):be+=Re.x,Re.y<=0?xe>vt&&(Me-=Re.y,xe+=Re.y):(Me-=Re.y,xe+=Re.y);be<0&&Me<0?(ge=j,Me=-Me,be=-be,xe-=Me,Te-=be):be<0?(ge=E,be=-be,Te-=be):Me<0&&(ge=_,Me=-Me,xe-=Me);break;case E:if(Ie){if(Re.y<=0&&(xe<=vt||Te<=Ft)){jt=!1;break}bt(x),Me-=Re.y,xe+=Re.y,be=Me*Ie,Te+=K.width-be}else bt(x),bt(Ee),Re.x<=0?Te>Ft?(be-=Re.x,Te+=Re.x):Re.y<=0&&xe<=vt&&(jt=!1):(be-=Re.x,Te+=Re.x),Re.y<=0?xe>vt&&(Me-=Re.y,xe+=Re.y):(Me-=Re.y,xe+=Re.y);be<0&&Me<0?(ge=_,Me=-Me,be=-be,xe-=Me,Te-=be):be<0?(ge=A,be=-be,Te-=be):Me<0&&(ge=j,Me=-Me,xe-=Me);break;case j:if(Ie){if(Re.x<=0&&(Te<=Ft||ft>=on)){jt=!1;break}bt(Ee),be-=Re.x,Te+=Re.x,Me=be/Ie}else bt(Z),bt(Ee),Re.x<=0?Te>Ft?(be-=Re.x,Te+=Re.x):Re.y>=0&&ft>=on&&(jt=!1):(be-=Re.x,Te+=Re.x),Re.y>=0?ft<on&&(Me+=Re.y):Me+=Re.y;be<0&&Me<0?(ge=A,Me=-Me,be=-be,xe-=Me,Te-=be):be<0?(ge=_,be=-be,Te-=be):Me<0&&(ge=E,Me=-Me,xe-=Me);break;case _:if(Ie){if(Re.x>=0&&(ut>=kt||ft>=on)){jt=!1;break}bt($e),be+=Re.x,Me=be/Ie}else bt(Z),bt($e),Re.x>=0?ut<kt?be+=Re.x:Re.y>=0&&ft>=on&&(jt=!1):be+=Re.x,Re.y>=0?ft<on&&(Me+=Re.y):Me+=Re.y;be<0&&Me<0?(ge=E,Me=-Me,be=-be,xe-=Me,Te-=be):be<0?(ge=j,be=-be,Te-=be):Me<0&&(ge=A,Me=-Me,xe-=Me);break;case we:this.move(Re.x,Re.y),jt=!1;break;case Se:this.zoom(xl(re),C),jt=!1;break;case ke:if(!Re.x||!Re.y){jt=!1;break}qn=Fr(this.cropper),Te=fn.startX-qn.left,xe=fn.startY-qn.top,be=K.minWidth,Me=K.minHeight,Re.x>0?ge=Re.y>0?_:A:Re.x<0&&(Te-=be,ge=Re.y>0?j:E),Re.y<0&&(xe-=Me),this.cropped||(Vt(this.cropBox,N),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}jt&&(K.width=be,K.height=Me,K.left=Te,K.top=xe,this.action=ge,this.renderCropBox()),at(re,function(Yt){Yt.startX=Yt.endX,Yt.startY=Yt.endY})}},$i={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Dt(this.dragBox,b),Vt(this.cropBox,N),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=rt({},this.initialImageData),this.canvasData=rt({},this.initialCanvasData),this.cropBoxData=rt({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(rt(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),Vt(this.dragBox,b),Dt(this.cropBox,N)),this},replace:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&C&&(this.isImg&&(this.element.src=C),M?(this.url=C,this.image.src=C,this.ready&&(this.viewBoxImage.src=C,at(this.previews,function(T){T.getElementsByTagName("img")[0].src=C}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(C))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,Vt(this.cropper,V)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Dt(this.cropper,V)),this},destroy:function(){var C=this.element;return C[ee]?(C[ee]=void 0,this.isImg&&this.replaced&&(C.src=this.originalUrl),this.uncreate(),this):this},move:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,T=this.canvasData,ie=T.left,K=T.top;return this.moveTo(rn(C)?C:ie+Number(C),rn(M)?M:K+Number(M))},moveTo:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,T=this.canvasData,ie=!1;return C=Number(C),M=Number(M),this.ready&&!this.disabled&&this.options.movable&&(Ke(C)&&(T.left=C,ie=!0),Ke(M)&&(T.top=M,ie=!0),ie&&this.renderCanvas(!0)),this},zoom:function(C,M){var T=this.canvasData;return C=Number(C),C<0?C=1/(1-C):C=1+C,this.zoomTo(T.width*C/T.naturalWidth,null,M)},zoomTo:function(C,M,T){var ie=this.options,K=this.canvasData,re=K.width,ge=K.height,Ie=K.naturalWidth,Te=K.naturalHeight;if(C=Number(C),C>=0&&this.ready&&!this.disabled&&ie.zoomable){var xe=Ie*C,be=Te*C;if(yr(this.element,ce,{ratio:C,oldRatio:re/Ie,originalEvent:T})===!1)return this;if(T){var Me=this.pointers,ut=Fr(this.cropper),ft=Me&&Object.keys(Me).length?_o(Me):{pageX:T.pageX,pageY:T.pageY};K.left-=(xe-re)*((ft.pageX-ut.left-K.left)/re),K.top-=(be-ge)*((ft.pageY-ut.top-K.top)/ge)}else Bn(M)&&Ke(M.x)&&Ke(M.y)?(K.left-=(xe-re)*((M.x-K.left)/re),K.top-=(be-ge)*((M.y-K.top)/ge)):(K.left-=(xe-re)/2,K.top-=(be-ge)/2);K.width=xe,K.height=be,this.renderCanvas(!0)}return this},rotate:function(C){return this.rotateTo((this.imageData.rotate||0)+Number(C))},rotateTo:function(C){return C=Number(C),Ke(C)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=C%360,this.renderCanvas(!0,!0)),this},scaleX:function(C){var M=this.imageData.scaleY;return this.scale(C,Ke(M)?M:1)},scaleY:function(C){var M=this.imageData.scaleX;return this.scale(Ke(M)?M:1,C)},scale:function(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:C,T=this.imageData,ie=!1;return C=Number(C),M=Number(M),this.ready&&!this.disabled&&this.options.scalable&&(Ke(C)&&(T.scaleX=C,ie=!0),Ke(M)&&(T.scaleY=M,ie=!0),ie&&this.renderCanvas(!0,!0)),this},getData:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,M=this.options,T=this.imageData,ie=this.canvasData,K=this.cropBoxData,re;if(this.ready&&this.cropped){re={x:K.left-ie.left,y:K.top-ie.top,width:K.width,height:K.height};var ge=T.width/T.naturalWidth;if(at(re,function(xe,be){re[be]=xe/ge}),C){var Ie=Math.round(re.y+re.height),Te=Math.round(re.x+re.width);re.x=Math.round(re.x),re.y=Math.round(re.y),re.width=Te-re.x,re.height=Ie-re.y}}else re={x:0,y:0,width:0,height:0};return M.rotatable&&(re.rotate=T.rotate||0),M.scalable&&(re.scaleX=T.scaleX||1,re.scaleY=T.scaleY||1),re},setData:function(C){var M=this.options,T=this.imageData,ie=this.canvasData,K={};if(this.ready&&!this.disabled&&Bn(C)){var re=!1;M.rotatable&&Ke(C.rotate)&&C.rotate!==T.rotate&&(T.rotate=C.rotate,re=!0),M.scalable&&(Ke(C.scaleX)&&C.scaleX!==T.scaleX&&(T.scaleX=C.scaleX,re=!0),Ke(C.scaleY)&&C.scaleY!==T.scaleY&&(T.scaleY=C.scaleY,re=!0)),re&&this.renderCanvas(!0,!0);var ge=T.width/T.naturalWidth;Ke(C.x)&&(K.left=C.x*ge+ie.left),Ke(C.y)&&(K.top=C.y*ge+ie.top),Ke(C.width)&&(K.width=C.width*ge),Ke(C.height)&&(K.height=C.height*ge),this.setCropBoxData(K)}return this},getContainerData:function(){return this.ready?rt({},this.containerData):{}},getImageData:function(){return this.sized?rt({},this.imageData):{}},getCanvasData:function(){var C=this.canvasData,M={};return this.ready&&at(["left","top","width","height","naturalWidth","naturalHeight"],function(T){M[T]=C[T]}),M},setCanvasData:function(C){var M=this.canvasData,T=M.aspectRatio;return this.ready&&!this.disabled&&Bn(C)&&(Ke(C.left)&&(M.left=C.left),Ke(C.top)&&(M.top=C.top),Ke(C.width)?(M.width=C.width,M.height=C.width/T):Ke(C.height)&&(M.height=C.height,M.width=C.height*T),this.renderCanvas(!0)),this},getCropBoxData:function(){var C=this.cropBoxData,M;return this.ready&&this.cropped&&(M={left:C.left,top:C.top,width:C.width,height:C.height}),M||{}},setCropBoxData:function(C){var M=this.cropBoxData,T=this.options.aspectRatio,ie,K;return this.ready&&this.cropped&&!this.disabled&&Bn(C)&&(Ke(C.left)&&(M.left=C.left),Ke(C.top)&&(M.top=C.top),Ke(C.width)&&C.width!==M.width&&(ie=!0,M.width=C.width),Ke(C.height)&&C.height!==M.height&&(K=!0,M.height=C.height),T&&(ie?M.height=M.width/T:K&&(M.width=M.height*T)),this.renderCropBox()),this},getCroppedCanvas:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var M=this.canvasData,T=Xe(this.image,this.imageData,M,C);if(!this.cropped)return T;var ie=this.getData(C.rounded),K=ie.x,re=ie.y,ge=ie.width,Ie=ie.height,Te=T.width/Math.floor(M.naturalWidth);Te!==1&&(K*=Te,re*=Te,ge*=Te,Ie*=Te);var xe=ge/Ie,be=sr({aspectRatio:xe,width:C.maxWidth||1/0,height:C.maxHeight||1/0}),Me=sr({aspectRatio:xe,width:C.minWidth||0,height:C.minHeight||0},"cover"),ut=sr({aspectRatio:xe,width:C.width||(Te!==1?T.width:ge),height:C.height||(Te!==1?T.height:Ie)}),ft=ut.width,Ft=ut.height;ft=Math.min(be.width,Math.max(Me.width,ft)),Ft=Math.min(be.height,Math.max(Me.height,Ft));var vt=document.createElement("canvas"),kt=vt.getContext("2d");vt.width=Ge(ft),vt.height=Ge(Ft),kt.fillStyle=C.fillColor||"transparent",kt.fillRect(0,0,ft,Ft);var on=C.imageSmoothingEnabled,jt=on===void 0?!0:on,qn=C.imageSmoothingQuality;kt.imageSmoothingEnabled=jt,qn&&(kt.imageSmoothingQuality=qn);var fn=T.width,Re=T.height,bt=K,Yt=re,Wn,Xn,br,Mr,lr,Vn;bt<=-ge||bt>fn?(bt=0,Wn=0,br=0,lr=0):bt<=0?(br=-bt,bt=0,Wn=Math.min(fn,ge+bt),lr=Wn):bt<=fn&&(br=0,Wn=Math.min(ge,fn-bt),lr=Wn),Wn<=0||Yt<=-Ie||Yt>Re?(Yt=0,Xn=0,Mr=0,Vn=0):Yt<=0?(Mr=-Yt,Yt=0,Xn=Math.min(Re,Ie+Yt),Vn=Xn):Yt<=Re&&(Mr=0,Xn=Math.min(Ie,Re-Yt),Vn=Xn);var cn=[bt,Yt,Wn,Xn];if(lr>0&&Vn>0){var ir=ft/ge;cn.push(br*ir,Mr*ir,lr*ir,Vn*ir)}return kt.drawImage.apply(kt,[T].concat(D(cn.map(function($r){return Math.floor(Ge($r))})))),vt},setAspectRatio:function(C){var M=this.options;return!this.disabled&&!rn(C)&&(M.aspectRatio=Math.max(0,C)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(C){var M=this.options,T=this.dragBox,ie=this.face;if(this.ready&&!this.disabled){var K=C===Fe,re=M.movable&&C===Ae;C=K||re?C:_e,M.dragMode=C,er(T,me,C),gt(T,H,K),gt(T,ae,re),M.cropBoxMovable||(er(ie,me,C),gt(ie,H,K),gt(ie,ae,re))}return this}},Ba=q.Cropper,tt=function(){function X(C){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(f(this,X),!C||!ht.test(C.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=C,this.options=rt({},pt,Bn(M)&&M),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return h(X,[{key:"init",value:function(){var M=this.element,T=M.tagName.toLowerCase(),ie;if(!M[ee]){if(M[ee]=this,T==="img"){if(this.isImg=!0,ie=M.getAttribute("src")||"",this.originalUrl=ie,!ie)return;ie=M.src}else T==="canvas"&&window.HTMLCanvasElement&&(ie=M.toDataURL());this.load(ie)}}},{key:"load",value:function(M){var T=this;if(M){this.url=M,this.imageData={};var ie=this.element,K=this.options;if(!K.rotatable&&!K.scalable&&(K.checkOrientation=!1),!K.checkOrientation||!window.ArrayBuffer){this.clone();return}if(We.test(M)){yt.test(M)?this.read(xt(M)):this.clone();return}var re=new XMLHttpRequest,ge=this.clone.bind(this);this.reloading=!0,this.xhr=re,re.onabort=ge,re.onerror=ge,re.ontimeout=ge,re.onprogress=function(){re.getResponseHeader("content-type")!==He&&re.abort()},re.onload=function(){T.read(re.response)},re.onloadend=function(){T.reloading=!1,T.xhr=null},K.checkCrossOrigin&&di(M)&&ie.crossOrigin&&(M=Ui(M)),re.open("GET",M,!0),re.responseType="arraybuffer",re.withCredentials=ie.crossOrigin==="use-credentials",re.send()}}},{key:"read",value:function(M){var T=this.options,ie=this.imageData,K=hi(M),re=0,ge=1,Ie=1;if(K>1){this.url=Or(M,He);var Te=No(K);re=Te.rotate,ge=Te.scaleX,Ie=Te.scaleY}T.rotatable&&(ie.rotate=re),T.scalable&&(ie.scaleX=ge,ie.scaleY=Ie),this.clone()}},{key:"clone",value:function(){var M=this.element,T=this.url,ie=M.crossOrigin,K=T;this.options.checkCrossOrigin&&di(T)&&(ie||(ie="anonymous"),K=Ui(T)),this.crossOrigin=ie,this.crossOriginUrl=K;var re=document.createElement("img");ie&&(re.crossOrigin=ie),re.src=K||T,re.alt=M.alt||"The image to crop",this.image=re,re.onload=this.start.bind(this),re.onerror=this.stop.bind(this),Dt(re,ve),M.parentNode.insertBefore(re,M.nextSibling)}},{key:"start",value:function(){var M=this,T=this.image;T.onload=null,T.onerror=null,this.sizing=!0;var ie=q.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(q.navigator.userAgent),K=function(Te,xe){rt(M.imageData,{naturalWidth:Te,naturalHeight:xe,aspectRatio:Te/xe}),M.initialImageData=rt({},M.imageData),M.sizing=!1,M.sized=!0,M.build()};if(T.naturalWidth&&!ie){K(T.naturalWidth,T.naturalHeight);return}var re=document.createElement("img"),ge=document.body||document.documentElement;this.sizingImage=re,re.onload=function(){K(re.width,re.height),ie||ge.removeChild(re)},re.src=T.src,ie||(re.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",ge.appendChild(re))}},{key:"stop",value:function(){var M=this.image;M.onload=null,M.onerror=null,M.parentNode.removeChild(M),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var M=this.element,T=this.options,ie=this.image,K=M.parentNode,re=document.createElement("div");re.innerHTML=tn;var ge=re.querySelector(".".concat(ee,"-container")),Ie=ge.querySelector(".".concat(ee,"-canvas")),Te=ge.querySelector(".".concat(ee,"-drag-box")),xe=ge.querySelector(".".concat(ee,"-crop-box")),be=xe.querySelector(".".concat(ee,"-face"));this.container=K,this.cropper=ge,this.canvas=Ie,this.dragBox=Te,this.cropBox=xe,this.viewBox=ge.querySelector(".".concat(ee,"-view-box")),this.face=be,Ie.appendChild(ie),Dt(M,N),K.insertBefore(ge,M.nextSibling),Vt(ie,ve),this.initPreview(),this.bind(),T.initialAspectRatio=Math.max(0,T.initialAspectRatio)||NaN,T.aspectRatio=Math.max(0,T.aspectRatio)||NaN,T.viewMode=Math.max(0,Math.min(3,Math.round(T.viewMode)))||0,Dt(xe,N),T.guides||Dt(xe.getElementsByClassName("".concat(ee,"-dashed")),N),T.center||Dt(xe.getElementsByClassName("".concat(ee,"-center")),N),T.background&&Dt(ge,"".concat(ee,"-bg")),T.highlight||Dt(be,R),T.cropBoxMovable&&(Dt(be,ae),er(be,me,le)),T.cropBoxResizable||(Dt(xe.getElementsByClassName("".concat(ee,"-line")),N),Dt(xe.getElementsByClassName("".concat(ee,"-point")),N)),this.render(),this.ready=!0,this.setDragMode(T.dragMode),T.autoCrop&&this.crop(),this.setData(T.data),mt(T.ready)&&Hn(M,he,T.ready,{once:!0}),yr(M,he)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var M=this.cropper.parentNode;M&&M.removeChild(this.cropper),Vt(this.element,N)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=Ba,X}},{key:"setDefaults",value:function(M){rt(pt,Bn(M)&&M)}}])}();return rt(tt.prototype,Le,nt,Bo,Po,ji,$i),tt})});var ky=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,n){return getInputValues(e,n||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.1"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", "),HEAD_TAG_REGEX=makeTagRegEx("head");function makeTagRegEx(e,n=!1){return new RegExp(`<${e}(\\s[^>]*>|>)([\\s\\S]*?)<\\/${e}>`,n?"gim":"im")}function parseInterval(e){if(e==null)return;let n=NaN;return e.slice(-2)=="ms"?n=parseFloat(e.slice(0,-2)):e.slice(-1)=="s"?n=parseFloat(e.slice(0,-1))*1e3:e.slice(-1)=="m"?n=parseFloat(e.slice(0,-1))*1e3*60:n=parseFloat(e),isNaN(n)?void 0:n}function getRawAttribute(e,n){return e instanceof Element&&e.getAttribute(n)}function hasAttribute(e,n){return!!e.hasAttribute&&(e.hasAttribute(n)||e.hasAttribute("data-"+n))}function getAttributeValue(e,n){return getRawAttribute(e,n)||getRawAttribute(e,"data-"+n)}function parentElt(e){let n=e.parentElement;return!n&&e.parentNode instanceof ShadowRoot?e.parentNode:n}function getDocument(){return document}function getRootNode(e,n){return e.getRootNode?e.getRootNode({composed:n}):getDocument()}function getClosestMatch(e,n){for(;e&&!n(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,n,i){let o=getAttributeValue(n,i),l=getAttributeValue(n,"hx-disinherit");var f=getAttributeValue(n,"hx-inherit");if(e!==n){if(htmx.config.disableInheritance)return f&&(f==="*"||f.split(" ").indexOf(i)>=0)?o:null;if(l&&(l==="*"||l.split(" ").indexOf(i)>=0))return"unset"}return o}function getClosestAttributeValue(e,n){let i=null;if(getClosestMatch(e,function(o){return!!(i=getAttributeValueWithDisinheritance(e,asElement(o),n))}),i!=="unset")return i}function matches(e,n){let i=e instanceof Element&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector);return!!i&&i.call(e,n)}function getStartTag(e){let i=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return i?i[1].toLowerCase():""}function parseHTML(e){return new DOMParser().parseFromString(e,"text/html")}function takeChildrenFor(e,n){for(;n.childNodes.length>0;)e.append(n.childNodes[0])}function duplicateScript(e){let n=getDocument().createElement("script");return forEach(e.attributes,function(i){n.setAttribute(i.name,i.value)}),n.textContent=e.textContent,n.async=!1,htmx.config.inlineScriptNonce&&(n.nonce=htmx.config.inlineScriptNonce),n}function isJavaScriptScriptNode(e){return e.matches("script")&&(e.type==="text/javascript"||e.type==="module"||e.type==="")}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach(n=>{if(isJavaScriptScriptNode(n)){let i=duplicateScript(n),o=n.parentNode;try{o.insertBefore(i,n)}catch(l){logError(l)}finally{n.remove()}}})}function makeFragment(e){let n=e.replace(HEAD_TAG_REGEX,""),i=getStartTag(n),o;if(i==="html"){o=new DocumentFragment;let f=parseHTML(e);takeChildrenFor(o,f.body),o.title=f.title}else if(i==="body"){o=new DocumentFragment;let f=parseHTML(n);takeChildrenFor(o,f.body),o.title=f.title}else{let f=parseHTML('<body><template class="internal-htmx-wrapper">'+n+"</template></body>");o=f.querySelector("template").content,o.title=f.title;var l=o.querySelector("title");l&&l.parentNode===o&&(l.remove(),o.title=l.innerText)}return o&&(htmx.config.allowScriptTags?normalizeScriptTags(o):o.querySelectorAll("script").forEach(f=>f.remove())),o}function maybeCall(e){e&&e()}function isType(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function isFunction(e){return typeof e=="function"}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){let n="htmx-internal-data",i=e[n];return i||(i=e[n]={}),i}function toArray(e){let n=[];if(e)for(let i=0;i<e.length;i++)n.push(e[i]);return n}function forEach(e,n){if(e)for(let i=0;i<e.length;i++)n(e[i])}function isScrolledIntoView(e){let n=e.getBoundingClientRect(),i=n.top,o=n.bottom;return i<window.innerHeight&&o>=0}function bodyContains(e){let n=e.getRootNode&&e.getRootNode();return n&&n instanceof window.ShadowRoot?getDocument().body.contains(n.host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,n){for(let i in n)n.hasOwnProperty(i)&&(e[i]=n[i]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(n){return logError(n),null}}function canAccessLocalStorage(){let e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function normalizePath(e){try{let n=new URL(e);return n&&(e=n.pathname+n.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch{return e}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){return htmx.on("htmx:load",function(i){e(i.detail.elt)})}function logAll(){htmx.logger=function(e,n,i){console&&console.log(n,e,i)}}function logNone(){htmx.logger=null}function find(e,n){return typeof e!="string"?e.querySelector(n):find(getDocument(),e)}function findAll(e,n){return typeof e!="string"?e.querySelectorAll(n):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,n){e=resolveTarget(e),n?getWindow().setTimeout(function(){removeElement(e),e=null},n):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return typeof e=="string"?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,n,i){e=asElement(resolveTarget(e)),e&&(i?getWindow().setTimeout(function(){addClassToElement(e,n),e=null},i):e.classList&&e.classList.add(n))}function removeClassFromElement(e,n,i){let o=asElement(resolveTarget(e));o&&(i?getWindow().setTimeout(function(){removeClassFromElement(o,n),o=null},i):o.classList&&(o.classList.remove(n),o.classList.length===0&&o.removeAttribute("class")))}function toggleClassOnElement(e,n){e=resolveTarget(e),e.classList.toggle(n)}function takeClassForElement(e,n){e=resolveTarget(e),forEach(e.parentElement.children,function(i){removeClassFromElement(i,n)}),addClassToElement(asElement(e),n)}function closest(e,n){if(e=asElement(resolveTarget(e)),e&&e.closest)return e.closest(n);do if(e==null||matches(e,n))return e;while(e=e&&asElement(parentElt(e)));return null}function startsWith(e,n){return e.substring(0,n.length)===n}function endsWith(e,n){return e.substring(e.length-n.length)===n}function normalizeSelector(e){let n=e.trim();return startsWith(n,"<")&&endsWith(n,"/>")?n.substring(1,n.length-2):n}function querySelectorAllExt(e,n,i){return e=resolveTarget(e),n.indexOf("closest ")===0?[closest(asElement(e),normalizeSelector(n.substr(8)))]:n.indexOf("find ")===0?[find(asParentNode(e),normalizeSelector(n.substr(5)))]:n==="next"?[asElement(e).nextElementSibling]:n.indexOf("next ")===0?[scanForwardQuery(e,normalizeSelector(n.substr(5)),!!i)]:n==="previous"?[asElement(e).previousElementSibling]:n.indexOf("previous ")===0?[scanBackwardsQuery(e,normalizeSelector(n.substr(9)),!!i)]:n==="document"?[document]:n==="window"?[window]:n==="body"?[document.body]:n==="root"?[getRootNode(e,!!i)]:n.indexOf("global ")===0?querySelectorAllExt(e,n.slice(7),!0):toArray(asParentNode(getRootNode(e,!!i)).querySelectorAll(normalizeSelector(n)))}var scanForwardQuery=function(e,n,i){let o=asParentNode(getRootNode(e,i)).querySelectorAll(n);for(let l=0;l<o.length;l++){let f=o[l];if(f.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return f}},scanBackwardsQuery=function(e,n,i){let o=asParentNode(getRootNode(e,i)).querySelectorAll(n);for(let l=o.length-1;l>=0;l--){let f=o[l];if(f.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return f}};function querySelectorExt(e,n){return typeof e!="string"?querySelectorAllExt(e,n)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,n){return typeof e=="string"?find(asParentNode(n)||document,e):e}function processEventArgs(e,n,i){return isFunction(n)?{target:getDocument().body,event:asString(e),listener:n}:{target:resolveTarget(e),event:asString(n),listener:i}}function addEventListenerImpl(e,n,i){return ready(function(){let l=processEventArgs(e,n,i);l.target.addEventListener(l.event,l.listener)}),isFunction(n)?n:i}function removeEventListenerImpl(e,n,i){return ready(function(){let o=processEventArgs(e,n,i);o.target.removeEventListener(o.event,o.listener)}),isFunction(n)?n:i}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,n){let i=getClosestAttributeValue(e,n);if(i){if(i==="this")return[findThisElement(e,n)];{let o=querySelectorAllExt(e,i);return o.length===0?(logError('The selector "'+i+'" on '+n+" returned no matches!"),[DUMMY_ELT]):o}}}function findThisElement(e,n){return asElement(getClosestMatch(e,function(i){return getAttributeValue(asElement(i),n)!=null}))}function getTarget(e){let n=getClosestAttributeValue(e,"hx-target");return n?n==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,n):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){let n=htmx.config.attributesToSettle;for(let i=0;i<n.length;i++)if(e===n[i])return!0;return!1}function cloneAttributes(e,n){forEach(e.attributes,function(i){!n.hasAttribute(i.name)&&shouldSettleAttribute(i.name)&&e.removeAttribute(i.name)}),forEach(n.attributes,function(i){shouldSettleAttribute(i.name)&&e.setAttribute(i.name,i.value)})}function isInlineSwap(e,n){let i=getExtensions(n);for(let o=0;o<i.length;o++){let l=i[o];try{if(l.isInlineSwap(e))return!0}catch(f){logError(f)}}return e==="outerHTML"}function oobSwap(e,n,i){let o="#"+getRawAttribute(n,"id"),l="outerHTML";e==="true"||(e.indexOf(":")>0?(l=e.substr(0,e.indexOf(":")),o=e.substr(e.indexOf(":")+1,e.length)):l=e);let f=getDocument().querySelectorAll(o);return f?(forEach(f,function(c){let h,v=n.cloneNode(!0);h=getDocument().createDocumentFragment(),h.appendChild(v),isInlineSwap(l,c)||(h=asParentNode(v));let D={shouldSwap:!0,target:c,fragment:h};triggerEvent(c,"htmx:oobBeforeSwap",D)&&(c=D.target,D.shouldSwap&&swapWithStyle(l,c,c,h,i),forEach(i.elts,function(O){triggerEvent(O,"htmx:oobAfterSwap",D)}))}),n.parentNode.removeChild(n)):(n.parentNode.removeChild(n),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:n})),e}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(n){let i=getAttributeValue(n,"id"),o=getDocument().getElementById(i);o!=null&&n.parentNode.replaceChild(o,n)})}function handleAttributes(e,n,i){forEach(n.querySelectorAll("[id]"),function(o){let l=getRawAttribute(o,"id");if(l&&l.length>0){let f=l.replace("'","\\'"),c=o.tagName.replace(":","\\:"),h=asParentNode(e),v=h&&h.querySelector(c+"[id='"+f+"']");if(v&&v!==h){let D=o.cloneNode();cloneAttributes(o,v),i.tasks.push(function(){cloneAttributes(o,D)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){let n="[autofocus]",i=asHtmlElement(matches(e,n)?e:e.querySelector(n));i?.focus()}function insertNodesBefore(e,n,i,o){for(handleAttributes(e,i,o);i.childNodes.length>0;){let l=i.firstChild;addClassToElement(asElement(l),htmx.config.addedClass),e.insertBefore(l,n),l.nodeType!==Node.TEXT_NODE&&l.nodeType!==Node.COMMENT_NODE&&o.tasks.push(makeAjaxLoadTask(l))}}function stringHash(e,n){let i=0;for(;i<e.length;)n=(n<<5)-n+e.charCodeAt(i++)|0;return n}function attributeHash(e){let n=0;if(e.attributes)for(let i=0;i<e.attributes.length;i++){let o=e.attributes[i];o.value&&(n=stringHash(o.name,n),n=stringHash(o.value,n))}return n}function deInitOnHandlers(e){let n=getInternalData(e);if(n.onHandlers){for(let i=0;i<n.onHandlers.length;i++){let o=n.onHandlers[i];removeEventListenerImpl(e,o.event,o.listener)}delete n.onHandlers}}function deInitNode(e){let n=getInternalData(e);n.timeout&&clearTimeout(n.timeout),n.listenerInfos&&forEach(n.listenerInfos,function(i){i.on&&removeEventListenerImpl(i.on,i.trigger,i.listener)}),deInitOnHandlers(e),forEach(Object.keys(n),function(i){delete n[i]})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,function(n){cleanUpElement(n)})}function swapOuterHTML(e,n,i){if(e instanceof Element&&e.tagName==="BODY")return swapInnerHTML(e,n,i);let o,l=e.previousSibling;for(insertNodesBefore(parentElt(e),e,n,i),l==null?o=parentElt(e).firstChild:o=l.nextSibling,i.elts=i.elts.filter(function(f){return f!==e});o&&o!==e;)o instanceof Element?(i.elts.push(o),o=o.nextElementSibling):o=null;cleanUpElement(e),e instanceof Element?e.remove():e.parentNode.removeChild(e)}function swapAfterBegin(e,n,i){return insertNodesBefore(e,e.firstChild,n,i)}function swapBeforeBegin(e,n,i){return insertNodesBefore(parentElt(e),e,n,i)}function swapBeforeEnd(e,n,i){return insertNodesBefore(e,null,n,i)}function swapAfterEnd(e,n,i){return insertNodesBefore(parentElt(e),e.nextSibling,n,i)}function swapDelete(e){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,n,i){let o=e.firstChild;if(insertNodesBefore(e,o,n,i),o){for(;o.nextSibling;)cleanUpElement(o.nextSibling),e.removeChild(o.nextSibling);cleanUpElement(o),e.removeChild(o)}}function swapWithStyle(e,n,i,o,l){switch(e){case"none":return;case"outerHTML":swapOuterHTML(i,o,l);return;case"afterbegin":swapAfterBegin(i,o,l);return;case"beforebegin":swapBeforeBegin(i,o,l);return;case"beforeend":swapBeforeEnd(i,o,l);return;case"afterend":swapAfterEnd(i,o,l);return;case"delete":swapDelete(i);return;default:var f=getExtensions(n);for(let c=0;c<f.length;c++){let h=f[c];try{let v=h.handleSwap(e,i,o,l);if(v){if(typeof v.length<"u")for(let D=0;D<v.length;D++){let O=v[D];O.nodeType!==Node.TEXT_NODE&&O.nodeType!==Node.COMMENT_NODE&&l.tasks.push(makeAjaxLoadTask(O))}return}}catch(v){logError(v)}}e==="innerHTML"?swapInnerHTML(i,o,l):swapWithStyle(htmx.config.defaultSwapStyle,n,i,o,l)}}function findAndSwapOobElements(e,n){forEach(findAll(e,"[hx-swap-oob], [data-hx-swap-oob]"),function(i){if(htmx.config.allowNestedOobSwaps||i.parentElement===null){let o=getAttributeValue(i,"hx-swap-oob");o!=null&&oobSwap(o,i,n)}else i.removeAttribute("hx-swap-oob"),i.removeAttribute("data-hx-swap-oob")})}function swap(e,n,i,o){o||(o={}),e=resolveTarget(e);let l=document.activeElement,f={};try{f={elt:l,start:l?l.selectionStart:null,end:l?l.selectionEnd:null}}catch{}let c=makeSettleInfo(e);if(i.swapStyle==="textContent")e.textContent=n;else{let v=makeFragment(n);if(c.title=v.title,o.selectOOB){let D=o.selectOOB.split(",");for(let O=0;O<D.length;O++){let z=D[O].split(":",2),$=z[0].trim();$.indexOf("#")===0&&($=$.substring(1));let J=z[1]||"true",se=v.querySelector("#"+$);se&&oobSwap(J,se,c)}}if(findAndSwapOobElements(v,c),forEach(findAll(v,"template"),function(D){findAndSwapOobElements(D.content,c),D.content.childElementCount===0&&D.content.textContent.trim()===""&&D.remove()}),o.select){let D=getDocument().createDocumentFragment();forEach(v.querySelectorAll(o.select),function(O){D.appendChild(O)}),v=D}handlePreservedElements(v),swapWithStyle(i.swapStyle,o.contextElement,e,v,c)}if(f.elt&&!bodyContains(f.elt)&&getRawAttribute(f.elt,"id")){let v=document.getElementById(getRawAttribute(f.elt,"id")),D={preventScroll:i.focusScroll!==void 0?!i.focusScroll:!htmx.config.defaultFocusScroll};if(v){if(f.start&&v.setSelectionRange)try{v.setSelectionRange(f.start,f.end)}catch{}v.focus(D)}}e.classList.remove(htmx.config.swappingClass),forEach(c.elts,function(v){v.classList&&v.classList.add(htmx.config.settlingClass),triggerEvent(v,"htmx:afterSwap",o.eventInfo)}),o.afterSwapCallback&&o.afterSwapCallback(),i.ignoreTitle||handleTitle(c.title);let h=function(){if(forEach(c.tasks,function(v){v.call()}),forEach(c.elts,function(v){v.classList&&v.classList.remove(htmx.config.settlingClass),triggerEvent(v,"htmx:afterSettle",o.eventInfo)}),o.anchor){let v=asElement(resolveTarget("#"+o.anchor));v&&v.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(c.elts,i),o.afterSettleCallback&&o.afterSettleCallback()};i.settleDelay>0?getWindow().setTimeout(h,i.settleDelay):h()}function handleTriggerHeader(e,n,i){let o=e.getResponseHeader(n);if(o.indexOf("{")===0){let l=parseJSON(o);for(let f in l)if(l.hasOwnProperty(f)){let c=l[f];isRawObject(c)||(c={value:c}),triggerEvent(i,f,c)}}else{let l=o.split(",");for(let f=0;f<l.length;f++)triggerEvent(i,l[f].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){let n=[],i=0;for(;i<e.length;){if(SYMBOL_START.exec(e.charAt(i))){for(var o=i;SYMBOL_CONT.exec(e.charAt(i+1));)i++;n.push(e.substr(o,i-o+1))}else if(STRINGISH_START.indexOf(e.charAt(i))!==-1){let l=e.charAt(i);var o=i;for(i++;i<e.length&&e.charAt(i)!==l;)e.charAt(i)==="\\"&&i++,i++;n.push(e.substr(o,i-o+1))}else{let l=e.charAt(i);n.push(l)}i++}return n}function isPossibleRelativeReference(e,n,i){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==i&&n!=="."}function maybeGenerateConditional(e,n,i){if(n[0]==="["){n.shift();let o=1,l=" return (function("+i+"){ return (",f=null;for(;n.length>0;){let c=n[0];if(c==="]"){if(o--,o===0){f===null&&(l=l+"true"),n.shift(),l+=")})";try{let h=maybeEval(e,function(){return Function(l)()},function(){return!0});return h.source=l,h}catch(h){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:h,source:l}),null}}}else c==="["&&o++;isPossibleRelativeReference(c,f,i)?l+="(("+i+"."+c+") ? ("+i+"."+c+") : (window."+c+"))":l=l+c,f=n.shift()}}}function consumeUntil(e,n){let i="";for(;e.length>0&&!n.test(e[0]);)i+=e.shift();return i}function consumeCSSSelector(e){let n;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),n=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):n=consumeUntil(e,WHITESPACE_OR_COMMA),n}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,n,i){let o=[],l=tokenizeString(n);do{consumeUntil(l,NOT_WHITESPACE);let h=l.length,v=consumeUntil(l,/[,\[\s]/);if(v!=="")if(v==="every"){let D={trigger:"every"};consumeUntil(l,NOT_WHITESPACE),D.pollInterval=parseInterval(consumeUntil(l,/[,\[\s]/)),consumeUntil(l,NOT_WHITESPACE);var f=maybeGenerateConditional(e,l,"event");f&&(D.eventFilter=f),o.push(D)}else{let D={trigger:v};var f=maybeGenerateConditional(e,l,"event");for(f&&(D.eventFilter=f);l.length>0&&l[0]!==",";){consumeUntil(l,NOT_WHITESPACE);let z=l.shift();if(z==="changed")D.changed=!0;else if(z==="once")D.once=!0;else if(z==="consume")D.consume=!0;else if(z==="delay"&&l[0]===":")l.shift(),D.delay=parseInterval(consumeUntil(l,WHITESPACE_OR_COMMA));else if(z==="from"&&l[0]===":"){if(l.shift(),COMBINED_SELECTOR_START.test(l[0]))var c=consumeCSSSelector(l);else{var c=consumeUntil(l,WHITESPACE_OR_COMMA);if(c==="closest"||c==="find"||c==="next"||c==="previous"){l.shift();let J=consumeCSSSelector(l);J.length>0&&(c+=" "+J)}}D.from=c}else z==="target"&&l[0]===":"?(l.shift(),D.target=consumeCSSSelector(l)):z==="throttle"&&l[0]===":"?(l.shift(),D.throttle=parseInterval(consumeUntil(l,WHITESPACE_OR_COMMA))):z==="queue"&&l[0]===":"?(l.shift(),D.queue=consumeUntil(l,WHITESPACE_OR_COMMA)):z==="root"&&l[0]===":"?(l.shift(),D[z]=consumeCSSSelector(l)):z==="threshold"&&l[0]===":"?(l.shift(),D[z]=consumeUntil(l,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:l.shift()})}o.push(D)}l.length===h&&triggerErrorEvent(e,"htmx:syntax:error",{token:l.shift()}),consumeUntil(l,NOT_WHITESPACE)}while(l[0]===","&&l.shift());return i&&(i[n]=o),o}function getTriggerSpecs(e){let n=getAttributeValue(e,"hx-trigger"),i=[];if(n){let o=htmx.config.triggerSpecsCache;i=o&&o[n]||parseAndCacheTrigger(e,n,o)}return i.length>0?i:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,n,i){let o=getInternalData(e);o.timeout=getWindow().setTimeout(function(){bodyContains(e)&&o.cancelled!==!0&&(maybeFilterEvent(i,e,makeEvent("hx:poll:trigger",{triggerSpec:i,target:e}))||n(e),processPolling(e,n,i))},i.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,n,i){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"){n.boosted=!0;let o,l;if(e.tagName==="A")o="get",l=getRawAttribute(e,"href");else{let f=getRawAttribute(e,"method");o=f?f.toLowerCase():"get",l=getRawAttribute(e,"action")}i.forEach(function(f){addEventListener(e,function(c,h){let v=asElement(c);if(eltIsDisabled(v)){cleanUpElement(v);return}issueAjaxRequest(o,l,v,h)},n,f,!0)})}}function shouldCancel(e,n){let i=asElement(n);return i?!!((e.type==="submit"||e.type==="click")&&(i.tagName==="FORM"||matches(i,'input[type="submit"], button')&&closest(i,"form")!==null||i instanceof HTMLAnchorElement&&i.href&&(i.getAttribute("href")==="#"||i.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(e,n){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&n.type==="click"&&(n.ctrlKey||n.metaKey)}function maybeFilterEvent(e,n,i){let o=e.eventFilter;if(o)try{return o.call(n,i)!==!0}catch(l){let f=o.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:l,source:f}),!0}return!1}function addEventListener(e,n,i,o,l){let f=getInternalData(e),c;o.from?c=querySelectorAllExt(e,o.from):c=[e],o.changed&&c.forEach(function(h){let v=getInternalData(h);v.lastValue=h.value}),forEach(c,function(h){let v=function(D){if(!bodyContains(e)){h.removeEventListener(o.trigger,v);return}if(ignoreBoostedAnchorCtrlClick(e,D)||((l||shouldCancel(D,e))&&D.preventDefault(),maybeFilterEvent(o,e,D)))return;let O=getInternalData(D);if(O.triggerSpec=o,O.handledFor==null&&(O.handledFor=[]),O.handledFor.indexOf(e)<0){if(O.handledFor.push(e),o.consume&&D.stopPropagation(),o.target&&D.target&&!matches(asElement(D.target),o.target))return;if(o.once){if(f.triggeredOnce)return;f.triggeredOnce=!0}if(o.changed){let z=getInternalData(h),$=h.value;if(z.lastValue===$)return;z.lastValue=$}if(f.delayed&&clearTimeout(f.delayed),f.throttle)return;o.throttle>0?f.throttle||(n(e,D),f.throttle=getWindow().setTimeout(function(){f.throttle=null},o.throttle)):o.delay>0?f.delayed=getWindow().setTimeout(function(){n(e,D)},o.delay):(triggerEvent(e,"htmx:trigger"),n(e,D))}};i.listenerInfos==null&&(i.listenerInfos=[]),i.listenerInfos.push({trigger:o.trigger,listener:v,on:h}),h.addEventListener(o.trigger,v)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){triggerEvent(e,"revealed")},{once:!0}))}function loadImmediately(e,n,i,o){let l=function(){i.loaded||(i.loaded=!0,n(e))};o>0?getWindow().setTimeout(l,o):l()}function processVerbs(e,n,i){let o=!1;return forEach(VERBS,function(l){if(hasAttribute(e,"hx-"+l)){let f=getAttributeValue(e,"hx-"+l);o=!0,n.path=f,n.verb=l,i.forEach(function(c){addTriggerHandler(e,c,n,function(h,v){let D=asElement(h);if(closest(D,htmx.config.disableSelector)){cleanUpElement(D);return}issueAjaxRequest(l,f,D,v)})})}}),o}function addTriggerHandler(e,n,i,o){if(n.trigger==="revealed")initScrollHandler(),addEventListener(e,o,i,n),maybeReveal(asElement(e));else if(n.trigger==="intersect"){let l={};n.root&&(l.root=querySelectorExt(e,n.root)),n.threshold&&(l.threshold=parseFloat(n.threshold)),new IntersectionObserver(function(c){for(let h=0;h<c.length;h++)if(c[h].isIntersecting){triggerEvent(e,"intersect");break}},l).observe(asElement(e)),addEventListener(asElement(e),o,i,n)}else n.trigger==="load"?maybeFilterEvent(n,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),o,i,n.delay):n.pollInterval>0?(i.polling=!0,processPolling(asElement(e),o,n)):addEventListener(e,o,i,n)}function shouldProcessHxOn(e){let n=asElement(e);if(!n)return!1;let i=n.attributes;for(let o=0;o<i.length;o++){let l=i[o].name;if(startsWith(l,"hx-on:")||startsWith(l,"data-hx-on:")||startsWith(l,"hx-on-")||startsWith(l,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,n){shouldProcessHxOn(e)&&n.push(asElement(e));let i=HX_ON_QUERY.evaluate(e),o=null;for(;o=i.iterateNext();)n.push(asElement(o))}function findHxOnWildcardElements(e){let n=[];if(e instanceof DocumentFragment)for(let i of e.childNodes)processHXOnRoot(i,n);else processHXOnRoot(e,n);return n}function findElementsToProcess(e){if(e.querySelectorAll){let i=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",o=[];for(let f in extensions){let c=extensions[f];if(c.getSelectors){var n=c.getSelectors();n&&o.push(n)}}return e.querySelectorAll(VERB_SELECTOR+i+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+o.flat().map(f=>", "+f).join(""))}else return[]}function maybeSetLastButtonClicked(e){let n=closest(asElement(e.target),"button, input[type='submit']"),i=getRelatedFormData(e);i&&(i.lastButtonClicked=n)}function maybeUnsetLastButtonClicked(e){let n=getRelatedFormData(e);n&&(n.lastButtonClicked=null)}function getRelatedFormData(e){let n=closest(asElement(e.target),"button, input[type='submit']");if(!n)return;let i=resolveTarget("#"+getRawAttribute(n,"form"),n.getRootNode())||closest(n,"form");if(i)return getInternalData(i)}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,n,i){let o=getInternalData(e);Array.isArray(o.onHandlers)||(o.onHandlers=[]);let l,f=function(c){maybeEval(e,function(){eltIsDisabled(e)||(l||(l=new Function("event",i)),l.call(e,c))})};e.addEventListener(n,f),o.onHandlers.push({event:n,listener:f})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n].name,o=e.attributes[n].value;if(startsWith(i,"hx-on")||startsWith(i,"data-hx-on")){let l=i.indexOf("-on")+3,f=i.slice(l,l+1);if(f==="-"||f===":"){let c=i.slice(l+1);startsWith(c,":")?c="htmx"+c:startsWith(c,"-")?c="htmx:"+c.slice(1):startsWith(c,"htmx-")&&(c="htmx:"+c.slice(5)),addHxOnEventHandler(e,c,o)}}}}function initNode(e){if(closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}let n=getInternalData(e);if(n.initHash!==attributeHash(e)){deInitNode(e),n.initHash=attributeHash(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(n.lastValue=e.value);let i=getTriggerSpecs(e);processVerbs(e,n,i)||(getClosestAttributeValue(e,"hx-boost")==="true"?boostElement(e,n,i):hasAttribute(e,"hx-trigger")&&i.forEach(function(l){addTriggerHandler(e,l,n,function(){})})),(e.tagName==="FORM"||getRawAttribute(e,"type")==="submit"&&hasAttribute(e,"form"))&&initButtonTracking(e),triggerEvent(e,"htmx:afterProcessNode")}}function processNode(e){if(e=resolveTarget(e),closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}initNode(e),forEach(findElementsToProcess(e),function(n){initNode(n)}),forEach(findHxOnWildcardElements(e),processHxOnWildcard)}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,n){let i;return window.CustomEvent&&typeof window.CustomEvent=="function"?i=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:n}):(i=getDocument().createEvent("CustomEvent"),i.initCustomEvent(e,!0,!0,n)),i}function triggerErrorEvent(e,n,i){triggerEvent(e,n,mergeObjects({error:n},i))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,n){forEach(getExtensions(e),function(i){try{n(i)}catch(o){logError(o)}})}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,n,i){e=resolveTarget(e),i==null&&(i={}),i.elt=e;let o=makeEvent(n,i);htmx.logger&&!ignoreEventForLogging(n)&&htmx.logger(e,n,i),i.error&&(logError(i.error),triggerEvent(e,"htmx:error",{errorInfo:i}));let l=e.dispatchEvent(o),f=kebabEventName(n);if(l&&f!==n){let c=makeEvent(f,o.detail);l=l&&e.dispatchEvent(c)}return withExtensions(asElement(e),function(c){l=l&&c.onEvent(n,o)!==!1&&!o.defaultPrevented}),l}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,n){if(!canAccessLocalStorage())return;let i=cleanInnerHtmlForHistory(n),o=getDocument().title,l=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}e=normalizePath(e);let f=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let h=0;h<f.length;h++)if(f[h].url===e){f.splice(h,1);break}let c={url:e,content:i,title:o,scroll:l};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:c,cache:f}),f.push(c);f.length>htmx.config.historyCacheSize;)f.shift();for(;f.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(f));break}catch(h){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:h,cache:f}),f.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);let n=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let i=0;i<n.length;i++)if(n[i].url===e)return n[i];return null}function cleanInnerHtmlForHistory(e){let n=htmx.config.requestClass,i=e.cloneNode(!0);return forEach(findAll(i,"."+n),function(o){removeClassFromElement(o,n)}),i.innerHTML}function saveCurrentPageToHistory(){let e=getHistoryElement(),n=currentPathForHistory||location.pathname+location.search,i;try{i=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{i=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}i||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:n,historyElt:e}),saveToHistoryCache(n,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(e,"&")||endsWith(e,"?"))&&(e=e.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,function(n){n.call(void 0)})}function loadHistoryFromServer(e){let n=new XMLHttpRequest,i={path:e,xhr:n};triggerEvent(getDocument().body,"htmx:historyCacheMiss",i),n.open("GET",e,!0),n.setRequestHeader("HX-Request","true"),n.setRequestHeader("HX-History-Restore-Request","true"),n.setRequestHeader("HX-Current-URL",getDocument().location.href),n.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",i);let o=makeFragment(this.response),l=o.querySelector("[hx-history-elt],[data-hx-history-elt]")||o,f=getHistoryElement(),c=makeSettleInfo(f);handleTitle(o.title),swapInnerHTML(f,l,c),settleImmediately(c.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",i)},n.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;let n=getCachedHistory(e);if(n){let i=makeFragment(n.content),o=getHistoryElement(),l=makeSettleInfo(o);handleTitle(i.title),swapInnerHTML(o,i,l),settleImmediately(l.tasks),getWindow().setTimeout(function(){window.scrollTo(0,n.scroll)},0),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:n})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let n=findAttributeTargets(e,"hx-indicator");return n==null&&(n=[e]),forEach(n,function(i){let o=getInternalData(i);o.requestCount=(o.requestCount||0)+1,i.classList.add.call(i.classList,htmx.config.requestClass)}),n}function disableElements(e){let n=findAttributeTargets(e,"hx-disabled-elt");return n==null&&(n=[]),forEach(n,function(i){let o=getInternalData(i);o.requestCount=(o.requestCount||0)+1,i.setAttribute("disabled","")}),n}function removeRequestIndicators(e,n){forEach(e,function(i){let o=getInternalData(i);o.requestCount=(o.requestCount||0)-1,o.requestCount===0&&i.classList.remove.call(i.classList,htmx.config.requestClass)}),forEach(n,function(i){let o=getInternalData(i);o.requestCount=(o.requestCount||0)-1,o.requestCount===0&&i.removeAttribute("disabled")})}function haveSeenNode(e,n){for(let i=0;i<e.length;i++)if(e[i].isSameNode(n))return!0;return!1}function shouldInclude(e){let n=e;return n.name===""||n.name==null||n.disabled||closest(n,"fieldset[disabled]")||n.type==="button"||n.type==="submit"||n.tagName==="image"||n.tagName==="reset"||n.tagName==="file"?!1:n.type==="checkbox"||n.type==="radio"?n.checked:!0}function addValueToFormData(e,n,i){e!=null&&n!=null&&(Array.isArray(n)?n.forEach(function(o){i.append(e,o)}):i.append(e,n))}function removeValueFromFormData(e,n,i){if(e!=null&&n!=null){let o=i.getAll(e);Array.isArray(n)?o=o.filter(l=>n.indexOf(l)<0):o=o.filter(l=>l!==n),i.delete(e),forEach(o,l=>i.append(e,l))}}function processInputValue(e,n,i,o,l){if(!(o==null||haveSeenNode(e,o))){if(e.push(o),shouldInclude(o)){let f=getRawAttribute(o,"name"),c=o.value;o instanceof HTMLSelectElement&&o.multiple&&(c=toArray(o.querySelectorAll("option:checked")).map(function(h){return h.value})),o instanceof HTMLInputElement&&o.files&&(c=toArray(o.files)),addValueToFormData(f,c,n),l&&validateElement(o,i)}o instanceof HTMLFormElement&&(forEach(o.elements,function(f){e.indexOf(f)>=0?removeValueFromFormData(f.name,f.value,n):e.push(f),l&&validateElement(f,i)}),new FormData(o).forEach(function(f,c){f instanceof File&&f.name===""||addValueToFormData(c,f,n)}))}}function validateElement(e,n){let i=e;i.willValidate&&(triggerEvent(i,"htmx:validation:validate"),i.checkValidity()||(n.push({elt:i,message:i.validationMessage,validity:i.validity}),triggerEvent(i,"htmx:validation:failed",{message:i.validationMessage,validity:i.validity})))}function overrideFormData(e,n){for(let i of n.keys())e.delete(i),n.getAll(i).forEach(function(o){e.append(i,o)});return e}function getInputValues(e,n){let i=[],o=new FormData,l=new FormData,f=[],c=getInternalData(e);c.lastButtonClicked&&!bodyContains(c.lastButtonClicked)&&(c.lastButtonClicked=null);let h=e instanceof HTMLFormElement&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(c.lastButtonClicked&&(h=h&&c.lastButtonClicked.formNoValidate!==!0),n!=="get"&&processInputValue(i,l,f,closest(e,"form"),h),processInputValue(i,o,f,e,h),c.lastButtonClicked||e.tagName==="BUTTON"||e.tagName==="INPUT"&&getRawAttribute(e,"type")==="submit"){let D=c.lastButtonClicked||e,O=getRawAttribute(D,"name");addValueToFormData(O,D.value,l)}let v=findAttributeTargets(e,"hx-include");return forEach(v,function(D){processInputValue(i,o,f,asElement(D),h),matches(D,"form")||forEach(asParentNode(D).querySelectorAll(INPUT_SELECTOR),function(O){processInputValue(i,o,f,O,h)})}),overrideFormData(o,l),{errors:f,formData:o,values:formDataProxy(o)}}function appendParam(e,n,i){e!==""&&(e+="&"),String(i)==="[object Object]"&&(i=JSON.stringify(i));let o=encodeURIComponent(i);return e+=encodeURIComponent(n)+"="+o,e}function urlEncode(e){e=formDataFromObject(e);let n="";return e.forEach(function(i,o){n=appendParam(n,o,i)}),n}function getHeaders(e,n,i){let o={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(n,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,o),i!==void 0&&(o["HX-Prompt"]=i),getInternalData(e).boosted&&(o["HX-Boosted"]="true"),o}function filterValues(e,n){let i=getClosestAttributeValue(n,"hx-params");if(i){if(i==="none")return new FormData;if(i==="*")return e;if(i.indexOf("not ")===0)return forEach(i.substr(4).split(","),function(o){o=o.trim(),e.delete(o)}),e;{let o=new FormData;return forEach(i.split(","),function(l){l=l.trim(),e.has(l)&&e.getAll(l).forEach(function(f){o.append(l,f)})}),o}}else return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,n){let i=n||getClosestAttributeValue(e,"hx-swap"),o={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(o.show="top"),i){let c=splitOnWhitespace(i);if(c.length>0)for(let h=0;h<c.length;h++){let v=c[h];if(v.indexOf("swap:")===0)o.swapDelay=parseInterval(v.substr(5));else if(v.indexOf("settle:")===0)o.settleDelay=parseInterval(v.substr(7));else if(v.indexOf("transition:")===0)o.transition=v.substr(11)==="true";else if(v.indexOf("ignoreTitle:")===0)o.ignoreTitle=v.substr(12)==="true";else if(v.indexOf("scroll:")===0){var l=v.substr(7).split(":");let O=l.pop();var f=l.length>0?l.join(":"):null;o.scroll=O,o.scrollTarget=f}else if(v.indexOf("show:")===0){var l=v.substr(5).split(":");let z=l.pop();var f=l.length>0?l.join(":"):null;o.show=z,o.showTarget=f}else if(v.indexOf("focus-scroll:")===0){let D=v.substr(13);o.focusScroll=D=="true"}else h==0?o.swapStyle=v:logError("Unknown modifier in hx-swap: "+v)}}return o}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,n,i){let o=null;return withExtensions(n,function(l){o==null&&(o=l.encodeParameters(e,i,n))}),o??(usesFormData(n)?overrideFormData(new FormData,formDataFromObject(i)):urlEncode(i))}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,n){let i=e[0],o=e[e.length-1];if(n.scroll){var l=null;n.scrollTarget&&(l=asElement(querySelectorExt(i,n.scrollTarget))),n.scroll==="top"&&(i||l)&&(l=l||i,l.scrollTop=0),n.scroll==="bottom"&&(o||l)&&(l=l||o,l.scrollTop=l.scrollHeight)}if(n.show){var l=null;if(n.showTarget){let c=n.showTarget;n.showTarget==="window"&&(c="body"),l=asElement(querySelectorExt(i,c))}n.show==="top"&&(i||l)&&(l=l||i,l.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),n.show==="bottom"&&(o||l)&&(l=l||o,l.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,n,i,o){if(o==null&&(o={}),e==null)return o;let l=getAttributeValue(e,n);if(l){let f=l.trim(),c=i;if(f==="unset")return null;f.indexOf("javascript:")===0?(f=f.substr(11),c=!0):f.indexOf("js:")===0&&(f=f.substr(3),c=!0),f.indexOf("{")!==0&&(f="{"+f+"}");let h;c?h=maybeEval(e,function(){return Function("return ("+f+")")()},{}):h=parseJSON(f);for(let v in h)h.hasOwnProperty(v)&&o[v]==null&&(o[v]=h[v])}return getValuesForElement(asElement(parentElt(e)),n,i,o)}function maybeEval(e,n,i){return htmx.config.allowEval?n():(triggerErrorEvent(e,"htmx:evalDisallowedError"),i)}function getHXVarsForElement(e,n){return getValuesForElement(e,"hx-vars",!0,n)}function getHXValsForElement(e,n){return getValuesForElement(e,"hx-vals",!1,n)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,n,i){if(i!==null)try{e.setRequestHeader(n,i)}catch{e.setRequestHeader(n,encodeURIComponent(i)),e.setRequestHeader(n+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&typeof URL<"u")try{let n=new URL(e.responseURL);return n.pathname+n.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,n){return n.test(e.getAllResponseHeaders())}function ajaxHelper(e,n,i){return e=e.toLowerCase(),i?i instanceof Element||typeof i=="string"?issueAjaxRequest(e,n,null,null,{targetOverride:resolveTarget(i),returnPromise:!0}):issueAjaxRequest(e,n,resolveTarget(i.source),i.event,{handler:i.handler,headers:i.headers,values:i.values,targetOverride:resolveTarget(i.target),swapOverride:i.swap,select:i.select,returnPromise:!0}):issueAjaxRequest(e,n,null,null,{returnPromise:!0})}function hierarchyForElt(e){let n=[];for(;e;)n.push(e),e=e.parentElement;return n}function verifyPath(e,n,i){let o,l;return typeof URL=="function"?(l=new URL(n,document.location.href),o=document.location.origin===l.origin):(l=n,o=startsWith(n,document.location.origin)),htmx.config.selfRequestsOnly&&!o?!1:triggerEvent(e,"htmx:validateUrl",mergeObjects({url:l,sameHost:o},i))}function formDataFromObject(e){if(e instanceof FormData)return e;let n=new FormData;for(let i in e)e.hasOwnProperty(i)&&(typeof e[i].forEach=="function"?e[i].forEach(function(o){n.append(i,o)}):typeof e[i]=="object"?n.append(i,JSON.stringify(e[i])):n.append(i,e[i]));return n}function formDataArrayProxy(e,n,i){return new Proxy(i,{get:function(o,l){return typeof l=="number"?o[l]:l==="length"?o.length:l==="push"?function(f){o.push(f),e.append(n,f)}:typeof o[l]=="function"?function(){o[l].apply(o,arguments),e.delete(n),o.forEach(function(f){e.append(n,f)})}:o[l]&&o[l].length===1?o[l][0]:o[l]},set:function(o,l,f){return o[l]=f,e.delete(n),o.forEach(function(c){e.append(n,c)}),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(n,i){if(typeof i=="symbol")return Reflect.get(n,i);if(i==="toJSON")return()=>Object.fromEntries(e);if(i in n)return typeof n[i]=="function"?function(){return e[i].apply(e,arguments)}:n[i];let o=e.getAll(i);if(o.length!==0)return o.length===1?o[0]:formDataArrayProxy(n,i,o)},set:function(n,i,o){return typeof i!="string"?!1:(n.delete(i),typeof o.forEach=="function"?o.forEach(function(l){n.append(i,l)}):n.append(i,o),!0)},deleteProperty:function(n,i){return typeof i=="string"&&n.delete(i),!0},ownKeys:function(n){return Reflect.ownKeys(Object.fromEntries(n))},getOwnPropertyDescriptor:function(n,i){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(n),i)}})}function issueAjaxRequest(e,n,i,o,l,f){let c=null,h=null;if(l=l??{},l.returnPromise&&typeof Promise<"u")var v=new Promise(function(Ae,_e){c=Ae,h=_e});i==null&&(i=getDocument().body);let D=l.handler||handleAjaxResponse,O=l.select||null;if(!bodyContains(i))return maybeCall(c),v;let z=l.targetOverride||asElement(getTarget(i));if(z==null||z==DUMMY_ELT)return triggerErrorEvent(i,"htmx:targetError",{target:getAttributeValue(i,"hx-target")}),maybeCall(h),v;let $=getInternalData(i),J=$.lastButtonClicked;if(J){let Ae=getRawAttribute(J,"formaction");Ae!=null&&(n=Ae);let _e=getRawAttribute(J,"formmethod");_e!=null&&_e.toLowerCase()!=="dialog"&&(e=_e)}let se=getClosestAttributeValue(i,"hx-confirm");if(f===void 0&&triggerEvent(i,"htmx:confirm",{target:z,elt:i,path:n,verb:e,triggeringEvent:o,etc:l,issueRequest:function(Pe){return issueAjaxRequest(e,n,i,o,l,!!Pe)},question:se})===!1)return maybeCall(c),v;let ne=i,q=getClosestAttributeValue(i,"hx-sync"),Q=null,ue=!1;if(q){let Ae=q.split(":"),_e=Ae[0].trim();if(_e==="this"?ne=findThisElement(i,"hx-sync"):ne=asElement(querySelectorExt(i,_e)),q=(Ae[1]||"drop").trim(),$=getInternalData(ne),q==="drop"&&$.xhr&&$.abortable!==!0)return maybeCall(c),v;if(q==="abort"){if($.xhr)return maybeCall(c),v;ue=!0}else q==="replace"?triggerEvent(ne,"htmx:abort"):q.indexOf("queue")===0&&(Q=(q.split(" ")[1]||"last").trim())}if($.xhr)if($.abortable)triggerEvent(ne,"htmx:abort");else{if(Q==null){if(o){let Ae=getInternalData(o);Ae&&Ae.triggerSpec&&Ae.triggerSpec.queue&&(Q=Ae.triggerSpec.queue)}Q==null&&(Q="last")}return $.queuedRequests==null&&($.queuedRequests=[]),Q==="first"&&$.queuedRequests.length===0?$.queuedRequests.push(function(){issueAjaxRequest(e,n,i,o,l)}):Q==="all"?$.queuedRequests.push(function(){issueAjaxRequest(e,n,i,o,l)}):Q==="last"&&($.queuedRequests=[],$.queuedRequests.push(function(){issueAjaxRequest(e,n,i,o,l)})),maybeCall(c),v}let ee=new XMLHttpRequest;$.xhr=ee,$.abortable=ue;let le=function(){$.xhr=null,$.abortable=!1,$.queuedRequests!=null&&$.queuedRequests.length>0&&$.queuedRequests.shift()()},ke=getClosestAttributeValue(i,"hx-prompt");if(ke){var we=prompt(ke);if(we===null||!triggerEvent(i,"htmx:prompt",{prompt:we,target:z}))return maybeCall(c),le(),v}if(se&&!f&&!confirm(se))return maybeCall(c),le(),v;let Se=getHeaders(i,z,we);e!=="get"&&!usesFormData(i)&&(Se["Content-Type"]="application/x-www-form-urlencoded"),l.headers&&(Se=mergeObjects(Se,l.headers));let $e=getInputValues(i,e),Ee=$e.errors,Z=$e.formData;l.values&&overrideFormData(Z,formDataFromObject(l.values));let x=formDataFromObject(getExpressionVars(i)),A=overrideFormData(Z,x),E=filterValues(A,i);htmx.config.getCacheBusterParam&&e==="get"&&E.set("org.htmx.cache-buster",getRawAttribute(z,"id")||"true"),(n==null||n==="")&&(n=getDocument().location.href);let _=getValuesForElement(i,"hx-request"),j=getInternalData(i).boosted,H=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0,V={boosted:j,useUrlParams:H,formData:E,parameters:formDataProxy(E),unfilteredFormData:A,unfilteredParameters:formDataProxy(A),headers:Se,target:z,verb:e,errors:Ee,withCredentials:l.credentials||_.credentials||htmx.config.withCredentials,timeout:l.timeout||_.timeout||htmx.config.timeout,path:n,triggeringEvent:o};if(!triggerEvent(i,"htmx:configRequest",V))return maybeCall(c),le(),v;if(n=V.path,e=V.verb,Se=V.headers,E=formDataFromObject(V.parameters),Ee=V.errors,H=V.useUrlParams,Ee&&Ee.length>0)return triggerEvent(i,"htmx:validation:halted",V),maybeCall(c),le(),v;let N=n.split("#"),ve=N[0],R=N[1],b=n;if(H&&(b=ve,!E.keys().next().done&&(b.indexOf("?")<0?b+="?":b+="&",b+=urlEncode(E),R&&(b+="#"+R))),!verifyPath(i,b,V))return triggerErrorEvent(i,"htmx:invalidPath",V),maybeCall(h),v;if(ee.open(e.toUpperCase(),b,!0),ee.overrideMimeType("text/html"),ee.withCredentials=V.withCredentials,ee.timeout=V.timeout,!_.noHeaders){for(let Ae in Se)if(Se.hasOwnProperty(Ae)){let _e=Se[Ae];safelySetHeaderValue(ee,Ae,_e)}}let ae={xhr:ee,target:z,requestConfig:V,etc:l,boosted:j,select:O,pathInfo:{requestPath:n,finalRequestPath:b,responsePath:null,anchor:R}};if(ee.onload=function(){try{let Ae=hierarchyForElt(i);if(ae.pathInfo.responsePath=getPathFromResponse(ee),D(i,ae),removeRequestIndicators(me,de),triggerEvent(i,"htmx:afterRequest",ae),triggerEvent(i,"htmx:afterOnLoad",ae),!bodyContains(i)){let _e=null;for(;Ae.length>0&&_e==null;){let Pe=Ae.shift();bodyContains(Pe)&&(_e=Pe)}_e&&(triggerEvent(_e,"htmx:afterRequest",ae),triggerEvent(_e,"htmx:afterOnLoad",ae))}maybeCall(c),le()}catch(Ae){throw triggerErrorEvent(i,"htmx:onLoadError",mergeObjects({error:Ae},ae)),Ae}},ee.onerror=function(){removeRequestIndicators(me,de),triggerErrorEvent(i,"htmx:afterRequest",ae),triggerErrorEvent(i,"htmx:sendError",ae),maybeCall(h),le()},ee.onabort=function(){removeRequestIndicators(me,de),triggerErrorEvent(i,"htmx:afterRequest",ae),triggerErrorEvent(i,"htmx:sendAbort",ae),maybeCall(h),le()},ee.ontimeout=function(){removeRequestIndicators(me,de),triggerErrorEvent(i,"htmx:afterRequest",ae),triggerErrorEvent(i,"htmx:timeout",ae),maybeCall(h),le()},!triggerEvent(i,"htmx:beforeRequest",ae))return maybeCall(c),le(),v;var me=addRequestIndicatorClasses(i),de=disableElements(i);forEach(["loadstart","loadend","progress","abort"],function(Ae){forEach([ee,ee.upload],function(_e){_e.addEventListener(Ae,function(Pe){triggerEvent(i,"htmx:xhr:"+Ae,{lengthComputable:Pe.lengthComputable,loaded:Pe.loaded,total:Pe.total})})})}),triggerEvent(i,"htmx:beforeSend",ae);let Fe=H?null:encodeParamsForBody(ee,i,E);return ee.send(Fe),v}function determineHistoryUpdates(e,n){let i=n.xhr,o=null,l=null;if(hasHeader(i,/HX-Push:/i)?(o=i.getResponseHeader("HX-Push"),l="push"):hasHeader(i,/HX-Push-Url:/i)?(o=i.getResponseHeader("HX-Push-Url"),l="push"):hasHeader(i,/HX-Replace-Url:/i)&&(o=i.getResponseHeader("HX-Replace-Url"),l="replace"),o)return o==="false"?{}:{type:l,path:o};let f=n.pathInfo.finalRequestPath,c=n.pathInfo.responsePath,h=getClosestAttributeValue(e,"hx-push-url"),v=getClosestAttributeValue(e,"hx-replace-url"),D=getInternalData(e).boosted,O=null,z=null;return h?(O="push",z=h):v?(O="replace",z=v):D&&(O="push",z=c||f),z?z==="false"?{}:(z==="true"&&(z=c||f),n.pathInfo.anchor&&z.indexOf("#")===-1&&(z=z+"#"+n.pathInfo.anchor),{type:O,path:z}):{}}function codeMatches(e,n){var i=new RegExp(e.code);return i.test(n.toString(10))}function resolveResponseHandling(e){for(var n=0;n<htmx.config.responseHandling.length;n++){var i=htmx.config.responseHandling[n];if(codeMatches(i,e.status))return i}return{swap:!1}}function handleTitle(e){if(e){let n=find("title");n?n.innerHTML=e:window.document.title=e}}function handleAjaxResponse(e,n){let i=n.xhr,o=n.target,l=n.etc,f=n.select;if(!triggerEvent(e,"htmx:beforeOnLoad",n))return;if(hasHeader(i,/HX-Trigger:/i)&&handleTriggerHeader(i,"HX-Trigger",e),hasHeader(i,/HX-Location:/i)){saveCurrentPageToHistory();let ue=i.getResponseHeader("HX-Location");var c;ue.indexOf("{")===0&&(c=parseJSON(ue),ue=c.path,delete c.path),ajaxHelper("get",ue,c).then(function(){pushUrlIntoHistory(ue)});return}let h=hasHeader(i,/HX-Refresh:/i)&&i.getResponseHeader("HX-Refresh")==="true";if(hasHeader(i,/HX-Redirect:/i)){location.href=i.getResponseHeader("HX-Redirect"),h&&location.reload();return}if(h){location.reload();return}hasHeader(i,/HX-Retarget:/i)&&(i.getResponseHeader("HX-Retarget")==="this"?n.target=e:n.target=asElement(querySelectorExt(e,i.getResponseHeader("HX-Retarget"))));let v=determineHistoryUpdates(e,n),D=resolveResponseHandling(i),O=D.swap,z=!!D.error,$=htmx.config.ignoreTitle||D.ignoreTitle,J=D.select;D.target&&(n.target=asElement(querySelectorExt(e,D.target)));var se=l.swapOverride;se==null&&D.swapOverride&&(se=D.swapOverride),hasHeader(i,/HX-Retarget:/i)&&(i.getResponseHeader("HX-Retarget")==="this"?n.target=e:n.target=asElement(querySelectorExt(e,i.getResponseHeader("HX-Retarget")))),hasHeader(i,/HX-Reswap:/i)&&(se=i.getResponseHeader("HX-Reswap"));var ne=i.response,q=mergeObjects({shouldSwap:O,serverResponse:ne,isError:z,ignoreTitle:$,selectOverride:J},n);if(!(D.event&&!triggerEvent(o,D.event,q))&&triggerEvent(o,"htmx:beforeSwap",q)){if(o=q.target,ne=q.serverResponse,z=q.isError,$=q.ignoreTitle,J=q.selectOverride,n.target=o,n.failed=z,n.successful=!z,q.shouldSwap){i.status===286&&cancelPolling(e),withExtensions(e,function($e){ne=$e.transformResponse(ne,i,e)}),v.type&&saveCurrentPageToHistory(),hasHeader(i,/HX-Reswap:/i)&&(se=i.getResponseHeader("HX-Reswap"));var Q=getSwapSpecification(e,se);Q.hasOwnProperty("ignoreTitle")||(Q.ignoreTitle=$),o.classList.add(htmx.config.swappingClass);let ue=null,ee=null;f&&(J=f),hasHeader(i,/HX-Reselect:/i)&&(J=i.getResponseHeader("HX-Reselect"));let le=getClosestAttributeValue(e,"hx-select-oob"),ke=getClosestAttributeValue(e,"hx-select"),we=function(){try{v.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:v},n)),v.type==="push"?(pushUrlIntoHistory(v.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:v.path})):(replaceUrlInHistory(v.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:v.path}))),swap(o,ne,Q,{select:J||ke,selectOOB:le,eventInfo:n,anchor:n.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(i,/HX-Trigger-After-Swap:/i)){let $e=e;bodyContains(e)||($e=getDocument().body),handleTriggerHeader(i,"HX-Trigger-After-Swap",$e)}},afterSettleCallback:function(){if(hasHeader(i,/HX-Trigger-After-Settle:/i)){let $e=e;bodyContains(e)||($e=getDocument().body),handleTriggerHeader(i,"HX-Trigger-After-Settle",$e)}maybeCall(ue)}})}catch($e){throw triggerErrorEvent(e,"htmx:swapError",n),maybeCall(ee),$e}},Se=htmx.config.globalViewTransitions;if(Q.hasOwnProperty("transition")&&(Se=Q.transition),Se&&triggerEvent(e,"htmx:beforeTransition",n)&&typeof Promise<"u"&&document.startViewTransition){let $e=new Promise(function(Z,x){ue=Z,ee=x}),Ee=we;we=function(){document.startViewTransition(function(){return Ee(),$e})}}Q.swapDelay>0?getWindow().setTimeout(we,Q.swapDelay):we()}z&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+i.status+" from "+n.pathInfo.requestPath},n))}}let extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,n){return!0},transformResponse:function(e,n,i){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,n,i,o){return!1},encodeParameters:function(e,n,i){return null}}}function defineExtension(e,n){n.init&&n.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),n)}function removeExtension(e){delete extensions[e]}function getExtensions(e,n,i){if(n==null&&(n=[]),e==null)return n;i==null&&(i=[]);let o=getAttributeValue(e,"hx-ext");return o&&forEach(o.split(","),function(l){if(l=l.replace(/ /g,""),l.slice(0,7)=="ignore:"){i.push(l.slice(7));return}if(i.indexOf(l)<0){let f=extensions[l];f&&n.indexOf(f)<0&&n.push(f)}}),getExtensions(asElement(parentElt(e)),n,i)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(e){isReady||getDocument().readyState==="complete"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+e+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){let e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);let n=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(o){let l=o.target,f=getInternalData(l);f&&f.xhr&&f.xhr.abort()});let i=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(o){o.state&&o.state.htmx?(restoreHistory(),forEach(n,function(l){triggerEvent(l,"htmx:restored",{document:getDocument(),triggerEvent})})):i&&i(o)},getWindow().setTimeout(function(){triggerEvent(e,"htmx:load",{}),e=null},0)}),htmx}(),Rd=ky;var ti={socket:null,socketURI:"ws://localhost:8000/",init:()=>{ti.socket=new WebSocket(ti.socketURI),ti.socket.addEventListener("open",ti.onOpen),ti.socket.addEventListener("close",ti.onClose)},onOpen:()=>{console.log("connected")},onClose:()=>{console.log("disconnected"),ti.socket.readyState===WebSocket.CLOSED&&setTimeout(()=>{location.reload()},2e3)},onError:e=>{console.error("Websocket error observed:",e)}},Nd=ti;var Fg=du(Pd()),Og=du($h());var Nu=!1,Bu=!1,Fi=[],Pu=-1;function g0(e){v0(e)}function v0(e){Fi.includes(e)||Fi.push(e),y0()}function ap(e){let n=Fi.indexOf(e);n!==-1&&n>Pu&&Fi.splice(n,1)}function y0(){!Bu&&!Nu&&(Nu=!0,queueMicrotask(x0))}function x0(){Nu=!1,Bu=!0;for(let e=0;e<Fi.length;e++)Fi[e](),Pu=e;Fi.length=0,Pu=-1,Bu=!1}var bo,_i,wo,sp,Hu=!0;function b0(e){Hu=!1,e(),Hu=!0}function w0(e){bo=e.reactive,wo=e.release,_i=n=>e.effect(n,{scheduler:i=>{Hu?g0(i):i()}}),sp=e.raw}function Gh(e){_i=e}function E0(e){let n=()=>{};return[o=>{let l=_i(o);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(f=>f())}),e._x_effects.add(l),n=()=>{l!==void 0&&(e._x_effects.delete(l),wo(l))},l},()=>{n()}]}function lp(e,n){let i=!0,o,l=_i(()=>{let f=e();JSON.stringify(f),i?o=f:queueMicrotask(()=>{n(f,o),o=f}),i=!1});return()=>wo(l)}var up=[],fp=[],cp=[];function C0(e){cp.push(e)}function Qu(e,n){typeof n=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(n)):(n=e,fp.push(n))}function dp(e){up.push(e)}function hp(e,n,i){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[n]||(e._x_attributeCleanups[n]=[]),e._x_attributeCleanups[n].push(i)}function pp(e,n){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([i,o])=>{(n===void 0||n.includes(i))&&(o.forEach(l=>l()),delete e._x_attributeCleanups[i])})}function k0(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var ef=new MutationObserver(of),tf=!1;function nf(){ef.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),tf=!0}function mp(){D0(),ef.disconnect(),tf=!1}var pa=[];function D0(){let e=ef.takeRecords();pa.push(()=>e.length>0&&of(e));let n=pa.length;queueMicrotask(()=>{if(pa.length===n)for(;pa.length>0;)pa.shift()()})}function vn(e){if(!tf)return e();mp();let n=e();return nf(),n}var rf=!1,$s=[];function T0(){rf=!0}function S0(){rf=!1,of($s),$s=[]}function of(e){if(rf){$s=$s.concat(e);return}let n=new Set,i=new Set,o=new Map,l=new Map;for(let f=0;f<e.length;f++)if(!e[f].target._x_ignoreMutationObserver&&(e[f].type==="childList"&&(e[f].addedNodes.forEach(c=>c.nodeType===1&&n.add(c)),e[f].removedNodes.forEach(c=>c.nodeType===1&&i.add(c))),e[f].type==="attributes")){let c=e[f].target,h=e[f].attributeName,v=e[f].oldValue,D=()=>{o.has(c)||o.set(c,[]),o.get(c).push({name:h,value:c.getAttribute(h)})},O=()=>{l.has(c)||l.set(c,[]),l.get(c).push(h)};c.hasAttribute(h)&&v===null?D():c.hasAttribute(h)?(O(),D()):O()}l.forEach((f,c)=>{pp(c,f)}),o.forEach((f,c)=>{up.forEach(h=>h(c,f))});for(let f of i)n.has(f)||fp.forEach(c=>c(f));n.forEach(f=>{f._x_ignoreSelf=!0,f._x_ignore=!0});for(let f of n)i.has(f)||f.isConnected&&(delete f._x_ignoreSelf,delete f._x_ignore,cp.forEach(c=>c(f)),f._x_ignore=!0,f._x_ignoreSelf=!0);n.forEach(f=>{delete f._x_ignoreSelf,delete f._x_ignore}),n=null,i=null,o=null,l=null}function gp(e){return Ea(yo(e))}function wa(e,n,i){return e._x_dataStack=[n,...yo(i||e)],()=>{e._x_dataStack=e._x_dataStack.filter(o=>o!==n)}}function yo(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?yo(e.host):e.parentNode?yo(e.parentNode):[]}function Ea(e){return new Proxy({objects:e},A0)}var A0={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(n=>Object.keys(n))))},has({objects:e},n){return n==Symbol.unscopables?!1:e.some(i=>Object.prototype.hasOwnProperty.call(i,n)||Reflect.has(i,n))},get({objects:e},n,i){return n=="toJSON"?L0:Reflect.get(e.find(o=>Reflect.has(o,n))||{},n,i)},set({objects:e},n,i,o){let l=e.find(c=>Object.prototype.hasOwnProperty.call(c,n))||e[e.length-1],f=Object.getOwnPropertyDescriptor(l,n);return f?.set&&f?.get?f.set.call(o,i)||!0:Reflect.set(l,n,i)}};function L0(){return Reflect.ownKeys(this).reduce((n,i)=>(n[i]=Reflect.get(this,i),n),{})}function vp(e){let n=o=>typeof o=="object"&&!Array.isArray(o)&&o!==null,i=(o,l="")=>{Object.entries(Object.getOwnPropertyDescriptors(o)).forEach(([f,{value:c,enumerable:h}])=>{if(h===!1||c===void 0||typeof c=="object"&&c!==null&&c.__v_skip)return;let v=l===""?f:`${l}.${f}`;typeof c=="object"&&c!==null&&c._x_interceptor?o[f]=c.initialize(e,v,f):n(c)&&c!==o&&!(c instanceof Element)&&i(c,v)})};return i(e)}function yp(e,n=()=>{}){let i={initialValue:void 0,_x_interceptor:!0,initialize(o,l,f){return e(this.initialValue,()=>F0(o,l),c=>qu(o,l,c),l,f)}};return n(i),o=>{if(typeof o=="object"&&o!==null&&o._x_interceptor){let l=i.initialize.bind(i);i.initialize=(f,c,h)=>{let v=o.initialize(f,c,h);return i.initialValue=v,l(f,c,h)}}else i.initialValue=o;return i}}function F0(e,n){return n.split(".").reduce((i,o)=>i[o],e)}function qu(e,n,i){if(typeof n=="string"&&(n=n.split(".")),n.length===1)e[n[0]]=i;else{if(n.length===0)throw error;return e[n[0]]||(e[n[0]]={}),qu(e[n[0]],n.slice(1),i)}}var xp={};function hr(e,n){xp[e]=n}function Wu(e,n){return Object.entries(xp).forEach(([i,o])=>{let l=null;function f(){if(l)return l;{let[c,h]=Dp(n);return l={interceptor:yp,...c},Qu(n,h),l}}Object.defineProperty(e,`$${i}`,{get(){return o(n,f())},enumerable:!1})}),e}function O0(e,n,i,...o){try{return i(...o)}catch(l){ba(l,e,n)}}function ba(e,n,i=void 0){e=Object.assign(e??{message:"No error message given."},{el:n,expression:i}),console.warn(`Alpine Expression Error: ${e.message}

${i?'Expression: "'+i+`"

`:""}`,n),setTimeout(()=>{throw e},0)}var Us=!0;function bp(e){let n=Us;Us=!1;let i=e();return Us=n,i}function Oi(e,n,i={}){let o;return Nn(e,n)(l=>o=l,i),o}function Nn(...e){return wp(...e)}var wp=Ep;function M0(e){wp=e}function Ep(e,n){let i={};Wu(i,e);let o=[i,...yo(e)],l=typeof n=="function"?I0(o,n):R0(o,n,e);return O0.bind(null,e,n,l)}function I0(e,n){return(i=()=>{},{scope:o={},params:l=[]}={})=>{let f=n.apply(Ea([o,...e]),l);Gs(i,f)}}var Ou={};function _0(e,n){if(Ou[e])return Ou[e];let i=Object.getPrototypeOf(async function(){}).constructor,o=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,f=(()=>{try{let c=new i(["__self","scope"],`with (scope) { __self.result = ${o} }; __self.finished = true; return __self.result;`);return Object.defineProperty(c,"name",{value:`[Alpine] ${e}`}),c}catch(c){return ba(c,n,e),Promise.resolve()}})();return Ou[e]=f,f}function R0(e,n,i){let o=_0(n,i);return(l=()=>{},{scope:f={},params:c=[]}={})=>{o.result=void 0,o.finished=!1;let h=Ea([f,...e]);if(typeof o=="function"){let v=o(o,h).catch(D=>ba(D,i,n));o.finished?(Gs(l,o.result,h,c,i),o.result=void 0):v.then(D=>{Gs(l,D,h,c,i)}).catch(D=>ba(D,i,n)).finally(()=>o.result=void 0)}}}function Gs(e,n,i,o,l){if(Us&&typeof n=="function"){let f=n.apply(i,o);f instanceof Promise?f.then(c=>Gs(e,c,i,o)).catch(c=>ba(c,l,n)):e(f)}else typeof n=="object"&&n instanceof Promise?n.then(f=>e(f)):e(n)}var af="x-";function Eo(e=""){return af+e}function N0(e){af=e}var Xs={};function ln(e,n){return Xs[e]=n,{before(i){if(!Xs[i]){console.warn(String.raw`Cannot find directive \`${i}\`. \`${e}\` will use the default order of execution`);return}let o=Li.indexOf(i);Li.splice(o>=0?o:Li.indexOf("DEFAULT"),0,e)}}}function B0(e){return Object.keys(Xs).includes(e)}function sf(e,n,i){if(n=Array.from(n),e._x_virtualDirectives){let f=Object.entries(e._x_virtualDirectives).map(([h,v])=>({name:h,value:v})),c=Cp(f);f=f.map(h=>c.find(v=>v.name===h.name)?{name:`x-bind:${h.name}`,value:`"${h.value}"`}:h),n=n.concat(f)}let o={};return n.map(Ap((f,c)=>o[f]=c)).filter(Fp).map(q0(o,i)).sort(W0).map(f=>H0(e,f))}function Cp(e){return Array.from(e).map(Ap()).filter(n=>!Fp(n))}var zu=!1,va=new Map,kp=Symbol();function P0(e){zu=!0;let n=Symbol();kp=n,va.set(n,[]);let i=()=>{for(;va.get(n).length;)va.get(n).shift()();va.delete(n)},o=()=>{zu=!1,i()};e(i),o()}function Dp(e){let n=[],i=h=>n.push(h),[o,l]=E0(e);return n.push(l),[{Alpine:ka,effect:o,cleanup:i,evaluateLater:Nn.bind(Nn,e),evaluate:Oi.bind(Oi,e)},()=>n.forEach(h=>h())]}function H0(e,n){let i=()=>{},o=Xs[n.type]||i,[l,f]=Dp(e);hp(e,n.original,f);let c=()=>{e._x_ignore||e._x_ignoreSelf||(o.inline&&o.inline(e,n,l),o=o.bind(o,e,n,l),zu?va.get(kp).push(o):o())};return c.runCleanups=f,c}var Tp=(e,n)=>({name:i,value:o})=>(i.startsWith(e)&&(i=i.replace(e,n)),{name:i,value:o}),Sp=e=>e;function Ap(e=()=>{}){return({name:n,value:i})=>{let{name:o,value:l}=Lp.reduce((f,c)=>c(f),{name:n,value:i});return o!==n&&e(o,n),{name:o,value:l}}}var Lp=[];function lf(e){Lp.push(e)}function Fp({name:e}){return Op().test(e)}var Op=()=>new RegExp(`^${af}([^:^.]+)\\b`);function q0(e,n){return({name:i,value:o})=>{let l=i.match(Op()),f=i.match(/:([a-zA-Z0-9\-_:]+)/),c=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],h=n||e[i]||i;return{type:l?l[1]:null,value:f?f[1]:null,modifiers:c.map(v=>v.replace(".","")),expression:o,original:h}}}var Uu="DEFAULT",Li=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Uu,"teleport"];function W0(e,n){let i=Li.indexOf(e.type)===-1?Uu:e.type,o=Li.indexOf(n.type)===-1?Uu:n.type;return Li.indexOf(i)-Li.indexOf(o)}function ya(e,n,i={}){e.dispatchEvent(new CustomEvent(n,{detail:i,bubbles:!0,composed:!0,cancelable:!0}))}function oi(e,n){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(l=>oi(l,n));return}let i=!1;if(n(e,()=>i=!0),i)return;let o=e.firstElementChild;for(;o;)oi(o,n,!1),o=o.nextElementSibling}function or(e,...n){console.warn(`Alpine Warning: ${e}`,...n)}var Xh=!1;function z0(){Xh&&or("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Xh=!0,document.body||or("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),ya(document,"alpine:init"),ya(document,"alpine:initializing"),nf(),C0(n=>Hr(n,oi)),Qu(n=>Pp(n)),dp((n,i)=>{sf(n,i).forEach(o=>o())});let e=n=>!Ys(n.parentElement,!0);Array.from(document.querySelectorAll(_p().join(","))).filter(e).forEach(n=>{Hr(n)}),ya(document,"alpine:initialized"),setTimeout(()=>{$0()})}var uf=[],Mp=[];function Ip(){return uf.map(e=>e())}function _p(){return uf.concat(Mp).map(e=>e())}function Rp(e){uf.push(e)}function Np(e){Mp.push(e)}function Ys(e,n=!1){return Ca(e,i=>{if((n?_p():Ip()).some(l=>i.matches(l)))return!0})}function Ca(e,n){if(e){if(n(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Ca(e.parentElement,n)}}function U0(e){return Ip().some(n=>e.matches(n))}var Bp=[];function j0(e){Bp.push(e)}function Hr(e,n=oi,i=()=>{}){P0(()=>{n(e,(o,l)=>{i(o,l),Bp.forEach(f=>f(o,l)),sf(o,o.attributes).forEach(f=>f()),o._x_ignore&&l()})})}function Pp(e,n=oi){n(e,i=>{pp(i),k0(i)})}function $0(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([n,i,o])=>{B0(i)||o.some(l=>{if(document.querySelector(l))return or(`found "${l}", but missing ${n} plugin`),!0})})}var ju=[],ff=!1;function cf(e=()=>{}){return queueMicrotask(()=>{ff||setTimeout(()=>{$u()})}),new Promise(n=>{ju.push(()=>{e(),n()})})}function $u(){for(ff=!1;ju.length;)ju.shift()()}function G0(){ff=!0}function df(e,n){return Array.isArray(n)?Vh(e,n.join(" ")):typeof n=="object"&&n!==null?X0(e,n):typeof n=="function"?df(e,n()):Vh(e,n)}function Vh(e,n){let i=f=>f.split(" ").filter(Boolean),o=f=>f.split(" ").filter(c=>!e.classList.contains(c)).filter(Boolean),l=f=>(e.classList.add(...f),()=>{e.classList.remove(...f)});return n=n===!0?n="":n||"",l(o(n))}function X0(e,n){let i=h=>h.split(" ").filter(Boolean),o=Object.entries(n).flatMap(([h,v])=>v?i(h):!1).filter(Boolean),l=Object.entries(n).flatMap(([h,v])=>v?!1:i(h)).filter(Boolean),f=[],c=[];return l.forEach(h=>{e.classList.contains(h)&&(e.classList.remove(h),c.push(h))}),o.forEach(h=>{e.classList.contains(h)||(e.classList.add(h),f.push(h))}),()=>{c.forEach(h=>e.classList.add(h)),f.forEach(h=>e.classList.remove(h))}}function Ks(e,n){return typeof n=="object"&&n!==null?V0(e,n):Y0(e,n)}function V0(e,n){let i={};return Object.entries(n).forEach(([o,l])=>{i[o]=e.style[o],o.startsWith("--")||(o=K0(o)),e.style.setProperty(o,l)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{Ks(e,i)}}function Y0(e,n){let i=e.getAttribute("style",n);return e.setAttribute("style",n),()=>{e.setAttribute("style",i||"")}}function K0(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gu(e,n=()=>{}){let i=!1;return function(){i?n.apply(this,arguments):(i=!0,e.apply(this,arguments))}}ln("transition",(e,{value:n,modifiers:i,expression:o},{evaluate:l})=>{typeof o=="function"&&(o=l(o)),o!==!1&&(!o||typeof o=="boolean"?J0(e,i,n):Z0(e,o,n))});function Z0(e,n,i){Hp(e,df,""),{enter:l=>{e._x_transition.enter.during=l},"enter-start":l=>{e._x_transition.enter.start=l},"enter-end":l=>{e._x_transition.enter.end=l},leave:l=>{e._x_transition.leave.during=l},"leave-start":l=>{e._x_transition.leave.start=l},"leave-end":l=>{e._x_transition.leave.end=l}}[i](n)}function J0(e,n,i){Hp(e,Ks);let o=!n.includes("in")&&!n.includes("out")&&!i,l=o||n.includes("in")||["enter"].includes(i),f=o||n.includes("out")||["leave"].includes(i);n.includes("in")&&!o&&(n=n.filter((Q,ue)=>ue<n.indexOf("out"))),n.includes("out")&&!o&&(n=n.filter((Q,ue)=>ue>n.indexOf("out")));let c=!n.includes("opacity")&&!n.includes("scale"),h=c||n.includes("opacity"),v=c||n.includes("scale"),D=h?0:1,O=v?ma(n,"scale",95)/100:1,z=ma(n,"delay",0)/1e3,$=ma(n,"origin","center"),J="opacity, transform",se=ma(n,"duration",150)/1e3,ne=ma(n,"duration",75)/1e3,q="cubic-bezier(0.4, 0.0, 0.2, 1)";l&&(e._x_transition.enter.during={transformOrigin:$,transitionDelay:`${z}s`,transitionProperty:J,transitionDuration:`${se}s`,transitionTimingFunction:q},e._x_transition.enter.start={opacity:D,transform:`scale(${O})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),f&&(e._x_transition.leave.during={transformOrigin:$,transitionDelay:`${z}s`,transitionProperty:J,transitionDuration:`${ne}s`,transitionTimingFunction:q},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:D,transform:`scale(${O})`})}function Hp(e,n,i={}){e._x_transition||(e._x_transition={enter:{during:i,start:i,end:i},leave:{during:i,start:i,end:i},in(o=()=>{},l=()=>{}){Xu(e,n,{during:this.enter.during,start:this.enter.start,end:this.enter.end},o,l)},out(o=()=>{},l=()=>{}){Xu(e,n,{during:this.leave.during,start:this.leave.start,end:this.leave.end},o,l)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,n,i,o){let l=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,f=()=>l(i);if(n){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(i):f():e._x_transition?e._x_transition.in(i):f();return}e._x_hidePromise=e._x_transition?new Promise((c,h)=>{e._x_transition.out(()=>{},()=>c(o)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>h({isFromCancelledTransition:!0}))}):Promise.resolve(o),queueMicrotask(()=>{let c=qp(e);c?(c._x_hideChildren||(c._x_hideChildren=[]),c._x_hideChildren.push(e)):l(()=>{let h=v=>{let D=Promise.all([v._x_hidePromise,...(v._x_hideChildren||[]).map(h)]).then(([O])=>O?.());return delete v._x_hidePromise,delete v._x_hideChildren,D};h(e).catch(v=>{if(!v.isFromCancelledTransition)throw v})})})};function qp(e){let n=e.parentNode;if(n)return n._x_hidePromise?n:qp(n)}function Xu(e,n,{during:i,start:o,end:l}={},f=()=>{},c=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(i).length===0&&Object.keys(o).length===0&&Object.keys(l).length===0){f(),c();return}let h,v,D;Q0(e,{start(){h=n(e,o)},during(){v=n(e,i)},before:f,end(){h(),D=n(e,l)},after:c,cleanup(){v(),D()}})}function Q0(e,n){let i,o,l,f=Gu(()=>{vn(()=>{i=!0,o||n.before(),l||(n.end(),$u()),n.after(),e.isConnected&&n.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(c){this.beforeCancels.push(c)},cancel:Gu(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();f()}),finish:f},vn(()=>{n.start(),n.during()}),G0(),requestAnimationFrame(()=>{if(i)return;let c=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,h=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;c===0&&(c=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),vn(()=>{n.before()}),o=!0,requestAnimationFrame(()=>{i||(vn(()=>{n.end()}),$u(),setTimeout(e._x_transitioning.finish,c+h),l=!0)})})}function ma(e,n,i){if(e.indexOf(n)===-1)return i;let o=e[e.indexOf(n)+1];if(!o||n==="scale"&&isNaN(o))return i;if(n==="duration"||n==="delay"){let l=o.match(/([0-9]+)ms/);if(l)return l[1]}return n==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(n)+2])?[o,e[e.indexOf(n)+2]].join(" "):o}var ai=!1;function li(e,n=()=>{}){return(...i)=>ai?n(...i):e(...i)}function ex(e){return(...n)=>ai&&e(...n)}var Wp=[];function Zs(e){Wp.push(e)}function tx(e,n){Wp.forEach(i=>i(e,n)),ai=!0,zp(()=>{Hr(n,(i,o)=>{o(i,()=>{})})}),ai=!1}var Vu=!1;function nx(e,n){n._x_dataStack||(n._x_dataStack=e._x_dataStack),ai=!0,Vu=!0,zp(()=>{rx(n)}),ai=!1,Vu=!1}function rx(e){let n=!1;Hr(e,(o,l)=>{oi(o,(f,c)=>{if(n&&U0(f))return c();n=!0,l(f,c)})})}function zp(e){let n=_i;Gh((i,o)=>{let l=n(i);return wo(l),()=>{}}),e(),Gh(n)}function Up(e,n,i,o=[]){switch(e._x_bindings||(e._x_bindings=bo({})),e._x_bindings[n]=i,n=o.includes("camel")?cx(n):n,n){case"value":ix(e,i);break;case"style":ax(e,i);break;case"class":ox(e,i);break;case"selected":case"checked":sx(e,n,i);break;default:jp(e,n,i);break}}function ix(e,n){if(e.type==="radio")e.attributes.value===void 0&&(e.value=n),window.fromModel&&(typeof n=="boolean"?e.checked=js(e.value)===n:e.checked=Yh(e.value,n));else if(e.type==="checkbox")Number.isInteger(n)?e.value=n:!Array.isArray(n)&&typeof n!="boolean"&&![null,void 0].includes(n)?e.value=String(n):Array.isArray(n)?e.checked=n.some(i=>Yh(i,e.value)):e.checked=!!n;else if(e.tagName==="SELECT")fx(e,n);else{if(e.value===n)return;e.value=n===void 0?"":n}}function ox(e,n){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=df(e,n)}function ax(e,n){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=Ks(e,n)}function sx(e,n,i){jp(e,n,i),ux(e,n,i)}function jp(e,n,i){[null,void 0,!1].includes(i)&&dx(n)?e.removeAttribute(n):($p(n)&&(i=n),lx(e,n,i))}function lx(e,n,i){e.getAttribute(n)!=i&&e.setAttribute(n,i)}function ux(e,n,i){e[n]!==i&&(e[n]=i)}function fx(e,n){let i=[].concat(n).map(o=>o+"");Array.from(e.options).forEach(o=>{o.selected=i.includes(o.value)})}function cx(e){return e.toLowerCase().replace(/-(\w)/g,(n,i)=>i.toUpperCase())}function Yh(e,n){return e==n}function js(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function $p(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function dx(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function hx(e,n,i){return e._x_bindings&&e._x_bindings[n]!==void 0?e._x_bindings[n]:Gp(e,n,i)}function px(e,n,i,o=!0){if(e._x_bindings&&e._x_bindings[n]!==void 0)return e._x_bindings[n];if(e._x_inlineBindings&&e._x_inlineBindings[n]!==void 0){let l=e._x_inlineBindings[n];return l.extract=o,bp(()=>Oi(e,l.expression))}return Gp(e,n,i)}function Gp(e,n,i){let o=e.getAttribute(n);return o===null?typeof i=="function"?i():i:o===""?!0:$p(n)?!![n,"true"].includes(o):o}function Xp(e,n){var i;return function(){var o=this,l=arguments,f=function(){i=null,e.apply(o,l)};clearTimeout(i),i=setTimeout(f,n)}}function Vp(e,n){let i;return function(){let o=this,l=arguments;i||(e.apply(o,l),i=!0,setTimeout(()=>i=!1,n))}}function Yp({get:e,set:n},{get:i,set:o}){let l=!0,f,c,h=_i(()=>{let v=e(),D=i();if(l)o(Mu(v)),l=!1;else{let O=JSON.stringify(v),z=JSON.stringify(D);O!==f?o(Mu(v)):O!==z&&n(Mu(D))}f=JSON.stringify(e()),c=JSON.stringify(i())});return()=>{wo(h)}}function Mu(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function mx(e){(Array.isArray(e)?e:[e]).forEach(i=>i(ka))}var Ai={},Kh=!1;function gx(e,n){if(Kh||(Ai=bo(Ai),Kh=!0),n===void 0)return Ai[e];Ai[e]=n,typeof n=="object"&&n!==null&&n.hasOwnProperty("init")&&typeof n.init=="function"&&Ai[e].init(),vp(Ai[e])}function vx(){return Ai}var Kp={};function yx(e,n){let i=typeof n!="function"?()=>n:n;return e instanceof Element?Zp(e,i()):(Kp[e]=i,()=>{})}function xx(e){return Object.entries(Kp).forEach(([n,i])=>{Object.defineProperty(e,n,{get(){return(...o)=>i(...o)}})}),e}function Zp(e,n,i){let o=[];for(;o.length;)o.pop()();let l=Object.entries(n).map(([c,h])=>({name:c,value:h})),f=Cp(l);return l=l.map(c=>f.find(h=>h.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),sf(e,l,i).map(c=>{o.push(c.runCleanups),c()}),()=>{for(;o.length;)o.pop()()}}var Jp={};function bx(e,n){Jp[e]=n}function wx(e,n){return Object.entries(Jp).forEach(([i,o])=>{Object.defineProperty(e,i,{get(){return(...l)=>o.bind(n)(...l)},enumerable:!1})}),e}var Ex={get reactive(){return bo},get release(){return wo},get effect(){return _i},get raw(){return sp},version:"3.14.1",flushAndStopDeferringMutations:S0,dontAutoEvaluateFunctions:bp,disableEffectScheduling:b0,startObservingMutations:nf,stopObservingMutations:mp,setReactivityEngine:w0,onAttributeRemoved:hp,onAttributesAdded:dp,closestDataStack:yo,skipDuringClone:li,onlyDuringClone:ex,addRootSelector:Rp,addInitSelector:Np,interceptClone:Zs,addScopeToNode:wa,deferMutations:T0,mapAttributes:lf,evaluateLater:Nn,interceptInit:j0,setEvaluator:M0,mergeProxies:Ea,extractProp:px,findClosest:Ca,onElRemoved:Qu,closestRoot:Ys,destroyTree:Pp,interceptor:yp,transition:Xu,setStyles:Ks,mutateDom:vn,directive:ln,entangle:Yp,throttle:Vp,debounce:Xp,evaluate:Oi,initTree:Hr,nextTick:cf,prefixed:Eo,prefix:N0,plugin:mx,magic:hr,store:gx,start:z0,clone:nx,cloneNode:tx,bound:hx,$data:gp,watch:lp,walk:oi,data:bx,bind:yx},ka=Ex;function Qp(e,n){let i=Object.create(null),o=e.split(",");for(let l=0;l<o.length;l++)i[o[l]]=!0;return n?l=>!!i[l.toLowerCase()]:l=>!!i[l]}var Cx="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",IE=Qp(Cx+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),kx=Object.freeze({}),_E=Object.freeze([]),Dx=Object.prototype.hasOwnProperty,Js=(e,n)=>Dx.call(e,n),Mi=Array.isArray,xa=e=>em(e)==="[object Map]",Tx=e=>typeof e=="string",hf=e=>typeof e=="symbol",Qs=e=>e!==null&&typeof e=="object",Sx=Object.prototype.toString,em=e=>Sx.call(e),tm=e=>em(e).slice(8,-1),pf=e=>Tx(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,el=e=>{let n=Object.create(null);return i=>n[i]||(n[i]=e(i))},Ax=/-(\w)/g,RE=el(e=>e.replace(Ax,(n,i)=>i?i.toUpperCase():"")),Lx=/\B([A-Z])/g,NE=el(e=>e.replace(Lx,"-$1").toLowerCase()),nm=el(e=>e.charAt(0).toUpperCase()+e.slice(1)),BE=el(e=>e?`on${nm(e)}`:""),rm=(e,n)=>e!==n&&(e===e||n===n),Yu=new WeakMap,ga=[],kr,Ii=Symbol("iterate"),Ku=Symbol("Map key iterate");function Fx(e){return e&&e._isEffect===!0}function Ox(e,n=kx){Fx(e)&&(e=e.raw);let i=_x(e,n);return n.lazy||i(),i}function Mx(e){e.active&&(im(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var Ix=0;function _x(e,n){let i=function(){if(!i.active)return e();if(!ga.includes(i)){im(i);try{return Nx(),ga.push(i),kr=i,e()}finally{ga.pop(),om(),kr=ga[ga.length-1]}}};return i.id=Ix++,i.allowRecurse=!!n.allowRecurse,i._isEffect=!0,i.active=!0,i.raw=e,i.deps=[],i.options=n,i}function im(e){let{deps:n}=e;if(n.length){for(let i=0;i<n.length;i++)n[i].delete(e);n.length=0}}var xo=!0,mf=[];function Rx(){mf.push(xo),xo=!1}function Nx(){mf.push(xo),xo=!0}function om(){let e=mf.pop();xo=e===void 0?!0:e}function dr(e,n,i){if(!xo||kr===void 0)return;let o=Yu.get(e);o||Yu.set(e,o=new Map);let l=o.get(i);l||o.set(i,l=new Set),l.has(kr)||(l.add(kr),kr.deps.push(l),kr.options.onTrack&&kr.options.onTrack({effect:kr,target:e,type:n,key:i}))}function si(e,n,i,o,l,f){let c=Yu.get(e);if(!c)return;let h=new Set,v=O=>{O&&O.forEach(z=>{(z!==kr||z.allowRecurse)&&h.add(z)})};if(n==="clear")c.forEach(v);else if(i==="length"&&Mi(e))c.forEach((O,z)=>{(z==="length"||z>=o)&&v(O)});else switch(i!==void 0&&v(c.get(i)),n){case"add":Mi(e)?pf(i)&&v(c.get("length")):(v(c.get(Ii)),xa(e)&&v(c.get(Ku)));break;case"delete":Mi(e)||(v(c.get(Ii)),xa(e)&&v(c.get(Ku)));break;case"set":xa(e)&&v(c.get(Ii));break}let D=O=>{O.options.onTrigger&&O.options.onTrigger({effect:O,target:e,key:i,type:n,newValue:o,oldValue:l,oldTarget:f}),O.options.scheduler?O.options.scheduler(O):O()};h.forEach(D)}var Bx=Qp("__proto__,__v_isRef,__isVue"),am=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(hf)),Px=sm(),Hx=sm(!0),Zh=qx();function qx(){let e={};return["includes","indexOf","lastIndexOf"].forEach(n=>{e[n]=function(...i){let o=Rt(this);for(let f=0,c=this.length;f<c;f++)dr(o,"get",f+"");let l=o[n](...i);return l===-1||l===!1?o[n](...i.map(Rt)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{e[n]=function(...i){Rx();let o=Rt(this)[n].apply(this,i);return om(),o}}),e}function sm(e=!1,n=!1){return function(o,l,f){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_raw"&&f===(e?n?nb:cm:n?tb:fm).get(o))return o;let c=Mi(o);if(!e&&c&&Js(Zh,l))return Reflect.get(Zh,l,f);let h=Reflect.get(o,l,f);return(hf(l)?am.has(l):Bx(l))||(e||dr(o,"get",l),n)?h:Zu(h)?!c||!pf(l)?h.value:h:Qs(h)?e?dm(h):xf(h):h}}var Wx=zx();function zx(e=!1){return function(i,o,l,f){let c=i[o];if(!e&&(l=Rt(l),c=Rt(c),!Mi(i)&&Zu(c)&&!Zu(l)))return c.value=l,!0;let h=Mi(i)&&pf(o)?Number(o)<i.length:Js(i,o),v=Reflect.set(i,o,l,f);return i===Rt(f)&&(h?rm(l,c)&&si(i,"set",o,l,c):si(i,"add",o,l)),v}}function Ux(e,n){let i=Js(e,n),o=e[n],l=Reflect.deleteProperty(e,n);return l&&i&&si(e,"delete",n,void 0,o),l}function jx(e,n){let i=Reflect.has(e,n);return(!hf(n)||!am.has(n))&&dr(e,"has",n),i}function $x(e){return dr(e,"iterate",Mi(e)?"length":Ii),Reflect.ownKeys(e)}var Gx={get:Px,set:Wx,deleteProperty:Ux,has:jx,ownKeys:$x},Xx={get:Hx,set(e,n){return console.warn(`Set operation on key "${String(n)}" failed: target is readonly.`,e),!0},deleteProperty(e,n){return console.warn(`Delete operation on key "${String(n)}" failed: target is readonly.`,e),!0}},gf=e=>Qs(e)?xf(e):e,vf=e=>Qs(e)?dm(e):e,yf=e=>e,tl=e=>Reflect.getPrototypeOf(e);function Ps(e,n,i=!1,o=!1){e=e.__v_raw;let l=Rt(e),f=Rt(n);n!==f&&!i&&dr(l,"get",n),!i&&dr(l,"get",f);let{has:c}=tl(l),h=o?yf:i?vf:gf;if(c.call(l,n))return h(e.get(n));if(c.call(l,f))return h(e.get(f));e!==l&&e.get(n)}function Hs(e,n=!1){let i=this.__v_raw,o=Rt(i),l=Rt(e);return e!==l&&!n&&dr(o,"has",e),!n&&dr(o,"has",l),e===l?i.has(e):i.has(e)||i.has(l)}function qs(e,n=!1){return e=e.__v_raw,!n&&dr(Rt(e),"iterate",Ii),Reflect.get(e,"size",e)}function Jh(e){e=Rt(e);let n=Rt(this);return tl(n).has.call(n,e)||(n.add(e),si(n,"add",e,e)),this}function Qh(e,n){n=Rt(n);let i=Rt(this),{has:o,get:l}=tl(i),f=o.call(i,e);f?um(i,o,e):(e=Rt(e),f=o.call(i,e));let c=l.call(i,e);return i.set(e,n),f?rm(n,c)&&si(i,"set",e,n,c):si(i,"add",e,n),this}function ep(e){let n=Rt(this),{has:i,get:o}=tl(n),l=i.call(n,e);l?um(n,i,e):(e=Rt(e),l=i.call(n,e));let f=o?o.call(n,e):void 0,c=n.delete(e);return l&&si(n,"delete",e,void 0,f),c}function tp(){let e=Rt(this),n=e.size!==0,i=xa(e)?new Map(e):new Set(e),o=e.clear();return n&&si(e,"clear",void 0,void 0,i),o}function Ws(e,n){return function(o,l){let f=this,c=f.__v_raw,h=Rt(c),v=n?yf:e?vf:gf;return!e&&dr(h,"iterate",Ii),c.forEach((D,O)=>o.call(l,v(D),v(O),f))}}function zs(e,n,i){return function(...o){let l=this.__v_raw,f=Rt(l),c=xa(f),h=e==="entries"||e===Symbol.iterator&&c,v=e==="keys"&&c,D=l[e](...o),O=i?yf:n?vf:gf;return!n&&dr(f,"iterate",v?Ku:Ii),{next(){let{value:z,done:$}=D.next();return $?{value:z,done:$}:{value:h?[O(z[0]),O(z[1])]:O(z),done:$}},[Symbol.iterator](){return this}}}}function ii(e){return function(...n){{let i=n[0]?`on key "${n[0]}" `:"";console.warn(`${nm(e)} operation ${i}failed: target is readonly.`,Rt(this))}return e==="delete"?!1:this}}function Vx(){let e={get(f){return Ps(this,f)},get size(){return qs(this)},has:Hs,add:Jh,set:Qh,delete:ep,clear:tp,forEach:Ws(!1,!1)},n={get(f){return Ps(this,f,!1,!0)},get size(){return qs(this)},has:Hs,add:Jh,set:Qh,delete:ep,clear:tp,forEach:Ws(!1,!0)},i={get(f){return Ps(this,f,!0)},get size(){return qs(this,!0)},has(f){return Hs.call(this,f,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:Ws(!0,!1)},o={get(f){return Ps(this,f,!0,!0)},get size(){return qs(this,!0)},has(f){return Hs.call(this,f,!0)},add:ii("add"),set:ii("set"),delete:ii("delete"),clear:ii("clear"),forEach:Ws(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{e[f]=zs(f,!1,!1),i[f]=zs(f,!0,!1),n[f]=zs(f,!1,!0),o[f]=zs(f,!0,!0)}),[e,i,n,o]}var[Yx,Kx,Zx,Jx]=Vx();function lm(e,n){let i=n?e?Jx:Zx:e?Kx:Yx;return(o,l,f)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?o:Reflect.get(Js(i,l)&&l in o?i:o,l,f)}var Qx={get:lm(!1,!1)},eb={get:lm(!0,!1)};function um(e,n,i){let o=Rt(i);if(o!==i&&n.call(e,o)){let l=tm(e);console.warn(`Reactive ${l} contains both the raw and reactive versions of the same object${l==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var fm=new WeakMap,tb=new WeakMap,cm=new WeakMap,nb=new WeakMap;function rb(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ib(e){return e.__v_skip||!Object.isExtensible(e)?0:rb(tm(e))}function xf(e){return e&&e.__v_isReadonly?e:hm(e,!1,Gx,Qx,fm)}function dm(e){return hm(e,!0,Xx,eb,cm)}function hm(e,n,i,o,l){if(!Qs(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(n&&e.__v_isReactive))return e;let f=l.get(e);if(f)return f;let c=ib(e);if(c===0)return e;let h=new Proxy(e,c===2?o:i);return l.set(e,h),h}function Rt(e){return e&&Rt(e.__v_raw)||e}function Zu(e){return!!(e&&e.__v_isRef===!0)}hr("nextTick",()=>cf);hr("dispatch",e=>ya.bind(ya,e));hr("watch",(e,{evaluateLater:n,cleanup:i})=>(o,l)=>{let f=n(o),h=lp(()=>{let v;return f(D=>v=D),v},l);i(h)});hr("store",vx);hr("data",e=>gp(e));hr("root",e=>Ys(e));hr("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Ea(ob(e))),e._x_refs_proxy));function ob(e){let n=[];return Ca(e,i=>{i._x_refs&&n.push(i._x_refs)}),n}var Iu={};function pm(e){return Iu[e]||(Iu[e]=0),++Iu[e]}function ab(e,n){return Ca(e,i=>{if(i._x_ids&&i._x_ids[n])return!0})}function sb(e,n){e._x_ids||(e._x_ids={}),e._x_ids[n]||(e._x_ids[n]=pm(n))}hr("id",(e,{cleanup:n})=>(i,o=null)=>{let l=`${i}${o?`-${o}`:""}`;return lb(e,l,n,()=>{let f=ab(e,i),c=f?f._x_ids[i]:pm(i);return o?`${i}-${c}-${o}`:`${i}-${c}`})});Zs((e,n)=>{e._x_id&&(n._x_id=e._x_id)});function lb(e,n,i,o){if(e._x_id||(e._x_id={}),e._x_id[n])return e._x_id[n];let l=o();return e._x_id[n]=l,i(()=>{delete e._x_id[n]}),l}hr("el",e=>e);mm("Focus","focus","focus");mm("Persist","persist","persist");function mm(e,n,i){hr(n,o=>or(`You can't use [$${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,o))}ln("modelable",(e,{expression:n},{effect:i,evaluateLater:o,cleanup:l})=>{let f=o(n),c=()=>{let O;return f(z=>O=z),O},h=o(`${n} = __placeholder`),v=O=>h(()=>{},{scope:{__placeholder:O}}),D=c();v(D),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let O=e._x_model.get,z=e._x_model.set,$=Yp({get(){return O()},set(J){z(J)}},{get(){return c()},set(J){v(J)}});l($)})});ln("teleport",(e,{modifiers:n,expression:i},{cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&or("x-teleport can only be used on a <template> tag",e);let l=np(i),f=e.content.cloneNode(!0).firstElementChild;e._x_teleport=f,f._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),f.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(h=>{f.addEventListener(h,v=>{v.stopPropagation(),e.dispatchEvent(new v.constructor(v.type,v))})}),wa(f,{},e);let c=(h,v,D)=>{D.includes("prepend")?v.parentNode.insertBefore(h,v):D.includes("append")?v.parentNode.insertBefore(h,v.nextSibling):v.appendChild(h)};vn(()=>{c(f,l,n),li(()=>{Hr(f),f._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let h=np(i);vn(()=>{c(e._x_teleport,h,n)})},o(()=>f.remove())});var ub=document.createElement("div");function np(e){let n=li(()=>document.querySelector(e),()=>ub)();return n||or(`Cannot find x-teleport element for selector: "${e}"`),n}var gm=()=>{};gm.inline=(e,{modifiers:n},{cleanup:i})=>{n.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,i(()=>{n.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};ln("ignore",gm);ln("effect",li((e,{expression:n},{effect:i})=>{i(Nn(e,n))}));function Ju(e,n,i,o){let l=e,f=v=>o(v),c={},h=(v,D)=>O=>D(v,O);if(i.includes("dot")&&(n=fb(n)),i.includes("camel")&&(n=cb(n)),i.includes("passive")&&(c.passive=!0),i.includes("capture")&&(c.capture=!0),i.includes("window")&&(l=window),i.includes("document")&&(l=document),i.includes("debounce")){let v=i[i.indexOf("debounce")+1]||"invalid-wait",D=Vs(v.split("ms")[0])?Number(v.split("ms")[0]):250;f=Xp(f,D)}if(i.includes("throttle")){let v=i[i.indexOf("throttle")+1]||"invalid-wait",D=Vs(v.split("ms")[0])?Number(v.split("ms")[0]):250;f=Vp(f,D)}return i.includes("prevent")&&(f=h(f,(v,D)=>{D.preventDefault(),v(D)})),i.includes("stop")&&(f=h(f,(v,D)=>{D.stopPropagation(),v(D)})),i.includes("once")&&(f=h(f,(v,D)=>{v(D),l.removeEventListener(n,f,c)})),(i.includes("away")||i.includes("outside"))&&(l=document,f=h(f,(v,D)=>{e.contains(D.target)||D.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&v(D))})),i.includes("self")&&(f=h(f,(v,D)=>{D.target===e&&v(D)})),(hb(n)||vm(n))&&(f=h(f,(v,D)=>{pb(D,i)||v(D)})),l.addEventListener(n,f,c),()=>{l.removeEventListener(n,f,c)}}function fb(e){return e.replace(/-/g,".")}function cb(e){return e.toLowerCase().replace(/-(\w)/g,(n,i)=>i.toUpperCase())}function Vs(e){return!Array.isArray(e)&&!isNaN(e)}function db(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function hb(e){return["keydown","keyup"].includes(e)}function vm(e){return["contextmenu","click","mouse"].some(n=>e.includes(n))}function pb(e,n){let i=n.filter(f=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(f));if(i.includes("debounce")){let f=i.indexOf("debounce");i.splice(f,Vs((i[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let f=i.indexOf("throttle");i.splice(f,Vs((i[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.length===0||i.length===1&&rp(e.key).includes(i[0]))return!1;let l=["ctrl","shift","alt","meta","cmd","super"].filter(f=>i.includes(f));return i=i.filter(f=>!l.includes(f)),!(l.length>0&&l.filter(c=>((c==="cmd"||c==="super")&&(c="meta"),e[`${c}Key`])).length===l.length&&(vm(e.type)||rp(e.key).includes(i[0])))}function rp(e){if(!e)return[];e=db(e);let n={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return n[e]=e,Object.keys(n).map(i=>{if(n[i]===e)return i}).filter(i=>i)}ln("model",(e,{modifiers:n,expression:i},{effect:o,cleanup:l})=>{let f=e;n.includes("parent")&&(f=e.parentNode);let c=Nn(f,i),h;typeof i=="string"?h=Nn(f,`${i} = __placeholder`):typeof i=="function"&&typeof i()=="string"?h=Nn(f,`${i()} = __placeholder`):h=()=>{};let v=()=>{let $;return c(J=>$=J),ip($)?$.get():$},D=$=>{let J;c(se=>J=se),ip(J)?J.set($):h(()=>{},{scope:{__placeholder:$}})};typeof i=="string"&&e.type==="radio"&&vn(()=>{e.hasAttribute("name")||e.setAttribute("name",i)});var O=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input";let z=ai?()=>{}:Ju(e,O,n,$=>{D(_u(e,n,$,v()))});if(n.includes("fill")&&([void 0,null,""].includes(v())||e.type==="checkbox"&&Array.isArray(v())||e.tagName.toLowerCase()==="select"&&e.multiple)&&D(_u(e,n,{target:e},v())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=z,l(()=>e._x_removeModelListeners.default()),e.form){let $=Ju(e.form,"reset",[],J=>{cf(()=>e._x_model&&e._x_model.set(_u(e,n,{target:e},v())))});l(()=>$())}e._x_model={get(){return v()},set($){D($)}},e._x_forceModelUpdate=$=>{$===void 0&&typeof i=="string"&&i.match(/\./)&&($=""),window.fromModel=!0,vn(()=>Up(e,"value",$)),delete window.fromModel},o(()=>{let $=v();n.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate($)})});function _u(e,n,i,o){return vn(()=>{if(i instanceof CustomEvent&&i.detail!==void 0)return i.detail!==null&&i.detail!==void 0?i.detail:i.target.value;if(e.type==="checkbox")if(Array.isArray(o)){let l=null;return n.includes("number")?l=Ru(i.target.value):n.includes("boolean")?l=js(i.target.value):l=i.target.value,i.target.checked?o.includes(l)?o:o.concat([l]):o.filter(f=>!mb(f,l))}else return i.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return n.includes("number")?Array.from(i.target.selectedOptions).map(l=>{let f=l.value||l.text;return Ru(f)}):n.includes("boolean")?Array.from(i.target.selectedOptions).map(l=>{let f=l.value||l.text;return js(f)}):Array.from(i.target.selectedOptions).map(l=>l.value||l.text);{let l;return e.type==="radio"?i.target.checked?l=i.target.value:l=o:l=i.target.value,n.includes("number")?Ru(l):n.includes("boolean")?js(l):n.includes("trim")?l.trim():l}}})}function Ru(e){let n=e?parseFloat(e):null;return gb(n)?n:e}function mb(e,n){return e==n}function gb(e){return!Array.isArray(e)&&!isNaN(e)}function ip(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}ln("cloak",e=>queueMicrotask(()=>vn(()=>e.removeAttribute(Eo("cloak")))));Np(()=>`[${Eo("init")}]`);ln("init",li((e,{expression:n},{evaluate:i})=>typeof n=="string"?!!n.trim()&&i(n,{},!1):i(n,{},!1)));ln("text",(e,{expression:n},{effect:i,evaluateLater:o})=>{let l=o(n);i(()=>{l(f=>{vn(()=>{e.textContent=f})})})});ln("html",(e,{expression:n},{effect:i,evaluateLater:o})=>{let l=o(n);i(()=>{l(f=>{vn(()=>{e.innerHTML=f,e._x_ignoreSelf=!0,Hr(e),delete e._x_ignoreSelf})})})});lf(Tp(":",Sp(Eo("bind:"))));var ym=(e,{value:n,modifiers:i,expression:o,original:l},{effect:f,cleanup:c})=>{if(!n){let v={};xx(v),Nn(e,o)(O=>{Zp(e,O,l)},{scope:v});return}if(n==="key")return vb(e,o);if(e._x_inlineBindings&&e._x_inlineBindings[n]&&e._x_inlineBindings[n].extract)return;let h=Nn(e,o);f(()=>h(v=>{v===void 0&&typeof o=="string"&&o.match(/\./)&&(v=""),vn(()=>Up(e,n,v,i))})),c(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};ym.inline=(e,{value:n,modifiers:i,expression:o})=>{n&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[n]={expression:o,extract:!1})};ln("bind",ym);function vb(e,n){e._x_keyExpression=n}Rp(()=>`[${Eo("data")}]`);ln("data",(e,{expression:n},{cleanup:i})=>{if(yb(e))return;n=n===""?"{}":n;let o={};Wu(o,e);let l={};wx(l,o);let f=Oi(e,n,{scope:l});(f===void 0||f===!0)&&(f={}),Wu(f,e);let c=bo(f);vp(c);let h=wa(e,c);c.init&&Oi(e,c.init),i(()=>{c.destroy&&Oi(e,c.destroy),h()})});Zs((e,n)=>{e._x_dataStack&&(n._x_dataStack=e._x_dataStack,n.setAttribute("data-has-alpine-state",!0))});function yb(e){return ai?Vu?!0:e.hasAttribute("data-has-alpine-state"):!1}ln("show",(e,{modifiers:n,expression:i},{effect:o})=>{let l=Nn(e,i);e._x_doHide||(e._x_doHide=()=>{vn(()=>{e.style.setProperty("display","none",n.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{vn(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let f=()=>{e._x_doHide(),e._x_isShown=!1},c=()=>{e._x_doShow(),e._x_isShown=!0},h=()=>setTimeout(c),v=Gu(z=>z?c():f(),z=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,z,c,f):z?h():f()}),D,O=!0;o(()=>l(z=>{!O&&z===D||(n.includes("immediate")&&(z?h():f()),v(z),D=z,O=!1)}))});ln("for",(e,{expression:n},{effect:i,cleanup:o})=>{let l=bb(n),f=Nn(e,l.items),c=Nn(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},i(()=>xb(e,l,f,c)),o(()=>{Object.values(e._x_lookup).forEach(h=>h.remove()),delete e._x_prevKeys,delete e._x_lookup})});function xb(e,n,i,o){let l=c=>typeof c=="object"&&!Array.isArray(c),f=e;i(c=>{wb(c)&&c>=0&&(c=Array.from(Array(c).keys(),q=>q+1)),c===void 0&&(c=[]);let h=e._x_lookup,v=e._x_prevKeys,D=[],O=[];if(l(c))c=Object.entries(c).map(([q,Q])=>{let ue=op(n,Q,q,c);o(ee=>{O.includes(ee)&&or("Duplicate key on x-for",e),O.push(ee)},{scope:{index:q,...ue}}),D.push(ue)});else for(let q=0;q<c.length;q++){let Q=op(n,c[q],q,c);o(ue=>{O.includes(ue)&&or("Duplicate key on x-for",e),O.push(ue)},{scope:{index:q,...Q}}),D.push(Q)}let z=[],$=[],J=[],se=[];for(let q=0;q<v.length;q++){let Q=v[q];O.indexOf(Q)===-1&&J.push(Q)}v=v.filter(q=>!J.includes(q));let ne="template";for(let q=0;q<O.length;q++){let Q=O[q],ue=v.indexOf(Q);if(ue===-1)v.splice(q,0,Q),z.push([ne,q]);else if(ue!==q){let ee=v.splice(q,1)[0],le=v.splice(ue-1,1)[0];v.splice(q,0,le),v.splice(ue,0,ee),$.push([ee,le])}else se.push(Q);ne=Q}for(let q=0;q<J.length;q++){let Q=J[q];h[Q]._x_effects&&h[Q]._x_effects.forEach(ap),h[Q].remove(),h[Q]=null,delete h[Q]}for(let q=0;q<$.length;q++){let[Q,ue]=$[q],ee=h[Q],le=h[ue],ke=document.createElement("div");vn(()=>{le||or('x-for ":key" is undefined or invalid',f,ue,h),le.after(ke),ee.after(le),le._x_currentIfEl&&le.after(le._x_currentIfEl),ke.before(ee),ee._x_currentIfEl&&ee.after(ee._x_currentIfEl),ke.remove()}),le._x_refreshXForScope(D[O.indexOf(ue)])}for(let q=0;q<z.length;q++){let[Q,ue]=z[q],ee=Q==="template"?f:h[Q];ee._x_currentIfEl&&(ee=ee._x_currentIfEl);let le=D[ue],ke=O[ue],we=document.importNode(f.content,!0).firstElementChild,Se=bo(le);wa(we,Se,f),we._x_refreshXForScope=$e=>{Object.entries($e).forEach(([Ee,Z])=>{Se[Ee]=Z})},vn(()=>{ee.after(we),li(()=>Hr(we))()}),typeof ke=="object"&&or("x-for key cannot be an object, it must be a string or an integer",f),h[ke]=we}for(let q=0;q<se.length;q++)h[se[q]]._x_refreshXForScope(D[O.indexOf(se[q])]);f._x_prevKeys=O})}function bb(e){let n=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,i=/^\s*\(|\)\s*$/g,o=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,l=e.match(o);if(!l)return;let f={};f.items=l[2].trim();let c=l[1].replace(i,"").trim(),h=c.match(n);return h?(f.item=c.replace(n,"").trim(),f.index=h[1].trim(),h[2]&&(f.collection=h[2].trim())):f.item=c,f}function op(e,n,i,o){let l={};return/^\[.*\]$/.test(e.item)&&Array.isArray(n)?e.item.replace("[","").replace("]","").split(",").map(c=>c.trim()).forEach((c,h)=>{l[c]=n[h]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(n)&&typeof n=="object"?e.item.replace("{","").replace("}","").split(",").map(c=>c.trim()).forEach(c=>{l[c]=n[c]}):l[e.item]=n,e.index&&(l[e.index]=i),e.collection&&(l[e.collection]=o),l}function wb(e){return!Array.isArray(e)&&!isNaN(e)}function xm(){}xm.inline=(e,{expression:n},{cleanup:i})=>{let o=Ys(e);o._x_refs||(o._x_refs={}),o._x_refs[n]=e,i(()=>delete o._x_refs[n])};ln("ref",xm);ln("if",(e,{expression:n},{effect:i,cleanup:o})=>{e.tagName.toLowerCase()!=="template"&&or("x-if can only be used on a <template> tag",e);let l=Nn(e,n),f=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let h=e.content.cloneNode(!0).firstElementChild;return wa(h,{},e),vn(()=>{e.after(h),li(()=>Hr(h))()}),e._x_currentIfEl=h,e._x_undoIf=()=>{oi(h,v=>{v._x_effects&&v._x_effects.forEach(ap)}),h.remove(),delete e._x_currentIfEl},h},c=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};i(()=>l(h=>{h?f():c()})),o(()=>e._x_undoIf&&e._x_undoIf())});ln("id",(e,{expression:n},{evaluate:i})=>{i(n).forEach(l=>sb(e,l))});Zs((e,n)=>{e._x_ids&&(n._x_ids=e._x_ids)});lf(Tp("@",Sp(Eo("on:"))));ln("on",li((e,{value:n,modifiers:i,expression:o},{cleanup:l})=>{let f=o?Nn(e,o):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(n)||e._x_forwardEvents.push(n));let c=Ju(e,n,i,h=>{f(()=>{},{scope:{$event:h},params:[h]})});l(()=>c())}));nl("Collapse","collapse","collapse");nl("Intersect","intersect","intersect");nl("Focus","trap","focus");nl("Mask","mask","mask");function nl(e,n,i){ln(n,o=>or(`You can't use [x-${n}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${i}`,o))}ka.setEvaluator(Ep);ka.setReactivityEngine({reactive:xf,effect:Ox,release:Mx,raw:Rt});var Eb=ka,Da=Eb;var Ta={},lt=Ta,kb=()=>{Ta.previousActiveElement instanceof HTMLElement?(Ta.previousActiveElement.focus(),Ta.previousActiveElement=null):document.body&&document.body.focus()},bm=e=>new Promise(n=>{if(!e)return n();let i=window.scrollX,o=window.scrollY;Ta.restoreFocusTimeout=setTimeout(()=>{kb(),n()},100),window.scrollTo(i,o)});var wm="swal2-",Db=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"],fe=Db.reduce((e,n)=>(e[n]=wm+n,e),{}),Tb=["success","warning","info","question","error"],Co=Tb.reduce((e,n)=>(e[n]=wm+n,e),{});var Cm="SweetAlert2:",ko=e=>e.charAt(0).toUpperCase()+e.slice(1),Gt=e=>{console.warn(`${Cm} ${typeof e=="object"?e.join(" "):e}`)},Zn=e=>{console.error(`${Cm} ${e}`)},Em=[],Sb=e=>{Em.includes(e)||(Em.push(e),Gt(e))},rl=(e,n=null)=>{Sb(`"${e}" is deprecated and will be removed in the next major release.${n?` Use "${n}" instead.`:""}`)},Ri=e=>typeof e=="function"?e():e,il=e=>e&&typeof e.toPromise=="function",Ni=e=>il(e)?e.toPromise():Promise.resolve(e),Sa=e=>e&&Promise.resolve(e)===e;var Wt=()=>document.body.querySelector(`.${fe.container}`),Aa=e=>{let n=Wt();return n?n.querySelector(e):null},Qn=e=>Aa(`.${e}`),it=()=>Qn(fe.popup),Dr=()=>Qn(fe.icon),km=()=>Qn(fe["icon-content"]),ol=()=>Qn(fe.title),Do=()=>Qn(fe["html-container"]),al=()=>Qn(fe.image),To=()=>Qn(fe["progress-steps"]),ui=()=>Qn(fe["validation-message"]),wn=()=>Aa(`.${fe.actions} .${fe.confirm}`),ar=()=>Aa(`.${fe.actions} .${fe.cancel}`),Gn=()=>Aa(`.${fe.actions} .${fe.deny}`),Dm=()=>Qn(fe["input-label"]),pr=()=>Aa(`.${fe.loader}`),Tr=()=>Qn(fe.actions),sl=()=>Qn(fe.footer),Bi=()=>Qn(fe["timer-progress-bar"]),So=()=>Qn(fe.close),Ab=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,La=()=>{let e=it();if(!e)return[];let n=e.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),i=Array.from(n).sort((f,c)=>{let h=parseInt(f.getAttribute("tabindex")||"0"),v=parseInt(c.getAttribute("tabindex")||"0");return h>v?1:h<v?-1:0}),o=e.querySelectorAll(Ab),l=Array.from(o).filter(f=>f.getAttribute("tabindex")!=="-1");return[...new Set(i.concat(l))].filter(f=>Jt(f))},Ao=()=>Jn(document.body,fe.shown)&&!Jn(document.body,fe["toast-shown"])&&!Jn(document.body,fe["no-backdrop"]),fi=()=>{let e=it();return e?Jn(e,fe.toast):!1},Tm=()=>{let e=it();return e?e.hasAttribute("data-loading"):!1};var Xt=(e,n)=>{if(e.textContent="",n){let o=new DOMParser().parseFromString(n,"text/html"),l=o.querySelector("head");l&&Array.from(l.childNodes).forEach(c=>{e.appendChild(c)});let f=o.querySelector("body");f&&Array.from(f.childNodes).forEach(c=>{c instanceof HTMLVideoElement||c instanceof HTMLAudioElement?e.appendChild(c.cloneNode(!0)):e.appendChild(c)})}},Jn=(e,n)=>{if(!n)return!1;let i=n.split(/\s+/);for(let o=0;o<i.length;o++)if(!e.classList.contains(i[o]))return!1;return!0},Lb=(e,n)=>{Array.from(e.classList).forEach(i=>{!Object.values(fe).includes(i)&&!Object.values(Co).includes(i)&&!Object.values(n.showClass||{}).includes(i)&&e.classList.remove(i)})},Pt=(e,n,i)=>{if(Lb(e,n),!n.customClass)return;let o=n.customClass[i];if(o){if(typeof o!="string"&&!o.forEach){Gt(`Invalid type of customClass.${i}! Expected string or iterable object, got "${typeof o}"`);return}ot(e,o)}},Pi=(e,n)=>{if(!n)return null;switch(n){case"select":case"textarea":case"file":return e.querySelector(`.${fe.popup} > .${fe[n]}`);case"checkbox":return e.querySelector(`.${fe.popup} > .${fe.checkbox} input`);case"radio":return e.querySelector(`.${fe.popup} > .${fe.radio} input:checked`)||e.querySelector(`.${fe.popup} > .${fe.radio} input:first-child`);case"range":return e.querySelector(`.${fe.popup} > .${fe.range} input`);default:return e.querySelector(`.${fe.popup} > .${fe.input}`)}},ll=e=>{if(e.focus(),e.type!=="file"){let n=e.value;e.value="",e.value=n}},Sm=(e,n,i)=>{!e||!n||(typeof n=="string"&&(n=n.split(/\s+/).filter(Boolean)),n.forEach(o=>{Array.isArray(e)?e.forEach(l=>{i?l.classList.add(o):l.classList.remove(o)}):i?e.classList.add(o):e.classList.remove(o)}))},ot=(e,n)=>{Sm(e,n,!0)},En=(e,n)=>{Sm(e,n,!1)},mr=(e,n)=>{let i=Array.from(e.children);for(let o=0;o<i.length;o++){let l=i[o];if(l instanceof HTMLElement&&Jn(l,n))return l}},gr=(e,n,i)=>{i===`${parseInt(i)}`&&(i=parseInt(i)),i||parseInt(i)===0?e.style.setProperty(n,typeof i=="number"?`${i}px`:i):e.style.removeProperty(n)},Ct=(e,n="flex")=>{e&&(e.style.display=n)},St=e=>{e&&(e.style.display="none")},Lo=(e,n="block")=>{e&&new MutationObserver(()=>{qr(e,e.innerHTML,n)}).observe(e,{childList:!0,subtree:!0})},bf=(e,n,i,o)=>{let l=e.querySelector(n);l&&l.style.setProperty(i,o)},qr=(e,n,i="flex")=>{n?Ct(e,i):St(e)},Jt=e=>!!(e&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),Am=()=>!Jt(wn())&&!Jt(Gn())&&!Jt(ar()),wf=e=>e.scrollHeight>e.clientHeight,ul=e=>{let n=window.getComputedStyle(e),i=parseFloat(n.getPropertyValue("animation-duration")||"0"),o=parseFloat(n.getPropertyValue("transition-duration")||"0");return i>0||o>0},Fa=(e,n=!1)=>{let i=Bi();i&&Jt(i)&&(n&&(i.style.transition="none",i.style.width="100%"),setTimeout(()=>{i.style.transition=`width ${e/1e3}s linear`,i.style.width="0%"},10))},Lm=()=>{let e=Bi();if(!e)return;let n=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";let i=parseInt(window.getComputedStyle(e).width),o=n/i*100;e.style.width=`${o}%`};var fl=()=>typeof window>"u"||typeof document>"u";var Ob=`
 <div aria-labelledby="${fe.title}" aria-describedby="${fe["html-container"]}" class="${fe.popup}" tabindex="-1">
   <button type="button" class="${fe.close}"></button>
   <ul class="${fe["progress-steps"]}"></ul>
   <div class="${fe.icon}"></div>
   <img class="${fe.image}" />
   <h2 class="${fe.title}" id="${fe.title}"></h2>
   <div class="${fe["html-container"]}" id="${fe["html-container"]}"></div>
   <input class="${fe.input}" id="${fe.input}" />
   <input type="file" class="${fe.file}" />
   <div class="${fe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${fe.select}" id="${fe.select}"></select>
   <div class="${fe.radio}"></div>
   <label class="${fe.checkbox}">
     <input type="checkbox" id="${fe.checkbox}" />
     <span class="${fe.label}"></span>
   </label>
   <textarea class="${fe.textarea}" id="${fe.textarea}"></textarea>
   <div class="${fe["validation-message"]}" id="${fe["validation-message"]}"></div>
   <div class="${fe.actions}">
     <div class="${fe.loader}"></div>
     <button type="button" class="${fe.confirm}"></button>
     <button type="button" class="${fe.deny}"></button>
     <button type="button" class="${fe.cancel}"></button>
   </div>
   <div class="${fe.footer}"></div>
   <div class="${fe["timer-progress-bar-container"]}">
     <div class="${fe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Mb=()=>{let e=Wt();return e?(e.remove(),En([document.documentElement,document.body],[fe["no-backdrop"],fe["toast-shown"],fe["has-column"]]),!0):!1},Hi=()=>{lt.currentInstance.resetValidationMessage()},Ib=()=>{let e=it(),n=mr(e,fe.input),i=mr(e,fe.file),o=e.querySelector(`.${fe.range} input`),l=e.querySelector(`.${fe.range} output`),f=mr(e,fe.select),c=e.querySelector(`.${fe.checkbox} input`),h=mr(e,fe.textarea);n.oninput=Hi,i.onchange=Hi,f.onchange=Hi,c.onchange=Hi,h.oninput=Hi,o.oninput=()=>{Hi(),l.value=o.value},o.onchange=()=>{Hi(),l.value=o.value}},_b=e=>typeof e=="string"?document.querySelector(e):e,Rb=e=>{let n=it();n.setAttribute("role",e.toast?"alert":"dialog"),n.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||n.setAttribute("aria-modal","true")},Nb=e=>{window.getComputedStyle(e).direction==="rtl"&&ot(Wt(),fe.rtl)},Fm=e=>{let n=Mb();if(fl()){Zn("SweetAlert2 requires document to initialize");return}let i=document.createElement("div");i.className=fe.container,n&&ot(i,fe["no-transition"]),Xt(i,Ob);let o=_b(e.target);o.appendChild(i),Rb(e),Nb(o),Ib()};var Fo=(e,n)=>{e instanceof HTMLElement?n.appendChild(e):typeof e=="object"?Bb(e,n):e&&Xt(n,e)},Bb=(e,n)=>{e.jquery?Pb(n,e):Xt(n,e.toString())},Pb=(e,n)=>{if(e.textContent="",0 in n)for(let i=0;i in n;i++)e.appendChild(n[i].cloneNode(!0));else e.appendChild(n.cloneNode(!0))};var Wr=(()=>{if(fl())return!1;let e=document.createElement("div");return typeof e.style.webkitAnimation<"u"?"webkitAnimationEnd":typeof e.style.animation<"u"?"animationend":!1})();var Om=(e,n)=>{let i=Tr(),o=pr();!i||!o||(!n.showConfirmButton&&!n.showDenyButton&&!n.showCancelButton?St(i):Ct(i),Pt(i,n,"actions"),Hb(i,o,n),Xt(o,n.loaderHtml||""),Pt(o,n,"loader"))};function Hb(e,n,i){let o=wn(),l=Gn(),f=ar();!o||!l||!f||(Ef(o,"confirm",i),Ef(l,"deny",i),Ef(f,"cancel",i),qb(o,l,f,i),i.reverseButtons&&(i.toast?(e.insertBefore(f,o),e.insertBefore(l,o)):(e.insertBefore(f,n),e.insertBefore(l,n),e.insertBefore(o,n))))}function qb(e,n,i,o){if(!o.buttonsStyling){En([e,n,i],fe.styled);return}ot([e,n,i],fe.styled),o.confirmButtonColor&&(e.style.backgroundColor=o.confirmButtonColor,ot(e,fe["default-outline"])),o.denyButtonColor&&(n.style.backgroundColor=o.denyButtonColor,ot(n,fe["default-outline"])),o.cancelButtonColor&&(i.style.backgroundColor=o.cancelButtonColor,ot(i,fe["default-outline"]))}function Ef(e,n,i){let o=ko(n);qr(e,i[`show${o}Button`],"inline-block"),Xt(e,i[`${n}ButtonText`]||""),e.setAttribute("aria-label",i[`${n}ButtonAriaLabel`]||""),e.className=fe[n],Pt(e,i,`${n}Button`)}var Mm=(e,n)=>{let i=So();i&&(Xt(i,n.closeButtonHtml||""),Pt(i,n,"closeButton"),qr(i,n.showCloseButton),i.setAttribute("aria-label",n.closeButtonAriaLabel||""))};var Im=(e,n)=>{let i=Wt();i&&(Wb(i,n.backdrop),zb(i,n.position),Ub(i,n.grow),Pt(i,n,"container"))};function Wb(e,n){typeof n=="string"?e.style.background=n:n||ot([document.documentElement,document.body],fe["no-backdrop"])}function zb(e,n){n&&(n in fe?ot(e,fe[n]):(Gt('The "position" parameter is not valid, defaulting to "center"'),ot(e,fe.center)))}function Ub(e,n){n&&ot(e,fe[`grow-${n}`])}var ct={innerParams:new WeakMap,domCache:new WeakMap};var jb=["input","file","range","select","radio","checkbox","textarea"],_m=(e,n)=>{let i=it();if(!i)return;let o=ct.innerParams.get(e),l=!o||n.input!==o.input;jb.forEach(f=>{let c=mr(i,fe[f]);c&&(Xb(f,n.inputAttributes),c.className=fe[f],l&&St(c))}),n.input&&(l&&$b(n),Vb(n))},$b=e=>{if(!e.input)return;if(!Qt[e.input]){Zn(`Unexpected type of input! Expected ${Object.keys(Qt).join(" | ")}, got "${e.input}"`);return}let n=Rm(e.input);if(!n)return;let i=Qt[e.input](n,e);Ct(n),e.inputAutoFocus&&setTimeout(()=>{ll(i)})},Gb=e=>{for(let n=0;n<e.attributes.length;n++){let i=e.attributes[n].name;["id","type","value","style"].includes(i)||e.removeAttribute(i)}},Xb=(e,n)=>{let i=it();if(!i)return;let o=Pi(i,e);if(o){Gb(o);for(let l in n)o.setAttribute(l,n[l])}},Vb=e=>{if(!e.input)return;let n=Rm(e.input);n&&Pt(n,e,"input")},Cf=(e,n)=>{!e.placeholder&&n.inputPlaceholder&&(e.placeholder=n.inputPlaceholder)},Oa=(e,n,i)=>{if(i.inputLabel){let o=document.createElement("label"),l=fe["input-label"];o.setAttribute("for",e.id),o.className=l,typeof i.customClass=="object"&&ot(o,i.customClass.inputLabel),o.innerText=i.inputLabel,n.insertAdjacentElement("beforebegin",o)}},Rm=e=>{let n=it();if(n)return mr(n,fe[e]||fe.input)},cl=(e,n)=>{["string","number"].includes(typeof n)?e.value=`${n}`:Sa(n)||Gt(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof n}"`)},Qt={};Qt.text=Qt.email=Qt.password=Qt.number=Qt.tel=Qt.url=Qt.search=Qt.date=Qt["datetime-local"]=Qt.time=Qt.week=Qt.month=(e,n)=>(cl(e,n.inputValue),Oa(e,e,n),Cf(e,n),e.type=n.input,e);Qt.file=(e,n)=>(Oa(e,e,n),Cf(e,n),e);Qt.range=(e,n)=>{let i=e.querySelector("input"),o=e.querySelector("output");return cl(i,n.inputValue),i.type=n.input,cl(o,n.inputValue),Oa(i,e,n),e};Qt.select=(e,n)=>{if(e.textContent="",n.inputPlaceholder){let i=document.createElement("option");Xt(i,n.inputPlaceholder),i.value="",i.disabled=!0,i.selected=!0,e.appendChild(i)}return Oa(e,e,n),e};Qt.radio=e=>(e.textContent="",e);Qt.checkbox=(e,n)=>{let i=Pi(it(),"checkbox");i.value="1",i.checked=!!n.inputValue;let o=e.querySelector("span");return Xt(o,n.inputPlaceholder),i};Qt.textarea=(e,n)=>{cl(e,n.inputValue),Cf(e,n),Oa(e,e,n);let i=o=>parseInt(window.getComputedStyle(o).marginLeft)+parseInt(window.getComputedStyle(o).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let o=parseInt(window.getComputedStyle(it()).width),l=()=>{if(!document.body.contains(e))return;let f=e.offsetWidth+i(e);f>o?it().style.width=`${f}px`:gr(it(),"width",n.width)};new MutationObserver(l).observe(e,{attributes:!0,attributeFilter:["style"]})}}),e};var Nm=(e,n)=>{let i=Do();i&&(Lo(i),Pt(i,n,"htmlContainer"),n.html?(Fo(n.html,i),Ct(i,"block")):n.text?(i.textContent=n.text,Ct(i,"block")):St(i),_m(e,n))};var Bm=(e,n)=>{let i=sl();i&&(Lo(i),qr(i,n.footer,"block"),n.footer&&Fo(n.footer,i),Pt(i,n,"footer"))};var Wm=(e,n)=>{let i=ct.innerParams.get(e),o=Dr();if(o){if(i&&n.icon===i.icon){Hm(o,n),Pm(o,n);return}if(!n.icon&&!n.iconHtml){St(o);return}if(n.icon&&Object.keys(Co).indexOf(n.icon)===-1){Zn(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${n.icon}"`),St(o);return}Ct(o),Hm(o,n),Pm(o,n),ot(o,n.showClass&&n.showClass.icon)}},Pm=(e,n)=>{for(let[i,o]of Object.entries(Co))n.icon!==i&&En(e,o);ot(e,n.icon&&Co[n.icon]),Jb(e,n),Yb(),Pt(e,n,"icon")},Yb=()=>{let e=it();if(!e)return;let n=window.getComputedStyle(e).getPropertyValue("background-color"),i=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let o=0;o<i.length;o++)i[o].style.backgroundColor=n},Kb=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,Zb=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Hm=(e,n)=>{if(!n.icon&&!n.iconHtml)return;let i=e.innerHTML,o="";n.iconHtml?o=qm(n.iconHtml):n.icon==="success"?(o=Kb,i=i.replace(/ style=".*?"/g,"")):n.icon==="error"?o=Zb:n.icon&&(o=qm({question:"?",warning:"!",info:"i"}[n.icon])),i.trim()!==o.trim()&&Xt(e,o)},Jb=(e,n)=>{if(n.iconColor){e.style.color=n.iconColor,e.style.borderColor=n.iconColor;for(let i of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])bf(e,i,"background-color",n.iconColor);bf(e,".swal2-success-ring","border-color",n.iconColor)}},qm=e=>`<div class="${fe["icon-content"]}">${e}</div>`;var zm=(e,n)=>{let i=al();if(i){if(!n.imageUrl){St(i);return}Ct(i,""),i.setAttribute("src",n.imageUrl),i.setAttribute("alt",n.imageAlt||""),gr(i,"width",n.imageWidth),gr(i,"height",n.imageHeight),i.className=fe.image,Pt(i,n,"image")}};var Um=(e,n)=>{let i=Wt(),o=it();if(!(!i||!o)){if(n.toast){gr(i,"width",n.width),o.style.width="100%";let l=pr();l&&o.insertBefore(l,Dr())}else gr(o,"width",n.width);gr(o,"padding",n.padding),n.color&&(o.style.color=n.color),n.background&&(o.style.background=n.background),St(ui()),Qb(o,n)}},Qb=(e,n)=>{let i=n.showClass||{};e.className=`${fe.popup} ${Jt(e)?i.popup:""}`,n.toast?(ot([document.documentElement,document.body],fe["toast-shown"]),ot(e,fe.toast)):ot(e,fe.modal),Pt(e,n,"popup"),typeof n.customClass=="string"&&ot(e,n.customClass),n.icon&&ot(e,fe[`icon-${n.icon}`])};var jm=(e,n)=>{let i=To();if(!i)return;let{progressSteps:o,currentProgressStep:l}=n;if(!o||o.length===0||l===void 0){St(i);return}Ct(i),i.textContent="",l>=o.length&&Gt("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),o.forEach((f,c)=>{let h=ew(f);if(i.appendChild(h),c===l&&ot(h,fe["active-progress-step"]),c!==o.length-1){let v=tw(n);i.appendChild(v)}})},ew=e=>{let n=document.createElement("li");return ot(n,fe["progress-step"]),Xt(n,e),n},tw=e=>{let n=document.createElement("li");return ot(n,fe["progress-step-line"]),e.progressStepsDistance&&gr(n,"width",e.progressStepsDistance),n};var $m=(e,n)=>{let i=ol();i&&(Lo(i),qr(i,n.title||n.titleText,"block"),n.title&&Fo(n.title,i),n.titleText&&(i.innerText=n.titleText),Pt(i,n,"title"))};var dl=(e,n)=>{Um(e,n),Im(e,n),jm(e,n),Wm(e,n),zm(e,n),$m(e,n),Mm(e,n),Nm(e,n),Om(e,n),Bm(e,n);let i=it();typeof n.didRender=="function"&&i&&n.didRender(i)};var nw=()=>Jt(it()),kf=()=>wn()?.click(),rw=()=>Gn()?.click(),iw=()=>ar()?.click();var Sr=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"});var Df=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Gm=(e,n,i)=>{Df(e),n.toast||(e.keydownHandler=o=>aw(n,o,i),e.keydownTarget=n.keydownListenerCapture?window:it(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)},hl=(e,n)=>{let i=La();if(i.length){e=e+n,e===i.length?e=0:e===-1&&(e=i.length-1),i[e].focus();return}it()?.focus()},Xm=["ArrowRight","ArrowDown"],ow=["ArrowLeft","ArrowUp"],aw=(e,n,i)=>{e&&(n.isComposing||n.keyCode===229||(e.stopKeydownPropagation&&n.stopPropagation(),n.key==="Enter"?sw(n,e):n.key==="Tab"?lw(n):[...Xm,...ow].includes(n.key)?uw(n.key):n.key==="Escape"&&fw(n,e,i)))},sw=(e,n)=>{if(!Ri(n.allowEnterKey))return;let i=Pi(it(),n.input);if(e.target&&i&&e.target instanceof HTMLElement&&e.target.outerHTML===i.outerHTML){if(["textarea","file"].includes(n.input))return;kf(),e.preventDefault()}},lw=e=>{let n=e.target,i=La(),o=-1;for(let l=0;l<i.length;l++)if(n===i[l]){o=l;break}e.shiftKey?hl(o,-1):hl(o,1),e.stopPropagation(),e.preventDefault()},uw=e=>{let n=Tr(),i=wn(),o=Gn(),l=ar();if(!n||!i||!o||!l)return;let f=[i,o,l];if(document.activeElement instanceof HTMLElement&&!f.includes(document.activeElement))return;let c=Xm.includes(e)?"nextElementSibling":"previousElementSibling",h=document.activeElement;if(h){for(let v=0;v<n.children.length;v++){if(h=h[c],!h)return;if(h instanceof HTMLButtonElement&&Jt(h))break}h instanceof HTMLButtonElement&&h.focus()}},fw=(e,n,i)=>{Ri(n.allowEscapeKey)&&(e.preventDefault(),i(Sr.esc))};var zr={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};var Vm=()=>{let e=Wt();Array.from(document.body.children).forEach(i=>{i.contains(e)||(i.hasAttribute("aria-hidden")&&i.setAttribute("data-previous-aria-hidden",i.getAttribute("aria-hidden")||""),i.setAttribute("aria-hidden","true"))})},pl=()=>{Array.from(document.body.children).forEach(n=>{n.hasAttribute("data-previous-aria-hidden")?(n.setAttribute("aria-hidden",n.getAttribute("data-previous-aria-hidden")||""),n.removeAttribute("data-previous-aria-hidden")):n.removeAttribute("aria-hidden")})};var Tf=typeof window<"u"&&!!window.GestureEvent,Ym=()=>{if(Tf&&!Jn(document.body,fe.iosfix)){let e=document.body.scrollTop;document.body.style.top=`${e*-1}px`,ot(document.body,fe.iosfix),cw()}},cw=()=>{let e=Wt();if(!e)return;let n;e.ontouchstart=i=>{n=dw(i)},e.ontouchmove=i=>{n&&(i.preventDefault(),i.stopPropagation())}},dw=e=>{let n=e.target,i=Wt(),o=Do();return!i||!o||hw(e)||pw(e)?!1:n===i||!wf(i)&&n instanceof HTMLElement&&n.tagName!=="INPUT"&&n.tagName!=="TEXTAREA"&&!(wf(o)&&o.contains(n))},hw=e=>e.touches&&e.touches.length&&e.touches[0].touchType==="stylus",pw=e=>e.touches&&e.touches.length>1,Km=()=>{if(Jn(document.body,fe.iosfix)){let e=parseInt(document.body.style.top,10);En(document.body,fe.iosfix),document.body.style.top="",document.body.scrollTop=e*-1}};var mw=()=>{let e=document.createElement("div");e.className=fe["scrollbar-measure"],document.body.appendChild(e);let n=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),n},Oo=null,Zm=e=>{Oo===null&&(document.body.scrollHeight>window.innerHeight||e==="scroll")&&(Oo=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Oo+mw()}px`)},Jm=()=>{Oo!==null&&(document.body.style.paddingRight=`${Oo}px`,Oo=null)};function eg(e,n,i,o){fi()?Qm(e,o):(bm(i).then(()=>Qm(e,o)),Df(lt)),Tf?(n.setAttribute("style","display:none !important"),n.removeAttribute("class"),n.innerHTML=""):n.remove(),Ao()&&(Jm(),Km(),pl()),gw()}function gw(){En([document.documentElement,document.body],[fe.shown,fe["height-auto"],fe["no-backdrop"],fe["toast-shown"]])}function Ur(e){e=yw(e);let n=zr.swalPromiseResolve.get(this),i=vw(this);this.isAwaitingPromise?e.isDismissed||(Mo(this),n(e)):i&&n(e)}var vw=e=>{let n=it();if(!n)return!1;let i=ct.innerParams.get(e);if(!i||Jn(n,i.hideClass.popup))return!1;En(n,i.showClass.popup),ot(n,i.hideClass.popup);let o=Wt();return En(o,i.showClass.backdrop),ot(o,i.hideClass.backdrop),xw(e,n,i),!0};function Sf(e){let n=zr.swalPromiseReject.get(this);Mo(this),n&&n(e)}var Mo=e=>{e.isAwaitingPromise&&(delete e.isAwaitingPromise,ct.innerParams.get(e)||e._destroy())},yw=e=>typeof e>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),xw=(e,n,i)=>{let o=Wt(),l=Wr&&ul(n);typeof i.willClose=="function"&&i.willClose(n),l?bw(e,n,o,i.returnFocus,i.didClose):eg(e,o,i.returnFocus,i.didClose)},bw=(e,n,i,o,l)=>{Wr&&(lt.swalCloseEventFinishedCallback=eg.bind(null,e,i,o,l),n.addEventListener(Wr,function(f){f.target===n&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback)}))},Qm=(e,n)=>{setTimeout(()=>{typeof n=="function"&&n.bind(e.params)(),e._destroy&&e._destroy()})};var qi=e=>{let n=it();if(n||new Ma,n=it(),!n)return;let i=pr();fi()?St(Dr()):ww(n,e),Ct(i),n.setAttribute("data-loading","true"),n.setAttribute("aria-busy","true"),n.focus()},ww=(e,n)=>{let i=Tr(),o=pr();!i||!o||(!n&&Jt(wn())&&(n=wn()),Ct(i),n&&(St(n),o.setAttribute("data-button-to-replace",n.className),i.insertBefore(o,n)),ot([e,i],fe.loading))};var tg=(e,n)=>{n.input==="select"||n.input==="radio"?Dw(e,n):["text","email","number","tel","textarea"].some(i=>i===n.input)&&(il(n.inputValue)||Sa(n.inputValue))&&(qi(wn()),Tw(e,n))},ng=(e,n)=>{let i=e.getInput();if(!i)return null;switch(n.input){case"checkbox":return Ew(i);case"radio":return Cw(i);case"file":return kw(i);default:return n.inputAutoTrim?i.value.trim():i.value}},Ew=e=>e.checked?1:0,Cw=e=>e.checked?e.value:null,kw=e=>e.files&&e.files.length?e.getAttribute("multiple")!==null?e.files:e.files[0]:null,Dw=(e,n)=>{let i=it();if(!i)return;let o=l=>{n.input==="select"?Sw(i,ml(l),n):n.input==="radio"&&Aw(i,ml(l),n)};il(n.inputOptions)||Sa(n.inputOptions)?(qi(wn()),Ni(n.inputOptions).then(l=>{e.hideLoading(),o(l)})):typeof n.inputOptions=="object"?o(n.inputOptions):Zn(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof n.inputOptions}`)},Tw=(e,n)=>{let i=e.getInput();i&&(St(i),Ni(n.inputValue).then(o=>{i.value=n.input==="number"?`${parseFloat(o)||0}`:`${o}`,Ct(i),i.focus(),e.hideLoading()}).catch(o=>{Zn(`Error in inputValue promise: ${o}`),i.value="",Ct(i),i.focus(),e.hideLoading()}))};function Sw(e,n,i){let o=mr(e,fe.select);if(!o)return;let l=(f,c,h)=>{let v=document.createElement("option");v.value=h,Xt(v,c),v.selected=rg(h,i.inputValue),f.appendChild(v)};n.forEach(f=>{let c=f[0],h=f[1];if(Array.isArray(h)){let v=document.createElement("optgroup");v.label=c,v.disabled=!1,o.appendChild(v),h.forEach(D=>l(v,D[1],D[0]))}else l(o,h,c)}),o.focus()}function Aw(e,n,i){let o=mr(e,fe.radio);if(!o)return;n.forEach(f=>{let c=f[0],h=f[1],v=document.createElement("input"),D=document.createElement("label");v.type="radio",v.name=fe.radio,v.value=c,rg(c,i.inputValue)&&(v.checked=!0);let O=document.createElement("span");Xt(O,h),O.className=fe.label,D.appendChild(v),D.appendChild(O),o.appendChild(D)});let l=o.querySelectorAll("input");l.length&&l[0].focus()}var ml=e=>{let n=[];return e instanceof Map?e.forEach((i,o)=>{let l=i;typeof l=="object"&&(l=ml(l)),n.push([o,l])}):Object.keys(e).forEach(i=>{let o=e[i];typeof o=="object"&&(o=ml(o)),n.push([i,o])}),n},rg=(e,n)=>!!n&&n.toString()===e.toString();var og=e=>{let n=ct.innerParams.get(e);e.disableButtons(),n.input?lg(e,"confirm"):Lf(e,!0)},ag=e=>{let n=ct.innerParams.get(e);e.disableButtons(),n.returnInputValueOnDeny?lg(e,"deny"):Af(e,!1)},sg=(e,n)=>{e.disableButtons(),n(Sr.cancel)},lg=(e,n)=>{let i=ct.innerParams.get(e);if(!i.input){Zn(`The "input" parameter is needed to be set when using returnInputValueOn${ko(n)}`);return}let o=e.getInput(),l=ng(e,i);i.inputValidator?Lw(e,l,n):o&&!o.checkValidity()?(e.enableButtons(),e.showValidationMessage(i.validationMessage||o.validationMessage)):n==="deny"?Af(e,l):Lf(e,l)},Lw=(e,n,i)=>{let o=ct.innerParams.get(e);e.disableInput(),Promise.resolve().then(()=>Ni(o.inputValidator(n,o.validationMessage))).then(f=>{e.enableButtons(),e.enableInput(),f?e.showValidationMessage(f):i==="deny"?Af(e,n):Lf(e,n)})},Af=(e,n)=>{let i=ct.innerParams.get(e||void 0);i.showLoaderOnDeny&&qi(Gn()),i.preDeny?(e.isAwaitingPromise=!0,Promise.resolve().then(()=>Ni(i.preDeny(n,i.validationMessage))).then(l=>{l===!1?(e.hideLoading(),Mo(e)):e.close({isDenied:!0,value:typeof l>"u"?n:l})}).catch(l=>ug(e||void 0,l))):e.close({isDenied:!0,value:n})},ig=(e,n)=>{e.close({isConfirmed:!0,value:n})},ug=(e,n)=>{e.rejectPromise(n)},Lf=(e,n)=>{let i=ct.innerParams.get(e||void 0);i.showLoaderOnConfirm&&qi(),i.preConfirm?(e.resetValidationMessage(),e.isAwaitingPromise=!0,Promise.resolve().then(()=>Ni(i.preConfirm(n,i.validationMessage))).then(l=>{Jt(ui())||l===!1?(e.hideLoading(),Mo(e)):ig(e,typeof l>"u"?n:l)}).catch(l=>ug(e||void 0,l))):ig(e,n)};var zf={};_d(zf,{_destroy:()=>Wf,close:()=>Ur,closeModal:()=>Ur,closePopup:()=>Ur,closeToast:()=>Ur,disableButtons:()=>Mf,disableInput:()=>_f,disableLoading:()=>Ia,enableButtons:()=>Of,enableInput:()=>If,getInput:()=>Ff,handleAwaitingPromise:()=>Mo,hideLoading:()=>Ia,rejectPromise:()=>Sf,resetValidationMessage:()=>Nf,showValidationMessage:()=>Rf,update:()=>Hf});function Ia(){let e=ct.innerParams.get(this);if(!e)return;let n=ct.domCache.get(this);St(n.loader),fi()?e.icon&&Ct(Dr()):Fw(n),En([n.popup,n.actions],fe.loading),n.popup.removeAttribute("aria-busy"),n.popup.removeAttribute("data-loading"),n.confirmButton.disabled=!1,n.denyButton.disabled=!1,n.cancelButton.disabled=!1}var Fw=e=>{let n=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));n.length?Ct(n[0],"inline-block"):Am()&&St(e.actions)};function Ff(){let e=ct.innerParams.get(this),n=ct.domCache.get(this);return n?Pi(n.popup,e.input):null}function fg(e,n,i){let o=ct.domCache.get(e);n.forEach(l=>{o[l].disabled=i})}function cg(e,n){let i=it();if(!(!i||!e))if(e.type==="radio"){let o=i.querySelectorAll(`[name="${fe.radio}"]`);for(let l=0;l<o.length;l++)o[l].disabled=n}else e.disabled=n}function Of(){fg(this,["confirmButton","denyButton","cancelButton"],!1)}function Mf(){fg(this,["confirmButton","denyButton","cancelButton"],!0)}function If(){cg(this.getInput(),!1)}function _f(){cg(this.getInput(),!0)}function Rf(e){let n=ct.domCache.get(this),i=ct.innerParams.get(this);Xt(n.validationMessage,e),n.validationMessage.className=fe["validation-message"],i.customClass&&i.customClass.validationMessage&&ot(n.validationMessage,i.customClass.validationMessage),Ct(n.validationMessage);let o=this.getInput();o&&(o.setAttribute("aria-invalid","true"),o.setAttribute("aria-describedby",fe["validation-message"]),ll(o),ot(o,fe.inputerror))}function Nf(){let e=ct.domCache.get(this);e.validationMessage&&St(e.validationMessage);let n=this.getInput();n&&(n.removeAttribute("aria-invalid"),n.removeAttribute("aria-describedby"),En(n,fe.inputerror))}var dg={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Ow=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Mw={allowEnterKey:void 0},Iw=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Bf=e=>Object.prototype.hasOwnProperty.call(dg,e),gl=e=>Ow.indexOf(e)!==-1,Pf=e=>Mw[e],_w=e=>{Bf(e)||Gt(`Unknown parameter "${e}"`)},Rw=e=>{Iw.includes(e)&&Gt(`The parameter "${e}" is incompatible with toasts`)},Nw=e=>{let n=Pf(e);n&&rl(e,n)},hg=e=>{e.backdrop===!1&&e.allowOutsideClick&&Gt('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let n in e)_w(n),e.toast&&Rw(n),Nw(n)},Wi=dg;function Hf(e){let n=it(),i=ct.innerParams.get(this);if(!n||Jn(n,i.hideClass.popup)){Gt("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let o=Bw(e),l=Object.assign({},i,o);dl(this,l),ct.innerParams.set(this,l),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})}var Bw=e=>{let n={};return Object.keys(e).forEach(i=>{gl(i)?n[i]=e[i]:Gt(`Invalid parameter to update: ${i}`)}),n};function Wf(){let e=ct.domCache.get(this),n=ct.innerParams.get(this);if(!n){pg(this);return}e.popup&&lt.swalCloseEventFinishedCallback&&(lt.swalCloseEventFinishedCallback(),delete lt.swalCloseEventFinishedCallback),typeof n.didDestroy=="function"&&n.didDestroy(),Pw(this)}var Pw=e=>{pg(e),delete e.params,delete lt.keydownHandler,delete lt.keydownTarget,delete lt.currentInstance},pg=e=>{e.isAwaitingPromise?(qf(ct,e),e.isAwaitingPromise=!0):(qf(zr,e),qf(ct,e),delete e.isAwaitingPromise,delete e.disableButtons,delete e.enableButtons,delete e.getInput,delete e.disableInput,delete e.enableInput,delete e.hideLoading,delete e.disableLoading,delete e.showValidationMessage,delete e.resetValidationMessage,delete e.close,delete e.closePopup,delete e.closeModal,delete e.closeToast,delete e.rejectPromise,delete e.update,delete e._destroy)},qf=(e,n)=>{for(let i in e)e[i].delete(n)};var mg=(e,n,i)=>{e.toast?Hw(e,n,i):(Ww(n),zw(n),Uw(e,n,i))},Hw=(e,n,i)=>{n.popup.onclick=()=>{e&&(qw(e)||e.timer||e.input)||i(Sr.close)}},qw=e=>!!(e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton),vl=!1,Ww=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(n){e.container.onmouseup=()=>{},n.target===e.container&&(vl=!0)}}},zw=e=>{e.container.onmousedown=n=>{n.target===e.container&&n.preventDefault(),e.popup.onmouseup=function(i){e.popup.onmouseup=()=>{},(i.target===e.popup||i.target instanceof HTMLElement&&e.popup.contains(i.target))&&(vl=!0)}}},Uw=(e,n,i)=>{n.container.onclick=o=>{if(vl){vl=!1;return}o.target===n.container&&Ri(e.allowOutsideClick)&&i(Sr.backdrop)}};var jf={};_d(jf,{argsToParams:()=>$w,bindClickHandler:()=>Jw,clickCancel:()=>iw,clickConfirm:()=>kf,clickDeny:()=>rw,enableLoading:()=>qi,fire:()=>Gw,getActions:()=>Tr,getCancelButton:()=>ar,getCloseButton:()=>So,getConfirmButton:()=>wn,getContainer:()=>Wt,getDenyButton:()=>Gn,getFocusableElements:()=>La,getFooter:()=>sl,getHtmlContainer:()=>Do,getIcon:()=>Dr,getIconContent:()=>km,getImage:()=>al,getInputLabel:()=>Dm,getLoader:()=>pr,getPopup:()=>it,getProgressSteps:()=>To,getTimerLeft:()=>Vw,getTimerProgressBar:()=>Bi,getTitle:()=>ol,getValidationMessage:()=>ui,increaseTimer:()=>Kw,isDeprecatedParameter:()=>Pf,isLoading:()=>Tm,isTimerRunning:()=>Zw,isUpdatableParameter:()=>gl,isValidParameter:()=>Bf,isVisible:()=>nw,mixin:()=>Xw,resumeTimer:()=>yg,showLoading:()=>qi,stopTimer:()=>vg,toggleTimer:()=>Yw});var jw=e=>typeof e=="object"&&e.jquery,gg=e=>e instanceof Element||jw(e),$w=e=>{let n={};return typeof e[0]=="object"&&!gg(e[0])?Object.assign(n,e[0]):["title","html","icon"].forEach((i,o)=>{let l=e[o];typeof l=="string"||gg(l)?n[i]=l:l!==void 0&&Zn(`Unexpected type of ${i}! Expected "string" or "Element", got ${typeof l}`)}),n};function Gw(...e){return new this(...e)}function Xw(e){class n extends this{_main(o,l){return super._main(o,Object.assign({},e,l))}}return n}var Vw=()=>lt.timeout&&lt.timeout.getTimerLeft(),vg=()=>{if(lt.timeout)return Lm(),lt.timeout.stop()},yg=()=>{if(lt.timeout){let e=lt.timeout.start();return Fa(e),e}},Yw=()=>{let e=lt.timeout;return e&&(e.running?vg():yg())},Kw=e=>{if(lt.timeout){let n=lt.timeout.increase(e);return Fa(n,!0),n}},Zw=()=>!!(lt.timeout&&lt.timeout.isRunning());var xg=!1,Uf={};function Jw(e="data-swal-template"){Uf[e]=this,xg||(document.body.addEventListener("click",Qw),xg=!0)}var Qw=e=>{for(let n=e.target;n&&n!==document;n=n.parentNode)for(let i in Uf){let o=n.getAttribute(i);if(o){Uf[i].fire({template:o});return}}};var _a=class{constructor(n,i){this.callback=n,this.remaining=i,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(n){let i=this.running;return i&&this.stop(),this.remaining+=n,i&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}};var bg=["swal-title","swal-html","swal-footer"],wg=e=>{let n=typeof e.template=="string"?document.querySelector(e.template):e.template;if(!n)return{};let i=n.content;return sE(i),Object.assign(eE(i),tE(i),nE(i),rE(i),iE(i),oE(i),aE(i,bg))},eE=e=>{let n={};return Array.from(e.querySelectorAll("swal-param")).forEach(o=>{zi(o,["name","value"]);let l=o.getAttribute("name"),f=o.getAttribute("value");!l||!f||(typeof Wi[l]=="boolean"?n[l]=f!=="false":typeof Wi[l]=="object"?n[l]=JSON.parse(f):n[l]=f)}),n},tE=e=>{let n={};return Array.from(e.querySelectorAll("swal-function-param")).forEach(o=>{let l=o.getAttribute("name"),f=o.getAttribute("value");!l||!f||(n[l]=new Function(`return ${f}`)())}),n},nE=e=>{let n={};return Array.from(e.querySelectorAll("swal-button")).forEach(o=>{zi(o,["type","color","aria-label"]);let l=o.getAttribute("type");!l||!["confirm","cancel","deny"].includes(l)||(n[`${l}ButtonText`]=o.innerHTML,n[`show${ko(l)}Button`]=!0,o.hasAttribute("color")&&(n[`${l}ButtonColor`]=o.getAttribute("color")),o.hasAttribute("aria-label")&&(n[`${l}ButtonAriaLabel`]=o.getAttribute("aria-label")))}),n},rE=e=>{let n={},i=e.querySelector("swal-image");return i&&(zi(i,["src","width","height","alt"]),i.hasAttribute("src")&&(n.imageUrl=i.getAttribute("src")||void 0),i.hasAttribute("width")&&(n.imageWidth=i.getAttribute("width")||void 0),i.hasAttribute("height")&&(n.imageHeight=i.getAttribute("height")||void 0),i.hasAttribute("alt")&&(n.imageAlt=i.getAttribute("alt")||void 0)),n},iE=e=>{let n={},i=e.querySelector("swal-icon");return i&&(zi(i,["type","color"]),i.hasAttribute("type")&&(n.icon=i.getAttribute("type")),i.hasAttribute("color")&&(n.iconColor=i.getAttribute("color")),n.iconHtml=i.innerHTML),n},oE=e=>{let n={},i=e.querySelector("swal-input");i&&(zi(i,["type","label","placeholder","value"]),n.input=i.getAttribute("type")||"text",i.hasAttribute("label")&&(n.inputLabel=i.getAttribute("label")),i.hasAttribute("placeholder")&&(n.inputPlaceholder=i.getAttribute("placeholder")),i.hasAttribute("value")&&(n.inputValue=i.getAttribute("value")));let o=Array.from(e.querySelectorAll("swal-input-option"));return o.length&&(n.inputOptions={},o.forEach(l=>{zi(l,["value"]);let f=l.getAttribute("value");if(!f)return;let c=l.innerHTML;n.inputOptions[f]=c})),n},aE=(e,n)=>{let i={};for(let o in n){let l=n[o],f=e.querySelector(l);f&&(zi(f,[]),i[l.replace(/^swal-/,"")]=f.innerHTML.trim())}return i},sE=e=>{let n=bg.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(e.children).forEach(i=>{let o=i.tagName.toLowerCase();n.includes(o)||Gt(`Unrecognized element <${o}>`)})},zi=(e,n)=>{Array.from(e.attributes).forEach(i=>{n.indexOf(i.name)===-1&&Gt([`Unrecognized attribute "${i.name}" on <${e.tagName.toLowerCase()}>.`,`${n.length?`Allowed attributes are: ${n.join(", ")}`:"To set the value, use HTML within the element."}`])})};var Eg=10,Cg=e=>{let n=Wt(),i=it();typeof e.willOpen=="function"&&e.willOpen(i);let l=window.getComputedStyle(document.body).overflowY;fE(n,i,e),setTimeout(()=>{lE(n,i)},Eg),Ao()&&(uE(n,e.scrollbarPadding,l),Vm()),!fi()&&!lt.previousActiveElement&&(lt.previousActiveElement=document.activeElement),typeof e.didOpen=="function"&&setTimeout(()=>e.didOpen(i)),En(n,fe["no-transition"])},kg=e=>{let n=it();if(e.target!==n||!Wr)return;let i=Wt();n.removeEventListener(Wr,kg),i.style.overflowY="auto"},lE=(e,n)=>{Wr&&ul(n)?(e.style.overflowY="hidden",n.addEventListener(Wr,kg)):e.style.overflowY="auto"},uE=(e,n,i)=>{Ym(),n&&i!=="hidden"&&Zm(i),setTimeout(()=>{e.scrollTop=0})},fE=(e,n,i)=>{ot(e,i.showClass.backdrop),i.animation?(n.style.setProperty("opacity","0","important"),Ct(n,"grid"),setTimeout(()=>{ot(n,i.showClass.popup),n.style.removeProperty("opacity")},Eg)):Ct(n,"grid"),ot([document.documentElement,document.body],fe.shown),i.heightAuto&&i.backdrop&&!i.toast&&ot([document.documentElement,document.body],fe["height-auto"])};var $f={email:(e,n)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(e)?Promise.resolve():Promise.resolve(n||"Invalid email address"),url:(e,n)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(n||"Invalid URL")};function cE(e){e.inputValidator||(e.input==="email"&&(e.inputValidator=$f.email),e.input==="url"&&(e.inputValidator=$f.url))}function dE(e){(!e.target||typeof e.target=="string"&&!document.querySelector(e.target)||typeof e.target!="string"&&!e.target.appendChild)&&(Gt('Target parameter is not valid, defaulting to "body"'),e.target="body")}function Gf(e){cE(e),e.showLoaderOnConfirm&&!e.preConfirm&&Gt(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),dE(e),typeof e.title=="string"&&(e.title=e.title.split(`
`).join("<br />")),Fm(e)}var Ar,zt=class{#e;constructor(...n){if(typeof window>"u")return;Ar=this;let i=Object.freeze(this.constructor.argsToParams(n));this.params=i,this.isAwaitingPromise=!1,this.#e=this._main(Ar.params)}_main(n,i={}){if(hg(Object.assign({},i,n)),lt.currentInstance){let f=zr.swalPromiseResolve.get(lt.currentInstance),{isAwaitingPromise:c}=lt.currentInstance;lt.currentInstance._destroy(),c||f({isDismissed:!0}),Ao()&&pl()}lt.currentInstance=Ar;let o=pE(n,i);Gf(o),Object.freeze(o),lt.timeout&&(lt.timeout.stop(),delete lt.timeout),clearTimeout(lt.restoreFocusTimeout);let l=mE(Ar);return dl(Ar,o),ct.innerParams.set(Ar,o),hE(Ar,l,o)}then(n){return this.#e.then(n)}finally(n){return this.#e.finally(n)}},hE=(e,n,i)=>new Promise((o,l)=>{let f=c=>{e.close({isDismissed:!0,dismiss:c})};zr.swalPromiseResolve.set(e,o),zr.swalPromiseReject.set(e,l),n.confirmButton.onclick=()=>{og(e)},n.denyButton.onclick=()=>{ag(e)},n.cancelButton.onclick=()=>{sg(e,f)},n.closeButton.onclick=()=>{f(Sr.close)},mg(i,n,f),Gm(lt,i,f),tg(e,i),Cg(i),gE(lt,i,f),vE(n,i),setTimeout(()=>{n.container.scrollTop=0})}),pE=(e,n)=>{let i=wg(e),o=Object.assign({},Wi,n,i,e);return o.showClass=Object.assign({},Wi.showClass,o.showClass),o.hideClass=Object.assign({},Wi.hideClass,o.hideClass),o.animation===!1&&(o.showClass={backdrop:"swal2-noanimation"},o.hideClass={}),o},mE=e=>{let n={popup:it(),container:Wt(),actions:Tr(),confirmButton:wn(),denyButton:Gn(),cancelButton:ar(),loader:pr(),closeButton:So(),validationMessage:ui(),progressSteps:To()};return ct.domCache.set(e,n),n},gE=(e,n,i)=>{let o=Bi();St(o),n.timer&&(e.timeout=new _a(()=>{i("timer"),delete e.timeout},n.timer),n.timerProgressBar&&(Ct(o),Pt(o,n,"timerProgressBar"),setTimeout(()=>{e.timeout&&e.timeout.running&&Fa(n.timer)})))},vE=(e,n)=>{if(!n.toast){if(!Ri(n.allowEnterKey)){rl("allowEnterKey"),bE();return}yE(e)||xE(e,n)||hl(-1,1)}},yE=e=>{let n=e.popup.querySelectorAll("[autofocus]");for(let i of n)if(i instanceof HTMLElement&&Jt(i))return i.focus(),!0;return!1},xE=(e,n)=>n.focusDeny&&Jt(e.denyButton)?(e.denyButton.focus(),!0):n.focusCancel&&Jt(e.cancelButton)?(e.cancelButton.focus(),!0):n.focusConfirm&&Jt(e.confirmButton)?(e.confirmButton.focus(),!0):!1,bE=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let e=new Date,n=localStorage.getItem("swal-initiation");n?(e.getTime()-Date.parse(n))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let i=document.createElement("audio");i.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",i.loop=!0,document.body.appendChild(i),setTimeout(()=>{i.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${e}`)}zt.prototype.disableButtons=Mf;zt.prototype.enableButtons=Of;zt.prototype.getInput=Ff;zt.prototype.disableInput=_f;zt.prototype.enableInput=If;zt.prototype.hideLoading=Ia;zt.prototype.disableLoading=Ia;zt.prototype.showValidationMessage=Rf;zt.prototype.resetValidationMessage=Nf;zt.prototype.close=Ur;zt.prototype.closePopup=Ur;zt.prototype.closeModal=Ur;zt.prototype.closeToast=Ur;zt.prototype.rejectPromise=Sf;zt.prototype.update=Hf;zt.prototype._destroy=Wf;Object.assign(zt,jf);Object.keys(zf).forEach(e=>{zt[e]=function(...n){return Ar&&Ar[e]?Ar[e](...n):null}});zt.DismissReason=Sr;zt.version="11.12.4";var Dg=zt;var Xf=Dg;Xf.default=Xf;var Ma=Xf;var Sg=du(Tg()),Ag=()=>({init(){console.log("ImageViewer initialized!")},initCropper(){let e=this.$refs.image;if(!e){console.error("Image element not found");return}this.cropper&&this.cropper.destroy(),e.onload=()=>{this.cropper=new Sg.default(e,{aspectRatio:1,viewMode:1,background:!1,ready:()=>{this.croppable=!0}})},console.log("cropper initialized")},cropper:null,imageUrl:"",croppable:!1,cropImg(e){if(e.preventDefault(),!this.croppable)return;let n=this.cropper.getCroppedCanvas();this.initCropper();let i=n.toDataURL("image/webp");this.imageUrl=i,n.toBlob(o=>{let l=this.$refs.fileInput,f=new DataTransfer,c=new File([o],l.files[0].name,{type:"image/webp"});f.items.add(c),l.files=f.files},"image/webp")},fileToDataUrl(e,n){let i=e.target;if(!i.files.length)return;let o=i.files[0];if(o.size/(1024*1024)>=2){window.Swal.fire({icon:"error",title:"File too large",text:"File must be under 2mbs"}),i.value="",i.files[0]=null;return}let f=new FileReader;f.readAsDataURL(o),f.onload=c=>{let h=c.target.result;n(h)},this.initCropper()},fileChosen(e){this.fileToDataUrl(e,n=>{this.imageUrl=n})}});var Lg=()=>({init(){console.log("Routes Table initialized!")},routes:[],checkboxEls:[],checkAll(){this.checkboxEls.length===0&&(this.checkboxEls=this.$refs.tbody.querySelectorAll("input"));for(let e=0;e<this.checkboxEls.length;e++)this.routes.push(this.checkboxEls[e].value)},unCheckAll(){this.checkboxEls.length===0&&(this.checkboxEls=this.$refs.tbody.querySelectorAll("input"));for(let e=0;e<this.checkboxEls.length;e++)this.routes=[]},copyToClipboard(){let e=[];this.routes.map(o=>{let l=JSON.parse(o);e.push(l)});let n=JSON.stringify(e);navigator.clipboard.writeText(n),Swal.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.onmouseenter=Swal.stopTimer,o.onmouseleave=Swal.resumeTimer}}).fire({icon:"success",title:"Json copied to clipboard"})}});window.addEventListener("DOMContentLoaded",async()=>{window.htmx=Rd,window.EasyMDE=Og.default,window.Alpine=Da,window.Swal=Ma,window.sweetConfirm=async(e,n)=>{(await Ma.fire(n)).isConfirmed&&e.dispatchEvent(new Event("confirmed"))},Nd.init(),Da.data("imageViewer",Ag),Da.data("routesTable",Lg),Da.start(),Fg.default.browserInit(),window.htmx.config.globalViewTransitions=!0,document.body.addEventListener("htmx:beforeSwap",e=>{e.detail.xhr.status===400&&(e.detail.shouldSwap=!0,e.detail.isError=!1)})});})();
/*! Bundled license information:

cropperjs/dist/cropper.js:
  (*!
   * Cropper.js v1.6.2
   * https://fengyuanchen.github.io/cropperjs
   *
   * Copyright 2015-present Chen Fengyuan
   * Released under the MIT license
   *
   * Date: 2024-04-21T07:43:05.335Z
   *)
*/
