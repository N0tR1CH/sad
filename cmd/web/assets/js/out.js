(()=>{var ze=Object.create;var Ue=Object.defineProperty;var Ye=Object.getOwnPropertyDescriptor;var Qe=Object.getOwnPropertyNames;var Je=Object.getPrototypeOf,$e=Object.prototype.hasOwnProperty;var Ke=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var Ze=(e,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let m of Qe(n))!$e.call(e,m)&&m!==r&&Ue(e,m,{get:()=>n[m],enumerable:!(i=Ye(n,m))||i.enumerable});return e};var et=(e,n,r)=>(r=e!=null?ze(Je(e)):{},Ze(n||!e||!e.__esModule?Ue(r,"default",{value:e,enumerable:!0}):r,e));var We=Ke((De,je)=>{(function(e,n){let r=n(e);typeof De=="object"&&typeof De.nodeName!="string"?je.exports=r:(e._hyperscript=r,"document"in e&&e._hyperscript.browserInit())})(typeof self<"u"?self:De,e=>{"use strict";let n={dynamicResolvers:[function(b,o){if(b==="Fixed")return Number(o).toFixed();if(b.indexOf("Fixed:")===0){let u=b.split(":")[1];return Number(o).toFixed(parseInt(u))}}],String:function(b){return b.toString?b.toString():""+b},Int:function(b){return parseInt(b)},Float:function(b){return parseFloat(b)},Number:function(b){return Number(b)},Date:function(b){return new Date(b)},Array:function(b){return Array.from(b)},JSON:function(b){return JSON.stringify(b)},Object:function(b){return b instanceof String&&(b=b.toString()),typeof b=="string"?JSON.parse(b):Object.assign({},b)}},r={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:n};class i{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(o){return i.isAlpha(o)||i.isNumeric(o)||o==="-"||o==="_"||o===":"}static isValidCSSIDChar(o){return i.isAlpha(o)||i.isNumeric(o)||o==="-"||o==="_"||o===":"}static isWhitespace(o){return o===" "||o==="	"||i.isNewline(o)}static positionString(o){return"[Line: "+o.line+", Column: "+o.column+"]"}static isNewline(o){return o==="\r"||o===`
`}static isNumeric(o){return o>="0"&&o<="9"}static isAlpha(o){return o>="a"&&o<="z"||o>="A"&&o<="Z"}static isIdentifierChar(o,u){return o==="_"||o==="$"}static isReservedChar(o){return o==="`"||o==="^"}static isValidSingleQuoteStringStart(o){if(o.length>0){var u=o[o.length-1];if(u.type==="IDENTIFIER"||u.type==="CLASS_REF"||u.type==="ID_REF"||u.op&&(u.value===">"||u.value===")"))return!1}return!0}static tokenize(o,u){var v=[],g=o,w=0,T=0,x=1,d="<START>",I=0;function L(){return u&&I===0}for(;w<g.length;)if(l()==="-"&&p()==="-"&&(i.isWhitespace(E(2))||E(2)===""||E(2)==="-")||l()==="/"&&p()==="/"&&(i.isWhitespace(E(2))||E(2)===""||E(2)==="/"))D();else if(l()==="/"&&p()==="*"&&(i.isWhitespace(E(2))||E(2)===""||E(2)==="*"))F();else if(i.isWhitespace(l()))v.push(H());else if(!A()&&l()==="."&&(i.isAlpha(p())||p()==="{"||p()==="-"))v.push(B());else if(!A()&&l()==="#"&&(i.isAlpha(p())||p()==="{"))v.push(s());else if(l()==="["&&p()==="@")v.push(P());else if(l()==="@")v.push(W());else if(l()==="*"&&i.isAlpha(p()))v.push(_());else if(i.isAlpha(l())||!L()&&i.isIdentifierChar(l()))v.push(c());else if(i.isNumeric(l()))v.push(t());else if(!L()&&(l()==='"'||l()==="`"))v.push(h());else if(!L()&&l()==="'")i.isValidSingleQuoteStringStart(v)?v.push(h()):v.push(a());else if(i.OP_TABLE[l()])d==="$"&&l()==="{"&&I++,l()==="}"&&I--,v.push(a());else if(L()||i.isReservedChar(l()))v.push(N("RESERVED",y()));else if(w<g.length)throw Error("Unknown token: "+l()+" ");return new m(v,[],g);function O(R,C){var V=N(R,C);return V.op=!0,V}function N(R,C){return{type:R,value:C||"",start:w,end:w+1,column:T,line:x}}function D(){for(;l()&&!i.isNewline(l());)y();y()}function F(){for(;l()&&!(l()==="*"&&p()==="/");)y();y(),y()}function B(){var R=N("CLASS_REF"),C=y();if(l()==="{"){for(R.template=!0,C+=y();l()&&l()!=="}";)C+=y();if(l()!=="}")throw Error("Unterminated class reference");C+=y()}else for(;i.isValidCSSClassChar(l());)C+=y();return R.value=C,R.end=w,R}function P(){for(var R=N("ATTRIBUTE_REF"),C=y();w<g.length&&l()!=="]";)C+=y();return l()==="]"&&(C+=y()),R.value=C,R.end=w,R}function W(){for(var R=N("ATTRIBUTE_REF"),C=y();i.isValidCSSIDChar(l());)C+=y();if(l()==="="){if(C+=y(),l()==='"'||l()==="'"){let V=h();C+=V.value}else if(i.isAlpha(l())||i.isNumeric(l())||i.isIdentifierChar(l())){let V=c();C+=V.value}}return R.value=C,R.end=w,R}function _(){for(var R=N("STYLE_REF"),C=y();i.isAlpha(l())||l()==="-";)C+=y();return R.value=C,R.end=w,R}function s(){var R=N("ID_REF"),C=y();if(l()==="{"){for(R.template=!0,C+=y();l()&&l()!=="}";)C+=y();if(l()!=="}")throw Error("Unterminated id reference");y()}else for(;i.isValidCSSIDChar(l());)C+=y();return R.value=C,R.end=w,R}function c(){for(var R=N("IDENTIFIER"),C=y();i.isAlpha(l())||i.isNumeric(l())||i.isIdentifierChar(l());)C+=y();return l()==="!"&&C==="beep"&&(C+=y()),R.value=C,R.end=w,R}function t(){for(var R=N("NUMBER"),C=y();i.isNumeric(l());)C+=y();for(l()==="."&&i.isNumeric(p())&&(C+=y());i.isNumeric(l());)C+=y();for((l()==="e"||l()==="E")&&(i.isNumeric(p())?C+=y():p()==="-"&&(C+=y(),C+=y()));i.isNumeric(l());)C+=y();return R.value=C,R.end=w,R}function a(){for(var R=O(),C=y();l()&&i.OP_TABLE[C+l()];)C+=y();return R.type=i.OP_TABLE[C],R.value=C,R.end=w,R}function h(){for(var R=N("STRING"),C=y(),V="";l()&&l()!==C;)if(l()==="\\"){y();let X=y();if(X==="b")V+="\b";else if(X==="f")V+="\f";else if(X==="n")V+=`
`;else if(X==="r")V+="\r";else if(X==="t")V+="	";else if(X==="v")V+="\v";else if(X==="x"){let j=f();if(Number.isNaN(j))throw Error("Invalid hexadecimal escape at "+i.positionString(R));V+=String.fromCharCode(j)}else V+=X}else V+=y();if(l()!==C)throw Error("Unterminated string at "+i.positionString(R));return y(),R.value=V,R.end=w,R.template=C==="`",R}function f(){if(!l())return NaN;let C=16*Number.parseInt(y(),16);return l()?(C+=Number.parseInt(y(),16),C):NaN}function l(){return g.charAt(w)}function p(){return g.charAt(w+1)}function E(R=1){return g.charAt(w+R)}function y(){return d=l(),w++,T++,d}function A(){return i.isAlpha(d)||i.isNumeric(d)||d===")"||d==='"'||d==="'"||d==="`"||d==="}"||d==="]"}function H(){for(var R=N("WHITESPACE"),C="";l()&&i.isWhitespace(l());)i.isNewline(l())&&(T=0,x++),C+=y();return R.value=C,R.end=w,R}}tokenize(o,u){return i.tokenize(o,u)}}class m{constructor(o,u,v){this.tokens=o,this.consumed=u,this.source=v,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){for(;this.token(0,!0).type==="WHITESPACE";)this.consumed.push(this.tokens.shift())}raiseError(o,u){k.raiseParseError(o,u)}requireOpToken(o){var u=this.matchOpToken(o);if(u)return u;this.raiseError(this,"Expected '"+o+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(o,u,v){for(var g=0;g<arguments.length;g++){var w=arguments[g],T=this.matchOpToken(w);if(T)return T}}matchAnyToken(o,u,v){for(var g=0;g<arguments.length;g++){var w=arguments[g],T=this.matchToken(w);if(T)return T}}matchOpToken(o){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===o)return this.consumeToken()}requireTokenType(o,u,v,g){var w=this.matchTokenType(o,u,v,g);if(w)return w;this.raiseError(this,"Expected one of "+JSON.stringify([o,u,v]))}matchTokenType(o,u,v,g){if(this.currentToken()&&this.currentToken().type&&[o,u,v,g].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(o,u){var v=this.matchToken(o,u);if(v)return v;this.raiseError(this,"Expected '"+o+"' but found '"+this.currentToken().value+"'")}peekToken(o,u,v){if(u=u||0,v=v||"IDENTIFIER",this.tokens[u]&&this.tokens[u].value===o&&this.tokens[u].type===v)return this.tokens[u]}matchToken(o,u){if(this.follows.indexOf(o)===-1&&(u=u||"IDENTIFIER",this.currentToken()&&this.currentToken().value===o&&this.currentToken().type===u))return this.consumeToken()}consumeToken(){var o=this.tokens.shift();return this.consumed.push(o),this._lastConsumed=o,this.consumeWhitespace(),o}consumeUntil(o,u){for(var v=[],g=this.token(0,!0);(u==null||g.type!==u)&&(o==null||g.value!==o)&&g.type!=="EOF";){var w=this.tokens.shift();this.consumed.push(w),v.push(g),g=this.token(0,!0)}return this.consumeWhitespace(),v}lastWhitespace(){return this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"?this.consumed[this.consumed.length-1].value:""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(o,u){var v,g=0;do{if(!u)for(;this.tokens[g]&&this.tokens[g].type==="WHITESPACE";)g++;v=this.tokens[g],o--,g++}while(o>-1);return v||{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split(`
`)[this.startToken.line-1]};follows=[];pushFollow(o){this.follows.push(o)}popFollow(){this.follows.pop()}clearFollows(){var o=this.follows;return this.follows=[],o}restoreFollows(o){this.follows=o}}class k{constructor(o){this.runtime=o,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(u,v,g){if(g.matchOpToken("(")){var w=u.requireElement("feature",g);return g.requireOpToken(")"),w}var T=u.FEATURES[g.currentToken().value||""];if(T)return T(u,v,g)}),this.addGrammarElement("command",function(u,v,g){if(g.matchOpToken("(")){let x=u.requireElement("command",g);return g.requireOpToken(")"),x}var w=u.COMMANDS[g.currentToken().value||""];let T;return w?T=w(u,v,g):g.currentToken().type==="IDENTIFIER"&&(T=u.parseElement("pseudoCommand",g)),T&&u.parseElement("indirectStatement",g,T)}),this.addGrammarElement("commandList",function(u,v,g){if(g.hasMore()){var w=u.parseElement("command",g);if(w){g.matchToken("then");let T=u.parseElement("commandList",g);return T&&(w.next=T),w}}return{type:"emptyCommandListCommand",op:function(T){return v.findNext(this,T)},execute:function(T){return v.unifiedExec(this,T)}}}),this.addGrammarElement("leaf",function(u,v,g){var w=u.parseAnyOf(u.LEAF_EXPRESSIONS,g);return w??u.parseElement("symbol",g)}),this.addGrammarElement("indirectExpression",function(u,v,g,w){for(var T=0;T<u.INDIRECT_EXPRESSIONS.length;T++){var x=u.INDIRECT_EXPRESSIONS[T];w.endToken=g.lastMatch();var d=u.parseElement(x,g,w);if(d)return d}return w}),this.addGrammarElement("indirectStatement",function(u,v,g,w){if(g.matchToken("unless")){w.endToken=g.lastMatch();var T=u.requireElement("expression",g),x={type:"unlessStatementModifier",args:[T],op:function(d,I){return I?this.next:w},execute:function(d){return v.unifiedExec(this,d)}};return w.parent=x,x}return w}),this.addGrammarElement("primaryExpression",function(u,v,g){var w=u.parseElement("leaf",g);if(w)return u.parseElement("indirectExpression",g,w);u.raiseParseError(g,"Unexpected value: "+g.currentToken().value)})}use(o){return o(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(o,u,v){o.startToken=u,o.sourceFor=m.sourceFor,o.lineFor=m.lineFor,o.programSource=v.source}parseElement(o,u,v=void 0){var g=this.GRAMMAR[o];if(g){var w=u.currentToken(),T=g(this,this.runtime,u,v);if(T){this.initElt(T,w,u),T.endToken=T.endToken||u.lastMatch();for(var v=T.root;v!=null;)this.initElt(v,w,u),v=v.root}return T}}requireElement(o,u,v,g){var w=this.parseElement(o,u,g);return w||k.raiseParseError(u,v||"Expected "+o),w}parseAnyOf(o,u){for(var v=0;v<o.length;v++){var g=o[v],w=this.parseElement(g,u);if(w)return w}}addGrammarElement(o,u){this.GRAMMAR[o]=u}addCommand(o,u){var v=o+"Command",g=function(w,T,x){let d=u(w,T,x);if(d)return d.type=v,d.execute=function(I){return I.meta.command=d,T.unifiedExec(this,I)},d};this.GRAMMAR[v]=g,this.COMMANDS[o]=g}addFeature(o,u){var v=o+"Feature",g=function(w,T,x){var d=u(w,T,x);if(d)return d.isFeature=!0,d.keyword=o,d.type=v,d};this.GRAMMAR[v]=g,this.FEATURES[o]=g}addLeafExpression(o,u){this.LEAF_EXPRESSIONS.push(o),this.addGrammarElement(o,u)}addIndirectExpression(o,u){this.INDIRECT_EXPRESSIONS.push(o),this.addGrammarElement(o,u)}static createParserContext(o){var u=o.currentToken(),v=o.source,g=v.split(`
`),w=u&&u.line?u.line-1:g.length-1,T=g[w],x=u&&u.line?u.column:T.length-1;return T+`
`+" ".repeat(x)+`^^

`}static raiseParseError(o,u){u=(u||"Unexpected Token : "+o.currentToken().value)+`

`+k.createParserContext(o);var v=new Error(u);throw v.tokens=o,v}raiseParseError(o,u){k.raiseParseError(o,u)}parseHyperScript(o){var u=this.parseElement("hyperscript",o);if(o.hasMore()&&this.raiseParseError(o),u)return u}setParent(o,u){typeof o=="object"&&(o.parent=u,typeof u=="object"&&(u.children=u.children||new Set,u.children.add(o)),this.setParent(o.next,u))}commandStart(o){return this.COMMANDS[o.value||""]}featureStart(o){return this.FEATURES[o.value||""]}commandBoundary(o){return!!(o.value=="end"||o.value=="then"||o.value=="else"||o.value=="otherwise"||o.value==")"||this.commandStart(o)||this.featureStart(o)||o.type=="EOF")}parseStringTemplate(o){var u=[""];do if(u.push(o.lastWhitespace()),o.currentToken().value==="$"){o.consumeToken();var v=o.matchOpToken("{");u.push(this.requireElement("expression",o)),v&&o.requireOpToken("}"),u.push("")}else if(o.currentToken().value==="\\")o.consumeToken(),o.consumeToken();else{var g=o.consumeToken();u[u.length-1]+=g?g.value:""}while(o.hasMore());return u.push(o.lastWhitespace()),u}ensureTerminated(o){let u=this.runtime;for(var v={type:"implicitReturn",op:function(w){return w.meta.returned=!0,w.meta.resolve&&w.meta.resolve(),u.HALT},execute:function(w){}},g=o;g.next;)g=g.next;g.next=v}}class S{constructor(o,u){this.lexer=o??new i,this.parser=u??new k(this).use(me).use(te),this.parser.runtime=this}matchesSelector(o,u){var v=o.matches||o.matchesSelector||o.msMatchesSelector||o.mozMatchesSelector||o.webkitMatchesSelector||o.oMatchesSelector;return v&&v.call(o,u)}makeEvent(o,u){var v;return e.Event&&typeof e.Event=="function"?(v=new Event(o,{bubbles:!0,cancelable:!0}),v.detail=u):(v=document.createEvent("CustomEvent"),v.initCustomEvent(o,!0,!0,u)),v}triggerEvent(o,u,v,g){v=v||{},v.sender=g;var w=this.makeEvent(u,v),T=o.dispatchEvent(w);return T}isArrayLike(o){return Array.isArray(o)||typeof NodeList<"u"&&(o instanceof NodeList||o instanceof HTMLCollection)}isIterable(o){return typeof o=="object"&&Symbol.iterator in o&&typeof o[Symbol.iterator]=="function"}shouldAutoIterate(o){return o!=null&&o[ae]||this.isArrayLike(o)}forEach(o,u){if(o!=null)if(this.isIterable(o))for(let g of o)u(g);else if(this.isArrayLike(o))for(var v=0;v<o.length;v++)u(o[v]);else u(o)}implicitLoop(o,u){if(this.shouldAutoIterate(o))for(let v of o)u(v);else u(o)}wrapArrays(o){for(var u=[],v=0;v<o.length;v++){var g=o[v];Array.isArray(g)?u.push(Promise.all(g)):u.push(g)}return u}unwrapAsyncs(o){for(var u=0;u<o.length;u++){var v=o[u];if(v.asyncWrapper&&(o[u]=v.value),Array.isArray(v))for(var g=0;g<v.length;g++){var w=v[g];w.asyncWrapper&&(v[g]=w.value)}}}static HALT={};HALT=S.HALT;unifiedExec(o,u){for(;;){try{var v=this.unifiedEval(o,u)}catch(g){if(u.meta.handlingFinally)console.error(" Exception in finally block: ",g),v=S.HALT;else if(this.registerHyperTrace(u,g),u.meta.errorHandler&&!u.meta.handlingError){u.meta.handlingError=!0,u.locals[u.meta.errorSymbol]=g,o=u.meta.errorHandler;continue}else u.meta.currentException=g,v=S.HALT}if(v==null){console.error(o," did not return a next element to execute! context: ",u);return}else if(v.then){v.then(g=>{this.unifiedExec(g,u)}).catch(g=>{this.unifiedExec({op:function(){throw g}},u)});return}else if(v===S.HALT)if(u.meta.finallyHandler&&!u.meta.handlingFinally)u.meta.handlingFinally=!0,o=u.meta.finallyHandler;else if(u.meta.onHalt&&u.meta.onHalt(),u.meta.currentException)if(u.meta.reject){u.meta.reject(u.meta.currentException);return}else throw u.meta.currentException;else return;else o=v}}unifiedEval(o,u){var v=[u],g=!1,w=!1;if(o.args)for(var T=0;T<o.args.length;T++){var x=o.args[T];if(x==null)v.push(null);else if(Array.isArray(x)){for(var d=[],I=0;I<x.length;I++){var L=x[I],O=L?L.evaluate(u):null;O&&(O.then?g=!0:O.asyncWrapper&&(w=!0)),d.push(O)}v.push(d)}else if(x.evaluate){var O=x.evaluate(u);O&&(O.then?g=!0:O.asyncWrapper&&(w=!0)),v.push(O)}else v.push(x)}return g?new Promise((N,D)=>{v=this.wrapArrays(v),Promise.all(v).then(function(F){w&&this.unwrapAsyncs(F);try{var B=o.op.apply(o,F);N(B)}catch(P){D(P)}}).catch(function(F){D(F)})}):(w&&this.unwrapAsyncs(v),o.op.apply(o,v))}_scriptAttrs=null;getScriptAttributes(){return this._scriptAttrs==null&&(this._scriptAttrs=r.attributes.replace(/ /g,"").split(",")),this._scriptAttrs}getScript(o){for(var u=0;u<this.getScriptAttributes().length;u++){var v=this.getScriptAttributes()[u];if(o.hasAttribute&&o.hasAttribute(v))return o.getAttribute(v)}return o instanceof HTMLScriptElement&&o.type==="text/hyperscript"?o.innerText:null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(o){var u=this.hyperscriptFeaturesMap.get(o);return typeof u>"u"&&o&&this.hyperscriptFeaturesMap.set(o,u={}),u}addFeatures(o,u){o&&(Object.assign(u.locals,this.getHyperscriptFeatures(o)),this.addFeatures(o.parentElement,u))}makeContext(o,u,v,g){return new G(o,u,v,g,this)}getScriptSelector(){return this.getScriptAttributes().map(function(o){return"["+o+"]"}).join(", ")}convertValue(o,u){for(var v=n.dynamicResolvers,g=0;g<v.length;g++){var w=v[g],T=w(u,o);if(T!==void 0)return T}if(o==null)return null;var x=n[u];if(x)return x(o);throw"Unknown conversion : "+u}parse(o){let u=this.lexer,v=this.parser;var g=u.tokenize(o);if(this.parser.commandStart(g.currentToken())){var w=v.requireElement("commandList",g);return g.hasMore()&&v.raiseParseError(g),v.ensureTerminated(w),w}else if(v.featureStart(g.currentToken())){var T=v.requireElement("hyperscript",g);return g.hasMore()&&v.raiseParseError(g),T}else{var x=v.requireElement("expression",g);return g.hasMore()&&v.raiseParseError(g),x}}evaluateNoPromise(o,u){let v=o.evaluate(u);if(v.next)throw new Error(m.sourceFor.call(o)+" returned a Promise in a context that they are not allowed.");return v}evaluate(o,u,v){class g extends EventTarget{constructor(I){super(),this.module=I}toString(){return this.module.id}}var w="document"in e?e.document.body:new g(v&&v.module);u=Object.assign(this.makeContext(w,null,w,null),u||{});var T=this.parse(o);if(T.execute)return T.execute(u),typeof u.meta.returnValue<"u"?u.meta.returnValue:u.result;return T.apply?(T.apply(w,w,v),this.getHyperscriptFeatures(w)):T.evaluate(u);function x(){return{}}}processNode(o){var u=this.getScriptSelector();this.matchesSelector(o,u)&&this.initElement(o,o),o instanceof HTMLScriptElement&&o.type==="text/hyperscript"&&this.initElement(o,document.body),o.querySelectorAll&&this.forEach(o.querySelectorAll(u+", [type='text/hyperscript']"),v=>{this.initElement(v,v instanceof HTMLScriptElement&&v.type==="text/hyperscript"?document.body:v)})}initElement(o,u){if(!(o.closest&&o.closest(r.disableSelector))){var v=this.getInternalData(o);if(!v.initialized){var g=this.getScript(o);if(g)try{v.initialized=!0,v.script=g;let x=this.lexer,d=this.parser;var w=x.tokenize(g),T=d.parseHyperScript(w);if(!T)return;T.apply(u||o,o),setTimeout(()=>{this.triggerEvent(u||o,"load",{hyperscript:!0})},1)}catch(x){this.triggerEvent(o,"exception",{error:x}),console.error("hyperscript errors were found on the following element:",o,`

`,x.message,x.stack)}}}}internalDataMap=new WeakMap;getInternalData(o){var u=this.internalDataMap.get(o);return typeof u>"u"&&this.internalDataMap.set(o,u={}),u}typeCheck(o,u,v){if(o==null&&v)return!0;var g=Object.prototype.toString.call(o).slice(8,-1);return g===u}getElementScope(o){var u=o.meta&&o.meta.owner;if(u){var v=this.getInternalData(u),g="elementScope";o.meta.feature&&o.meta.feature.behavior&&(g=o.meta.feature.behavior+"Scope");var w=ce(v,g);return w}else return{}}isReservedWord(o){return["meta","it","result","locals","event","target","detail","sender","body"].includes(o)}isHyperscriptContext(o){return o instanceof G}resolveSymbol(o,u,v){if(o==="me"||o==="my"||o==="I")return u.me;if(o==="it"||o==="its"||o==="result")return u.result;if(o==="you"||o==="your"||o==="yourself")return u.you;if(v==="global")return e[o];if(v==="element"){var g=this.getElementScope(u);return g[o]}else{if(v==="local")return u.locals[o];if(u.meta&&u.meta.context){var w=u.meta.context[o];if(typeof w<"u"||u.meta.context.detail&&(w=u.meta.context.detail[o],typeof w<"u"))return w}if(this.isHyperscriptContext(u)&&!this.isReservedWord(o))var T=u.locals[o];else var T=u[o];if(typeof T<"u")return T;var g=this.getElementScope(u);return T=g[o],typeof T<"u"?T:e[o]}}setSymbol(o,u,v,g){if(v==="global")e[o]=g;else if(v==="element"){var w=this.getElementScope(u);w[o]=g}else if(v==="local")u.locals[o]=g;else if(this.isHyperscriptContext(u)&&!this.isReservedWord(o)&&typeof u.locals[o]<"u")u.locals[o]=g;else{var w=this.getElementScope(u),T=w[o];typeof T<"u"?w[o]=g:this.isHyperscriptContext(u)&&!this.isReservedWord(o)?u.locals[o]=g:u[o]=g}}findNext(o,u){if(o)return o.resolveNext?o.resolveNext(u):o.next?o.next:this.findNext(o.parent,u)}flatGet(o,u,v){if(o!=null){var g=v(o,u);if(typeof g<"u")return g;if(this.shouldAutoIterate(o)){var w=[];for(var T of o){var x=v(T,u);w.push(x)}return w}}}resolveProperty(o,u){return this.flatGet(o,u,(v,g)=>v[g])}resolveAttribute(o,u){return this.flatGet(o,u,(v,g)=>v.getAttribute&&v.getAttribute(g))}resolveStyle(o,u){return this.flatGet(o,u,(v,g)=>v.style&&v.style[g])}resolveComputedStyle(o,u){return this.flatGet(o,u,(v,g)=>getComputedStyle(v).getPropertyValue(g))}assignToNamespace(o,u,v,g){let w;typeof document<"u"&&o===document.body?w=e:w=this.getHyperscriptFeatures(o);for(var T;(T=u.shift())!==void 0;){var x=w[T];x==null&&(x={},w[T]=x),w=x}w[v]=g}getHyperTrace(o,u){for(var v=[],g=o;g.meta.caller;)g=g.meta.caller;if(g.meta.traceMap)return g.meta.traceMap.get(u,v)}registerHyperTrace(o,u){for(var v=[],g=null;o!=null;)v.push(o),g=o,o=o.meta.caller;if(g.meta.traceMap==null&&(g.meta.traceMap=new Map),!g.meta.traceMap.get(u)){var w={trace:v,print:function(T){T=T||console.error,T("hypertrace /// ");for(var x=0,d=0;d<v.length;d++)x=Math.max(x,v[d].meta.feature.displayName.length);for(var d=0;d<v.length;d++){var I=v[d];T("  ->",I.meta.feature.displayName.padEnd(x+2),"-",I.meta.owner)}}};g.meta.traceMap.set(u,w)}}escapeSelector(o){return o.replace(/:/g,function(u){return"\\"+u})}nullCheck(o,u){if(o==null)throw new Error("'"+u.sourceFor()+"' is null")}isEmpty(o){return o==null||o.length===0}doesExist(o){if(o==null)return!1;if(this.shouldAutoIterate(o)){for(let u of o)return!0;return!1}return!0}getRootNode(o){if(o&&o instanceof Node){var u=o.getRootNode();if(u instanceof Document||u instanceof ShadowRoot)return u}return document}getEventQueueFor(o,u){let v=this.getInternalData(o);var g=v.eventQueues;g==null&&(g=new Map,v.eventQueues=g);var w=g.get(u);return w==null&&(w={queue:[],executing:!1},g.set(u,w)),w}beepValueToConsole(o,u,v){if(this.triggerEvent(o,"hyperscript:beep",{element:o,expression:u,value:v})){var g;v?v instanceof z?g="ElementCollection":v.constructor?g=v.constructor.name:g="unknown":g="object (null)";var w=v;g==="String"?w='"'+w+'"':v instanceof z&&(w=Array.from(v)),console.log("///_ BEEP! The expression ("+m.sourceFor.call(u).replace("beep! ","")+") evaluates to:",w,"of type "+g)}}hyperscriptUrl="document"in e&&document.currentScript?document.currentScript.src:null}function U(){return document.cookie.split("; ").map(o=>{let u=o.split("=");return{name:u[0],value:decodeURIComponent(u[1])}})}function q(b){document.cookie=b+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function M(){for(let b of U())q(b.name)}let Q=new Proxy({},{get(b,o){if(o==="then"||o==="asyncWrapper")return null;if(o==="length")return U().length;if(o==="clear")return q;if(o==="clearAll")return M;if(typeof o=="string")if(isNaN(o)){let u=document.cookie.split("; ").find(v=>v.startsWith(o+"="))?.split("=")[1];if(u)return decodeURIComponent(u)}else return U()[parseInt(o)];else if(o===Symbol.iterator)return U()[o]},set(b,o,u){var v=null;return typeof u=="string"?(v=encodeURIComponent(u),v+=";samesite=lax"):(v=encodeURIComponent(u.value),u.expires&&(v+=";expires="+u.maxAge),u.maxAge&&(v+=";max-age="+u.maxAge),u.partitioned&&(v+=";partitioned="+u.partitioned),u.path&&(v+=";path="+u.path),u.samesite&&(v+=";samesite="+u.path),u.secure&&(v+=";secure="+u.path)),document.cookie=o+"="+v,!0}});class G{constructor(o,u,v,g,w){this.meta={parser:w.parser,lexer:w.lexer,runtime:w,owner:o,feature:u,iterators:{},ctx:this},this.locals={cookies:Q},this.me=v,this.you=void 0,this.result=void 0,this.event=g,this.target=g?g.target:null,this.detail=g?g.detail:null,this.sender=g&&g.detail?g.detail.sender:null,this.body="document"in e?document.body:null,w.addFeatures(o,this)}}class z{constructor(o,u,v){this._css=o,this.relativeToElement=u,this.escape=v,this[ae]=!0}get css(){return this.escape?S.prototype.escapeSelector(this._css):this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(o){for(let u of this)if(u.contains(o))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return S.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}let ae=Symbol();function ce(b,o){var u=b[o];if(u)return u;var v={};return b[o]=v,v}function fe(b){try{return JSON.parse(b)}catch(o){return ne(o),null}}function ne(b){console.error?console.error(b):console.log&&console.log("ERROR: ",b)}function re(b,o){return new(b.bind.apply(b,[b].concat(o)))}function me(b){b.addLeafExpression("parenthesized",function(s,c,t){if(t.matchOpToken("(")){var a=t.clearFollows();try{var h=s.requireElement("expression",t)}finally{t.restoreFollows(a)}return t.requireOpToken(")"),h}}),b.addLeafExpression("string",function(s,c,t){var a=t.matchTokenType("STRING");if(a){var h=a.value,f;if(a.template){var l=i.tokenize(h,!0);f=s.parseStringTemplate(l)}else f=[];return{type:"string",token:a,args:f,op:function(p){for(var E="",y=1;y<arguments.length;y++){var A=arguments[y];A!==void 0&&(E+=A)}return E},evaluate:function(p){return f.length===0?h:c.unifiedEval(this,p)}}}}),b.addGrammarElement("nakedString",function(s,c,t){if(t.hasMore()){var a=t.consumeUntilWhitespace();return t.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:a,evaluate:function(h){return a.map(function(f){return f.value}).join("")}}}}),b.addLeafExpression("number",function(s,c,t){var a=t.matchTokenType("NUMBER");if(a){var h=a,f=parseFloat(a.value);return{type:"number",value:f,numberToken:h,evaluate:function(){return f}}}}),b.addLeafExpression("idRef",function(s,c,t){var a=t.matchTokenType("ID_REF");if(a&&a.value)if(a.template){var h=a.value.substring(2),f=i.tokenize(h),l=s.requireElement("expression",f);return{type:"idRefTemplate",args:[l],op:function(p,E){return c.getRootNode(p.me).getElementById(E)},evaluate:function(p){return c.unifiedEval(this,p)}}}else{let p=a.value.substring(1);return{type:"idRef",css:a.value,value:p,evaluate:function(E){return c.getRootNode(E.me).getElementById(p)}}}}),b.addLeafExpression("classRef",function(s,c,t){var a=t.matchTokenType("CLASS_REF");if(a&&a.value)if(a.template){var h=a.value.substring(2),f=i.tokenize(h),l=s.requireElement("expression",f);return{type:"classRefTemplate",args:[l],op:function(p,E){return new z("."+E,p.me,!0)},evaluate:function(p){return c.unifiedEval(this,p)}}}else{let p=a.value;return{type:"classRef",css:p,evaluate:function(E){return new z(p,E.me,!0)}}}});class o extends z{constructor(c,t,a){super(c,t),this.templateParts=a,this.elements=a.filter(h=>h instanceof Element)}get css(){let c="",t=0;for(let a of this.templateParts)a instanceof Element?c+="[data-hs-query-id='"+t+++"']":c+=a;return c}[Symbol.iterator](){this.elements.forEach((t,a)=>t.dataset.hsQueryId=a);let c=super[Symbol.iterator]();return this.elements.forEach(t=>t.removeAttribute("data-hs-query-id")),c}}b.addLeafExpression("queryRef",function(s,c,t){var a=t.matchOpToken("<");if(a){var h=t.consumeUntil("/");t.requireOpToken("/"),t.requireOpToken(">");var f=h.map(function(y){return y.type==="STRING"?'"'+y.value+'"':y.value}).join(""),l,p,E;return f.indexOf("$")>=0&&(l=!0,p=i.tokenize(f,!0),E=s.parseStringTemplate(p)),{type:"queryRef",css:f,args:E,op:function(y,...A){return l?new o(f,y.me,A):new z(f,y.me)},evaluate:function(y){return c.unifiedEval(this,y)}}}}),b.addLeafExpression("attributeRef",function(s,c,t){var a=t.matchTokenType("ATTRIBUTE_REF");if(a&&a.value){var h=a.value;if(h.indexOf("[")===0)var f=h.substring(2,h.length-1);else var f=h.substring(1);var l="["+f+"]",p=f.split("="),E=p[0],y=p[1];return y&&y.indexOf('"')===0&&(y=y.substring(1,y.length-1)),{type:"attributeRef",name:E,css:l,value:y,op:function(A){var H=A.you||A.me;if(H)return H.getAttribute(E)},evaluate:function(A){return c.unifiedEval(this,A)}}}}),b.addLeafExpression("styleRef",function(s,c,t){var a=t.matchTokenType("STYLE_REF");if(a&&a.value){var h=a.value.substr(1);return h.startsWith("computed-")?(h=h.substr(9),{type:"computedStyleRef",name:h,op:function(f){var l=f.you||f.me;if(l)return c.resolveComputedStyle(l,h)},evaluate:function(f){return c.unifiedEval(this,f)}}):{type:"styleRef",name:h,op:function(f){var l=f.you||f.me;if(l)return c.resolveStyle(l,h)},evaluate:function(f){return c.unifiedEval(this,f)}}}}),b.addGrammarElement("objectKey",function(s,c,t){var a;if(a=t.matchTokenType("STRING"))return{type:"objectKey",key:a.value,evaluate:function(){return a.value}};if(t.matchOpToken("[")){var h=s.parseElement("expression",t);return t.requireOpToken("]"),{type:"objectKey",expr:h,args:[h],op:function(l,p){return p},evaluate:function(l){return c.unifiedEval(this,l)}}}else{var f="";do a=t.matchTokenType("IDENTIFIER")||t.matchOpToken("-"),a&&(f+=a.value);while(a);return{type:"objectKey",key:f,evaluate:function(){return f}}}}),b.addLeafExpression("objectLiteral",function(s,c,t){if(t.matchOpToken("{")){var a=[],h=[];if(!t.matchOpToken("}")){do{var f=s.requireElement("objectKey",t);t.requireOpToken(":");var l=s.requireElement("expression",t);h.push(l),a.push(f)}while(t.matchOpToken(","));t.requireOpToken("}")}return{type:"objectLiteral",args:[a,h],op:function(p,E,y){for(var A={},H=0;H<E.length;H++)A[E[H]]=y[H];return A},evaluate:function(p){return c.unifiedEval(this,p)}}}}),b.addGrammarElement("nakedNamedArgumentList",function(s,c,t){var a=[],h=[];if(t.currentToken().type==="IDENTIFIER")do{var f=t.requireTokenType("IDENTIFIER");t.requireOpToken(":");var l=s.requireElement("expression",t);h.push(l),a.push({name:f,value:l})}while(t.matchOpToken(","));return{type:"namedArgumentList",fields:a,args:[h],op:function(p,E){for(var y={_namedArgList_:!0},A=0;A<E.length;A++){var H=a[A];y[H.name.value]=E[A]}return y},evaluate:function(p){return c.unifiedEval(this,p)}}}),b.addGrammarElement("namedArgumentList",function(s,c,t){if(t.matchOpToken("(")){var a=s.requireElement("nakedNamedArgumentList",t);return t.requireOpToken(")"),a}}),b.addGrammarElement("symbol",function(s,c,t){var a="default";t.matchToken("global")?a="global":t.matchToken("element")||t.matchToken("module")?(a="element",t.matchOpToken("'")&&t.requireToken("s")):t.matchToken("local")&&(a="local");let h=t.matchOpToken(":"),f=t.matchTokenType("IDENTIFIER");if(f&&f.value){var l=f.value;return h&&(l=":"+l),a==="default"&&(l.indexOf("$")===0&&(a="global"),l.indexOf(":")===0&&(a="element")),{type:"symbol",token:f,scope:a,name:l,evaluate:function(p){return c.resolveSymbol(l,p,a)}}}}),b.addGrammarElement("implicitMeTarget",function(s,c,t){return{type:"implicitMeTarget",evaluate:function(a){return a.you||a.me}}}),b.addLeafExpression("boolean",function(s,c,t){var a=t.matchToken("true")||t.matchToken("false");if(!a)return;let h=a.value==="true";return{type:"boolean",evaluate:function(f){return h}}}),b.addLeafExpression("null",function(s,c,t){if(t.matchToken("null"))return{type:"null",evaluate:function(a){return null}}}),b.addLeafExpression("arrayLiteral",function(s,c,t){if(t.matchOpToken("[")){var a=[];if(!t.matchOpToken("]")){do{var h=s.requireElement("expression",t);a.push(h)}while(t.matchOpToken(","));t.requireOpToken("]")}return{type:"arrayLiteral",values:a,args:[a],op:function(f,l){return l},evaluate:function(f){return c.unifiedEval(this,f)}}}}),b.addLeafExpression("blockLiteral",function(s,c,t){if(t.matchOpToken("\\")){var a=[],h=t.matchTokenType("IDENTIFIER");if(h)for(a.push(h);t.matchOpToken(",");)a.push(t.requireTokenType("IDENTIFIER"));t.requireOpToken("-"),t.requireOpToken(">");var f=s.requireElement("expression",t);return{type:"blockLiteral",args:a,expr:f,evaluate:function(l){var p=function(){for(var E=0;E<a.length;E++)l.locals[a[E].value]=arguments[E];return f.evaluate(l)};return p}}}}),b.addIndirectExpression("propertyAccess",function(s,c,t,a){if(t.matchOpToken(".")){var h=t.requireTokenType("IDENTIFIER"),f={type:"propertyAccess",root:a,prop:h,args:[a],op:function(l,p){var E=c.resolveProperty(p,h.value);return E},evaluate:function(l){return c.unifiedEval(this,l)}};return s.parseElement("indirectExpression",t,f)}}),b.addIndirectExpression("of",function(s,c,t,a){if(t.matchToken("of")){for(var h=s.requireElement("unaryExpression",t),f=null,l=a;l.root;)f=l,l=l.root;l.type!=="symbol"&&l.type!=="attributeRef"&&l.type!=="styleRef"&&l.type!=="computedStyleRef"&&s.raiseParseError(t,"Cannot take a property of a non-symbol: "+l.type);var p=l.type==="attributeRef",E=l.type==="styleRef"||l.type==="computedStyleRef";if(p||E)var y=l;var A=l.name,H={type:"ofExpression",prop:l.token,root:h,attribute:y,expression:a,args:[h],op:function(R,C){return p?c.resolveAttribute(C,A):E?l.type==="computedStyleRef"?c.resolveComputedStyle(C,A):c.resolveStyle(C,A):c.resolveProperty(C,A)},evaluate:function(R){return c.unifiedEval(this,R)}};return l.type==="attributeRef"&&(H.attribute=l),f?(f.root=H,f.args=[H]):a=H,s.parseElement("indirectExpression",t,a)}}),b.addIndirectExpression("possessive",function(s,c,t,a){if(!s.possessivesDisabled){var h=t.matchOpToken("'");if(h||a.type==="symbol"&&(a.name==="my"||a.name==="its"||a.name==="your")&&(t.currentToken().type==="IDENTIFIER"||t.currentToken().type==="ATTRIBUTE_REF"||t.currentToken().type==="STYLE_REF")){h&&t.requireToken("s");var f,l,p;f=s.parseElement("attributeRef",t),f==null&&(l=s.parseElement("styleRef",t),l==null&&(p=t.requireTokenType("IDENTIFIER")));var E={type:"possessive",root:a,attribute:f||l,prop:p,args:[a],op:function(y,A){if(f)var H=c.resolveAttribute(A,f.name);else if(l){var H;l.type==="computedStyleRef"?H=c.resolveComputedStyle(A,l.name):H=c.resolveStyle(A,l.name)}else var H=c.resolveProperty(A,p.value);return H},evaluate:function(y){return c.unifiedEval(this,y)}};return s.parseElement("indirectExpression",t,E)}}}),b.addIndirectExpression("inExpression",function(s,c,t,a){if(t.matchToken("in")){var h=s.requireElement("unaryExpression",t),f={type:"inExpression",root:a,args:[a,h],op:function(l,p,E){var y=[];if(p.css)c.implicitLoop(E,function(H){for(var R=H.querySelectorAll(p.css),C=0;C<R.length;C++)y.push(R[C])});else if(p instanceof Element){var A=!1;if(c.implicitLoop(E,function(H){H.contains(p)&&(A=!0)}),A)return p}else c.implicitLoop(p,function(H){c.implicitLoop(E,function(R){H===R&&y.push(H)})});return y},evaluate:function(l){return c.unifiedEval(this,l)}};return s.parseElement("indirectExpression",t,f)}}),b.addIndirectExpression("asExpression",function(s,c,t,a){if(t.matchToken("as")){t.matchToken("a")||t.matchToken("an");var h=s.requireElement("dotOrColonPath",t).evaluate(),f={type:"asExpression",root:a,args:[a],op:function(l,p){return c.convertValue(p,h)},evaluate:function(l){return c.unifiedEval(this,l)}};return s.parseElement("indirectExpression",t,f)}}),b.addIndirectExpression("functionCall",function(s,c,t,a){if(t.matchOpToken("(")){var h=[];if(!t.matchOpToken(")")){do h.push(s.requireElement("expression",t));while(t.matchOpToken(","));t.requireOpToken(")")}if(a.root)var f={type:"functionCall",root:a,argExressions:h,args:[a.root,h],op:function(l,p,E){c.nullCheck(p,a.root);var y=p[a.prop.value];return c.nullCheck(y,a),y.hyperfunc&&E.push(l),y.apply(p,E)},evaluate:function(l){return c.unifiedEval(this,l)}};else var f={type:"functionCall",root:a,argExressions:h,args:[a,h],op:function(p,E,y){c.nullCheck(E,a),E.hyperfunc&&y.push(p);var A=E.apply(null,y);return A},evaluate:function(p){return c.unifiedEval(this,p)}};return s.parseElement("indirectExpression",t,f)}}),b.addIndirectExpression("attributeRefAccess",function(s,c,t,a){var h=s.parseElement("attributeRef",t);if(h){var f={type:"attributeRefAccess",root:a,attribute:h,args:[a],op:function(l,p){var E=c.resolveAttribute(p,h.name);return E},evaluate:function(l){return c.unifiedEval(this,l)}};return f}}),b.addIndirectExpression("arrayIndex",function(s,c,t,a){if(t.matchOpToken("[")){var h=!1,f=!1,l=null,p=null;if(t.matchOpToken(".."))h=!0,l=s.requireElement("expression",t);else if(l=s.requireElement("expression",t),t.matchOpToken("..")){f=!0;var E=t.currentToken();E.type!=="R_BRACKET"&&(p=s.parseElement("expression",t))}t.requireOpToken("]");var y={type:"arrayIndex",root:a,prop:l,firstIndex:l,secondIndex:p,args:[a,l,p],op:function(A,H,R,C){return H==null?null:h?(R<0&&(R=H.length+R),H.slice(0,R+1)):f?C!=null?(C<0&&(C=H.length+C),H.slice(R,C+1)):H.slice(R):H[R]},evaluate:function(A){return c.unifiedEval(this,A)}};return s.parseElement("indirectExpression",t,y)}});var u=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];b.addGrammarElement("postfixExpression",function(s,c,t){var a=s.parseElement("primaryExpression",t);let h=t.matchAnyToken.apply(t,u)||t.matchOpToken("%");if(h)return{type:"stringPostfix",postfix:h.value,args:[a],op:function(E,y){return""+y+h.value},evaluate:function(E){return c.unifiedEval(this,E)}};var f=null;if(t.matchToken("s")||t.matchToken("seconds")?f=1e3:(t.matchToken("ms")||t.matchToken("milliseconds"))&&(f=1),f)return{type:"timeExpression",time:a,factor:f,args:[a],op:function(E,y){return y*f},evaluate:function(E){return c.unifiedEval(this,E)}};if(t.matchOpToken(":")){var l=t.requireTokenType("IDENTIFIER");if(!l.value)return;var p=!t.matchOpToken("!");return{type:"typeCheck",typeName:l,nullOk:p,args:[a],op:function(E,y){var A=c.typeCheck(y,this.typeName.value,p);if(A)return y;throw new Error("Typecheck failed!  Expected: "+l.value)},evaluate:function(E){return c.unifiedEval(this,E)}}}else return a}),b.addGrammarElement("logicalNot",function(s,c,t){if(t.matchToken("not")){var a=s.requireElement("unaryExpression",t);return{type:"logicalNot",root:a,args:[a],op:function(h,f){return!f},evaluate:function(h){return c.unifiedEval(this,h)}}}}),b.addGrammarElement("noExpression",function(s,c,t){if(t.matchToken("no")){var a=s.requireElement("unaryExpression",t);return{type:"noExpression",root:a,args:[a],op:function(h,f){return c.isEmpty(f)},evaluate:function(h){return c.unifiedEval(this,h)}}}}),b.addLeafExpression("some",function(s,c,t){if(t.matchToken("some")){var a=s.requireElement("expression",t);return{type:"noExpression",root:a,args:[a],op:function(h,f){return!c.isEmpty(f)},evaluate(h){return c.unifiedEval(this,h)}}}}),b.addGrammarElement("negativeNumber",function(s,c,t){if(t.matchOpToken("-")){var a=s.requireElement("unaryExpression",t);return{type:"negativeNumber",root:a,args:[a],op:function(h,f){return-1*f},evaluate:function(h){return c.unifiedEval(this,h)}}}}),b.addGrammarElement("unaryExpression",function(s,c,t){return t.matchToken("the"),s.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],t)}),b.addGrammarElement("beepExpression",function(s,c,t){if(t.matchToken("beep!")){var a=s.parseElement("unaryExpression",t);if(a){a.booped=!0;var h=a.evaluate;return a.evaluate=function(f){let l=h.apply(a,arguments),p=f.me;return c.beepValueToConsole(p,a,l),l},a}}});var v=function(s,c,t,a){for(var h=c.querySelectorAll(t),f=0;f<h.length;f++){var l=h[f];if(l.compareDocumentPosition(s)===Node.DOCUMENT_POSITION_PRECEDING)return l}if(a)return h[0]},g=function(s,c,t,a){for(var h=c.querySelectorAll(t),f=h.length-1;f>=0;f--){var l=h[f];if(l.compareDocumentPosition(s)===Node.DOCUMENT_POSITION_FOLLOWING)return l}if(a)return h[h.length-1]},w=function(s,c,t,a){var h=[];S.prototype.forEach(c,function(E){(E.matches(t)||E===s)&&h.push(E)});for(var f=0;f<h.length-1;f++){var l=h[f];if(l===s)return h[f+1]}if(a){var p=h[0];if(p&&p.matches(t))return p}},T=function(s,c,t,a){return w(s,Array.from(c).reverse(),t,a)};b.addGrammarElement("relativePositionalExpression",function(s,c,t){var a=t.matchAnyToken("next","previous");if(a){var h=a.value==="next",f=s.parseElement("expression",t);if(t.matchToken("from")){t.pushFollow("in");try{var l=s.requireElement("unaryExpression",t)}finally{t.popFollow()}}else var l=s.requireElement("implicitMeTarget",t);var p=!1,E;if(t.matchToken("in")){p=!0;var y=s.requireElement("unaryExpression",t)}else t.matchToken("within")?E=s.requireElement("unaryExpression",t):E=document.body;var A=!1;return t.matchToken("with")&&(t.requireToken("wrapping"),A=!0),{type:"relativePositionalExpression",from:l,forwardSearch:h,inSearch:p,wrapping:A,inElt:y,withinElt:E,operator:a.value,args:[f,l,y,E],op:function(H,R,C,V,X){var j=R.css;if(j==null)throw"Expected a CSS value to be returned by "+m.sourceFor.apply(f);if(p){if(V)return h?w(C,V,j,A):T(C,V,j,A)}else if(X)return h?v(C,X,j,A):g(C,X,j,A)},evaluate:function(H){return c.unifiedEval(this,H)}}}}),b.addGrammarElement("positionalExpression",function(s,c,t){var a=t.matchAnyToken("first","last","random");if(!a)return;t.matchAnyToken("in","from","of");var h=s.requireElement("unaryExpression",t);let f=a.value;return{type:"positionalExpression",rhs:h,operator:a.value,args:[h],op:function(l,p){if(p&&!Array.isArray(p)&&(p.children?p=p.children:p=Array.from(p)),p){if(f==="first")return p[0];if(f==="last")return p[p.length-1];if(f==="random")return p[Math.floor(Math.random()*p.length)]}},evaluate:function(l){return c.unifiedEval(this,l)}}}),b.addGrammarElement("mathOperator",function(s,c,t){var a=s.parseElement("unaryExpression",t),h,f=null;for(h=t.matchAnyOpToken("+","-","*","/")||t.matchToken("mod");h;){f=f||h;var l=h.value;f.value!==l&&s.raiseParseError(t,"You must parenthesize math operations with different operators");var p=s.parseElement("unaryExpression",t);a={type:"mathOperator",lhs:a,rhs:p,operator:l,args:[a,p],op:function(E,y,A){if(l==="+")return y+A;if(l==="-")return y-A;if(l==="*")return y*A;if(l==="/")return y/A;if(l==="mod")return y%A},evaluate:function(E){return c.unifiedEval(this,E)}},h=t.matchAnyOpToken("+","-","*","/")||t.matchToken("mod")}return a}),b.addGrammarElement("mathExpression",function(s,c,t){return s.parseAnyOf(["mathOperator","unaryExpression"],t)});function x(s,c,t){if(c.contains)return c.contains(t);if(c.includes)return c.includes(t);throw Error("The value of "+s.sourceFor()+" does not have a contains or includes method on it")}function d(s,c,t){if(c.match)return!!c.match(t);if(c.matches)return c.matches(t);throw Error("The value of "+s.sourceFor()+" does not have a match or matches method on it")}b.addGrammarElement("comparisonOperator",function(s,c,t){var a=s.parseElement("mathExpression",t),h=t.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),f=h?h.value:null,l=!0,p=!1;if(f==null&&(t.matchToken("is")||t.matchToken("am")?t.matchToken("not")?t.matchToken("in")?f="not in":t.matchToken("a")?(f="not a",p=!0):t.matchToken("empty")?(f="not empty",l=!1):(t.matchToken("really")?f="!==":f="!=",t.matchToken("equal")&&t.matchToken("to")):t.matchToken("in")?f="in":t.matchToken("a")?(f="a",p=!0):t.matchToken("empty")?(f="empty",l=!1):t.matchToken("less")?(t.requireToken("than"),t.matchToken("or")?(t.requireToken("equal"),t.requireToken("to"),f="<="):f="<"):t.matchToken("greater")?(t.requireToken("than"),t.matchToken("or")?(t.requireToken("equal"),t.requireToken("to"),f=">="):f=">"):(t.matchToken("really")?f="===":f="==",t.matchToken("equal")&&t.matchToken("to")):t.matchToken("equals")?f="==":t.matchToken("really")?(t.requireToken("equals"),f="==="):t.matchToken("exist")||t.matchToken("exists")?(f="exist",l=!1):t.matchToken("matches")||t.matchToken("match")?f="match":t.matchToken("contains")||t.matchToken("contain")?f="contain":t.matchToken("includes")||t.matchToken("include")?f="include":(t.matchToken("do")||t.matchToken("does"))&&(t.requireToken("not"),t.matchToken("matches")||t.matchToken("match")?f="not match":t.matchToken("contains")||t.matchToken("contain")?f="not contain":t.matchToken("exist")||t.matchToken("exist")?(f="not exist",l=!1):t.matchToken("include")?f="not include":s.raiseParseError(t,"Expected matches or contains"))),f){var E,y,A;p?(E=t.requireTokenType("IDENTIFIER"),y=!t.matchOpToken("!")):l&&(A=s.requireElement("mathExpression",t),(f==="match"||f==="not match")&&(A=A.css?A.css:A));var H=a;a={type:"comparisonOperator",operator:f,typeName:E,nullOk:y,lhs:a,rhs:A,args:[a,A],op:function(R,C,V){if(f==="==")return C==V;if(f==="!=")return C!=V;if(f==="===")return C===V;if(f==="!==")return C!==V;if(f==="match")return C!=null&&d(H,C,V);if(f==="not match")return C==null||!d(H,C,V);if(f==="in")return V!=null&&x(A,V,C);if(f==="not in")return V==null||!x(A,V,C);if(f==="contain")return C!=null&&x(H,C,V);if(f==="not contain")return C==null||!x(H,C,V);if(f==="include")return C!=null&&x(H,C,V);if(f==="not include")return C==null||!x(H,C,V);if(f==="===")return C===V;if(f==="!==")return C!==V;if(f==="<")return C<V;if(f===">")return C>V;if(f==="<=")return C<=V;if(f===">=")return C>=V;if(f==="empty")return c.isEmpty(C);if(f==="not empty")return!c.isEmpty(C);if(f==="exist")return c.doesExist(C);if(f==="not exist")return!c.doesExist(C);if(f==="a")return c.typeCheck(C,E.value,y);if(f==="not a")return!c.typeCheck(C,E.value,y);throw"Unknown comparison : "+f},evaluate:function(R){return c.unifiedEval(this,R)}}}return a}),b.addGrammarElement("comparisonExpression",function(s,c,t){return s.parseAnyOf(["comparisonOperator","mathExpression"],t)}),b.addGrammarElement("logicalOperator",function(s,c,t){var a=s.parseElement("comparisonExpression",t),h,f=null;for(h=t.matchToken("and")||t.matchToken("or");h;){f=f||h,f.value!==h.value&&s.raiseParseError(t,"You must parenthesize logical operations with different operators");var l=s.requireElement("comparisonExpression",t);let p=h.value;a={type:"logicalOperator",operator:p,lhs:a,rhs:l,args:[a,l],op:function(E,y,A){return p==="and"?y&&A:y||A},evaluate:function(E){return c.unifiedEval(this,E)}},h=t.matchToken("and")||t.matchToken("or")}return a}),b.addGrammarElement("logicalExpression",function(s,c,t){return s.parseAnyOf(["logicalOperator","mathExpression"],t)}),b.addGrammarElement("asyncExpression",function(s,c,t){if(t.matchToken("async")){var a=s.requireElement("logicalExpression",t),h={type:"asyncExpression",value:a,evaluate:function(f){return{asyncWrapper:!0,value:this.value.evaluate(f)}}};return h}else return s.parseElement("logicalExpression",t)}),b.addGrammarElement("expression",function(s,c,t){return t.matchToken("the"),s.parseElement("asyncExpression",t)}),b.addGrammarElement("assignableExpression",function(s,c,t){t.matchToken("the");var a=s.parseElement("primaryExpression",t);return a&&(a.type==="symbol"||a.type==="ofExpression"||a.type==="propertyAccess"||a.type==="attributeRefAccess"||a.type==="attributeRef"||a.type==="styleRef"||a.type==="arrayIndex"||a.type==="possessive")||s.raiseParseError(t,"A target expression must be writable.  The expression type '"+(a&&a.type)+"' is not."),a}),b.addGrammarElement("hyperscript",function(s,c,t){var a=[];if(t.hasMore())for(;s.featureStart(t.currentToken())||t.currentToken().value==="(";){var h=s.requireElement("feature",t);a.push(h),t.matchToken("end")}return{type:"hyperscript",features:a,apply:function(f,l,p){for(let E of a)E.install(f,l,p)}}});var I=function(s){var c=[];if(s.token(0).value==="("&&(s.token(1).value===")"||s.token(2).value===","||s.token(2).value===")")){s.matchOpToken("(");do c.push(s.requireTokenType("IDENTIFIER"));while(s.matchOpToken(","));s.requireOpToken(")")}return c};b.addFeature("on",function(s,c,t){if(t.matchToken("on")){var a=!1;t.matchToken("every")&&(a=!0);var h=[],f=null;do{var l=s.requireElement("eventName",t,"Expected event name"),p=l.evaluate();f?f=f+" or "+p:f="on "+p;var E=I(t),y=null;t.matchOpToken("[")&&(y=s.requireElement("expression",t),t.requireOpToken("]"));var A,H,R;if(t.currentToken().type==="NUMBER"){var C=t.consumeToken();if(!C.value)return;if(A=parseInt(C.value),t.matchToken("to")){var V=t.consumeToken();if(!V.value)return;H=parseInt(V.value)}else t.matchToken("and")&&(R=!0,t.requireToken("on"))}var X,j;if(p==="intersection"){if(X={},t.matchToken("with")&&(X.with=s.requireElement("expression",t).evaluate()),t.matchToken("having"))do t.matchToken("margin")?X.rootMargin=s.requireElement("stringLike",t).evaluate():t.matchToken("threshold")?X.threshold=s.requireElement("expression",t).evaluate():s.raiseParseError(t,"Unknown intersection config specification");while(t.matchToken("and"))}else if(p==="mutation")if(j={},t.matchToken("of"))do if(t.matchToken("anything"))j.attributes=!0,j.subtree=!0,j.characterData=!0,j.childList=!0;else if(t.matchToken("childList"))j.childList=!0;else if(t.matchToken("attributes"))j.attributes=!0,j.attributeOldValue=!0;else if(t.matchToken("subtree"))j.subtree=!0;else if(t.matchToken("characterData"))j.characterData=!0,j.characterDataOldValue=!0;else if(t.currentToken().type==="ATTRIBUTE_REF"){var $=t.consumeToken();j.attributeFilter==null&&(j.attributeFilter=[]),$.value.indexOf("@")==0?j.attributeFilter.push($.value.substring(1)):s.raiseParseError(t,"Only shorthand attribute references are allowed here")}else s.raiseParseError(t,"Unknown mutation config specification");while(t.matchToken("or"));else j.attributes=!0,j.characterData=!0,j.childList=!0;var J=null,de=!1;if(t.matchToken("from"))if(t.matchToken("elsewhere"))de=!0;else{t.pushFollow("or");try{J=s.requireElement("expression",t)}finally{t.popFollow()}J||s.raiseParseError(t,'Expected either target value or "elsewhere".')}if(J===null&&de===!1&&t.matchToken("elsewhere")&&(de=!0),t.matchToken("in"))var ge=s.parseElement("unaryExpression",t);if(t.matchToken("debounced")){t.requireToken("at");var Z=s.requireElement("unaryExpression",t),le=Z.evaluate({})}else if(t.matchToken("throttled")){t.requireToken("at");var Z=s.requireElement("unaryExpression",t),Ee=Z.evaluate({})}h.push({execCount:0,every:a,on:p,args:E,filter:y,from:J,inExpr:ge,elsewhere:de,startCount:A,endCount:H,unbounded:R,debounceTime:le,throttleTime:Ee,mutationSpec:j,intersectionSpec:X,debounced:void 0,lastExec:void 0})}while(t.matchToken("or"));var ue=!0;if(!a&&t.matchToken("queue"))if(t.matchToken("all"))var pe=!0,ue=!1;else if(t.matchToken("first"))var Ce=!0;else if(t.matchToken("none"))var Ie=!0;else t.requireToken("last");var Oe=s.requireElement("commandList",t);s.ensureTerminated(Oe);var Fe,Ne;if(t.matchToken("catch")&&(Fe=t.requireTokenType("IDENTIFIER").value,Ne=s.requireElement("commandList",t),s.ensureTerminated(Ne)),t.matchToken("finally")){var Pe=s.requireElement("commandList",t);s.ensureTerminated(Pe)}var ye={displayName:f,events:h,start:Oe,every:a,execCount:0,errorHandler:Ne,errorSymbol:Fe,execute:function(oe){let ke=c.getEventQueueFor(oe.me,ye);if(ke.executing&&a===!1){if(Ie||Ce&&ke.queue.length>0)return;ue&&(ke.queue.length=0),ke.queue.push(oe);return}ye.execCount++,ke.executing=!0,oe.meta.onHalt=function(){ke.executing=!1;var ve=ke.queue.shift();ve&&setTimeout(function(){ye.execute(ve)},1)},oe.meta.reject=function(ve){console.error(ve.message?ve.message:ve);var Y=c.getHyperTrace(oe,ve);Y&&Y.print(),c.triggerEvent(oe.me,"exception",{error:ve})},Oe.execute(oe)},install:function(oe,ke){for(let Y of ye.events){var ve;Y.elsewhere?ve=[document]:Y.from?ve=Y.from.evaluate(c.makeContext(oe,ye,oe,null)):ve=[oe],c.implicitLoop(ve,function(Te){var Ae=Y.on;if(Te==null){console.warn("'%s' feature ignored because target does not exists:",f,oe);return}if(Y.mutationSpec&&(Ae="hyperscript:mutation",new MutationObserver(function(we,ee){ye.executing||c.triggerEvent(Te,Ae,{mutationList:we,observer:ee})}).observe(Te,Y.mutationSpec)),Y.intersectionSpec){Ae="hyperscript:intersection";let qe=new IntersectionObserver(function(we){for(let Le of we){var ee={observer:qe};ee=Object.assign(ee,Le),ee.intersecting=Le.isIntersecting,c.triggerEvent(Te,Ae,ee)}},Y.intersectionSpec);qe.observe(Te)}var Ge=Te.addEventListener||Te.on;Ge.call(Te,Ae,function qe(we){if(typeof Node<"u"&&oe instanceof Node&&Te!==oe&&!oe.isConnected){Te.removeEventListener(Ae,qe);return}var ee=c.makeContext(oe,ye,oe,we);if(!(Y.elsewhere&&oe.contains(we.target))){Y.from&&(ee.result=Te);for(let He of Y.args){let Me=ee.event[He.value];Me!==void 0?ee.locals[He.value]=Me:"detail"in ee.event&&(ee.locals[He.value]=ee.event.detail[He.value])}if(ee.meta.errorHandler=Ne,ee.meta.errorSymbol=Fe,ee.meta.finallyHandler=Pe,Y.filter){var Le=ee.meta.context;ee.meta.context=ee.event;try{var Xe=Y.filter.evaluate(ee);if(!Xe)return}finally{ee.meta.context=Le}}if(Y.inExpr){for(var Re=we.target;;)if(Re.matches&&Re.matches(Y.inExpr.css)){ee.result=Re;break}else if(Re=Re.parentElement,Re==null)return}if(Y.execCount++,Y.startCount){if(Y.endCount){if(Y.execCount<Y.startCount||Y.execCount>Y.endCount)return}else if(Y.unbounded){if(Y.execCount<Y.startCount)return}else if(Y.execCount!==Y.startCount)return}if(Y.debounceTime){Y.debounced&&clearTimeout(Y.debounced),Y.debounced=setTimeout(function(){ye.execute(ee)},Y.debounceTime);return}if(Y.throttleTime){if(Y.lastExec&&Date.now()<Y.lastExec+Y.throttleTime)return;Y.lastExec=Date.now()}ye.execute(ee)}})})}}};return s.setParent(Oe,ye),ye}}),b.addFeature("def",function(s,c,t){if(t.matchToken("def")){var a=s.requireElement("dotOrColonPath",t),h=a.evaluate(),f=h.split("."),l=f.pop(),p=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do p.push(t.requireTokenType("IDENTIFIER"));while(t.matchOpToken(","));t.requireOpToken(")")}var E=s.requireElement("commandList",t),y,A;if(t.matchToken("catch")&&(y=t.requireTokenType("IDENTIFIER").value,A=s.parseElement("commandList",t)),t.matchToken("finally")){var H=s.requireElement("commandList",t);s.ensureTerminated(H)}var R={displayName:l+"("+p.map(function(C){return C.value}).join(", ")+")",name:l,args:p,start:E,errorHandler:A,errorSymbol:y,finallyHandler:H,install:function(C,V){var X=function(){var j=c.makeContext(V,R,C,null);j.meta.errorHandler=A,j.meta.errorSymbol=y,j.meta.finallyHandler=H;for(var $=0;$<p.length;$++){var J=p[$],de=arguments[$];J&&(j.locals[J.value]=de)}j.meta.caller=arguments[p.length],j.meta.caller&&(j.meta.callingCommand=j.meta.caller.meta.command);var ge,Z=null,le=new Promise(function(Ee,ue){ge=Ee,Z=ue});return E.execute(j),j.meta.returned?j.meta.returnValue:(j.meta.resolve=ge,j.meta.reject=Z,le)};X.hyperfunc=!0,X.hypername=h,c.assignToNamespace(C,f,l,X)}};return s.ensureTerminated(E),A&&s.ensureTerminated(A),s.setParent(E,R),R}}),b.addFeature("set",function(s,c,t){let a=s.parseElement("setCommand",t);if(a){a.target.scope!=="element"&&s.raiseParseError(t,"variables declared at the feature level must be element scoped.");let h={start:a,install:function(f,l){a&&a.execute(c.makeContext(f,h,f,null))}};return s.ensureTerminated(a),h}}),b.addFeature("init",function(s,c,t){if(t.matchToken("init")){var a=t.matchToken("immediately"),h=s.requireElement("commandList",t),f={start:h,install:function(l,p){let E=function(){h&&h.execute(c.makeContext(l,f,l,null))};a?E():setTimeout(E,0)}};return s.ensureTerminated(h),s.setParent(h,f),f}}),b.addFeature("worker",function(s,c,t){if(t.matchToken("worker")){s.raiseParseError(t,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),b.addFeature("behavior",function(s,c,t){if(t.matchToken("behavior")){var a=s.requireElement("dotOrColonPath",t).evaluate(),h=a.split("."),f=h.pop(),l=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do l.push(t.requireTokenType("IDENTIFIER").value);while(t.matchOpToken(","));t.requireOpToken(")")}for(var p=s.requireElement("hyperscript",t),E=0;E<p.features.length;E++){var y=p.features[E];y.behavior=a}return{install:function(A,H){c.assignToNamespace(e.document&&e.document.body,h,f,function(R,C,V){for(var X=c.getInternalData(R),j=ce(X,a+"Scope"),$=0;$<l.length;$++)j[l[$]]=V[l[$]];p.apply(R,C)})}}}}),b.addFeature("install",function(s,c,t){if(t.matchToken("install")){var a=s.requireElement("dotOrColonPath",t).evaluate(),h=a.split("."),f=s.parseElement("namedArgumentList",t),l;return l={install:function(p,E){c.unifiedEval({args:[f],op:function(y,A){for(var H=e,R=0;R<h.length;R++)if(H=H[h[R]],typeof H!="object"&&typeof H!="function")throw new Error("No such behavior defined as "+a);if(!(H instanceof Function))throw new Error(a+" is not a behavior");H(p,E,A)}},c.makeContext(p,l,p,null))}}}}),b.addGrammarElement("jsBody",function(s,c,t){for(var a=t.currentToken().start,h=t.currentToken(),f=[],l="",p=!1;t.hasMore();){h=t.consumeToken();var E=t.token(0,!0);if(E.type==="IDENTIFIER"&&E.value==="end")break;p?h.type==="IDENTIFIER"||h.type==="NUMBER"?l+=h.value:(l!==""&&f.push(l),l="",p=!1):h.type==="IDENTIFIER"&&h.value==="function"&&(p=!0)}var y=h.end+1;return{type:"jsBody",exposedFunctionNames:f,jsSource:t.source.substring(a,y)}}),b.addFeature("js",function(s,c,t){if(t.matchToken("js")){var a=s.requireElement("jsBody",t),h=a.jsSource+`
return { `+a.exposedFunctionNames.map(function(l){return l+":"+l}).join(",")+" } ",f=new Function(h);return{jsSource:h,function:f,exposedFunctionNames:a.exposedFunctionNames,install:function(){Object.assign(e,f())}}}}),b.addCommand("js",function(s,c,t){if(t.matchToken("js")){var a=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do{var h=t.requireTokenType("IDENTIFIER");a.push(h.value)}while(t.matchOpToken(","));t.requireOpToken(")")}var f=s.requireElement("jsBody",t);t.matchToken("end");var l=re(Function,a.concat([f.jsSource])),p={jsSource:f.jsSource,function:l,inputs:a,op:function(E){var y=[];a.forEach(function(H){y.push(c.resolveSymbol(H,E,"default"))});var A=l.apply(e,y);return A&&typeof A.then=="function"?new Promise(function(H){A.then(function(R){E.result=R,H(c.findNext(this,E))})}):(E.result=A,c.findNext(this,E))}};return p}}),b.addCommand("async",function(s,c,t){if(t.matchToken("async")){if(t.matchToken("do")){for(var a=s.requireElement("commandList",t),h=a;h.next;)h=h.next;h.next=c.HALT,t.requireToken("end")}else var a=s.requireElement("command",t);var f={body:a,op:function(l){return setTimeout(function(){a.execute(l)}),c.findNext(this,l)}};return s.setParent(a,f),f}}),b.addCommand("tell",function(s,c,t){var a=t.currentToken();if(t.matchToken("tell")){var h=s.requireElement("expression",t),f=s.requireElement("commandList",t);t.hasMore()&&!s.featureStart(t.currentToken())&&t.requireToken("end");var l="tell_"+a.start,p={value:h,body:f,args:[h],resolveNext:function(E){var y=E.meta.iterators[l];return y.index<y.value.length?(E.you=y.value[y.index++],f):(E.you=y.originalYou,this.next?this.next:c.findNext(this.parent,E))},op:function(E,y){return y==null?y=[]:Array.isArray(y)||y instanceof NodeList||(y=[y]),E.meta.iterators[l]={originalYou:E.you,index:0,value:y},this.resolveNext(E)}};return s.setParent(f,p),p}}),b.addCommand("wait",function(s,c,t){if(t.matchToken("wait")){var a;if(t.matchToken("for")){t.matchToken("a");var h=[];do{var f=t.token(0);f.type==="NUMBER"||f.type==="L_PAREN"?h.push({time:s.requireElement("expression",t).evaluate()}):h.push({name:s.requireElement("dotOrColonPath",t,"Expected event name").evaluate(),args:I(t)})}while(t.matchToken("or"));if(t.matchToken("from"))var l=s.requireElement("expression",t);return a={event:h,on:l,args:[l],op:function(E,y){var A=y||E.me;if(!(A instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise(H=>{var R=!1;for(let V of h){var C=X=>{if(E.result=X,V.args)for(let j of V.args)E.locals[j.value]=X[j.value]||(X.detail?X.detail[j.value]:null);R||(R=!0,H(c.findNext(this,E)))};V.name?A.addEventListener(V.name,C,{once:!0}):V.time!=null&&setTimeout(C,V.time,V.time)}})}},a}else{var p;return t.matchToken("a")?(t.requireToken("tick"),p=0):p=s.requireElement("expression",t),a={type:"waitCmd",time:p,args:[p],op:function(E,y){return new Promise(A=>{setTimeout(()=>{A(c.findNext(this,E))},y)})},execute:function(E){return c.unifiedExec(this,E)}},a}}}),b.addGrammarElement("dotOrColonPath",function(s,c,t){var a=t.matchTokenType("IDENTIFIER");if(a){var h=[a.value],f=t.matchOpToken(".")||t.matchOpToken(":");if(f)do h.push(t.requireTokenType("IDENTIFIER","NUMBER").value);while(t.matchOpToken(f.value));return{type:"dotOrColonPath",path:h,evaluate:function(){return h.join(f?f.value:"")}}}}),b.addGrammarElement("eventName",function(s,c,t){var a;return(a=t.matchTokenType("STRING"))?{evaluate:function(){return a.value}}:s.parseElement("dotOrColonPath",t)});function L(s,c,t,a){var h=c.requireElement("eventName",a),f=c.parseElement("namedArgumentList",a);if(s==="send"&&a.matchToken("to")||s==="trigger"&&a.matchToken("on"))var l=c.requireElement("expression",a);else var l=c.requireElement("implicitMeTarget",a);var p={eventName:h,details:f,to:l,args:[l,h,f],op:function(E,y,A,H){return t.nullCheck(y,l),t.implicitLoop(y,function(R){t.triggerEvent(R,A,H,E.me)}),t.findNext(p,E)}};return p}b.addCommand("trigger",function(s,c,t){if(t.matchToken("trigger"))return L("trigger",s,c,t)}),b.addCommand("send",function(s,c,t){if(t.matchToken("send"))return L("send",s,c,t)});var O=function(s,c,t,a){if(a)if(s.commandBoundary(t.currentToken()))s.raiseParseError(t,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var h=s.requireElement("expression",t);var f={value:h,args:[h],op:function(l,p){var E=l.meta.resolve;return l.meta.returned=!0,l.meta.returnValue=p,E&&(p?E(p):E()),c.HALT}};return f};b.addCommand("return",function(s,c,t){if(t.matchToken("return"))return O(s,c,t,!0)}),b.addCommand("exit",function(s,c,t){if(t.matchToken("exit"))return O(s,c,t,!1)}),b.addCommand("halt",function(s,c,t){if(t.matchToken("halt")){if(t.matchToken("the")){t.requireToken("event"),t.matchOpToken("'")&&t.requireToken("s");var a=!0}if(t.matchToken("bubbling"))var h=!0;else if(t.matchToken("default"))var f=!0;var l=O(s,c,t,!1),p={keepExecuting:!0,bubbling:h,haltDefault:f,exit:l,op:function(E){if(E.event)return h?E.event.stopPropagation():(f||E.event.stopPropagation(),E.event.preventDefault()),a?c.findNext(this,E):l}};return p}}),b.addCommand("log",function(s,c,t){if(t.matchToken("log")){for(var a=[s.parseElement("expression",t)];t.matchOpToken(",");)a.push(s.requireElement("expression",t));if(t.matchToken("with"))var h=s.requireElement("expression",t);var f={exprs:a,withExpr:h,args:[h,a],op:function(l,p,E){return p?p.apply(null,E):console.log.apply(null,E),c.findNext(this,l)}};return f}}),b.addCommand("beep!",function(s,c,t){if(t.matchToken("beep!")){for(var a=[s.parseElement("expression",t)];t.matchOpToken(",");)a.push(s.requireElement("expression",t));var h={exprs:a,args:[a],op:function(f,l){for(let p=0;p<a.length;p++){let E=a[p],y=l[p];c.beepValueToConsole(f.me,E,y)}return c.findNext(this,f)}};return h}}),b.addCommand("throw",function(s,c,t){if(t.matchToken("throw")){var a=s.requireElement("expression",t),h={expr:a,args:[a],op:function(f,l){throw c.registerHyperTrace(f,l),l}};return h}});var N=function(s,c,t){var a=s.requireElement("expression",t),h={expr:a,args:[a],op:function(f,l){return f.result=l,c.findNext(h,f)}};return h};b.addCommand("call",function(s,c,t){if(t.matchToken("call")){var a=N(s,c,t);return a.expr&&a.expr.type!=="functionCall"&&s.raiseParseError(t,"Must be a function invocation"),a}}),b.addCommand("get",function(s,c,t){if(t.matchToken("get"))return N(s,c,t)}),b.addCommand("make",function(s,c,t){if(t.matchToken("make")){t.matchToken("a")||t.matchToken("an");var a=s.requireElement("expression",t),h=[];if(a.type!=="queryRef"&&t.matchToken("from"))do h.push(s.requireElement("expression",t));while(t.matchOpToken(","));if(t.matchToken("called"))var f=s.requireElement("symbol",t);var l;return a.type==="queryRef"?(l={op:function(p){for(var E,y="div",A,H=[],R=/(?:(^|#|\.)([^#\. ]+))/g;E=R.exec(a.css);)E[1]===""?y=E[2].trim():E[1]==="#"?A=E[2].trim():H.push(E[2].trim());var C=document.createElement(y);A!==void 0&&(C.id=A);for(var V=0;V<H.length;V++){var X=H[V];C.classList.add(X)}return p.result=C,f&&c.setSymbol(f.name,p,f.scope,C),c.findNext(this,p)}},l):(l={args:[a,h],op:function(p,E,y){return p.result=re(E,y),f&&c.setSymbol(f.name,p,f.scope,p.result),c.findNext(this,p)}},l)}}),b.addGrammarElement("pseudoCommand",function(s,c,t){let a=t.token(1);if(!(a&&a.op&&(a.value==="."||a.value==="(")))return null;for(var h=s.requireElement("primaryExpression",t),f=h.root,l=h;f.root!=null;)l=l.root,f=f.root;if(h.type!=="functionCall"&&s.raiseParseError(t,"Pseudo-commands must be function calls"),l.type==="functionCall"&&l.root.root==null){if(t.matchAnyToken("the","to","on","with","into","from","at"))var p=s.requireElement("expression",t);else if(t.matchToken("me"))var p=s.requireElement("implicitMeTarget",t)}var E;return p?E={type:"pseudoCommand",root:p,argExressions:l.argExressions,args:[p,l.argExressions],op:function(y,A,H){c.nullCheck(A,p);var R=A[l.root.name];return c.nullCheck(R,l),R.hyperfunc&&H.push(y),y.result=R.apply(A,H),c.findNext(E,y)},execute:function(y){return c.unifiedExec(this,y)}}:E={type:"pseudoCommand",expr:h,args:[h],op:function(y,A){return y.result=A,c.findNext(E,y)},execute:function(y){return c.unifiedExec(this,y)}},E});var D=function(s,c,t,a,h){var f=a.type==="symbol",l=a.type==="attributeRef",p=a.type==="styleRef",E=a.type==="arrayIndex";!(l||p||f)&&a.root==null&&s.raiseParseError(t,"Can only put directly into symbols, not references");var y=null,A=null;if(!f)if(l||p){y=s.requireElement("implicitMeTarget",t);var H=a}else if(E)A=a.firstIndex,y=a.root;else{A=a.prop?a.prop.value:null;var H=a.attribute;y=a.root}var R={target:a,symbolWrite:f,value:h,args:[y,A,h],op:function(C,V,X,j){return f?c.setSymbol(a.name,C,a.scope,j):(c.nullCheck(V,y),E?V[X]=j:c.implicitLoop(V,function($){H?H.type==="attributeRef"?j==null?$.removeAttribute(H.name):$.setAttribute(H.name,j):$.style[H.name]=j:$[X]=j})),c.findNext(this,C)}};return R};b.addCommand("default",function(s,c,t){if(t.matchToken("default")){var a=s.requireElement("assignableExpression",t);t.requireToken("to");var h=s.requireElement("expression",t),f=D(s,c,t,a,h),l={target:a,value:h,setter:f,args:[a],op:function(p,E){return E?c.findNext(this,p):f}};return f.parent=l,l}}),b.addCommand("set",function(s,c,t){if(t.matchToken("set")){if(t.currentToken().type==="L_BRACE"){var a=s.requireElement("objectLiteral",t);t.requireToken("on");var h=s.requireElement("expression",t),f={objectLiteral:a,target:h,args:[a,h],op:function(p,E,y){return Object.assign(y,E),c.findNext(this,p)}};return f}try{t.pushFollow("to");var h=s.requireElement("assignableExpression",t)}finally{t.popFollow()}t.requireToken("to");var l=s.requireElement("expression",t);return D(s,c,t,h,l)}}),b.addCommand("if",function(s,c,t){if(!t.matchToken("if"))return;var a=s.requireElement("expression",t);t.matchToken("then");var h=s.parseElement("commandList",t),f=!1;let l=t.matchToken("else")||t.matchToken("otherwise");if(l){let y=t.peekToken("if");if(f=y!=null&&y.line===l.line,f)var p=s.parseElement("command",t);else var p=s.parseElement("commandList",t)}t.hasMore()&&!f&&t.requireToken("end");var E={expr:a,trueBranch:h,falseBranch:p,args:[a],op:function(y,A){return A?h:p||c.findNext(this,y)}};return s.setParent(h,E),s.setParent(p,E),E});var F=function(s,c,t,a){var h=c.currentToken(),f;if(c.matchToken("for")||a){var l=c.requireTokenType("IDENTIFIER");f=l.value,c.requireToken("in");var p=s.requireElement("expression",c)}else if(c.matchToken("in")){f="it";var p=s.requireElement("expression",c)}else if(c.matchToken("while"))var E=s.requireElement("expression",c);else if(c.matchToken("until")){var y=!0;if(c.matchToken("event")){var A=s.requireElement("dotOrColonPath",c,"Expected event name");if(c.matchToken("from"))var H=s.requireElement("expression",c)}else var E=s.requireElement("expression",c)}else if(!s.commandBoundary(c.currentToken())&&c.currentToken().value!=="forever"){var R=s.requireElement("expression",c);c.requireToken("times")}else{c.matchToken("forever");var C=!0}if(c.matchToken("index"))var l=c.requireTokenType("IDENTIFIER"),V=l.value;var X=s.parseElement("commandList",c);if(X&&A){for(var j=X;j.next;)j=j.next;var $={type:"waitATick",op:function(){return new Promise(function(Z){setTimeout(function(){Z(t.findNext($))},0)})}};j.next=$}if(c.hasMore()&&c.requireToken("end"),f==null){f="_implicit_repeat_"+h.start;var J=f}else var J=f+"_"+h.start;var de={identifier:f,indexIdentifier:V,slot:J,expression:p,forever:C,times:R,until:y,event:A,on:H,whileExpr:E,resolveNext:function(){return this},loop:X,args:[E,R],op:function(Z,le,Ee){var ue=Z.meta.iterators[J],pe=!1,Ce=null;if(this.forever)pe=!0;else if(this.until)A?pe=Z.meta.iterators[J].eventFired===!1:pe=le!==!0;else if(E)pe=le;else if(Ee)pe=ue.index<Ee;else{var Ie=ue.iterator.next();pe=!Ie.done,Ce=Ie.value}return pe?(ue.value?Z.result=Z.locals[f]=Ce:Z.result=ue.index,V&&(Z.locals[V]=ue.index),ue.index++,X):(Z.meta.iterators[J]=null,t.findNext(this.parent,Z))}};s.setParent(X,de);var ge={name:"repeatInit",args:[p,A,H],op:function(Z,le,Ee,ue){var pe={index:0,value:le,eventFired:!1};if(Z.meta.iterators[J]=pe,le&&le[Symbol.iterator]&&(pe.iterator=le[Symbol.iterator]()),A){var Ce=ue||Z.me;Ce.addEventListener(Ee,function(Ie){Z.meta.iterators[J].eventFired=!0},{once:!0})}return de},execute:function(Z){return t.unifiedExec(this,Z)}};return s.setParent(de,ge),ge};b.addCommand("repeat",function(s,c,t){if(t.matchToken("repeat"))return F(s,t,c,!1)}),b.addCommand("for",function(s,c,t){if(t.matchToken("for"))return F(s,t,c,!0)}),b.addCommand("continue",function(s,c,t){if(t.matchToken("continue")){var a={op:function(h){for(var f=this.parent;;f=f.parent)if(f==null&&s.raiseParseError(t,"Command `continue` cannot be used outside of a `repeat` loop."),f.loop!=null)return f.resolveNext(h)}};return a}}),b.addCommand("break",function(s,c,t){if(t.matchToken("break")){var a={op:function(h){for(var f=this.parent;;f=f.parent)if(f==null&&s.raiseParseError(t,"Command `continue` cannot be used outside of a `repeat` loop."),f.loop!=null)return c.findNext(f.parent,h)}};return a}}),b.addGrammarElement("stringLike",function(s,c,t){return s.parseAnyOf(["string","nakedString"],t)}),b.addCommand("append",function(s,c,t){if(t.matchToken("append")){var a=null,h=s.requireElement("expression",t),f={type:"symbol",evaluate:function(E){return c.resolveSymbol("result",E)}};t.matchToken("to")?a=s.requireElement("expression",t):a=f;var l=null;(a.type==="symbol"||a.type==="attributeRef"||a.root!=null)&&(l=D(s,c,t,a,f));var p={value:h,target:a,args:[a,h],op:function(E,y,A){if(Array.isArray(y))return y.push(A),c.findNext(this,E);if(y instanceof Element)return y.innerHTML+=A,c.findNext(this,E);if(l)return E.result=(y||"")+A,l;throw Error("Unable to append a value!")},execute:function(E){return c.unifiedExec(this,E)}};return l!=null&&(l.parent=p),p}});function B(s,c,t){t.matchToken("at")||t.matchToken("from");let a={includeStart:!0,includeEnd:!1};return a.from=t.matchToken("start")?0:s.requireElement("expression",t),(t.matchToken("to")||t.matchOpToken(".."))&&(t.matchToken("end")?a.toEnd=!0:a.to=s.requireElement("expression",t)),t.matchToken("inclusive")?a.includeEnd=!0:t.matchToken("exclusive")&&(a.includeStart=!1),a}class P{constructor(c,t){this.re=c,this.str=t}next(){let c=this.re.exec(this.str);return c===null?{done:!0}:{value:c}}}class W{constructor(c,t,a){this.re=c,this.flags=t,this.str=a}[Symbol.iterator](){return new P(new RegExp(this.re,this.flags),this.str)}}b.addCommand("pick",(s,c,t)=>{if(t.matchToken("pick")){if(t.matchToken("the"),t.matchToken("item")||t.matchToken("items")||t.matchToken("character")||t.matchToken("characters")){let a=B(s,c,t);return t.requireToken("from"),{args:[s.requireElement("expression",t),a.from,a.to],op(f,l,p,E){return a.toEnd&&(E=l.length),a.includeStart||p++,a.includeEnd&&E++,(E==null||E==null)&&(E=p+1),f.result=l.slice(p,E),c.findNext(this,f)}}}if(t.matchToken("match")){t.matchToken("of");let a=s.parseElement("expression",t),h="";return t.matchOpToken("|")&&(h=t.requireToken("identifier").value),t.requireToken("from"),{args:[s.parseElement("expression",t),a],op(l,p,E){return l.result=new RegExp(E,h).exec(p),c.findNext(this,l)}}}if(t.matchToken("matches")){t.matchToken("of");let a=s.parseElement("expression",t),h="gu";return t.matchOpToken("|")&&(h="g"+t.requireToken("identifier").value.replace("g","")),console.log("flags",h),t.requireToken("from"),{args:[s.parseElement("expression",t),a],op(l,p,E){return l.result=new W(E,h,p),c.findNext(this,l)}}}}}),b.addCommand("increment",function(s,c,t){if(t.matchToken("increment")){var a,h=s.parseElement("assignableExpression",t);t.matchToken("by")&&(a=s.requireElement("expression",t));var f={type:"implicitIncrementOp",target:h,args:[h,a],op:function(l,p,E){p=p?parseFloat(p):0,E=a?parseFloat(E):1;var y=p+E;return l.result=y,y},evaluate:function(l){return c.unifiedEval(this,l)}};return D(s,c,t,h,f)}}),b.addCommand("decrement",function(s,c,t){if(t.matchToken("decrement")){var a,h=s.parseElement("assignableExpression",t);t.matchToken("by")&&(a=s.requireElement("expression",t));var f={type:"implicitDecrementOp",target:h,args:[h,a],op:function(l,p,E){p=p?parseFloat(p):0,E=a?parseFloat(E):1;var y=p-E;return l.result=y,y},evaluate:function(l){return c.unifiedEval(this,l)}};return D(s,c,t,h,f)}});function _(s,c){var t="text",a;return s.matchToken("a")||s.matchToken("an"),s.matchToken("json")||s.matchToken("Object")?t="json":s.matchToken("response")?t="response":s.matchToken("html")?t="html":s.matchToken("text")||(a=c.requireElement("dotOrColonPath",s).evaluate()),{type:t,conversion:a}}b.addCommand("fetch",function(s,c,t){if(t.matchToken("fetch")){var a=s.requireElement("stringLike",t);if(t.matchToken("as"))var h=_(t,s);if(t.matchToken("with")&&t.currentToken().value!=="{")var f=s.parseElement("nakedNamedArgumentList",t);else var f=s.parseElement("objectLiteral",t);h==null&&t.matchToken("as")&&(h=_(t,s));var l=h?h.type:"text",p=h?h.conversion:null,E={url:a,argExpressions:f,args:[a,f],op:function(y,A,H){var R=H||{};R.sender=y.me,R.headers=R.headers||{};var C=new AbortController;let V=y.me.addEventListener("fetch:abort",function(){C.abort()},{once:!0});R.signal=C.signal,c.triggerEvent(y.me,"hyperscript:beforeFetch",R),c.triggerEvent(y.me,"fetch:beforeRequest",R),H=R;var X=!1;return H.timeout&&setTimeout(function(){X||C.abort()},H.timeout),fetch(A,H).then(function(j){let $={response:j};return c.triggerEvent(y.me,"fetch:afterResponse",$),j=$.response,l==="response"?(y.result=j,c.triggerEvent(y.me,"fetch:afterRequest",{result:j}),X=!0,c.findNext(E,y)):l==="json"?j.json().then(function(J){return y.result=J,c.triggerEvent(y.me,"fetch:afterRequest",{result:J}),X=!0,c.findNext(E,y)}):j.text().then(function(J){return p&&(J=c.convertValue(J,p)),l==="html"&&(J=c.convertValue(J,"Fragment")),y.result=J,c.triggerEvent(y.me,"fetch:afterRequest",{result:J}),X=!0,c.findNext(E,y)})}).catch(function(j){throw c.triggerEvent(y.me,"fetch:error",{reason:j}),j}).finally(function(){y.me.removeEventListener("fetch:abort",V)})}};return E}})}function te(b){b.addCommand("settle",function(T,x,d){if(d.matchToken("settle")){if(T.commandBoundary(d.currentToken()))var I=T.requireElement("implicitMeTarget",d);else var I=T.requireElement("expression",d);var L={type:"settleCmd",args:[I],op:function(O,N){x.nullCheck(N,I);var D=null,F=!1,B=!1,P=new Promise(function(W){D=W});return N.addEventListener("transitionstart",function(){B=!0},{once:!0}),setTimeout(function(){!B&&!F&&D(x.findNext(L,O))},500),N.addEventListener("transitionend",function(){F||D(x.findNext(L,O))},{once:!0}),P},execute:function(O){return x.unifiedExec(this,O)}};return L}}),b.addCommand("add",function(T,x,d){if(d.matchToken("add")){var I=T.parseElement("classRef",d),L=null,O=null;if(I==null)L=T.parseElement("attributeRef",d),L==null&&(O=T.parseElement("styleLiteral",d),O==null&&T.raiseParseError(d,"Expected either a class reference or attribute expression"));else for(var N=[I];I=T.parseElement("classRef",d);)N.push(I);if(d.matchToken("to"))var D=T.requireElement("expression",d);else var D=T.requireElement("implicitMeTarget",d);if(d.matchToken("when")){O&&T.raiseParseError(d,"Only class and properties are supported with a when clause");var F=T.requireElement("expression",d)}return N?{classRefs:N,to:D,args:[D,N],op:function(B,P,W){return x.nullCheck(P,D),x.forEach(W,function(_){x.implicitLoop(P,function(s){F?(B.result=s,x.evaluateNoPromise(F,B)?s instanceof Element&&s.classList.add(_.className):s instanceof Element&&s.classList.remove(_.className),B.result=null):s instanceof Element&&s.classList.add(_.className)})}),x.findNext(this,B)}}:L?{type:"addCmd",attributeRef:L,to:D,args:[D],op:function(B,P,W){return x.nullCheck(P,D),x.implicitLoop(P,function(_){F?(B.result=_,x.evaluateNoPromise(F,B)?_.setAttribute(L.name,L.value):_.removeAttribute(L.name),B.result=null):_.setAttribute(L.name,L.value)}),x.findNext(this,B)},execute:function(B){return x.unifiedExec(this,B)}}:{type:"addCmd",cssDeclaration:O,to:D,args:[D,O],op:function(B,P,W){return x.nullCheck(P,D),x.implicitLoop(P,function(_){_.style.cssText+=W}),x.findNext(this,B)},execute:function(B){return x.unifiedExec(this,B)}}}}),b.addGrammarElement("styleLiteral",function(T,x,d){if(d.matchOpToken("{")){for(var I=[""],L=[];d.hasMore();){if(d.matchOpToken("\\"))d.consumeToken();else{if(d.matchOpToken("}"))break;if(d.matchToken("$")){var O=d.matchOpToken("{"),N=T.parseElement("expression",d);O&&d.requireOpToken("}"),L.push(N),I.push("")}else{var D=d.consumeToken();I[I.length-1]+=d.source.substring(D.start,D.end)}}I[I.length-1]+=d.lastWhitespace()}return{type:"styleLiteral",args:[L],op:function(F,B){var P="";return I.forEach(function(W,_){P+=W,_ in B&&(P+=B[_])}),P},evaluate:function(F){return x.unifiedEval(this,F)}}}}),b.addCommand("remove",function(T,x,d){if(d.matchToken("remove")){var I=T.parseElement("classRef",d),L=null,O=null;if(I==null)L=T.parseElement("attributeRef",d),L==null&&(O=T.parseElement("expression",d),O==null&&T.raiseParseError(d,"Expected either a class reference, attribute expression or value expression"));else for(var N=[I];I=T.parseElement("classRef",d);)N.push(I);if(d.matchToken("from"))var D=T.requireElement("expression",d);else if(O==null)var D=T.requireElement("implicitMeTarget",d);return O?{elementExpr:O,from:D,args:[O,D],op:function(F,B,P){return x.nullCheck(B,O),x.implicitLoop(B,function(W){W.parentElement&&(P==null||P.contains(W))&&W.parentElement.removeChild(W)}),x.findNext(this,F)}}:{classRefs:N,attributeRef:L,elementExpr:O,from:D,args:[N,D],op:function(F,B,P){return x.nullCheck(P,D),B?x.forEach(B,function(W){x.implicitLoop(P,function(_){_.classList.remove(W.className)})}):x.implicitLoop(P,function(W){W.removeAttribute(L.name)}),x.findNext(this,F)}}}}),b.addCommand("toggle",function(T,x,d){if(d.matchToken("toggle")){if(d.matchAnyToken("the","my"),d.currentToken().type==="STYLE_REF"){var I=d.consumeToken().value.substr(1),L=!0,O=v(T,d,I);if(d.matchToken("of")){d.pushFollow("with");try{var N=T.requireElement("expression",d)}finally{d.popFollow()}}else var N=T.requireElement("implicitMeTarget",d)}else if(d.matchToken("between")){var D=!0,F=T.parseElement("classRef",d);d.requireToken("and");var B=T.requireElement("classRef",d)}else{var F=T.parseElement("classRef",d),P=null;if(F==null)P=T.parseElement("attributeRef",d),P==null&&T.raiseParseError(d,"Expected either a class reference or attribute expression");else for(var W=[F];F=T.parseElement("classRef",d);)W.push(F)}if(L!==!0)if(d.matchToken("on"))var N=T.requireElement("expression",d);else var N=T.requireElement("implicitMeTarget",d);if(d.matchToken("for"))var _=T.requireElement("expression",d);else if(d.matchToken("until")){var s=T.requireElement("dotOrColonPath",d,"Expected event name");if(d.matchToken("from"))var c=T.requireElement("expression",d)}var t={classRef:F,classRef2:B,classRefs:W,attributeRef:P,on:N,time:_,evt:s,from:c,toggle:function(a,h,f,l){x.nullCheck(a,N),L?x.implicitLoop(a,function(p){O("toggle",p)}):D?x.implicitLoop(a,function(p){p.classList.contains(h.className)?(p.classList.remove(h.className),p.classList.add(f.className)):(p.classList.add(h.className),p.classList.remove(f.className))}):l?x.forEach(l,function(p){x.implicitLoop(a,function(E){E.classList.toggle(p.className)})}):x.forEach(a,function(p){p.hasAttribute(P.name)?p.removeAttribute(P.name):p.setAttribute(P.name,P.value)})},args:[N,_,s,c,F,B,W],op:function(a,h,f,l,p,E,y,A){return f?new Promise(function(H){t.toggle(h,E,y,A),setTimeout(function(){t.toggle(h,E,y,A),H(x.findNext(t,a))},f)}):l?new Promise(function(H){var R=p||a.me;R.addEventListener(l,function(){t.toggle(h,E,y,A),H(x.findNext(t,a))},{once:!0}),t.toggle(h,E,y,A)}):(this.toggle(h,E,y,A),x.findNext(t,a))}};return t}});var o={display:function(T,x,d){if(d)x.style.display=d;else if(T==="toggle")getComputedStyle(x).display==="none"?o.display("show",x,d):o.display("hide",x,d);else if(T==="hide"){let I=b.runtime.getInternalData(x);I.originalDisplay==null&&(I.originalDisplay=x.style.display),x.style.display="none"}else{let I=b.runtime.getInternalData(x);I.originalDisplay&&I.originalDisplay!=="none"?x.style.display=I.originalDisplay:x.style.removeProperty("display")}},visibility:function(T,x,d){d?x.style.visibility=d:T==="toggle"?getComputedStyle(x).visibility==="hidden"?o.visibility("show",x,d):o.visibility("hide",x,d):T==="hide"?x.style.visibility="hidden":x.style.visibility="visible"},opacity:function(T,x,d){d?x.style.opacity=d:T==="toggle"?getComputedStyle(x).opacity==="0"?o.opacity("show",x,d):o.opacity("hide",x,d):T==="hide"?x.style.opacity="0":x.style.opacity="1"}},u=function(T,x,d){var I,L=d.currentToken();return L.value==="when"||L.value==="with"||T.commandBoundary(L)?I=T.parseElement("implicitMeTarget",d):I=T.parseElement("expression",d),I},v=function(T,x,d){var I=r.defaultHideShowStrategy,L=o;r.hideShowStrategies&&(L=Object.assign(L,r.hideShowStrategies)),d=d||I||"display";var O=L[d];return O==null&&T.raiseParseError(x,"Unknown show/hide strategy : "+d),O};b.addCommand("hide",function(T,x,d){if(d.matchToken("hide")){var I=u(T,x,d),L=null;d.matchToken("with")&&(L=d.requireTokenType("IDENTIFIER","STYLE_REF").value,L.indexOf("*")===0&&(L=L.substr(1)));var O=v(T,d,L);return{target:I,args:[I],op:function(N,D){return x.nullCheck(D,I),x.implicitLoop(D,function(F){O("hide",F)}),x.findNext(this,N)}}}}),b.addCommand("show",function(T,x,d){if(d.matchToken("show")){var I=u(T,x,d),L=null;d.matchToken("with")&&(L=d.requireTokenType("IDENTIFIER","STYLE_REF").value,L.indexOf("*")===0&&(L=L.substr(1)));var O=null;if(d.matchOpToken(":")){var N=d.consumeUntilWhitespace();d.matchTokenType("WHITESPACE"),O=N.map(function(B){return B.value}).join("")}if(d.matchToken("when"))var D=T.requireElement("expression",d);var F=v(T,d,L);return{target:I,when:D,args:[I],op:function(B,P){return x.nullCheck(P,I),x.implicitLoop(P,function(W){D?(B.result=W,x.evaluateNoPromise(D,B)?F("show",W,O):F("hide",W),B.result=null):F("show",W,O)}),x.findNext(this,B)}}}}),b.addCommand("take",function(T,x,d){if(d.matchToken("take")){let F=null,B=[];for(;F=T.parseElement("classRef",d);)B.push(F);var I=null,L=null;let P=B.length>0;if(P||(I=T.parseElement("attributeRef",d),I==null&&T.raiseParseError(d,"Expected either a class reference or attribute expression"),d.matchToken("with")&&(L=T.requireElement("expression",d))),d.matchToken("from"))var O=T.requireElement("expression",d);if(d.matchToken("for"))var N=T.requireElement("expression",d);else var N=T.requireElement("implicitMeTarget",d);if(P){var D={classRefs:B,from:O,forElt:N,args:[B,O,N],op:function(W,_,s,c){return x.nullCheck(c,N),x.implicitLoop(_,function(t){var a=t.className;s?x.implicitLoop(s,function(h){h.classList.remove(a)}):x.implicitLoop(t,function(h){h.classList.remove(a)}),x.implicitLoop(c,function(h){h.classList.add(a)})}),x.findNext(this,W)}};return D}else{var D={attributeRef:I,from:O,forElt:N,args:[O,N,L],op:function(_,s,c,t){return x.nullCheck(s,O),x.nullCheck(c,N),x.implicitLoop(s,function(a){t?a.setAttribute(I.name,t):a.removeAttribute(I.name)}),x.implicitLoop(c,function(a){a.setAttribute(I.name,I.value||"")}),x.findNext(this,_)}};return D}}});function g(T,x,d,I){if(d!=null)var L=T.resolveSymbol(d,x);else var L=x;if(L instanceof Element||L instanceof HTMLDocument){for(;L.firstChild;)L.removeChild(L.firstChild);L.append(b.runtime.convertValue(I,"Fragment")),T.processNode(L)}else if(d!=null)T.setSymbol(d,x,null,I);else throw"Don't know how to put a value into "+typeof x}b.addCommand("put",function(T,x,d){if(d.matchToken("put")){var I=T.requireElement("expression",d),L=d.matchAnyToken("into","before","after");L==null&&d.matchToken("at")&&(d.matchToken("the"),L=d.matchAnyToken("start","end"),d.requireToken("of")),L==null&&T.raiseParseError(d,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var O=T.requireElement("expression",d),N=L.value,D=!1,F=!1,B=null,P=null;if(O.type==="arrayIndex"&&N==="into")D=!0,P=O.prop,B=O.root;else if(O.prop&&O.root&&N==="into")P=O.prop.value,B=O.root;else if(O.type==="symbol"&&N==="into")F=!0,P=O.name;else if(O.type==="attributeRef"&&N==="into"){var W=!0;P=O.name,B=T.requireElement("implicitMeTarget",d)}else if(O.type==="styleRef"&&N==="into"){var _=!0;P=O.name,B=T.requireElement("implicitMeTarget",d)}else if(O.attribute&&N==="into"){var W=O.attribute.type==="attributeRef",_=O.attribute.type==="styleRef";P=O.attribute.name,B=O.root}else B=O;var s={target:O,operation:N,symbolWrite:F,value:I,args:[B,P,I],op:function(c,t,a,h){if(F)g(x,c,a,h);else if(x.nullCheck(t,B),N==="into")W?x.implicitLoop(t,function(l){l.setAttribute(a,h)}):_?x.implicitLoop(t,function(l){l.style[a]=h}):D?t[a]=h:x.implicitLoop(t,function(l){g(x,l,a,h)});else{var f=N==="before"?Element.prototype.before:N==="after"?Element.prototype.after:N==="start"?Element.prototype.prepend:Element.prototype.append;x.implicitLoop(t,function(l){f.call(l,h instanceof Node?h:x.convertValue(h,"Fragment")),l.parentElement?x.processNode(l.parentElement):x.processNode(l)})}return x.findNext(this,c)}};return s}});function w(T,x,d){var I;if(d.matchToken("the")||d.matchToken("element")||d.matchToken("elements")||d.currentToken().type==="CLASS_REF"||d.currentToken().type==="ID_REF"||d.currentToken().op&&d.currentToken().value==="<"){T.possessivesDisabled=!0;try{I=T.parseElement("expression",d)}finally{delete T.possessivesDisabled}d.matchOpToken("'")&&d.requireToken("s")}else if(d.currentToken().type==="IDENTIFIER"&&d.currentToken().value==="its"){var L=d.matchToken("its");I={type:"pseudopossessiveIts",token:L,name:L.value,evaluate:function(O){return x.resolveSymbol("it",O)}}}else d.matchToken("my")||d.matchToken("me"),I=T.parseElement("implicitMeTarget",d);return I}b.addCommand("transition",function(T,x,d){if(d.matchToken("transition")){for(var I=w(T,x,d),L=[],O=[],N=[],D=d.currentToken();!T.commandBoundary(D)&&D.value!=="over"&&D.value!=="using";){if(d.currentToken().type==="STYLE_REF"){let _=d.consumeToken().value.substr(1);L.push({type:"styleRefValue",evaluate:function(){return _}})}else L.push(T.requireElement("stringLike",d));d.matchToken("from")?O.push(T.requireElement("expression",d)):O.push(null),d.requireToken("to"),d.matchToken("initial")?N.push({type:"initial_literal",evaluate:function(){return"initial"}}):N.push(T.requireElement("expression",d)),D=d.currentToken()}if(d.matchToken("over"))var F=T.requireElement("expression",d);else if(d.matchToken("using"))var B=T.requireElement("expression",d);var P={to:N,args:[I,L,O,N,B,F],op:function(W,_,s,c,t,a,h){x.nullCheck(_,I);var f=[];return x.implicitLoop(_,function(l){var p=new Promise(function(E,y){var A=l.style.transition;h?l.style.transition="all "+h+"ms ease-in":a?l.style.transition=a:l.style.transition=r.defaultTransition;for(var H=x.getInternalData(l),R=getComputedStyle(l),C={},V=0;V<R.length;V++){var X=R[V],j=R[X];C[X]=j}H.initialStyles||(H.initialStyles=C);for(var V=0;V<s.length;V++){var $=s[V],J=c[V];J==="computed"||J==null?l.style[$]=C[$]:l.style[$]=J}var de=!1,ge=!1;l.addEventListener("transitionend",function(){ge||(l.style.transition=A,ge=!0,E())},{once:!0}),l.addEventListener("transitionstart",function(){de=!0},{once:!0}),setTimeout(function(){!ge&&!de&&(l.style.transition=A,ge=!0,E())},100),setTimeout(function(){for(var Z=[],le=0;le<s.length;le++){var Ee=s[le],ue=t[le];if(ue==="initial"){var pe=H.initialStyles[Ee];l.style[Ee]=pe}else l.style[Ee]=ue}},0)});f.push(p)}),Promise.all(f).then(function(){return x.findNext(P,W)})}};return P}}),b.addCommand("measure",function(T,x,d){if(d.matchToken("measure")){var I=w(T,x,d),L=[];if(!T.commandBoundary(d.currentToken()))do L.push(d.matchTokenType("IDENTIFIER").value);while(d.matchOpToken(","));return{properties:L,args:[I],op:function(O,N){x.nullCheck(N,I),0 in N&&(N=N[0]);var D=N.getBoundingClientRect(),F={top:N.scrollTop,left:N.scrollLeft,topMax:N.scrollTopMax,leftMax:N.scrollLeftMax,height:N.scrollHeight,width:N.scrollWidth};return O.result={x:D.x,y:D.y,left:D.left,top:D.top,right:D.right,bottom:D.bottom,width:D.width,height:D.height,bounds:D,scrollLeft:F.left,scrollTop:F.top,scrollLeftMax:F.leftMax,scrollTopMax:F.topMax,scrollWidth:F.width,scrollHeight:F.height,scroll:F},x.forEach(L,function(B){if(B in O.result)O.locals[B]=O.result[B];else throw"No such measurement as "+B}),x.findNext(this,O)}}}}),b.addLeafExpression("closestExpr",function(T,x,d){if(d.matchToken("closest")){if(d.matchToken("parent"))var I=!0;var L=null;if(d.currentToken().type==="ATTRIBUTE_REF"){var O=T.requireElement("attributeRefAccess",d,null);L="["+O.attribute.name+"]"}if(L==null){var N=T.requireElement("expression",d);N.css==null?T.raiseParseError(d,"Expected a CSS expression"):L=N.css}if(d.matchToken("to"))var D=T.parseElement("expression",d);else var D=T.parseElement("implicitMeTarget",d);var F={type:"closestExpr",parentSearch:I,expr:N,css:L,to:D,args:[D],op:function(B,P){if(P==null)return null;{let W=[];return x.implicitLoop(P,function(_){I?W.push(_.parentElement?_.parentElement.closest(L):null):W.push(_.closest(L))}),x.shouldAutoIterate(P)?W:W[0]}},evaluate:function(B){return x.unifiedEval(this,B)}};return O?(O.root=F,O.args=[F],O):F}}),b.addCommand("go",function(T,x,d){if(d.matchToken("go")){if(d.matchToken("back"))var I=!0;else if(d.matchToken("to"),d.matchToken("url")){var L=T.requireElement("stringLike",d),O=!0;if(d.matchToken("in")){d.requireToken("new"),d.requireToken("window");var N=!0}}else{d.matchToken("the");var D=d.matchAnyToken("top","middle","bottom"),F=d.matchAnyToken("left","center","right");(D||F)&&d.requireToken("of");var L=T.requireElement("unaryExpression",d),B=d.matchAnyOpToken("+","-");if(B){d.pushFollow("px");try{var P=T.requireElement("expression",d)}finally{d.popFollow()}}d.matchToken("px");var W=d.matchAnyToken("smoothly","instantly"),_={block:"start",inline:"nearest"};D&&(D.value==="top"?_.block="start":D.value==="bottom"?_.block="end":D.value==="middle"&&(_.block="center")),F&&(F.value==="left"?_.inline="start":F.value==="center"?_.inline="center":F.value==="right"&&(_.inline="end")),W&&(W.value==="smoothly"?_.behavior="smooth":W.value==="instantly"&&(_.behavior="instant"))}var s={target:L,args:[L,P],op:function(c,t,a){return I?window.history.back():O?t&&(N?window.open(t):window.location.href=t):x.implicitLoop(t,function(h){if(h===window&&(h=document.body),B){let f=h.getBoundingClientRect(),l=document.createElement("div"),p=B.value==="+"?a:a*-1,E=_.inline=="start"||_.inline=="end"?p:0,y=_.block=="start"||_.block=="end"?p:0;l.style.position="absolute",l.style.top=f.top+window.scrollY+y+"px",l.style.left=f.left+window.scrollX+E+"px",l.style.height=f.height+"px",l.style.width=f.width+"px",l.style.zIndex=""+Number.MIN_SAFE_INTEGER,l.style.opacity="0",document.body.appendChild(l),setTimeout(function(){document.body.removeChild(l)},100),h=l}h.scrollIntoView(_)}),x.findNext(s,c)}};return s}}),r.conversions.dynamicResolvers.push(function(T,x){if(!(T==="Values"||T.indexOf("Values:")===0))return;var d=T.split(":")[1],I={},L=b.runtime.implicitLoop.bind(b.runtime);if(L(x,function(D){var F=N(D);if(F!==void 0){I[F.name]=F.value;return}if(D.querySelectorAll!=null){var B=D.querySelectorAll("input,select,textarea");B.forEach(O)}}),d){if(d==="JSON")return JSON.stringify(I);if(d==="Form")return new URLSearchParams(I).toString();throw"Unknown conversion: "+d}else return I;function O(D){var F=N(D);if(F!=null){if(I[F.name]==null){I[F.name]=F.value;return}if(Array.isArray(I[F.name])&&Array.isArray(F.value)){I[F.name]=[].concat(I[F.name],F.value);return}}}function N(D){try{var F={name:D.name,value:D.value};if(F.name==null||F.value==null||D.type=="radio"&&D.checked==!1)return;if(D.type=="checkbox"&&(D.checked==!1?F.value=void 0:typeof F.value=="string"&&(F.value=[F.value])),D.type=="select-multiple"){var B=D.querySelectorAll("option[selected]");F.value=[];for(var P=0;P<B.length;P++)F.value.push(B[P].value)}return F}catch{return}}}),r.conversions.HTML=function(T){var x=function(d){if(d instanceof Array)return d.map(function(N){return x(N)}).join("");if(d instanceof HTMLElement)return d.outerHTML;if(d instanceof NodeList){for(var I="",L=0;L<d.length;L++){var O=d[L];O instanceof HTMLElement&&(I+=O.outerHTML)}return I}return d.toString?d.toString():""};return x(T)},r.conversions.Fragment=function(T){var x=document.createDocumentFragment();return b.runtime.implicitLoop(T,function(d){if(d instanceof Node)x.append(d);else{var I=document.createElement("template");I.innerHTML=d,x.append(I.content)}}),x}}let K=new S,Se=K.lexer,ie=K.parser;function he(b,o){return K.evaluate(b,o)}function se(){var b=Array.from(e.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(b.map(function(g){return fetch(g.src).then(function(w){return w.text()})})).then(g=>g.forEach(w=>xe(w))).then(()=>o(function(){v(),K.processNode(document.documentElement),e.document.addEventListener("htmx:load",function(g){K.processNode(g.detail.elt)})}));function o(g){document.readyState!=="loading"?setTimeout(g):document.addEventListener("DOMContentLoaded",g)}function u(){var g=document.querySelector('meta[name="htmx-config"]');return g?fe(g.content):null}function v(){var g=u();g&&Object.assign(r,g)}}let xe=Object.assign(he,{config:r,use(b){b(xe)},internals:{lexer:Se,parser:ie,runtime:K,Lexer:i,Tokens:m,Parser:k,Runtime:S},ElementCollection:z,addFeature:ie.addFeature.bind(ie),addCommand:ie.addCommand.bind(ie),addLeafExpression:ie.addLeafExpression.bind(ie),addIndirectExpression:ie.addIndirectExpression.bind(ie),evaluate:K.evaluate.bind(K),parse:K.parse.bind(K),processNode:K.processNode.bind(K),version:"0.9.12",browserInit:se});return xe})});var tt=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,n){return getInputValues(e,n||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.1"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", "),HEAD_TAG_REGEX=makeTagRegEx("head");function makeTagRegEx(e,n=!1){return new RegExp(`<${e}(\\s[^>]*>|>)([\\s\\S]*?)<\\/${e}>`,n?"gim":"im")}function parseInterval(e){if(e==null)return;let n=NaN;return e.slice(-2)=="ms"?n=parseFloat(e.slice(0,-2)):e.slice(-1)=="s"?n=parseFloat(e.slice(0,-1))*1e3:e.slice(-1)=="m"?n=parseFloat(e.slice(0,-1))*1e3*60:n=parseFloat(e),isNaN(n)?void 0:n}function getRawAttribute(e,n){return e instanceof Element&&e.getAttribute(n)}function hasAttribute(e,n){return!!e.hasAttribute&&(e.hasAttribute(n)||e.hasAttribute("data-"+n))}function getAttributeValue(e,n){return getRawAttribute(e,n)||getRawAttribute(e,"data-"+n)}function parentElt(e){let n=e.parentElement;return!n&&e.parentNode instanceof ShadowRoot?e.parentNode:n}function getDocument(){return document}function getRootNode(e,n){return e.getRootNode?e.getRootNode({composed:n}):getDocument()}function getClosestMatch(e,n){for(;e&&!n(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,n,r){let i=getAttributeValue(n,r),m=getAttributeValue(n,"hx-disinherit");var k=getAttributeValue(n,"hx-inherit");if(e!==n){if(htmx.config.disableInheritance)return k&&(k==="*"||k.split(" ").indexOf(r)>=0)?i:null;if(m&&(m==="*"||m.split(" ").indexOf(r)>=0))return"unset"}return i}function getClosestAttributeValue(e,n){let r=null;if(getClosestMatch(e,function(i){return!!(r=getAttributeValueWithDisinheritance(e,asElement(i),n))}),r!=="unset")return r}function matches(e,n){let r=e instanceof Element&&(e.matches||e.matchesSelector||e.msMatchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.oMatchesSelector);return!!r&&r.call(e,n)}function getStartTag(e){let r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return r?r[1].toLowerCase():""}function parseHTML(e){return new DOMParser().parseFromString(e,"text/html")}function takeChildrenFor(e,n){for(;n.childNodes.length>0;)e.append(n.childNodes[0])}function duplicateScript(e){let n=getDocument().createElement("script");return forEach(e.attributes,function(r){n.setAttribute(r.name,r.value)}),n.textContent=e.textContent,n.async=!1,htmx.config.inlineScriptNonce&&(n.nonce=htmx.config.inlineScriptNonce),n}function isJavaScriptScriptNode(e){return e.matches("script")&&(e.type==="text/javascript"||e.type==="module"||e.type==="")}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach(n=>{if(isJavaScriptScriptNode(n)){let r=duplicateScript(n),i=n.parentNode;try{i.insertBefore(r,n)}catch(m){logError(m)}finally{n.remove()}}})}function makeFragment(e){let n=e.replace(HEAD_TAG_REGEX,""),r=getStartTag(n),i;if(r==="html"){i=new DocumentFragment;let k=parseHTML(e);takeChildrenFor(i,k.body),i.title=k.title}else if(r==="body"){i=new DocumentFragment;let k=parseHTML(n);takeChildrenFor(i,k.body),i.title=k.title}else{let k=parseHTML('<body><template class="internal-htmx-wrapper">'+n+"</template></body>");i=k.querySelector("template").content,i.title=k.title;var m=i.querySelector("title");m&&m.parentNode===i&&(m.remove(),i.title=m.innerText)}return i&&(htmx.config.allowScriptTags?normalizeScriptTags(i):i.querySelectorAll("script").forEach(k=>k.remove())),i}function maybeCall(e){e&&e()}function isType(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function isFunction(e){return typeof e=="function"}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){let n="htmx-internal-data",r=e[n];return r||(r=e[n]={}),r}function toArray(e){let n=[];if(e)for(let r=0;r<e.length;r++)n.push(e[r]);return n}function forEach(e,n){if(e)for(let r=0;r<e.length;r++)n(e[r])}function isScrolledIntoView(e){let n=e.getBoundingClientRect(),r=n.top,i=n.bottom;return r<window.innerHeight&&i>=0}function bodyContains(e){let n=e.getRootNode&&e.getRootNode();return n&&n instanceof window.ShadowRoot?getDocument().body.contains(n.host):getDocument().body.contains(e)}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,n){for(let r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(n){return logError(n),null}}function canAccessLocalStorage(){let e="htmx:localStorageTest";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch{return!1}}function normalizePath(e){try{let n=new URL(e);return n&&(e=n.pathname+n.search),/^\/$/.test(e)||(e=e.replace(/\/+$/,"")),e}catch{return e}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){return htmx.on("htmx:load",function(r){e(r.detail.elt)})}function logAll(){htmx.logger=function(e,n,r){console&&console.log(n,e,r)}}function logNone(){htmx.logger=null}function find(e,n){return typeof e!="string"?e.querySelector(n):find(getDocument(),e)}function findAll(e,n){return typeof e!="string"?e.querySelectorAll(n):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,n){e=resolveTarget(e),n?getWindow().setTimeout(function(){removeElement(e),e=null},n):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return typeof e=="string"?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,n,r){e=asElement(resolveTarget(e)),e&&(r?getWindow().setTimeout(function(){addClassToElement(e,n),e=null},r):e.classList&&e.classList.add(n))}function removeClassFromElement(e,n,r){let i=asElement(resolveTarget(e));i&&(r?getWindow().setTimeout(function(){removeClassFromElement(i,n),i=null},r):i.classList&&(i.classList.remove(n),i.classList.length===0&&i.removeAttribute("class")))}function toggleClassOnElement(e,n){e=resolveTarget(e),e.classList.toggle(n)}function takeClassForElement(e,n){e=resolveTarget(e),forEach(e.parentElement.children,function(r){removeClassFromElement(r,n)}),addClassToElement(asElement(e),n)}function closest(e,n){if(e=asElement(resolveTarget(e)),e&&e.closest)return e.closest(n);do if(e==null||matches(e,n))return e;while(e=e&&asElement(parentElt(e)));return null}function startsWith(e,n){return e.substring(0,n.length)===n}function endsWith(e,n){return e.substring(e.length-n.length)===n}function normalizeSelector(e){let n=e.trim();return startsWith(n,"<")&&endsWith(n,"/>")?n.substring(1,n.length-2):n}function querySelectorAllExt(e,n,r){return e=resolveTarget(e),n.indexOf("closest ")===0?[closest(asElement(e),normalizeSelector(n.substr(8)))]:n.indexOf("find ")===0?[find(asParentNode(e),normalizeSelector(n.substr(5)))]:n==="next"?[asElement(e).nextElementSibling]:n.indexOf("next ")===0?[scanForwardQuery(e,normalizeSelector(n.substr(5)),!!r)]:n==="previous"?[asElement(e).previousElementSibling]:n.indexOf("previous ")===0?[scanBackwardsQuery(e,normalizeSelector(n.substr(9)),!!r)]:n==="document"?[document]:n==="window"?[window]:n==="body"?[document.body]:n==="root"?[getRootNode(e,!!r)]:n.indexOf("global ")===0?querySelectorAllExt(e,n.slice(7),!0):toArray(asParentNode(getRootNode(e,!!r)).querySelectorAll(normalizeSelector(n)))}var scanForwardQuery=function(e,n,r){let i=asParentNode(getRootNode(e,r)).querySelectorAll(n);for(let m=0;m<i.length;m++){let k=i[m];if(k.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return k}},scanBackwardsQuery=function(e,n,r){let i=asParentNode(getRootNode(e,r)).querySelectorAll(n);for(let m=i.length-1;m>=0;m--){let k=i[m];if(k.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return k}};function querySelectorExt(e,n){return typeof e!="string"?querySelectorAllExt(e,n)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,n){return typeof e=="string"?find(asParentNode(n)||document,e):e}function processEventArgs(e,n,r){return isFunction(n)?{target:getDocument().body,event:asString(e),listener:n}:{target:resolveTarget(e),event:asString(n),listener:r}}function addEventListenerImpl(e,n,r){return ready(function(){let m=processEventArgs(e,n,r);m.target.addEventListener(m.event,m.listener)}),isFunction(n)?n:r}function removeEventListenerImpl(e,n,r){return ready(function(){let i=processEventArgs(e,n,r);i.target.removeEventListener(i.event,i.listener)}),isFunction(n)?n:r}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,n){let r=getClosestAttributeValue(e,n);if(r){if(r==="this")return[findThisElement(e,n)];{let i=querySelectorAllExt(e,r);return i.length===0?(logError('The selector "'+r+'" on '+n+" returned no matches!"),[DUMMY_ELT]):i}}}function findThisElement(e,n){return asElement(getClosestMatch(e,function(r){return getAttributeValue(asElement(r),n)!=null}))}function getTarget(e){let n=getClosestAttributeValue(e,"hx-target");return n?n==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,n):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){let n=htmx.config.attributesToSettle;for(let r=0;r<n.length;r++)if(e===n[r])return!0;return!1}function cloneAttributes(e,n){forEach(e.attributes,function(r){!n.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)}),forEach(n.attributes,function(r){shouldSettleAttribute(r.name)&&e.setAttribute(r.name,r.value)})}function isInlineSwap(e,n){let r=getExtensions(n);for(let i=0;i<r.length;i++){let m=r[i];try{if(m.isInlineSwap(e))return!0}catch(k){logError(k)}}return e==="outerHTML"}function oobSwap(e,n,r){let i="#"+getRawAttribute(n,"id"),m="outerHTML";e==="true"||(e.indexOf(":")>0?(m=e.substr(0,e.indexOf(":")),i=e.substr(e.indexOf(":")+1,e.length)):m=e);let k=getDocument().querySelectorAll(i);return k?(forEach(k,function(S){let U,q=n.cloneNode(!0);U=getDocument().createDocumentFragment(),U.appendChild(q),isInlineSwap(m,S)||(U=asParentNode(q));let M={shouldSwap:!0,target:S,fragment:U};triggerEvent(S,"htmx:oobBeforeSwap",M)&&(S=M.target,M.shouldSwap&&swapWithStyle(m,S,S,U,r),forEach(r.elts,function(Q){triggerEvent(Q,"htmx:oobAfterSwap",M)}))}),n.parentNode.removeChild(n)):(n.parentNode.removeChild(n),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:n})),e}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(n){let r=getAttributeValue(n,"id"),i=getDocument().getElementById(r);i!=null&&n.parentNode.replaceChild(i,n)})}function handleAttributes(e,n,r){forEach(n.querySelectorAll("[id]"),function(i){let m=getRawAttribute(i,"id");if(m&&m.length>0){let k=m.replace("'","\\'"),S=i.tagName.replace(":","\\:"),U=asParentNode(e),q=U&&U.querySelector(S+"[id='"+k+"']");if(q&&q!==U){let M=i.cloneNode();cloneAttributes(i,q),r.tasks.push(function(){cloneAttributes(i,M)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){let n="[autofocus]",r=asHtmlElement(matches(e,n)?e:e.querySelector(n));r?.focus()}function insertNodesBefore(e,n,r,i){for(handleAttributes(e,r,i);r.childNodes.length>0;){let m=r.firstChild;addClassToElement(asElement(m),htmx.config.addedClass),e.insertBefore(m,n),m.nodeType!==Node.TEXT_NODE&&m.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(m))}}function stringHash(e,n){let r=0;for(;r<e.length;)n=(n<<5)-n+e.charCodeAt(r++)|0;return n}function attributeHash(e){let n=0;if(e.attributes)for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r];i.value&&(n=stringHash(i.name,n),n=stringHash(i.value,n))}return n}function deInitOnHandlers(e){let n=getInternalData(e);if(n.onHandlers){for(let r=0;r<n.onHandlers.length;r++){let i=n.onHandlers[r];removeEventListenerImpl(e,i.event,i.listener)}delete n.onHandlers}}function deInitNode(e){let n=getInternalData(e);n.timeout&&clearTimeout(n.timeout),n.listenerInfos&&forEach(n.listenerInfos,function(r){r.on&&removeEventListenerImpl(r.on,r.trigger,r.listener)}),deInitOnHandlers(e),forEach(Object.keys(n),function(r){delete n[r]})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),e.children&&forEach(e.children,function(n){cleanUpElement(n)})}function swapOuterHTML(e,n,r){if(e instanceof Element&&e.tagName==="BODY")return swapInnerHTML(e,n,r);let i,m=e.previousSibling;for(insertNodesBefore(parentElt(e),e,n,r),m==null?i=parentElt(e).firstChild:i=m.nextSibling,r.elts=r.elts.filter(function(k){return k!==e});i&&i!==e;)i instanceof Element?(r.elts.push(i),i=i.nextElementSibling):i=null;cleanUpElement(e),e instanceof Element?e.remove():e.parentNode.removeChild(e)}function swapAfterBegin(e,n,r){return insertNodesBefore(e,e.firstChild,n,r)}function swapBeforeBegin(e,n,r){return insertNodesBefore(parentElt(e),e,n,r)}function swapBeforeEnd(e,n,r){return insertNodesBefore(e,null,n,r)}function swapAfterEnd(e,n,r){return insertNodesBefore(parentElt(e),e.nextSibling,n,r)}function swapDelete(e){return cleanUpElement(e),parentElt(e).removeChild(e)}function swapInnerHTML(e,n,r){let i=e.firstChild;if(insertNodesBefore(e,i,n,r),i){for(;i.nextSibling;)cleanUpElement(i.nextSibling),e.removeChild(i.nextSibling);cleanUpElement(i),e.removeChild(i)}}function swapWithStyle(e,n,r,i,m){switch(e){case"none":return;case"outerHTML":swapOuterHTML(r,i,m);return;case"afterbegin":swapAfterBegin(r,i,m);return;case"beforebegin":swapBeforeBegin(r,i,m);return;case"beforeend":swapBeforeEnd(r,i,m);return;case"afterend":swapAfterEnd(r,i,m);return;case"delete":swapDelete(r);return;default:var k=getExtensions(n);for(let S=0;S<k.length;S++){let U=k[S];try{let q=U.handleSwap(e,r,i,m);if(q){if(typeof q.length<"u")for(let M=0;M<q.length;M++){let Q=q[M];Q.nodeType!==Node.TEXT_NODE&&Q.nodeType!==Node.COMMENT_NODE&&m.tasks.push(makeAjaxLoadTask(Q))}return}}catch(q){logError(q)}}e==="innerHTML"?swapInnerHTML(r,i,m):swapWithStyle(htmx.config.defaultSwapStyle,n,r,i,m)}}function findAndSwapOobElements(e,n){forEach(findAll(e,"[hx-swap-oob], [data-hx-swap-oob]"),function(r){if(htmx.config.allowNestedOobSwaps||r.parentElement===null){let i=getAttributeValue(r,"hx-swap-oob");i!=null&&oobSwap(i,r,n)}else r.removeAttribute("hx-swap-oob"),r.removeAttribute("data-hx-swap-oob")})}function swap(e,n,r,i){i||(i={}),e=resolveTarget(e);let m=document.activeElement,k={};try{k={elt:m,start:m?m.selectionStart:null,end:m?m.selectionEnd:null}}catch{}let S=makeSettleInfo(e);if(r.swapStyle==="textContent")e.textContent=n;else{let q=makeFragment(n);if(S.title=q.title,i.selectOOB){let M=i.selectOOB.split(",");for(let Q=0;Q<M.length;Q++){let G=M[Q].split(":",2),z=G[0].trim();z.indexOf("#")===0&&(z=z.substring(1));let ae=G[1]||"true",ce=q.querySelector("#"+z);ce&&oobSwap(ae,ce,S)}}if(findAndSwapOobElements(q,S),forEach(findAll(q,"template"),function(M){findAndSwapOobElements(M.content,S),M.content.childElementCount===0&&M.content.textContent.trim()===""&&M.remove()}),i.select){let M=getDocument().createDocumentFragment();forEach(q.querySelectorAll(i.select),function(Q){M.appendChild(Q)}),q=M}handlePreservedElements(q),swapWithStyle(r.swapStyle,i.contextElement,e,q,S)}if(k.elt&&!bodyContains(k.elt)&&getRawAttribute(k.elt,"id")){let q=document.getElementById(getRawAttribute(k.elt,"id")),M={preventScroll:r.focusScroll!==void 0?!r.focusScroll:!htmx.config.defaultFocusScroll};if(q){if(k.start&&q.setSelectionRange)try{q.setSelectionRange(k.start,k.end)}catch{}q.focus(M)}}e.classList.remove(htmx.config.swappingClass),forEach(S.elts,function(q){q.classList&&q.classList.add(htmx.config.settlingClass),triggerEvent(q,"htmx:afterSwap",i.eventInfo)}),i.afterSwapCallback&&i.afterSwapCallback(),r.ignoreTitle||handleTitle(S.title);let U=function(){if(forEach(S.tasks,function(q){q.call()}),forEach(S.elts,function(q){q.classList&&q.classList.remove(htmx.config.settlingClass),triggerEvent(q,"htmx:afterSettle",i.eventInfo)}),i.anchor){let q=asElement(resolveTarget("#"+i.anchor));q&&q.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(S.elts,r),i.afterSettleCallback&&i.afterSettleCallback()};r.settleDelay>0?getWindow().setTimeout(U,r.settleDelay):U()}function handleTriggerHeader(e,n,r){let i=e.getResponseHeader(n);if(i.indexOf("{")===0){let m=parseJSON(i);for(let k in m)if(m.hasOwnProperty(k)){let S=m[k];isRawObject(S)||(S={value:S}),triggerEvent(r,k,S)}}else{let m=i.split(",");for(let k=0;k<m.length;k++)triggerEvent(r,m[k].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){let n=[],r=0;for(;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var i=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;n.push(e.substr(i,r-i+1))}else if(STRINGISH_START.indexOf(e.charAt(r))!==-1){let m=e.charAt(r);var i=r;for(r++;r<e.length&&e.charAt(r)!==m;)e.charAt(r)==="\\"&&r++,r++;n.push(e.substr(i,r-i+1))}else{let m=e.charAt(r);n.push(m)}r++}return n}function isPossibleRelativeReference(e,n,r){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==r&&n!=="."}function maybeGenerateConditional(e,n,r){if(n[0]==="["){n.shift();let i=1,m=" return (function("+r+"){ return (",k=null;for(;n.length>0;){let S=n[0];if(S==="]"){if(i--,i===0){k===null&&(m=m+"true"),n.shift(),m+=")})";try{let U=maybeEval(e,function(){return Function(m)()},function(){return!0});return U.source=m,U}catch(U){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:U,source:m}),null}}}else S==="["&&i++;isPossibleRelativeReference(S,k,r)?m+="(("+r+"."+S+") ? ("+r+"."+S+") : (window."+S+"))":m=m+S,k=n.shift()}}}function consumeUntil(e,n){let r="";for(;e.length>0&&!n.test(e[0]);)r+=e.shift();return r}function consumeCSSSelector(e){let n;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),n=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):n=consumeUntil(e,WHITESPACE_OR_COMMA),n}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,n,r){let i=[],m=tokenizeString(n);do{consumeUntil(m,NOT_WHITESPACE);let U=m.length,q=consumeUntil(m,/[,\[\s]/);if(q!=="")if(q==="every"){let M={trigger:"every"};consumeUntil(m,NOT_WHITESPACE),M.pollInterval=parseInterval(consumeUntil(m,/[,\[\s]/)),consumeUntil(m,NOT_WHITESPACE);var k=maybeGenerateConditional(e,m,"event");k&&(M.eventFilter=k),i.push(M)}else{let M={trigger:q};var k=maybeGenerateConditional(e,m,"event");for(k&&(M.eventFilter=k);m.length>0&&m[0]!==",";){consumeUntil(m,NOT_WHITESPACE);let G=m.shift();if(G==="changed")M.changed=!0;else if(G==="once")M.once=!0;else if(G==="consume")M.consume=!0;else if(G==="delay"&&m[0]===":")m.shift(),M.delay=parseInterval(consumeUntil(m,WHITESPACE_OR_COMMA));else if(G==="from"&&m[0]===":"){if(m.shift(),COMBINED_SELECTOR_START.test(m[0]))var S=consumeCSSSelector(m);else{var S=consumeUntil(m,WHITESPACE_OR_COMMA);if(S==="closest"||S==="find"||S==="next"||S==="previous"){m.shift();let ae=consumeCSSSelector(m);ae.length>0&&(S+=" "+ae)}}M.from=S}else G==="target"&&m[0]===":"?(m.shift(),M.target=consumeCSSSelector(m)):G==="throttle"&&m[0]===":"?(m.shift(),M.throttle=parseInterval(consumeUntil(m,WHITESPACE_OR_COMMA))):G==="queue"&&m[0]===":"?(m.shift(),M.queue=consumeUntil(m,WHITESPACE_OR_COMMA)):G==="root"&&m[0]===":"?(m.shift(),M[G]=consumeCSSSelector(m)):G==="threshold"&&m[0]===":"?(m.shift(),M[G]=consumeUntil(m,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:m.shift()})}i.push(M)}m.length===U&&triggerErrorEvent(e,"htmx:syntax:error",{token:m.shift()}),consumeUntil(m,NOT_WHITESPACE)}while(m[0]===","&&m.shift());return r&&(r[n]=i),i}function getTriggerSpecs(e){let n=getAttributeValue(e,"hx-trigger"),r=[];if(n){let i=htmx.config.triggerSpecsCache;r=i&&i[n]||parseAndCacheTrigger(e,n,i)}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,n,r){let i=getInternalData(e);i.timeout=getWindow().setTimeout(function(){bodyContains(e)&&i.cancelled!==!0&&(maybeFilterEvent(r,e,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||n(e),processPolling(e,n,r))},r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,n,r){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"){n.boosted=!0;let i,m;if(e.tagName==="A")i="get",m=getRawAttribute(e,"href");else{let k=getRawAttribute(e,"method");i=k?k.toLowerCase():"get",m=getRawAttribute(e,"action")}r.forEach(function(k){addEventListener(e,function(S,U){let q=asElement(S);if(eltIsDisabled(q)){cleanUpElement(q);return}issueAjaxRequest(i,m,q,U)},n,k,!0)})}}function shouldCancel(e,n){let r=asElement(n);return r?!!((e.type==="submit"||e.type==="click")&&(r.tagName==="FORM"||matches(r,'input[type="submit"], button')&&closest(r,"form")!==null||r instanceof HTMLAnchorElement&&r.href&&(r.getAttribute("href")==="#"||r.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(e,n){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&n.type==="click"&&(n.ctrlKey||n.metaKey)}function maybeFilterEvent(e,n,r){let i=e.eventFilter;if(i)try{return i.call(n,r)!==!0}catch(m){let k=i.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:m,source:k}),!0}return!1}function addEventListener(e,n,r,i,m){let k=getInternalData(e),S;i.from?S=querySelectorAllExt(e,i.from):S=[e],i.changed&&S.forEach(function(U){let q=getInternalData(U);q.lastValue=U.value}),forEach(S,function(U){let q=function(M){if(!bodyContains(e)){U.removeEventListener(i.trigger,q);return}if(ignoreBoostedAnchorCtrlClick(e,M)||((m||shouldCancel(M,e))&&M.preventDefault(),maybeFilterEvent(i,e,M)))return;let Q=getInternalData(M);if(Q.triggerSpec=i,Q.handledFor==null&&(Q.handledFor=[]),Q.handledFor.indexOf(e)<0){if(Q.handledFor.push(e),i.consume&&M.stopPropagation(),i.target&&M.target&&!matches(asElement(M.target),i.target))return;if(i.once){if(k.triggeredOnce)return;k.triggeredOnce=!0}if(i.changed){let G=getInternalData(U),z=U.value;if(G.lastValue===z)return;G.lastValue=z}if(k.delayed&&clearTimeout(k.delayed),k.throttle)return;i.throttle>0?k.throttle||(n(e,M),k.throttle=getWindow().setTimeout(function(){k.throttle=null},i.throttle)):i.delay>0?k.delayed=getWindow().setTimeout(function(){n(e,M)},i.delay):(triggerEvent(e,"htmx:trigger"),n(e,M))}};r.listenerInfos==null&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:i.trigger,listener:q,on:U}),U.addEventListener(i.trigger,q)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){triggerEvent(e,"revealed")},{once:!0}))}function loadImmediately(e,n,r,i){let m=function(){r.loaded||(r.loaded=!0,n(e))};i>0?getWindow().setTimeout(m,i):m()}function processVerbs(e,n,r){let i=!1;return forEach(VERBS,function(m){if(hasAttribute(e,"hx-"+m)){let k=getAttributeValue(e,"hx-"+m);i=!0,n.path=k,n.verb=m,r.forEach(function(S){addTriggerHandler(e,S,n,function(U,q){let M=asElement(U);if(closest(M,htmx.config.disableSelector)){cleanUpElement(M);return}issueAjaxRequest(m,k,M,q)})})}}),i}function addTriggerHandler(e,n,r,i){if(n.trigger==="revealed")initScrollHandler(),addEventListener(e,i,r,n),maybeReveal(asElement(e));else if(n.trigger==="intersect"){let m={};n.root&&(m.root=querySelectorExt(e,n.root)),n.threshold&&(m.threshold=parseFloat(n.threshold)),new IntersectionObserver(function(S){for(let U=0;U<S.length;U++)if(S[U].isIntersecting){triggerEvent(e,"intersect");break}},m).observe(asElement(e)),addEventListener(asElement(e),i,r,n)}else n.trigger==="load"?maybeFilterEvent(n,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),i,r,n.delay):n.pollInterval>0?(r.polling=!0,processPolling(asElement(e),i,n)):addEventListener(e,i,r,n)}function shouldProcessHxOn(e){let n=asElement(e);if(!n)return!1;let r=n.attributes;for(let i=0;i<r.length;i++){let m=r[i].name;if(startsWith(m,"hx-on:")||startsWith(m,"data-hx-on:")||startsWith(m,"hx-on-")||startsWith(m,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,n){shouldProcessHxOn(e)&&n.push(asElement(e));let r=HX_ON_QUERY.evaluate(e),i=null;for(;i=r.iterateNext();)n.push(asElement(i))}function findHxOnWildcardElements(e){let n=[];if(e instanceof DocumentFragment)for(let r of e.childNodes)processHXOnRoot(r,n);else processHXOnRoot(e,n);return n}function findElementsToProcess(e){if(e.querySelectorAll){let r=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",i=[];for(let k in extensions){let S=extensions[k];if(S.getSelectors){var n=S.getSelectors();n&&i.push(n)}}return e.querySelectorAll(VERB_SELECTOR+r+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+i.flat().map(k=>", "+k).join(""))}else return[]}function maybeSetLastButtonClicked(e){let n=closest(asElement(e.target),"button, input[type='submit']"),r=getRelatedFormData(e);r&&(r.lastButtonClicked=n)}function maybeUnsetLastButtonClicked(e){let n=getRelatedFormData(e);n&&(n.lastButtonClicked=null)}function getRelatedFormData(e){let n=closest(asElement(e.target),"button, input[type='submit']");if(!n)return;let r=resolveTarget("#"+getRawAttribute(n,"form"),n.getRootNode())||closest(n,"form");if(r)return getInternalData(r)}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,n,r){let i=getInternalData(e);Array.isArray(i.onHandlers)||(i.onHandlers=[]);let m,k=function(S){maybeEval(e,function(){eltIsDisabled(e)||(m||(m=new Function("event",r)),m.call(e,S))})};e.addEventListener(n,k),i.onHandlers.push({event:n,listener:k})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n].name,i=e.attributes[n].value;if(startsWith(r,"hx-on")||startsWith(r,"data-hx-on")){let m=r.indexOf("-on")+3,k=r.slice(m,m+1);if(k==="-"||k===":"){let S=r.slice(m+1);startsWith(S,":")?S="htmx"+S:startsWith(S,"-")?S="htmx:"+S.slice(1):startsWith(S,"htmx-")&&(S="htmx:"+S.slice(5)),addHxOnEventHandler(e,S,i)}}}}function initNode(e){if(closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}let n=getInternalData(e);if(n.initHash!==attributeHash(e)){deInitNode(e),n.initHash=attributeHash(e),triggerEvent(e,"htmx:beforeProcessNode"),e.value&&(n.lastValue=e.value);let r=getTriggerSpecs(e);processVerbs(e,n,r)||(getClosestAttributeValue(e,"hx-boost")==="true"?boostElement(e,n,r):hasAttribute(e,"hx-trigger")&&r.forEach(function(m){addTriggerHandler(e,m,n,function(){})})),(e.tagName==="FORM"||getRawAttribute(e,"type")==="submit"&&hasAttribute(e,"form"))&&initButtonTracking(e),triggerEvent(e,"htmx:afterProcessNode")}}function processNode(e){if(e=resolveTarget(e),closest(e,htmx.config.disableSelector)){cleanUpElement(e);return}initNode(e),forEach(findElementsToProcess(e),function(n){initNode(n)}),forEach(findHxOnWildcardElements(e),processHxOnWildcard)}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,n){let r;return window.CustomEvent&&typeof window.CustomEvent=="function"?r=new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:n}):(r=getDocument().createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,n)),r}function triggerErrorEvent(e,n,r){triggerEvent(e,n,mergeObjects({error:n},r))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,n){forEach(getExtensions(e),function(r){try{n(r)}catch(i){logError(i)}})}function logError(e){console.error?console.error(e):console.log&&console.log("ERROR: ",e)}function triggerEvent(e,n,r){e=resolveTarget(e),r==null&&(r={}),r.elt=e;let i=makeEvent(n,r);htmx.logger&&!ignoreEventForLogging(n)&&htmx.logger(e,n,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));let m=e.dispatchEvent(i),k=kebabEventName(n);if(m&&k!==n){let S=makeEvent(k,i.detail);m=m&&e.dispatchEvent(S)}return withExtensions(asElement(e),function(S){m=m&&S.onEvent(n,i)!==!1&&!i.defaultPrevented}),m}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,n){if(!canAccessLocalStorage())return;let r=cleanInnerHtmlForHistory(n),i=getDocument().title,m=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}e=normalizePath(e);let k=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let U=0;U<k.length;U++)if(k[U].url===e){k.splice(U,1);break}let S={url:e,content:r,title:i,scroll:m};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:S,cache:k}),k.push(S);k.length>htmx.config.historyCacheSize;)k.shift();for(;k.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(k));break}catch(U){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:U,cache:k}),k.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);let n=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let r=0;r<n.length;r++)if(n[r].url===e)return n[r];return null}function cleanInnerHtmlForHistory(e){let n=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+n),function(i){removeClassFromElement(i,n)}),r.innerHTML}function saveCurrentPageToHistory(){let e=getHistoryElement(),n=currentPathForHistory||location.pathname+location.search,r;try{r=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{r=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}r||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:n,historyElt:e}),saveToHistoryCache(n,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(e,"&")||endsWith(e,"?"))&&(e=e.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),currentPathForHistory=e}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),currentPathForHistory=e}function settleImmediately(e){forEach(e,function(n){n.call(void 0)})}function loadHistoryFromServer(e){let n=new XMLHttpRequest,r={path:e,xhr:n};triggerEvent(getDocument().body,"htmx:historyCacheMiss",r),n.open("GET",e,!0),n.setRequestHeader("HX-Request","true"),n.setRequestHeader("HX-History-Restore-Request","true"),n.setRequestHeader("HX-Current-URL",getDocument().location.href),n.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",r);let i=makeFragment(this.response),m=i.querySelector("[hx-history-elt],[data-hx-history-elt]")||i,k=getHistoryElement(),S=makeSettleInfo(k);handleTitle(i.title),swapInnerHTML(k,m,S),settleImmediately(S.tasks),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",r)},n.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;let n=getCachedHistory(e);if(n){let r=makeFragment(n.content),i=getHistoryElement(),m=makeSettleInfo(i);handleTitle(r.title),swapInnerHTML(i,r,m),settleImmediately(m.tasks),getWindow().setTimeout(function(){window.scrollTo(0,n.scroll)},0),currentPathForHistory=e,triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,item:n})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let n=findAttributeTargets(e,"hx-indicator");return n==null&&(n=[e]),forEach(n,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)+1,r.classList.add.call(r.classList,htmx.config.requestClass)}),n}function disableElements(e){let n=findAttributeTargets(e,"hx-disabled-elt");return n==null&&(n=[]),forEach(n,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)+1,r.setAttribute("disabled","")}),n}function removeRequestIndicators(e,n){forEach(e,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)-1,i.requestCount===0&&r.classList.remove.call(r.classList,htmx.config.requestClass)}),forEach(n,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)-1,i.requestCount===0&&r.removeAttribute("disabled")})}function haveSeenNode(e,n){for(let r=0;r<e.length;r++)if(e[r].isSameNode(n))return!0;return!1}function shouldInclude(e){let n=e;return n.name===""||n.name==null||n.disabled||closest(n,"fieldset[disabled]")||n.type==="button"||n.type==="submit"||n.tagName==="image"||n.tagName==="reset"||n.tagName==="file"?!1:n.type==="checkbox"||n.type==="radio"?n.checked:!0}function addValueToFormData(e,n,r){e!=null&&n!=null&&(Array.isArray(n)?n.forEach(function(i){r.append(e,i)}):r.append(e,n))}function removeValueFromFormData(e,n,r){if(e!=null&&n!=null){let i=r.getAll(e);Array.isArray(n)?i=i.filter(m=>n.indexOf(m)<0):i=i.filter(m=>m!==n),r.delete(e),forEach(i,m=>r.append(e,m))}}function processInputValue(e,n,r,i,m){if(!(i==null||haveSeenNode(e,i))){if(e.push(i),shouldInclude(i)){let k=getRawAttribute(i,"name"),S=i.value;i instanceof HTMLSelectElement&&i.multiple&&(S=toArray(i.querySelectorAll("option:checked")).map(function(U){return U.value})),i instanceof HTMLInputElement&&i.files&&(S=toArray(i.files)),addValueToFormData(k,S,n),m&&validateElement(i,r)}i instanceof HTMLFormElement&&(forEach(i.elements,function(k){e.indexOf(k)>=0?removeValueFromFormData(k.name,k.value,n):e.push(k),m&&validateElement(k,r)}),new FormData(i).forEach(function(k,S){k instanceof File&&k.name===""||addValueToFormData(S,k,n)}))}}function validateElement(e,n){let r=e;r.willValidate&&(triggerEvent(r,"htmx:validation:validate"),r.checkValidity()||(n.push({elt:r,message:r.validationMessage,validity:r.validity}),triggerEvent(r,"htmx:validation:failed",{message:r.validationMessage,validity:r.validity})))}function overrideFormData(e,n){for(let r of n.keys())e.delete(r),n.getAll(r).forEach(function(i){e.append(r,i)});return e}function getInputValues(e,n){let r=[],i=new FormData,m=new FormData,k=[],S=getInternalData(e);S.lastButtonClicked&&!bodyContains(S.lastButtonClicked)&&(S.lastButtonClicked=null);let U=e instanceof HTMLFormElement&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(S.lastButtonClicked&&(U=U&&S.lastButtonClicked.formNoValidate!==!0),n!=="get"&&processInputValue(r,m,k,closest(e,"form"),U),processInputValue(r,i,k,e,U),S.lastButtonClicked||e.tagName==="BUTTON"||e.tagName==="INPUT"&&getRawAttribute(e,"type")==="submit"){let M=S.lastButtonClicked||e,Q=getRawAttribute(M,"name");addValueToFormData(Q,M.value,m)}let q=findAttributeTargets(e,"hx-include");return forEach(q,function(M){processInputValue(r,i,k,asElement(M),U),matches(M,"form")||forEach(asParentNode(M).querySelectorAll(INPUT_SELECTOR),function(Q){processInputValue(r,i,k,Q,U)})}),overrideFormData(i,m),{errors:k,formData:i,values:formDataProxy(i)}}function appendParam(e,n,r){e!==""&&(e+="&"),String(r)==="[object Object]"&&(r=JSON.stringify(r));let i=encodeURIComponent(r);return e+=encodeURIComponent(n)+"="+i,e}function urlEncode(e){e=formDataFromObject(e);let n="";return e.forEach(function(r,i){n=appendParam(n,i,r)}),n}function getHeaders(e,n,r){let i={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(n,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(e,"hx-headers",!1,i),r!==void 0&&(i["HX-Prompt"]=r),getInternalData(e).boosted&&(i["HX-Boosted"]="true"),i}function filterValues(e,n){let r=getClosestAttributeValue(n,"hx-params");if(r){if(r==="none")return new FormData;if(r==="*")return e;if(r.indexOf("not ")===0)return forEach(r.substr(4).split(","),function(i){i=i.trim(),e.delete(i)}),e;{let i=new FormData;return forEach(r.split(","),function(m){m=m.trim(),e.has(m)&&e.getAll(m).forEach(function(k){i.append(m,k)})}),i}}else return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,n){let r=n||getClosestAttributeValue(e,"hx-swap"),i={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(i.show="top"),r){let S=splitOnWhitespace(r);if(S.length>0)for(let U=0;U<S.length;U++){let q=S[U];if(q.indexOf("swap:")===0)i.swapDelay=parseInterval(q.substr(5));else if(q.indexOf("settle:")===0)i.settleDelay=parseInterval(q.substr(7));else if(q.indexOf("transition:")===0)i.transition=q.substr(11)==="true";else if(q.indexOf("ignoreTitle:")===0)i.ignoreTitle=q.substr(12)==="true";else if(q.indexOf("scroll:")===0){var m=q.substr(7).split(":");let Q=m.pop();var k=m.length>0?m.join(":"):null;i.scroll=Q,i.scrollTarget=k}else if(q.indexOf("show:")===0){var m=q.substr(5).split(":");let G=m.pop();var k=m.length>0?m.join(":"):null;i.show=G,i.showTarget=k}else if(q.indexOf("focus-scroll:")===0){let M=q.substr(13);i.focusScroll=M=="true"}else U==0?i.swapStyle=q:logError("Unknown modifier in hx-swap: "+q)}}return i}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,n,r){let i=null;return withExtensions(n,function(m){i==null&&(i=m.encodeParameters(e,r,n))}),i??(usesFormData(n)?overrideFormData(new FormData,formDataFromObject(r)):urlEncode(r))}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,n){let r=e[0],i=e[e.length-1];if(n.scroll){var m=null;n.scrollTarget&&(m=asElement(querySelectorExt(r,n.scrollTarget))),n.scroll==="top"&&(r||m)&&(m=m||r,m.scrollTop=0),n.scroll==="bottom"&&(i||m)&&(m=m||i,m.scrollTop=m.scrollHeight)}if(n.show){var m=null;if(n.showTarget){let S=n.showTarget;n.showTarget==="window"&&(S="body"),m=asElement(querySelectorExt(r,S))}n.show==="top"&&(r||m)&&(m=m||r,m.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),n.show==="bottom"&&(i||m)&&(m=m||i,m.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,n,r,i){if(i==null&&(i={}),e==null)return i;let m=getAttributeValue(e,n);if(m){let k=m.trim(),S=r;if(k==="unset")return null;k.indexOf("javascript:")===0?(k=k.substr(11),S=!0):k.indexOf("js:")===0&&(k=k.substr(3),S=!0),k.indexOf("{")!==0&&(k="{"+k+"}");let U;S?U=maybeEval(e,function(){return Function("return ("+k+")")()},{}):U=parseJSON(k);for(let q in U)U.hasOwnProperty(q)&&i[q]==null&&(i[q]=U[q])}return getValuesForElement(asElement(parentElt(e)),n,r,i)}function maybeEval(e,n,r){return htmx.config.allowEval?n():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,n){return getValuesForElement(e,"hx-vars",!0,n)}function getHXValsForElement(e,n){return getValuesForElement(e,"hx-vals",!1,n)}function getExpressionVars(e){return mergeObjects(getHXVarsForElement(e),getHXValsForElement(e))}function safelySetHeaderValue(e,n,r){if(r!==null)try{e.setRequestHeader(n,r)}catch{e.setRequestHeader(n,encodeURIComponent(r)),e.setRequestHeader(n+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL&&typeof URL<"u")try{let n=new URL(e.responseURL);return n.pathname+n.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,n){return n.test(e.getAllResponseHeaders())}function ajaxHelper(e,n,r){return e=e.toLowerCase(),r?r instanceof Element||typeof r=="string"?issueAjaxRequest(e,n,null,null,{targetOverride:resolveTarget(r),returnPromise:!0}):issueAjaxRequest(e,n,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:resolveTarget(r.target),swapOverride:r.swap,select:r.select,returnPromise:!0}):issueAjaxRequest(e,n,null,null,{returnPromise:!0})}function hierarchyForElt(e){let n=[];for(;e;)n.push(e),e=e.parentElement;return n}function verifyPath(e,n,r){let i,m;return typeof URL=="function"?(m=new URL(n,document.location.href),i=document.location.origin===m.origin):(m=n,i=startsWith(n,document.location.origin)),htmx.config.selfRequestsOnly&&!i?!1:triggerEvent(e,"htmx:validateUrl",mergeObjects({url:m,sameHost:i},r))}function formDataFromObject(e){if(e instanceof FormData)return e;let n=new FormData;for(let r in e)e.hasOwnProperty(r)&&(typeof e[r].forEach=="function"?e[r].forEach(function(i){n.append(r,i)}):typeof e[r]=="object"?n.append(r,JSON.stringify(e[r])):n.append(r,e[r]));return n}function formDataArrayProxy(e,n,r){return new Proxy(r,{get:function(i,m){return typeof m=="number"?i[m]:m==="length"?i.length:m==="push"?function(k){i.push(k),e.append(n,k)}:typeof i[m]=="function"?function(){i[m].apply(i,arguments),e.delete(n),i.forEach(function(k){e.append(n,k)})}:i[m]&&i[m].length===1?i[m][0]:i[m]},set:function(i,m,k){return i[m]=k,e.delete(n),i.forEach(function(S){e.append(n,S)}),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(n,r){if(typeof r=="symbol")return Reflect.get(n,r);if(r==="toJSON")return()=>Object.fromEntries(e);if(r in n)return typeof n[r]=="function"?function(){return e[r].apply(e,arguments)}:n[r];let i=e.getAll(r);if(i.length!==0)return i.length===1?i[0]:formDataArrayProxy(n,r,i)},set:function(n,r,i){return typeof r!="string"?!1:(n.delete(r),typeof i.forEach=="function"?i.forEach(function(m){n.append(r,m)}):n.append(r,i),!0)},deleteProperty:function(n,r){return typeof r=="string"&&n.delete(r),!0},ownKeys:function(n){return Reflect.ownKeys(Object.fromEntries(n))},getOwnPropertyDescriptor:function(n,r){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(n),r)}})}function issueAjaxRequest(e,n,r,i,m,k){let S=null,U=null;if(m=m??{},m.returnPromise&&typeof Promise<"u")var q=new Promise(function(P,W){S=P,U=W});r==null&&(r=getDocument().body);let M=m.handler||handleAjaxResponse,Q=m.select||null;if(!bodyContains(r))return maybeCall(S),q;let G=m.targetOverride||asElement(getTarget(r));if(G==null||G==DUMMY_ELT)return triggerErrorEvent(r,"htmx:targetError",{target:getAttributeValue(r,"hx-target")}),maybeCall(U),q;let z=getInternalData(r),ae=z.lastButtonClicked;if(ae){let P=getRawAttribute(ae,"formaction");P!=null&&(n=P);let W=getRawAttribute(ae,"formmethod");W!=null&&W.toLowerCase()!=="dialog"&&(e=W)}let ce=getClosestAttributeValue(r,"hx-confirm");if(k===void 0&&triggerEvent(r,"htmx:confirm",{target:G,elt:r,path:n,verb:e,triggeringEvent:i,etc:m,issueRequest:function(_){return issueAjaxRequest(e,n,r,i,m,!!_)},question:ce})===!1)return maybeCall(S),q;let fe=r,ne=getClosestAttributeValue(r,"hx-sync"),re=null,me=!1;if(ne){let P=ne.split(":"),W=P[0].trim();if(W==="this"?fe=findThisElement(r,"hx-sync"):fe=asElement(querySelectorExt(r,W)),ne=(P[1]||"drop").trim(),z=getInternalData(fe),ne==="drop"&&z.xhr&&z.abortable!==!0)return maybeCall(S),q;if(ne==="abort"){if(z.xhr)return maybeCall(S),q;me=!0}else ne==="replace"?triggerEvent(fe,"htmx:abort"):ne.indexOf("queue")===0&&(re=(ne.split(" ")[1]||"last").trim())}if(z.xhr)if(z.abortable)triggerEvent(fe,"htmx:abort");else{if(re==null){if(i){let P=getInternalData(i);P&&P.triggerSpec&&P.triggerSpec.queue&&(re=P.triggerSpec.queue)}re==null&&(re="last")}return z.queuedRequests==null&&(z.queuedRequests=[]),re==="first"&&z.queuedRequests.length===0?z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,m)}):re==="all"?z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,m)}):re==="last"&&(z.queuedRequests=[],z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,m)})),maybeCall(S),q}let te=new XMLHttpRequest;z.xhr=te,z.abortable=me;let K=function(){z.xhr=null,z.abortable=!1,z.queuedRequests!=null&&z.queuedRequests.length>0&&z.queuedRequests.shift()()},Se=getClosestAttributeValue(r,"hx-prompt");if(Se){var ie=prompt(Se);if(ie===null||!triggerEvent(r,"htmx:prompt",{prompt:ie,target:G}))return maybeCall(S),K(),q}if(ce&&!k&&!confirm(ce))return maybeCall(S),K(),q;let he=getHeaders(r,G,ie);e!=="get"&&!usesFormData(r)&&(he["Content-Type"]="application/x-www-form-urlencoded"),m.headers&&(he=mergeObjects(he,m.headers));let se=getInputValues(r,e),xe=se.errors,b=se.formData;m.values&&overrideFormData(b,formDataFromObject(m.values));let o=formDataFromObject(getExpressionVars(r)),u=overrideFormData(b,o),v=filterValues(u,r);htmx.config.getCacheBusterParam&&e==="get"&&v.set("org.htmx.cache-buster",getRawAttribute(G,"id")||"true"),(n==null||n==="")&&(n=getDocument().location.href);let g=getValuesForElement(r,"hx-request"),w=getInternalData(r).boosted,T=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0,x={boosted:w,useUrlParams:T,formData:v,parameters:formDataProxy(v),unfilteredFormData:u,unfilteredParameters:formDataProxy(u),headers:he,target:G,verb:e,errors:xe,withCredentials:m.credentials||g.credentials||htmx.config.withCredentials,timeout:m.timeout||g.timeout||htmx.config.timeout,path:n,triggeringEvent:i};if(!triggerEvent(r,"htmx:configRequest",x))return maybeCall(S),K(),q;if(n=x.path,e=x.verb,he=x.headers,v=formDataFromObject(x.parameters),xe=x.errors,T=x.useUrlParams,xe&&xe.length>0)return triggerEvent(r,"htmx:validation:halted",x),maybeCall(S),K(),q;let d=n.split("#"),I=d[0],L=d[1],O=n;if(T&&(O=I,!v.keys().next().done&&(O.indexOf("?")<0?O+="?":O+="&",O+=urlEncode(v),L&&(O+="#"+L))),!verifyPath(r,O,x))return triggerErrorEvent(r,"htmx:invalidPath",x),maybeCall(U),q;if(te.open(e.toUpperCase(),O,!0),te.overrideMimeType("text/html"),te.withCredentials=x.withCredentials,te.timeout=x.timeout,!g.noHeaders){for(let P in he)if(he.hasOwnProperty(P)){let W=he[P];safelySetHeaderValue(te,P,W)}}let N={xhr:te,target:G,requestConfig:x,etc:m,boosted:w,select:Q,pathInfo:{requestPath:n,finalRequestPath:O,responsePath:null,anchor:L}};if(te.onload=function(){try{let P=hierarchyForElt(r);if(N.pathInfo.responsePath=getPathFromResponse(te),M(r,N),removeRequestIndicators(D,F),triggerEvent(r,"htmx:afterRequest",N),triggerEvent(r,"htmx:afterOnLoad",N),!bodyContains(r)){let W=null;for(;P.length>0&&W==null;){let _=P.shift();bodyContains(_)&&(W=_)}W&&(triggerEvent(W,"htmx:afterRequest",N),triggerEvent(W,"htmx:afterOnLoad",N))}maybeCall(S),K()}catch(P){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:P},N)),P}},te.onerror=function(){removeRequestIndicators(D,F),triggerErrorEvent(r,"htmx:afterRequest",N),triggerErrorEvent(r,"htmx:sendError",N),maybeCall(U),K()},te.onabort=function(){removeRequestIndicators(D,F),triggerErrorEvent(r,"htmx:afterRequest",N),triggerErrorEvent(r,"htmx:sendAbort",N),maybeCall(U),K()},te.ontimeout=function(){removeRequestIndicators(D,F),triggerErrorEvent(r,"htmx:afterRequest",N),triggerErrorEvent(r,"htmx:timeout",N),maybeCall(U),K()},!triggerEvent(r,"htmx:beforeRequest",N))return maybeCall(S),K(),q;var D=addRequestIndicatorClasses(r),F=disableElements(r);forEach(["loadstart","loadend","progress","abort"],function(P){forEach([te,te.upload],function(W){W.addEventListener(P,function(_){triggerEvent(r,"htmx:xhr:"+P,{lengthComputable:_.lengthComputable,loaded:_.loaded,total:_.total})})})}),triggerEvent(r,"htmx:beforeSend",N);let B=T?null:encodeParamsForBody(te,r,v);return te.send(B),q}function determineHistoryUpdates(e,n){let r=n.xhr,i=null,m=null;if(hasHeader(r,/HX-Push:/i)?(i=r.getResponseHeader("HX-Push"),m="push"):hasHeader(r,/HX-Push-Url:/i)?(i=r.getResponseHeader("HX-Push-Url"),m="push"):hasHeader(r,/HX-Replace-Url:/i)&&(i=r.getResponseHeader("HX-Replace-Url"),m="replace"),i)return i==="false"?{}:{type:m,path:i};let k=n.pathInfo.finalRequestPath,S=n.pathInfo.responsePath,U=getClosestAttributeValue(e,"hx-push-url"),q=getClosestAttributeValue(e,"hx-replace-url"),M=getInternalData(e).boosted,Q=null,G=null;return U?(Q="push",G=U):q?(Q="replace",G=q):M&&(Q="push",G=S||k),G?G==="false"?{}:(G==="true"&&(G=S||k),n.pathInfo.anchor&&G.indexOf("#")===-1&&(G=G+"#"+n.pathInfo.anchor),{type:Q,path:G}):{}}function codeMatches(e,n){var r=new RegExp(e.code);return r.test(n.toString(10))}function resolveResponseHandling(e){for(var n=0;n<htmx.config.responseHandling.length;n++){var r=htmx.config.responseHandling[n];if(codeMatches(r,e.status))return r}return{swap:!1}}function handleTitle(e){if(e){let n=find("title");n?n.innerHTML=e:window.document.title=e}}function handleAjaxResponse(e,n){let r=n.xhr,i=n.target,m=n.etc,k=n.select;if(!triggerEvent(e,"htmx:beforeOnLoad",n))return;if(hasHeader(r,/HX-Trigger:/i)&&handleTriggerHeader(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){saveCurrentPageToHistory();let me=r.getResponseHeader("HX-Location");var S;me.indexOf("{")===0&&(S=parseJSON(me),me=S.path,delete S.path),ajaxHelper("get",me,S).then(function(){pushUrlIntoHistory(me)});return}let U=hasHeader(r,/HX-Refresh:/i)&&r.getResponseHeader("HX-Refresh")==="true";if(hasHeader(r,/HX-Redirect:/i)){location.href=r.getResponseHeader("HX-Redirect"),U&&location.reload();return}if(U){location.reload();return}hasHeader(r,/HX-Retarget:/i)&&(r.getResponseHeader("HX-Retarget")==="this"?n.target=e:n.target=asElement(querySelectorExt(e,r.getResponseHeader("HX-Retarget"))));let q=determineHistoryUpdates(e,n),M=resolveResponseHandling(r),Q=M.swap,G=!!M.error,z=htmx.config.ignoreTitle||M.ignoreTitle,ae=M.select;M.target&&(n.target=asElement(querySelectorExt(e,M.target)));var ce=m.swapOverride;ce==null&&M.swapOverride&&(ce=M.swapOverride),hasHeader(r,/HX-Retarget:/i)&&(r.getResponseHeader("HX-Retarget")==="this"?n.target=e:n.target=asElement(querySelectorExt(e,r.getResponseHeader("HX-Retarget")))),hasHeader(r,/HX-Reswap:/i)&&(ce=r.getResponseHeader("HX-Reswap"));var fe=r.response,ne=mergeObjects({shouldSwap:Q,serverResponse:fe,isError:G,ignoreTitle:z,selectOverride:ae},n);if(!(M.event&&!triggerEvent(i,M.event,ne))&&triggerEvent(i,"htmx:beforeSwap",ne)){if(i=ne.target,fe=ne.serverResponse,G=ne.isError,z=ne.ignoreTitle,ae=ne.selectOverride,n.target=i,n.failed=G,n.successful=!G,ne.shouldSwap){r.status===286&&cancelPolling(e),withExtensions(e,function(se){fe=se.transformResponse(fe,r,e)}),q.type&&saveCurrentPageToHistory(),hasHeader(r,/HX-Reswap:/i)&&(ce=r.getResponseHeader("HX-Reswap"));var re=getSwapSpecification(e,ce);re.hasOwnProperty("ignoreTitle")||(re.ignoreTitle=z),i.classList.add(htmx.config.swappingClass);let me=null,te=null;k&&(ae=k),hasHeader(r,/HX-Reselect:/i)&&(ae=r.getResponseHeader("HX-Reselect"));let K=getClosestAttributeValue(e,"hx-select-oob"),Se=getClosestAttributeValue(e,"hx-select"),ie=function(){try{q.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:q},n)),q.type==="push"?(pushUrlIntoHistory(q.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:q.path})):(replaceUrlInHistory(q.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:q.path}))),swap(i,fe,re,{select:ae||Se,selectOOB:K,eventInfo:n,anchor:n.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(r,/HX-Trigger-After-Swap:/i)){let se=e;bodyContains(e)||(se=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Swap",se)}},afterSettleCallback:function(){if(hasHeader(r,/HX-Trigger-After-Settle:/i)){let se=e;bodyContains(e)||(se=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Settle",se)}maybeCall(me)}})}catch(se){throw triggerErrorEvent(e,"htmx:swapError",n),maybeCall(te),se}},he=htmx.config.globalViewTransitions;if(re.hasOwnProperty("transition")&&(he=re.transition),he&&triggerEvent(e,"htmx:beforeTransition",n)&&typeof Promise<"u"&&document.startViewTransition){let se=new Promise(function(b,o){me=b,te=o}),xe=ie;ie=function(){document.startViewTransition(function(){return xe(),se})}}re.swapDelay>0?getWindow().setTimeout(ie,re.swapDelay):ie()}G&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+n.pathInfo.requestPath},n))}}let extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,n){return!0},transformResponse:function(e,n,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,n,r,i){return!1},encodeParameters:function(e,n,r){return null}}}function defineExtension(e,n){n.init&&n.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),n)}function removeExtension(e){delete extensions[e]}function getExtensions(e,n,r){if(n==null&&(n=[]),e==null)return n;r==null&&(r=[]);let i=getAttributeValue(e,"hx-ext");return i&&forEach(i.split(","),function(m){if(m=m.replace(/ /g,""),m.slice(0,7)=="ignore:"){r.push(m.slice(7));return}if(r.indexOf(m)<0){let k=extensions[m];k&&n.indexOf(k)<0&&n.push(k)}}),getExtensions(asElement(parentElt(e)),n,r)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(e){isReady||getDocument().readyState==="complete"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+e+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){let e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);let n=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(i){let m=i.target,k=getInternalData(m);k&&k.xhr&&k.xhr.abort()});let r=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(i){i.state&&i.state.htmx?(restoreHistory(),forEach(n,function(m){triggerEvent(m,"htmx:restored",{document:getDocument(),triggerEvent})})):r&&r(i)},getWindow().setTimeout(function(){triggerEvent(e,"htmx:load",{}),e=null},0)}),htmx}(),Ve=tt;var be={socket:null,socketURI:"ws://localhost:8000/",init:()=>{be.socket=new WebSocket(be.socketURI),be.socket.addEventListener("open",be.onOpen),be.socket.addEventListener("close",be.onClose)},onOpen:()=>{console.log("connected")},onClose:()=>{console.log("disconnected"),be.socket.readyState===WebSocket.CLOSED&&setTimeout(()=>{location.reload()},2e3)},onError:e=>{console.error("Websocket error observed:",e)}},Be=be;var _e=et(We());window.addEventListener("DOMContentLoaded",()=>{Be.init(),window.htmx=Ve,_e.default.browserInit(),window.htmx.config.globalViewTransitions=!0});})();
