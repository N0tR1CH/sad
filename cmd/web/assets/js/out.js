(()=>{var sg=Object.create;var df=Object.defineProperty;var ug=Object.getOwnPropertyDescriptor;var fg=Object.getOwnPropertyNames;var cg=Object.getPrototypeOf,hg=Object.prototype.hasOwnProperty;var pf=(t=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(t,{get:(r,o)=>(typeof require<"u"?require:r)[o]}):t)(function(t){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+t+'" is not supported')});var Et=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var dg=(t,r,o,l)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of fg(r))!hg.call(t,u)&&u!==o&&df(t,u,{get:()=>r[u],enumerable:!(l=ug(r,u))||l.enumerable});return t};var gf=(t,r,o)=>(o=t!=null?sg(cg(t)):{},dg(r||!t||!t.__esModule?df(o,"default",{value:t,enumerable:!0}):o,t));var xf=Et((ua,yf)=>{(function(t,r){let o=r(t);typeof ua=="object"&&typeof ua.nodeName!="string"?yf.exports=o:(t._hyperscript=o,"document"in t&&t._hyperscript.browserInit())})(typeof self<"u"?self:ua,t=>{"use strict";let r={dynamicResolvers:[function(X,x){if(X==="Fixed")return Number(x).toFixed();if(X.indexOf("Fixed:")===0){let T=X.split(":")[1];return Number(x).toFixed(parseInt(T))}}],String:function(X){return X.toString?X.toString():""+X},Int:function(X){return parseInt(X)},Float:function(X){return parseFloat(X)},Number:function(X){return Number(X)},Date:function(X){return new Date(X)},Array:function(X){return Array.from(X)},JSON:function(X){return JSON.stringify(X)},Object:function(X){return X instanceof String&&(X=X.toString()),typeof X=="string"?JSON.parse(X):Object.assign({},X)}},o={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:r};class l{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS"};static isValidCSSClassChar(x){return l.isAlpha(x)||l.isNumeric(x)||x==="-"||x==="_"||x===":"}static isValidCSSIDChar(x){return l.isAlpha(x)||l.isNumeric(x)||x==="-"||x==="_"||x===":"}static isWhitespace(x){return x===" "||x==="	"||l.isNewline(x)}static positionString(x){return"[Line: "+x.line+", Column: "+x.column+"]"}static isNewline(x){return x==="\r"||x===`
`}static isNumeric(x){return x>="0"&&x<="9"}static isAlpha(x){return x>="a"&&x<="z"||x>="A"&&x<="Z"}static isIdentifierChar(x,T){return x==="_"||x==="$"}static isReservedChar(x){return x==="`"||x==="^"}static isValidSingleQuoteStringStart(x){if(x.length>0){var T=x[x.length-1];if(T.type==="IDENTIFIER"||T.type==="CLASS_REF"||T.type==="ID_REF"||T.op&&(T.value===">"||T.value===")"))return!1}return!0}static tokenize(x,T){var k=[],_=x,U=0,M=0,j=1,R="<START>",se=0;function O(){return T&&se===0}for(;U<_.length;)if(S()==="-"&&B()==="-"&&(l.isWhitespace(G(2))||G(2)===""||G(2)==="-")||S()==="/"&&B()==="/"&&(l.isWhitespace(G(2))||G(2)===""||G(2)==="/"))le();else if(S()==="/"&&B()==="*"&&(l.isWhitespace(G(2))||G(2)===""||G(2)==="*"))oe();else if(l.isWhitespace(S()))k.push(pe());else if(!ae()&&S()==="."&&(l.isAlpha(B())||B()==="{"||B()==="-"))k.push(xe());else if(!ae()&&S()==="#"&&(l.isAlpha(B())||B()==="{"))k.push(D());else if(S()==="["&&B()==="@")k.push(me());else if(S()==="@")k.push(be());else if(S()==="*"&&l.isAlpha(B()))k.push(Ce());else if(l.isAlpha(S())||!O()&&l.isIdentifierChar(S()))k.push(A());else if(l.isNumeric(S()))k.push(p());else if(!O()&&(S()==='"'||S()==="`"))k.push(I());else if(!O()&&S()==="'")l.isValidSingleQuoteStringStart(k)?k.push(I()):k.push(w());else if(l.OP_TABLE[S()])R==="$"&&S()==="{"&&se++,S()==="}"&&se--,k.push(w());else if(O()||l.isReservedChar(S()))k.push(J("RESERVED",z()));else if(U<_.length)throw Error("Unknown token: "+S()+" ");return new u(k,[],_);function b(ue,re){var we=J(ue,re);return we.op=!0,we}function J(ue,re){return{type:ue,value:re||"",start:U,end:U+1,column:M,line:j}}function le(){for(;S()&&!l.isNewline(S());)z();z()}function oe(){for(;S()&&!(S()==="*"&&B()==="/");)z();z(),z()}function xe(){var ue=J("CLASS_REF"),re=z();if(S()==="{"){for(ue.template=!0,re+=z();S()&&S()!=="}";)re+=z();if(S()!=="}")throw Error("Unterminated class reference");re+=z()}else for(;l.isValidCSSClassChar(S());)re+=z();return ue.value=re,ue.end=U,ue}function me(){for(var ue=J("ATTRIBUTE_REF"),re=z();U<_.length&&S()!=="]";)re+=z();return S()==="]"&&(re+=z()),ue.value=re,ue.end=U,ue}function be(){for(var ue=J("ATTRIBUTE_REF"),re=z();l.isValidCSSIDChar(S());)re+=z();if(S()==="="){if(re+=z(),S()==='"'||S()==="'"){let we=I();re+=we.value}else if(l.isAlpha(S())||l.isNumeric(S())||l.isIdentifierChar(S())){let we=A();re+=we.value}}return ue.value=re,ue.end=U,ue}function Ce(){for(var ue=J("STYLE_REF"),re=z();l.isAlpha(S())||S()==="-";)re+=z();return ue.value=re,ue.end=U,ue}function D(){var ue=J("ID_REF"),re=z();if(S()==="{"){for(ue.template=!0,re+=z();S()&&S()!=="}";)re+=z();if(S()!=="}")throw Error("Unterminated id reference");z()}else for(;l.isValidCSSIDChar(S());)re+=z();return ue.value=re,ue.end=U,ue}function A(){for(var ue=J("IDENTIFIER"),re=z();l.isAlpha(S())||l.isNumeric(S())||l.isIdentifierChar(S());)re+=z();return S()==="!"&&re==="beep"&&(re+=z()),ue.value=re,ue.end=U,ue}function p(){for(var ue=J("NUMBER"),re=z();l.isNumeric(S());)re+=z();for(S()==="."&&l.isNumeric(B())&&(re+=z());l.isNumeric(S());)re+=z();for((S()==="e"||S()==="E")&&(l.isNumeric(B())?re+=z():B()==="-"&&(re+=z(),re+=z()));l.isNumeric(S());)re+=z();return ue.value=re,ue.end=U,ue}function w(){for(var ue=b(),re=z();S()&&l.OP_TABLE[re+S()];)re+=z();return ue.type=l.OP_TABLE[re],ue.value=re,ue.end=U,ue}function I(){for(var ue=J("STRING"),re=z(),we="";S()&&S()!==re;)if(S()==="\\"){z();let Me=z();if(Me==="b")we+="\b";else if(Me==="f")we+="\f";else if(Me==="n")we+=`
`;else if(Me==="r")we+="\r";else if(Me==="t")we+="	";else if(Me==="v")we+="\v";else if(Me==="x"){let Te=L();if(Number.isNaN(Te))throw Error("Invalid hexadecimal escape at "+l.positionString(ue));we+=String.fromCharCode(Te)}else we+=Me}else we+=z();if(S()!==re)throw Error("Unterminated string at "+l.positionString(ue));return z(),ue.value=we,ue.end=U,ue.template=re==="`",ue}function L(){if(!S())return NaN;let re=16*Number.parseInt(z(),16);return S()?(re+=Number.parseInt(z(),16),re):NaN}function S(){return _.charAt(U)}function B(){return _.charAt(U+1)}function G(ue=1){return _.charAt(U+ue)}function z(){return R=S(),U++,M++,R}function ae(){return l.isAlpha(R)||l.isNumeric(R)||R===")"||R==='"'||R==="'"||R==="`"||R==="}"||R==="]"}function pe(){for(var ue=J("WHITESPACE"),re="";S()&&l.isWhitespace(S());)l.isNewline(S())&&(M=0,j++),re+=z();return ue.value=re,ue.end=U,ue}}tokenize(x,T){return l.tokenize(x,T)}}class u{constructor(x,T,k){this.tokens=x,this.consumed=T,this.source=k,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){for(;this.token(0,!0).type==="WHITESPACE";)this.consumed.push(this.tokens.shift())}raiseError(x,T){f.raiseParseError(x,T)}requireOpToken(x){var T=this.matchOpToken(x);if(T)return T;this.raiseError(this,"Expected '"+x+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(x,T,k){for(var _=0;_<arguments.length;_++){var U=arguments[_],M=this.matchOpToken(U);if(M)return M}}matchAnyToken(x,T,k){for(var _=0;_<arguments.length;_++){var U=arguments[_],M=this.matchToken(U);if(M)return M}}matchOpToken(x){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===x)return this.consumeToken()}requireTokenType(x,T,k,_){var U=this.matchTokenType(x,T,k,_);if(U)return U;this.raiseError(this,"Expected one of "+JSON.stringify([x,T,k]))}matchTokenType(x,T,k,_){if(this.currentToken()&&this.currentToken().type&&[x,T,k,_].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(x,T){var k=this.matchToken(x,T);if(k)return k;this.raiseError(this,"Expected '"+x+"' but found '"+this.currentToken().value+"'")}peekToken(x,T,k){if(T=T||0,k=k||"IDENTIFIER",this.tokens[T]&&this.tokens[T].value===x&&this.tokens[T].type===k)return this.tokens[T]}matchToken(x,T){if(this.follows.indexOf(x)===-1&&(T=T||"IDENTIFIER",this.currentToken()&&this.currentToken().value===x&&this.currentToken().type===T))return this.consumeToken()}consumeToken(){var x=this.tokens.shift();return this.consumed.push(x),this._lastConsumed=x,this.consumeWhitespace(),x}consumeUntil(x,T){for(var k=[],_=this.token(0,!0);(T==null||_.type!==T)&&(x==null||_.value!==x)&&_.type!=="EOF";){var U=this.tokens.shift();this.consumed.push(U),k.push(_),_=this.token(0,!0)}return this.consumeWhitespace(),k}lastWhitespace(){return this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"?this.consumed[this.consumed.length-1].value:""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(x,T){var k,_=0;do{if(!T)for(;this.tokens[_]&&this.tokens[_].type==="WHITESPACE";)_++;k=this.tokens[_],x--,_++}while(x>-1);return k||{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split(`
`)[this.startToken.line-1]};follows=[];pushFollow(x){this.follows.push(x)}popFollow(){this.follows.pop()}clearFollows(){var x=this.follows;return this.follows=[],x}restoreFollows(x){this.follows=x}}class f{constructor(x){this.runtime=x,this.possessivesDisabled=!1,this.addGrammarElement("feature",function(T,k,_){if(_.matchOpToken("(")){var U=T.requireElement("feature",_);return _.requireOpToken(")"),U}var M=T.FEATURES[_.currentToken().value||""];if(M)return M(T,k,_)}),this.addGrammarElement("command",function(T,k,_){if(_.matchOpToken("(")){let j=T.requireElement("command",_);return _.requireOpToken(")"),j}var U=T.COMMANDS[_.currentToken().value||""];let M;return U?M=U(T,k,_):_.currentToken().type==="IDENTIFIER"&&(M=T.parseElement("pseudoCommand",_)),M&&T.parseElement("indirectStatement",_,M)}),this.addGrammarElement("commandList",function(T,k,_){if(_.hasMore()){var U=T.parseElement("command",_);if(U){_.matchToken("then");let M=T.parseElement("commandList",_);return M&&(U.next=M),U}}return{type:"emptyCommandListCommand",op:function(M){return k.findNext(this,M)},execute:function(M){return k.unifiedExec(this,M)}}}),this.addGrammarElement("leaf",function(T,k,_){var U=T.parseAnyOf(T.LEAF_EXPRESSIONS,_);return U??T.parseElement("symbol",_)}),this.addGrammarElement("indirectExpression",function(T,k,_,U){for(var M=0;M<T.INDIRECT_EXPRESSIONS.length;M++){var j=T.INDIRECT_EXPRESSIONS[M];U.endToken=_.lastMatch();var R=T.parseElement(j,_,U);if(R)return R}return U}),this.addGrammarElement("indirectStatement",function(T,k,_,U){if(_.matchToken("unless")){U.endToken=_.lastMatch();var M=T.requireElement("expression",_),j={type:"unlessStatementModifier",args:[M],op:function(R,se){return se?this.next:U},execute:function(R){return k.unifiedExec(this,R)}};return U.parent=j,j}return U}),this.addGrammarElement("primaryExpression",function(T,k,_){var U=T.parseElement("leaf",_);if(U)return T.parseElement("indirectExpression",_,U);T.raiseParseError(_,"Unexpected value: "+_.currentToken().value)})}use(x){return x(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(x,T,k){x.startToken=T,x.sourceFor=u.sourceFor,x.lineFor=u.lineFor,x.programSource=k.source}parseElement(x,T,k=void 0){var _=this.GRAMMAR[x];if(_){var U=T.currentToken(),M=_(this,this.runtime,T,k);if(M){this.initElt(M,U,T),M.endToken=M.endToken||T.lastMatch();for(var k=M.root;k!=null;)this.initElt(k,U,T),k=k.root}return M}}requireElement(x,T,k,_){var U=this.parseElement(x,T,_);return U||f.raiseParseError(T,k||"Expected "+x),U}parseAnyOf(x,T){for(var k=0;k<x.length;k++){var _=x[k],U=this.parseElement(_,T);if(U)return U}}addGrammarElement(x,T){this.GRAMMAR[x]=T}addCommand(x,T){var k=x+"Command",_=function(U,M,j){let R=T(U,M,j);if(R)return R.type=k,R.execute=function(se){return se.meta.command=R,M.unifiedExec(this,se)},R};this.GRAMMAR[k]=_,this.COMMANDS[x]=_}addFeature(x,T){var k=x+"Feature",_=function(U,M,j){var R=T(U,M,j);if(R)return R.isFeature=!0,R.keyword=x,R.type=k,R};this.GRAMMAR[k]=_,this.FEATURES[x]=_}addLeafExpression(x,T){this.LEAF_EXPRESSIONS.push(x),this.addGrammarElement(x,T)}addIndirectExpression(x,T){this.INDIRECT_EXPRESSIONS.push(x),this.addGrammarElement(x,T)}static createParserContext(x){var T=x.currentToken(),k=x.source,_=k.split(`
`),U=T&&T.line?T.line-1:_.length-1,M=_[U],j=T&&T.line?T.column:M.length-1;return M+`
`+" ".repeat(j)+`^^

`}static raiseParseError(x,T){T=(T||"Unexpected Token : "+x.currentToken().value)+`

`+f.createParserContext(x);var k=new Error(T);throw k.tokens=x,k}raiseParseError(x,T){f.raiseParseError(x,T)}parseHyperScript(x){var T=this.parseElement("hyperscript",x);if(x.hasMore()&&this.raiseParseError(x),T)return T}setParent(x,T){typeof x=="object"&&(x.parent=T,typeof T=="object"&&(T.children=T.children||new Set,T.children.add(x)),this.setParent(x.next,T))}commandStart(x){return this.COMMANDS[x.value||""]}featureStart(x){return this.FEATURES[x.value||""]}commandBoundary(x){return!!(x.value=="end"||x.value=="then"||x.value=="else"||x.value=="otherwise"||x.value==")"||this.commandStart(x)||this.featureStart(x)||x.type=="EOF")}parseStringTemplate(x){var T=[""];do if(T.push(x.lastWhitespace()),x.currentToken().value==="$"){x.consumeToken();var k=x.matchOpToken("{");T.push(this.requireElement("expression",x)),k&&x.requireOpToken("}"),T.push("")}else if(x.currentToken().value==="\\")x.consumeToken(),x.consumeToken();else{var _=x.consumeToken();T[T.length-1]+=_?_.value:""}while(x.hasMore());return T.push(x.lastWhitespace()),T}ensureTerminated(x){let T=this.runtime;for(var k={type:"implicitReturn",op:function(U){return U.meta.returned=!0,U.meta.resolve&&U.meta.resolve(),T.HALT},execute:function(U){}},_=x;_.next;)_=_.next;_.next=k}}class c{constructor(x,T){this.lexer=x??new l,this.parser=T??new f(this).use(ne).use(Q),this.parser.runtime=this}matchesSelector(x,T){var k=x.matches||x.matchesSelector||x.msMatchesSelector||x.mozMatchesSelector||x.webkitMatchesSelector||x.oMatchesSelector;return k&&k.call(x,T)}makeEvent(x,T){var k;return t.Event&&typeof t.Event=="function"?(k=new Event(x,{bubbles:!0,cancelable:!0}),k.detail=T):(k=document.createEvent("CustomEvent"),k.initCustomEvent(x,!0,!0,T)),k}triggerEvent(x,T,k,_){k=k||{},k.sender=_;var U=this.makeEvent(T,k),M=x.dispatchEvent(U);return M}isArrayLike(x){return Array.isArray(x)||typeof NodeList<"u"&&(x instanceof NodeList||x instanceof HTMLCollection)}isIterable(x){return typeof x=="object"&&Symbol.iterator in x&&typeof x[Symbol.iterator]=="function"}shouldAutoIterate(x){return x!=null&&x[K]||this.isArrayLike(x)}forEach(x,T){if(x!=null)if(this.isIterable(x))for(let _ of x)T(_);else if(this.isArrayLike(x))for(var k=0;k<x.length;k++)T(x[k]);else T(x)}implicitLoop(x,T){if(this.shouldAutoIterate(x))for(let k of x)T(k);else T(x)}wrapArrays(x){for(var T=[],k=0;k<x.length;k++){var _=x[k];Array.isArray(_)?T.push(Promise.all(_)):T.push(_)}return T}unwrapAsyncs(x){for(var T=0;T<x.length;T++){var k=x[T];if(k.asyncWrapper&&(x[T]=k.value),Array.isArray(k))for(var _=0;_<k.length;_++){var U=k[_];U.asyncWrapper&&(k[_]=U.value)}}}static HALT={};HALT=c.HALT;unifiedExec(x,T){for(;;){try{var k=this.unifiedEval(x,T)}catch(_){if(T.meta.handlingFinally)console.error(" Exception in finally block: ",_),k=c.HALT;else if(this.registerHyperTrace(T,_),T.meta.errorHandler&&!T.meta.handlingError){T.meta.handlingError=!0,T.locals[T.meta.errorSymbol]=_,x=T.meta.errorHandler;continue}else T.meta.currentException=_,k=c.HALT}if(k==null){console.error(x," did not return a next element to execute! context: ",T);return}else if(k.then){k.then(_=>{this.unifiedExec(_,T)}).catch(_=>{this.unifiedExec({op:function(){throw _}},T)});return}else if(k===c.HALT)if(T.meta.finallyHandler&&!T.meta.handlingFinally)T.meta.handlingFinally=!0,x=T.meta.finallyHandler;else if(T.meta.onHalt&&T.meta.onHalt(),T.meta.currentException)if(T.meta.reject){T.meta.reject(T.meta.currentException);return}else throw T.meta.currentException;else return;else x=k}}unifiedEval(x,T){var k=[T],_=!1,U=!1;if(x.args)for(var M=0;M<x.args.length;M++){var j=x.args[M];if(j==null)k.push(null);else if(Array.isArray(j)){for(var R=[],se=0;se<j.length;se++){var O=j[se],b=O?O.evaluate(T):null;b&&(b.then?_=!0:b.asyncWrapper&&(U=!0)),R.push(b)}k.push(R)}else if(j.evaluate){var b=j.evaluate(T);b&&(b.then?_=!0:b.asyncWrapper&&(U=!0)),k.push(b)}else k.push(j)}return _?new Promise((J,le)=>{k=this.wrapArrays(k),Promise.all(k).then(function(oe){U&&this.unwrapAsyncs(oe);try{var xe=x.op.apply(x,oe);J(xe)}catch(me){le(me)}}).catch(function(oe){le(oe)})}):(U&&this.unwrapAsyncs(k),x.op.apply(x,k))}_scriptAttrs=null;getScriptAttributes(){return this._scriptAttrs==null&&(this._scriptAttrs=o.attributes.replace(/ /g,"").split(",")),this._scriptAttrs}getScript(x){for(var T=0;T<this.getScriptAttributes().length;T++){var k=this.getScriptAttributes()[T];if(x.hasAttribute&&x.hasAttribute(k))return x.getAttribute(k)}return x instanceof HTMLScriptElement&&x.type==="text/hyperscript"?x.innerText:null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(x){var T=this.hyperscriptFeaturesMap.get(x);return typeof T>"u"&&x&&this.hyperscriptFeaturesMap.set(x,T={}),T}addFeatures(x,T){x&&(Object.assign(T.locals,this.getHyperscriptFeatures(x)),this.addFeatures(x.parentElement,T))}makeContext(x,T,k,_){return new P(x,T,k,_,this)}getScriptSelector(){return this.getScriptAttributes().map(function(x){return"["+x+"]"}).join(", ")}convertValue(x,T){for(var k=r.dynamicResolvers,_=0;_<k.length;_++){var U=k[_],M=U(T,x);if(M!==void 0)return M}if(x==null)return null;var j=r[T];if(j)return j(x);throw"Unknown conversion : "+T}parse(x){let T=this.lexer,k=this.parser;var _=T.tokenize(x);if(this.parser.commandStart(_.currentToken())){var U=k.requireElement("commandList",_);return _.hasMore()&&k.raiseParseError(_),k.ensureTerminated(U),U}else if(k.featureStart(_.currentToken())){var M=k.requireElement("hyperscript",_);return _.hasMore()&&k.raiseParseError(_),M}else{var j=k.requireElement("expression",_);return _.hasMore()&&k.raiseParseError(_),j}}evaluateNoPromise(x,T){let k=x.evaluate(T);if(k.next)throw new Error(u.sourceFor.call(x)+" returned a Promise in a context that they are not allowed.");return k}evaluate(x,T,k){class _ extends EventTarget{constructor(se){super(),this.module=se}toString(){return this.module.id}}var U="document"in t?t.document.body:new _(k&&k.module);T=Object.assign(this.makeContext(U,null,U,null),T||{});var M=this.parse(x);if(M.execute)return M.execute(T),typeof T.meta.returnValue<"u"?T.meta.returnValue:T.result;return M.apply?(M.apply(U,U,k),this.getHyperscriptFeatures(U)):M.evaluate(T);function j(){return{}}}processNode(x){var T=this.getScriptSelector();this.matchesSelector(x,T)&&this.initElement(x,x),x instanceof HTMLScriptElement&&x.type==="text/hyperscript"&&this.initElement(x,document.body),x.querySelectorAll&&this.forEach(x.querySelectorAll(T+", [type='text/hyperscript']"),k=>{this.initElement(k,k instanceof HTMLScriptElement&&k.type==="text/hyperscript"?document.body:k)})}initElement(x,T){if(!(x.closest&&x.closest(o.disableSelector))){var k=this.getInternalData(x);if(!k.initialized){var _=this.getScript(x);if(_)try{k.initialized=!0,k.script=_;let j=this.lexer,R=this.parser;var U=j.tokenize(_),M=R.parseHyperScript(U);if(!M)return;M.apply(T||x,x),setTimeout(()=>{this.triggerEvent(T||x,"load",{hyperscript:!0})},1)}catch(j){this.triggerEvent(x,"exception",{error:j}),console.error("hyperscript errors were found on the following element:",x,`

`,j.message,j.stack)}}}}internalDataMap=new WeakMap;getInternalData(x){var T=this.internalDataMap.get(x);return typeof T>"u"&&this.internalDataMap.set(x,T={}),T}typeCheck(x,T,k){if(x==null&&k)return!0;var _=Object.prototype.toString.call(x).slice(8,-1);return _===T}getElementScope(x){var T=x.meta&&x.meta.owner;if(T){var k=this.getInternalData(T),_="elementScope";x.meta.feature&&x.meta.feature.behavior&&(_=x.meta.feature.behavior+"Scope");var U=ee(k,_);return U}else return{}}isReservedWord(x){return["meta","it","result","locals","event","target","detail","sender","body"].includes(x)}isHyperscriptContext(x){return x instanceof P}resolveSymbol(x,T,k){if(x==="me"||x==="my"||x==="I")return T.me;if(x==="it"||x==="its"||x==="result")return T.result;if(x==="you"||x==="your"||x==="yourself")return T.you;if(k==="global")return t[x];if(k==="element"){var _=this.getElementScope(T);return _[x]}else{if(k==="local")return T.locals[x];if(T.meta&&T.meta.context){var U=T.meta.context[x];if(typeof U<"u"||T.meta.context.detail&&(U=T.meta.context.detail[x],typeof U<"u"))return U}if(this.isHyperscriptContext(T)&&!this.isReservedWord(x))var M=T.locals[x];else var M=T[x];if(typeof M<"u")return M;var _=this.getElementScope(T);return M=_[x],typeof M<"u"?M:t[x]}}setSymbol(x,T,k,_){if(k==="global")t[x]=_;else if(k==="element"){var U=this.getElementScope(T);U[x]=_}else if(k==="local")T.locals[x]=_;else if(this.isHyperscriptContext(T)&&!this.isReservedWord(x)&&typeof T.locals[x]<"u")T.locals[x]=_;else{var U=this.getElementScope(T),M=U[x];typeof M<"u"?U[x]=_:this.isHyperscriptContext(T)&&!this.isReservedWord(x)?T.locals[x]=_:T[x]=_}}findNext(x,T){if(x)return x.resolveNext?x.resolveNext(T):x.next?x.next:this.findNext(x.parent,T)}flatGet(x,T,k){if(x!=null){var _=k(x,T);if(typeof _<"u")return _;if(this.shouldAutoIterate(x)){var U=[];for(var M of x){var j=k(M,T);U.push(j)}return U}}}resolveProperty(x,T){return this.flatGet(x,T,(k,_)=>k[_])}resolveAttribute(x,T){return this.flatGet(x,T,(k,_)=>k.getAttribute&&k.getAttribute(_))}resolveStyle(x,T){return this.flatGet(x,T,(k,_)=>k.style&&k.style[_])}resolveComputedStyle(x,T){return this.flatGet(x,T,(k,_)=>getComputedStyle(k).getPropertyValue(_))}assignToNamespace(x,T,k,_){let U;typeof document<"u"&&x===document.body?U=t:U=this.getHyperscriptFeatures(x);for(var M;(M=T.shift())!==void 0;){var j=U[M];j==null&&(j={},U[M]=j),U=j}U[k]=_}getHyperTrace(x,T){for(var k=[],_=x;_.meta.caller;)_=_.meta.caller;if(_.meta.traceMap)return _.meta.traceMap.get(T,k)}registerHyperTrace(x,T){for(var k=[],_=null;x!=null;)k.push(x),_=x,x=x.meta.caller;if(_.meta.traceMap==null&&(_.meta.traceMap=new Map),!_.meta.traceMap.get(T)){var U={trace:k,print:function(M){M=M||console.error,M("hypertrace /// ");for(var j=0,R=0;R<k.length;R++)j=Math.max(j,k[R].meta.feature.displayName.length);for(var R=0;R<k.length;R++){var se=k[R];M("  ->",se.meta.feature.displayName.padEnd(j+2),"-",se.meta.owner)}}};_.meta.traceMap.set(T,U)}}escapeSelector(x){return x.replace(/:/g,function(T){return"\\"+T})}nullCheck(x,T){if(x==null)throw new Error("'"+T.sourceFor()+"' is null")}isEmpty(x){return x==null||x.length===0}doesExist(x){if(x==null)return!1;if(this.shouldAutoIterate(x)){for(let T of x)return!0;return!1}return!0}getRootNode(x){if(x&&x instanceof Node){var T=x.getRootNode();if(T instanceof Document||T instanceof ShadowRoot)return T}return document}getEventQueueFor(x,T){let k=this.getInternalData(x);var _=k.eventQueues;_==null&&(_=new Map,k.eventQueues=_);var U=_.get(T);return U==null&&(U={queue:[],executing:!1},_.set(T,U)),U}beepValueToConsole(x,T,k){if(this.triggerEvent(x,"hyperscript:beep",{element:x,expression:T,value:k})){var _;k?k instanceof W?_="ElementCollection":k.constructor?_=k.constructor.name:_="unknown":_="object (null)";var U=k;_==="String"?U='"'+U+'"':k instanceof W&&(U=Array.from(k)),console.log("///_ BEEP! The expression ("+u.sourceFor.call(T).replace("beep! ","")+") evaluates to:",U,"of type "+_)}}hyperscriptUrl="document"in t&&document.currentScript?document.currentScript.src:null}function d(){return document.cookie.split("; ").map(x=>{let T=x.split("=");return{name:T[0],value:decodeURIComponent(T[1])}})}function v(X){document.cookie=X+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function C(){for(let X of d())v(X.name)}let F=new Proxy({},{get(X,x){if(x==="then"||x==="asyncWrapper")return null;if(x==="length")return d().length;if(x==="clear")return v;if(x==="clearAll")return C;if(typeof x=="string")if(isNaN(x)){let T=document.cookie.split("; ").find(k=>k.startsWith(x+"="))?.split("=")[1];if(T)return decodeURIComponent(T)}else return d()[parseInt(x)];else if(x===Symbol.iterator)return d()[x]},set(X,x,T){var k=null;return typeof T=="string"?(k=encodeURIComponent(T),k+=";samesite=lax"):(k=encodeURIComponent(T.value),T.expires&&(k+=";expires="+T.maxAge),T.maxAge&&(k+=";max-age="+T.maxAge),T.partitioned&&(k+=";partitioned="+T.partitioned),T.path&&(k+=";path="+T.path),T.samesite&&(k+=";samesite="+T.path),T.secure&&(k+=";secure="+T.path)),document.cookie=x+"="+k,!0}});class P{constructor(x,T,k,_,U){this.meta={parser:U.parser,lexer:U.lexer,runtime:U,owner:x,feature:T,iterators:{},ctx:this},this.locals={cookies:F},this.me=k,this.you=void 0,this.result=void 0,this.event=_,this.target=_?_.target:null,this.detail=_?_.detail:null,this.sender=_&&_.detail?_.detail.sender:null,this.body="document"in t?document.body:null,U.addFeatures(x,this)}}class W{constructor(x,T,k){this._css=x,this.relativeToElement=T,this.escape=k,this[K]=!0}get css(){return this.escape?c.prototype.escapeSelector(this._css):this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(x){for(let T of this)if(T.contains(x))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return c.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}let K=Symbol();function ee(X,x){var T=X[x];if(T)return T;var k={};return X[x]=k,k}function Y(X){try{return JSON.parse(X)}catch(x){return H(x),null}}function H(X){console.error?console.error(X):console.log&&console.log("ERROR: ",X)}function $(X,x){return new(X.bind.apply(X,[X].concat(x)))}function ne(X){X.addLeafExpression("parenthesized",function(D,A,p){if(p.matchOpToken("(")){var w=p.clearFollows();try{var I=D.requireElement("expression",p)}finally{p.restoreFollows(w)}return p.requireOpToken(")"),I}}),X.addLeafExpression("string",function(D,A,p){var w=p.matchTokenType("STRING");if(w){var I=w.value,L;if(w.template){var S=l.tokenize(I,!0);L=D.parseStringTemplate(S)}else L=[];return{type:"string",token:w,args:L,op:function(B){for(var G="",z=1;z<arguments.length;z++){var ae=arguments[z];ae!==void 0&&(G+=ae)}return G},evaluate:function(B){return L.length===0?I:A.unifiedEval(this,B)}}}}),X.addGrammarElement("nakedString",function(D,A,p){if(p.hasMore()){var w=p.consumeUntilWhitespace();return p.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:w,evaluate:function(I){return w.map(function(L){return L.value}).join("")}}}}),X.addLeafExpression("number",function(D,A,p){var w=p.matchTokenType("NUMBER");if(w){var I=w,L=parseFloat(w.value);return{type:"number",value:L,numberToken:I,evaluate:function(){return L}}}}),X.addLeafExpression("idRef",function(D,A,p){var w=p.matchTokenType("ID_REF");if(w&&w.value)if(w.template){var I=w.value.substring(2),L=l.tokenize(I),S=D.requireElement("expression",L);return{type:"idRefTemplate",args:[S],op:function(B,G){return A.getRootNode(B.me).getElementById(G)},evaluate:function(B){return A.unifiedEval(this,B)}}}else{let B=w.value.substring(1);return{type:"idRef",css:w.value,value:B,evaluate:function(G){return A.getRootNode(G.me).getElementById(B)}}}}),X.addLeafExpression("classRef",function(D,A,p){var w=p.matchTokenType("CLASS_REF");if(w&&w.value)if(w.template){var I=w.value.substring(2),L=l.tokenize(I),S=D.requireElement("expression",L);return{type:"classRefTemplate",args:[S],op:function(B,G){return new W("."+G,B.me,!0)},evaluate:function(B){return A.unifiedEval(this,B)}}}else{let B=w.value;return{type:"classRef",css:B,evaluate:function(G){return new W(B,G.me,!0)}}}});class x extends W{constructor(A,p,w){super(A,p),this.templateParts=w,this.elements=w.filter(I=>I instanceof Element)}get css(){let A="",p=0;for(let w of this.templateParts)w instanceof Element?A+="[data-hs-query-id='"+p+++"']":A+=w;return A}[Symbol.iterator](){this.elements.forEach((p,w)=>p.dataset.hsQueryId=w);let A=super[Symbol.iterator]();return this.elements.forEach(p=>p.removeAttribute("data-hs-query-id")),A}}X.addLeafExpression("queryRef",function(D,A,p){var w=p.matchOpToken("<");if(w){var I=p.consumeUntil("/");p.requireOpToken("/"),p.requireOpToken(">");var L=I.map(function(z){return z.type==="STRING"?'"'+z.value+'"':z.value}).join(""),S,B,G;return L.indexOf("$")>=0&&(S=!0,B=l.tokenize(L,!0),G=D.parseStringTemplate(B)),{type:"queryRef",css:L,args:G,op:function(z,...ae){return S?new x(L,z.me,ae):new W(L,z.me)},evaluate:function(z){return A.unifiedEval(this,z)}}}}),X.addLeafExpression("attributeRef",function(D,A,p){var w=p.matchTokenType("ATTRIBUTE_REF");if(w&&w.value){var I=w.value;if(I.indexOf("[")===0)var L=I.substring(2,I.length-1);else var L=I.substring(1);var S="["+L+"]",B=L.split("="),G=B[0],z=B[1];return z&&z.indexOf('"')===0&&(z=z.substring(1,z.length-1)),{type:"attributeRef",name:G,css:S,value:z,op:function(ae){var pe=ae.you||ae.me;if(pe)return pe.getAttribute(G)},evaluate:function(ae){return A.unifiedEval(this,ae)}}}}),X.addLeafExpression("styleRef",function(D,A,p){var w=p.matchTokenType("STYLE_REF");if(w&&w.value){var I=w.value.substr(1);return I.startsWith("computed-")?(I=I.substr(9),{type:"computedStyleRef",name:I,op:function(L){var S=L.you||L.me;if(S)return A.resolveComputedStyle(S,I)},evaluate:function(L){return A.unifiedEval(this,L)}}):{type:"styleRef",name:I,op:function(L){var S=L.you||L.me;if(S)return A.resolveStyle(S,I)},evaluate:function(L){return A.unifiedEval(this,L)}}}}),X.addGrammarElement("objectKey",function(D,A,p){var w;if(w=p.matchTokenType("STRING"))return{type:"objectKey",key:w.value,evaluate:function(){return w.value}};if(p.matchOpToken("[")){var I=D.parseElement("expression",p);return p.requireOpToken("]"),{type:"objectKey",expr:I,args:[I],op:function(S,B){return B},evaluate:function(S){return A.unifiedEval(this,S)}}}else{var L="";do w=p.matchTokenType("IDENTIFIER")||p.matchOpToken("-"),w&&(L+=w.value);while(w);return{type:"objectKey",key:L,evaluate:function(){return L}}}}),X.addLeafExpression("objectLiteral",function(D,A,p){if(p.matchOpToken("{")){var w=[],I=[];if(!p.matchOpToken("}")){do{var L=D.requireElement("objectKey",p);p.requireOpToken(":");var S=D.requireElement("expression",p);I.push(S),w.push(L)}while(p.matchOpToken(","));p.requireOpToken("}")}return{type:"objectLiteral",args:[w,I],op:function(B,G,z){for(var ae={},pe=0;pe<G.length;pe++)ae[G[pe]]=z[pe];return ae},evaluate:function(B){return A.unifiedEval(this,B)}}}}),X.addGrammarElement("nakedNamedArgumentList",function(D,A,p){var w=[],I=[];if(p.currentToken().type==="IDENTIFIER")do{var L=p.requireTokenType("IDENTIFIER");p.requireOpToken(":");var S=D.requireElement("expression",p);I.push(S),w.push({name:L,value:S})}while(p.matchOpToken(","));return{type:"namedArgumentList",fields:w,args:[I],op:function(B,G){for(var z={_namedArgList_:!0},ae=0;ae<G.length;ae++){var pe=w[ae];z[pe.name.value]=G[ae]}return z},evaluate:function(B){return A.unifiedEval(this,B)}}}),X.addGrammarElement("namedArgumentList",function(D,A,p){if(p.matchOpToken("(")){var w=D.requireElement("nakedNamedArgumentList",p);return p.requireOpToken(")"),w}}),X.addGrammarElement("symbol",function(D,A,p){var w="default";p.matchToken("global")?w="global":p.matchToken("element")||p.matchToken("module")?(w="element",p.matchOpToken("'")&&p.requireToken("s")):p.matchToken("local")&&(w="local");let I=p.matchOpToken(":"),L=p.matchTokenType("IDENTIFIER");if(L&&L.value){var S=L.value;return I&&(S=":"+S),w==="default"&&(S.indexOf("$")===0&&(w="global"),S.indexOf(":")===0&&(w="element")),{type:"symbol",token:L,scope:w,name:S,evaluate:function(B){return A.resolveSymbol(S,B,w)}}}}),X.addGrammarElement("implicitMeTarget",function(D,A,p){return{type:"implicitMeTarget",evaluate:function(w){return w.you||w.me}}}),X.addLeafExpression("boolean",function(D,A,p){var w=p.matchToken("true")||p.matchToken("false");if(!w)return;let I=w.value==="true";return{type:"boolean",evaluate:function(L){return I}}}),X.addLeafExpression("null",function(D,A,p){if(p.matchToken("null"))return{type:"null",evaluate:function(w){return null}}}),X.addLeafExpression("arrayLiteral",function(D,A,p){if(p.matchOpToken("[")){var w=[];if(!p.matchOpToken("]")){do{var I=D.requireElement("expression",p);w.push(I)}while(p.matchOpToken(","));p.requireOpToken("]")}return{type:"arrayLiteral",values:w,args:[w],op:function(L,S){return S},evaluate:function(L){return A.unifiedEval(this,L)}}}}),X.addLeafExpression("blockLiteral",function(D,A,p){if(p.matchOpToken("\\")){var w=[],I=p.matchTokenType("IDENTIFIER");if(I)for(w.push(I);p.matchOpToken(",");)w.push(p.requireTokenType("IDENTIFIER"));p.requireOpToken("-"),p.requireOpToken(">");var L=D.requireElement("expression",p);return{type:"blockLiteral",args:w,expr:L,evaluate:function(S){var B=function(){for(var G=0;G<w.length;G++)S.locals[w[G].value]=arguments[G];return L.evaluate(S)};return B}}}}),X.addIndirectExpression("propertyAccess",function(D,A,p,w){if(p.matchOpToken(".")){var I=p.requireTokenType("IDENTIFIER"),L={type:"propertyAccess",root:w,prop:I,args:[w],op:function(S,B){var G=A.resolveProperty(B,I.value);return G},evaluate:function(S){return A.unifiedEval(this,S)}};return D.parseElement("indirectExpression",p,L)}}),X.addIndirectExpression("of",function(D,A,p,w){if(p.matchToken("of")){for(var I=D.requireElement("unaryExpression",p),L=null,S=w;S.root;)L=S,S=S.root;S.type!=="symbol"&&S.type!=="attributeRef"&&S.type!=="styleRef"&&S.type!=="computedStyleRef"&&D.raiseParseError(p,"Cannot take a property of a non-symbol: "+S.type);var B=S.type==="attributeRef",G=S.type==="styleRef"||S.type==="computedStyleRef";if(B||G)var z=S;var ae=S.name,pe={type:"ofExpression",prop:S.token,root:I,attribute:z,expression:w,args:[I],op:function(ue,re){return B?A.resolveAttribute(re,ae):G?S.type==="computedStyleRef"?A.resolveComputedStyle(re,ae):A.resolveStyle(re,ae):A.resolveProperty(re,ae)},evaluate:function(ue){return A.unifiedEval(this,ue)}};return S.type==="attributeRef"&&(pe.attribute=S),L?(L.root=pe,L.args=[pe]):w=pe,D.parseElement("indirectExpression",p,w)}}),X.addIndirectExpression("possessive",function(D,A,p,w){if(!D.possessivesDisabled){var I=p.matchOpToken("'");if(I||w.type==="symbol"&&(w.name==="my"||w.name==="its"||w.name==="your")&&(p.currentToken().type==="IDENTIFIER"||p.currentToken().type==="ATTRIBUTE_REF"||p.currentToken().type==="STYLE_REF")){I&&p.requireToken("s");var L,S,B;L=D.parseElement("attributeRef",p),L==null&&(S=D.parseElement("styleRef",p),S==null&&(B=p.requireTokenType("IDENTIFIER")));var G={type:"possessive",root:w,attribute:L||S,prop:B,args:[w],op:function(z,ae){if(L)var pe=A.resolveAttribute(ae,L.name);else if(S){var pe;S.type==="computedStyleRef"?pe=A.resolveComputedStyle(ae,S.name):pe=A.resolveStyle(ae,S.name)}else var pe=A.resolveProperty(ae,B.value);return pe},evaluate:function(z){return A.unifiedEval(this,z)}};return D.parseElement("indirectExpression",p,G)}}}),X.addIndirectExpression("inExpression",function(D,A,p,w){if(p.matchToken("in")){var I=D.requireElement("unaryExpression",p),L={type:"inExpression",root:w,args:[w,I],op:function(S,B,G){var z=[];if(B.css)A.implicitLoop(G,function(pe){for(var ue=pe.querySelectorAll(B.css),re=0;re<ue.length;re++)z.push(ue[re])});else if(B instanceof Element){var ae=!1;if(A.implicitLoop(G,function(pe){pe.contains(B)&&(ae=!0)}),ae)return B}else A.implicitLoop(B,function(pe){A.implicitLoop(G,function(ue){pe===ue&&z.push(pe)})});return z},evaluate:function(S){return A.unifiedEval(this,S)}};return D.parseElement("indirectExpression",p,L)}}),X.addIndirectExpression("asExpression",function(D,A,p,w){if(p.matchToken("as")){p.matchToken("a")||p.matchToken("an");var I=D.requireElement("dotOrColonPath",p).evaluate(),L={type:"asExpression",root:w,args:[w],op:function(S,B){return A.convertValue(B,I)},evaluate:function(S){return A.unifiedEval(this,S)}};return D.parseElement("indirectExpression",p,L)}}),X.addIndirectExpression("functionCall",function(D,A,p,w){if(p.matchOpToken("(")){var I=[];if(!p.matchOpToken(")")){do I.push(D.requireElement("expression",p));while(p.matchOpToken(","));p.requireOpToken(")")}if(w.root)var L={type:"functionCall",root:w,argExressions:I,args:[w.root,I],op:function(S,B,G){A.nullCheck(B,w.root);var z=B[w.prop.value];return A.nullCheck(z,w),z.hyperfunc&&G.push(S),z.apply(B,G)},evaluate:function(S){return A.unifiedEval(this,S)}};else var L={type:"functionCall",root:w,argExressions:I,args:[w,I],op:function(B,G,z){A.nullCheck(G,w),G.hyperfunc&&z.push(B);var ae=G.apply(null,z);return ae},evaluate:function(B){return A.unifiedEval(this,B)}};return D.parseElement("indirectExpression",p,L)}}),X.addIndirectExpression("attributeRefAccess",function(D,A,p,w){var I=D.parseElement("attributeRef",p);if(I){var L={type:"attributeRefAccess",root:w,attribute:I,args:[w],op:function(S,B){var G=A.resolveAttribute(B,I.name);return G},evaluate:function(S){return A.unifiedEval(this,S)}};return L}}),X.addIndirectExpression("arrayIndex",function(D,A,p,w){if(p.matchOpToken("[")){var I=!1,L=!1,S=null,B=null;if(p.matchOpToken(".."))I=!0,S=D.requireElement("expression",p);else if(S=D.requireElement("expression",p),p.matchOpToken("..")){L=!0;var G=p.currentToken();G.type!=="R_BRACKET"&&(B=D.parseElement("expression",p))}p.requireOpToken("]");var z={type:"arrayIndex",root:w,prop:S,firstIndex:S,secondIndex:B,args:[w,S,B],op:function(ae,pe,ue,re){return pe==null?null:I?(ue<0&&(ue=pe.length+ue),pe.slice(0,ue+1)):L?re!=null?(re<0&&(re=pe.length+re),pe.slice(ue,re+1)):pe.slice(ue):pe[ue]},evaluate:function(ae){return A.unifiedEval(this,ae)}};return D.parseElement("indirectExpression",p,z)}});var T=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];X.addGrammarElement("postfixExpression",function(D,A,p){var w=D.parseElement("primaryExpression",p);let I=p.matchAnyToken.apply(p,T)||p.matchOpToken("%");if(I)return{type:"stringPostfix",postfix:I.value,args:[w],op:function(G,z){return""+z+I.value},evaluate:function(G){return A.unifiedEval(this,G)}};var L=null;if(p.matchToken("s")||p.matchToken("seconds")?L=1e3:(p.matchToken("ms")||p.matchToken("milliseconds"))&&(L=1),L)return{type:"timeExpression",time:w,factor:L,args:[w],op:function(G,z){return z*L},evaluate:function(G){return A.unifiedEval(this,G)}};if(p.matchOpToken(":")){var S=p.requireTokenType("IDENTIFIER");if(!S.value)return;var B=!p.matchOpToken("!");return{type:"typeCheck",typeName:S,nullOk:B,args:[w],op:function(G,z){var ae=A.typeCheck(z,this.typeName.value,B);if(ae)return z;throw new Error("Typecheck failed!  Expected: "+S.value)},evaluate:function(G){return A.unifiedEval(this,G)}}}else return w}),X.addGrammarElement("logicalNot",function(D,A,p){if(p.matchToken("not")){var w=D.requireElement("unaryExpression",p);return{type:"logicalNot",root:w,args:[w],op:function(I,L){return!L},evaluate:function(I){return A.unifiedEval(this,I)}}}}),X.addGrammarElement("noExpression",function(D,A,p){if(p.matchToken("no")){var w=D.requireElement("unaryExpression",p);return{type:"noExpression",root:w,args:[w],op:function(I,L){return A.isEmpty(L)},evaluate:function(I){return A.unifiedEval(this,I)}}}}),X.addLeafExpression("some",function(D,A,p){if(p.matchToken("some")){var w=D.requireElement("expression",p);return{type:"noExpression",root:w,args:[w],op:function(I,L){return!A.isEmpty(L)},evaluate(I){return A.unifiedEval(this,I)}}}}),X.addGrammarElement("negativeNumber",function(D,A,p){if(p.matchOpToken("-")){var w=D.requireElement("unaryExpression",p);return{type:"negativeNumber",root:w,args:[w],op:function(I,L){return-1*L},evaluate:function(I){return A.unifiedEval(this,I)}}}}),X.addGrammarElement("unaryExpression",function(D,A,p){return p.matchToken("the"),D.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","negativeNumber","postfixExpression"],p)}),X.addGrammarElement("beepExpression",function(D,A,p){if(p.matchToken("beep!")){var w=D.parseElement("unaryExpression",p);if(w){w.booped=!0;var I=w.evaluate;return w.evaluate=function(L){let S=I.apply(w,arguments),B=L.me;return A.beepValueToConsole(B,w,S),S},w}}});var k=function(D,A,p,w){for(var I=A.querySelectorAll(p),L=0;L<I.length;L++){var S=I[L];if(S.compareDocumentPosition(D)===Node.DOCUMENT_POSITION_PRECEDING)return S}if(w)return I[0]},_=function(D,A,p,w){for(var I=A.querySelectorAll(p),L=I.length-1;L>=0;L--){var S=I[L];if(S.compareDocumentPosition(D)===Node.DOCUMENT_POSITION_FOLLOWING)return S}if(w)return I[I.length-1]},U=function(D,A,p,w){var I=[];c.prototype.forEach(A,function(G){(G.matches(p)||G===D)&&I.push(G)});for(var L=0;L<I.length-1;L++){var S=I[L];if(S===D)return I[L+1]}if(w){var B=I[0];if(B&&B.matches(p))return B}},M=function(D,A,p,w){return U(D,Array.from(A).reverse(),p,w)};X.addGrammarElement("relativePositionalExpression",function(D,A,p){var w=p.matchAnyToken("next","previous");if(w){var I=w.value==="next",L=D.parseElement("expression",p);if(p.matchToken("from")){p.pushFollow("in");try{var S=D.requireElement("unaryExpression",p)}finally{p.popFollow()}}else var S=D.requireElement("implicitMeTarget",p);var B=!1,G;if(p.matchToken("in")){B=!0;var z=D.requireElement("unaryExpression",p)}else p.matchToken("within")?G=D.requireElement("unaryExpression",p):G=document.body;var ae=!1;return p.matchToken("with")&&(p.requireToken("wrapping"),ae=!0),{type:"relativePositionalExpression",from:S,forwardSearch:I,inSearch:B,wrapping:ae,inElt:z,withinElt:G,operator:w.value,args:[L,S,z,G],op:function(pe,ue,re,we,Me){var Te=ue.css;if(Te==null)throw"Expected a CSS value to be returned by "+u.sourceFor.apply(L);if(B){if(we)return I?U(re,we,Te,ae):M(re,we,Te,ae)}else if(Me)return I?k(re,Me,Te,ae):_(re,Me,Te,ae)},evaluate:function(pe){return A.unifiedEval(this,pe)}}}}),X.addGrammarElement("positionalExpression",function(D,A,p){var w=p.matchAnyToken("first","last","random");if(!w)return;p.matchAnyToken("in","from","of");var I=D.requireElement("unaryExpression",p);let L=w.value;return{type:"positionalExpression",rhs:I,operator:w.value,args:[I],op:function(S,B){if(B&&!Array.isArray(B)&&(B.children?B=B.children:B=Array.from(B)),B){if(L==="first")return B[0];if(L==="last")return B[B.length-1];if(L==="random")return B[Math.floor(Math.random()*B.length)]}},evaluate:function(S){return A.unifiedEval(this,S)}}}),X.addGrammarElement("mathOperator",function(D,A,p){var w=D.parseElement("unaryExpression",p),I,L=null;for(I=p.matchAnyOpToken("+","-","*","/")||p.matchToken("mod");I;){L=L||I;var S=I.value;L.value!==S&&D.raiseParseError(p,"You must parenthesize math operations with different operators");var B=D.parseElement("unaryExpression",p);w={type:"mathOperator",lhs:w,rhs:B,operator:S,args:[w,B],op:function(G,z,ae){if(S==="+")return z+ae;if(S==="-")return z-ae;if(S==="*")return z*ae;if(S==="/")return z/ae;if(S==="mod")return z%ae},evaluate:function(G){return A.unifiedEval(this,G)}},I=p.matchAnyOpToken("+","-","*","/")||p.matchToken("mod")}return w}),X.addGrammarElement("mathExpression",function(D,A,p){return D.parseAnyOf(["mathOperator","unaryExpression"],p)});function j(D,A,p){if(A.contains)return A.contains(p);if(A.includes)return A.includes(p);throw Error("The value of "+D.sourceFor()+" does not have a contains or includes method on it")}function R(D,A,p){if(A.match)return!!A.match(p);if(A.matches)return A.matches(p);throw Error("The value of "+D.sourceFor()+" does not have a match or matches method on it")}X.addGrammarElement("comparisonOperator",function(D,A,p){var w=D.parseElement("mathExpression",p),I=p.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),L=I?I.value:null,S=!0,B=!1;if(L==null&&(p.matchToken("is")||p.matchToken("am")?p.matchToken("not")?p.matchToken("in")?L="not in":p.matchToken("a")?(L="not a",B=!0):p.matchToken("empty")?(L="not empty",S=!1):(p.matchToken("really")?L="!==":L="!=",p.matchToken("equal")&&p.matchToken("to")):p.matchToken("in")?L="in":p.matchToken("a")?(L="a",B=!0):p.matchToken("empty")?(L="empty",S=!1):p.matchToken("less")?(p.requireToken("than"),p.matchToken("or")?(p.requireToken("equal"),p.requireToken("to"),L="<="):L="<"):p.matchToken("greater")?(p.requireToken("than"),p.matchToken("or")?(p.requireToken("equal"),p.requireToken("to"),L=">="):L=">"):(p.matchToken("really")?L="===":L="==",p.matchToken("equal")&&p.matchToken("to")):p.matchToken("equals")?L="==":p.matchToken("really")?(p.requireToken("equals"),L="==="):p.matchToken("exist")||p.matchToken("exists")?(L="exist",S=!1):p.matchToken("matches")||p.matchToken("match")?L="match":p.matchToken("contains")||p.matchToken("contain")?L="contain":p.matchToken("includes")||p.matchToken("include")?L="include":(p.matchToken("do")||p.matchToken("does"))&&(p.requireToken("not"),p.matchToken("matches")||p.matchToken("match")?L="not match":p.matchToken("contains")||p.matchToken("contain")?L="not contain":p.matchToken("exist")||p.matchToken("exist")?(L="not exist",S=!1):p.matchToken("include")?L="not include":D.raiseParseError(p,"Expected matches or contains"))),L){var G,z,ae;B?(G=p.requireTokenType("IDENTIFIER"),z=!p.matchOpToken("!")):S&&(ae=D.requireElement("mathExpression",p),(L==="match"||L==="not match")&&(ae=ae.css?ae.css:ae));var pe=w;w={type:"comparisonOperator",operator:L,typeName:G,nullOk:z,lhs:w,rhs:ae,args:[w,ae],op:function(ue,re,we){if(L==="==")return re==we;if(L==="!=")return re!=we;if(L==="===")return re===we;if(L==="!==")return re!==we;if(L==="match")return re!=null&&R(pe,re,we);if(L==="not match")return re==null||!R(pe,re,we);if(L==="in")return we!=null&&j(ae,we,re);if(L==="not in")return we==null||!j(ae,we,re);if(L==="contain")return re!=null&&j(pe,re,we);if(L==="not contain")return re==null||!j(pe,re,we);if(L==="include")return re!=null&&j(pe,re,we);if(L==="not include")return re==null||!j(pe,re,we);if(L==="===")return re===we;if(L==="!==")return re!==we;if(L==="<")return re<we;if(L===">")return re>we;if(L==="<=")return re<=we;if(L===">=")return re>=we;if(L==="empty")return A.isEmpty(re);if(L==="not empty")return!A.isEmpty(re);if(L==="exist")return A.doesExist(re);if(L==="not exist")return!A.doesExist(re);if(L==="a")return A.typeCheck(re,G.value,z);if(L==="not a")return!A.typeCheck(re,G.value,z);throw"Unknown comparison : "+L},evaluate:function(ue){return A.unifiedEval(this,ue)}}}return w}),X.addGrammarElement("comparisonExpression",function(D,A,p){return D.parseAnyOf(["comparisonOperator","mathExpression"],p)}),X.addGrammarElement("logicalOperator",function(D,A,p){var w=D.parseElement("comparisonExpression",p),I,L=null;for(I=p.matchToken("and")||p.matchToken("or");I;){L=L||I,L.value!==I.value&&D.raiseParseError(p,"You must parenthesize logical operations with different operators");var S=D.requireElement("comparisonExpression",p);let B=I.value;w={type:"logicalOperator",operator:B,lhs:w,rhs:S,args:[w,S],op:function(G,z,ae){return B==="and"?z&&ae:z||ae},evaluate:function(G){return A.unifiedEval(this,G)}},I=p.matchToken("and")||p.matchToken("or")}return w}),X.addGrammarElement("logicalExpression",function(D,A,p){return D.parseAnyOf(["logicalOperator","mathExpression"],p)}),X.addGrammarElement("asyncExpression",function(D,A,p){if(p.matchToken("async")){var w=D.requireElement("logicalExpression",p),I={type:"asyncExpression",value:w,evaluate:function(L){return{asyncWrapper:!0,value:this.value.evaluate(L)}}};return I}else return D.parseElement("logicalExpression",p)}),X.addGrammarElement("expression",function(D,A,p){return p.matchToken("the"),D.parseElement("asyncExpression",p)}),X.addGrammarElement("assignableExpression",function(D,A,p){p.matchToken("the");var w=D.parseElement("primaryExpression",p);return w&&(w.type==="symbol"||w.type==="ofExpression"||w.type==="propertyAccess"||w.type==="attributeRefAccess"||w.type==="attributeRef"||w.type==="styleRef"||w.type==="arrayIndex"||w.type==="possessive")||D.raiseParseError(p,"A target expression must be writable.  The expression type '"+(w&&w.type)+"' is not."),w}),X.addGrammarElement("hyperscript",function(D,A,p){var w=[];if(p.hasMore())for(;D.featureStart(p.currentToken())||p.currentToken().value==="(";){var I=D.requireElement("feature",p);w.push(I),p.matchToken("end")}return{type:"hyperscript",features:w,apply:function(L,S,B){for(let G of w)G.install(L,S,B)}}});var se=function(D){var A=[];if(D.token(0).value==="("&&(D.token(1).value===")"||D.token(2).value===","||D.token(2).value===")")){D.matchOpToken("(");do A.push(D.requireTokenType("IDENTIFIER"));while(D.matchOpToken(","));D.requireOpToken(")")}return A};X.addFeature("on",function(D,A,p){if(p.matchToken("on")){var w=!1;p.matchToken("every")&&(w=!0);var I=[],L=null;do{var S=D.requireElement("eventName",p,"Expected event name"),B=S.evaluate();L?L=L+" or "+B:L="on "+B;var G=se(p),z=null;p.matchOpToken("[")&&(z=D.requireElement("expression",p),p.requireOpToken("]"));var ae,pe,ue;if(p.currentToken().type==="NUMBER"){var re=p.consumeToken();if(!re.value)return;if(ae=parseInt(re.value),p.matchToken("to")){var we=p.consumeToken();if(!we.value)return;pe=parseInt(we.value)}else p.matchToken("and")&&(ue=!0,p.requireToken("on"))}var Me,Te;if(B==="intersection"){if(Me={},p.matchToken("with")&&(Me.with=D.requireElement("expression",p).evaluate()),p.matchToken("having"))do p.matchToken("margin")?Me.rootMargin=D.requireElement("stringLike",p).evaluate():p.matchToken("threshold")?Me.threshold=D.requireElement("expression",p).evaluate():D.raiseParseError(p,"Unknown intersection config specification");while(p.matchToken("and"))}else if(B==="mutation")if(Te={},p.matchToken("of"))do if(p.matchToken("anything"))Te.attributes=!0,Te.subtree=!0,Te.characterData=!0,Te.childList=!0;else if(p.matchToken("childList"))Te.childList=!0;else if(p.matchToken("attributes"))Te.attributes=!0,Te.attributeOldValue=!0;else if(p.matchToken("subtree"))Te.subtree=!0;else if(p.matchToken("characterData"))Te.characterData=!0,Te.characterDataOldValue=!0;else if(p.currentToken().type==="ATTRIBUTE_REF"){var Ge=p.consumeToken();Te.attributeFilter==null&&(Te.attributeFilter=[]),Ge.value.indexOf("@")==0?Te.attributeFilter.push(Ge.value.substring(1)):D.raiseParseError(p,"Only shorthand attribute references are allowed here")}else D.raiseParseError(p,"Unknown mutation config specification");while(p.matchToken("or"));else Te.attributes=!0,Te.characterData=!0,Te.childList=!0;var Ue=null,St=!1;if(p.matchToken("from"))if(p.matchToken("elsewhere"))St=!0;else{p.pushFollow("or");try{Ue=D.requireElement("expression",p)}finally{p.popFollow()}Ue||D.raiseParseError(p,'Expected either target value or "elsewhere".')}if(Ue===null&&St===!1&&p.matchToken("elsewhere")&&(St=!0),p.matchToken("in"))var Rt=D.parseElement("unaryExpression",p);if(p.matchToken("debounced")){p.requireToken("at");var Xe=D.requireElement("unaryExpression",p),wt=Xe.evaluate({})}else if(p.matchToken("throttled")){p.requireToken("at");var Xe=D.requireElement("unaryExpression",p),Ct=Xe.evaluate({})}I.push({execCount:0,every:w,on:B,args:G,filter:z,from:Ue,inExpr:Rt,elsewhere:St,startCount:ae,endCount:pe,unbounded:ue,debounceTime:wt,throttleTime:Ct,mutationSpec:Te,intersectionSpec:Me,debounced:void 0,lastExec:void 0})}while(p.matchToken("or"));var ot=!0;if(!w&&p.matchToken("queue"))if(p.matchToken("all"))var Nt=!0,ot=!1;else if(p.matchToken("first"))var Lt=!0;else if(p.matchToken("none"))var bn=!0;else p.requireToken("last");var Oe=D.requireElement("commandList",p);D.ensureTerminated(Oe);var Pn,Dt;if(p.matchToken("catch")&&(Pn=p.requireTokenType("IDENTIFIER").value,Dt=D.requireElement("commandList",p),D.ensureTerminated(Dt)),p.matchToken("finally")){var rt=D.requireElement("commandList",p);D.ensureTerminated(rt)}var je={displayName:L,events:I,start:Oe,every:w,execCount:0,errorHandler:Dt,errorSymbol:Pn,execute:function(st){let ut=A.getEventQueueFor(st.me,je);if(ut.executing&&w===!1){if(bn||Lt&&ut.queue.length>0)return;ot&&(ut.queue.length=0),ut.queue.push(st);return}je.execCount++,ut.executing=!0,st.meta.onHalt=function(){ut.executing=!1;var dt=ut.queue.shift();dt&&setTimeout(function(){je.execute(dt)},1)},st.meta.reject=function(dt){console.error(dt.message?dt.message:dt);var Ne=A.getHyperTrace(st,dt);Ne&&Ne.print(),A.triggerEvent(st.me,"exception",{error:dt})},Oe.execute(st)},install:function(st,ut){for(let Ne of je.events){var dt;Ne.elsewhere?dt=[document]:Ne.from?dt=Ne.from.evaluate(A.makeContext(st,je,st,null)):dt=[st],A.implicitLoop(dt,function(Wt){var tn=Ne.on;if(Wt==null){console.warn("'%s' feature ignored because target does not exists:",L,st);return}if(Ne.mutationSpec&&(tn="hyperscript:mutation",new MutationObserver(function(nn,Ze){je.executing||A.triggerEvent(Wt,tn,{mutationList:nn,observer:Ze})}).observe(Wt,Ne.mutationSpec)),Ne.intersectionSpec){tn="hyperscript:intersection";let cn=new IntersectionObserver(function(nn){for(let En of nn){var Ze={observer:cn};Ze=Object.assign(Ze,En),Ze.intersecting=En.isIntersecting,A.triggerEvent(Wt,tn,Ze)}},Ne.intersectionSpec);cn.observe(Wt)}var qn=Wt.addEventListener||Wt.on;qn.call(Wt,tn,function cn(nn){if(typeof Node<"u"&&st instanceof Node&&Wt!==st&&!st.isConnected){Wt.removeEventListener(tn,cn);return}var Ze=A.makeContext(st,je,st,nn);if(!(Ne.elsewhere&&st.contains(nn.target))){Ne.from&&(Ze.result=Wt);for(let fr of Ne.args){let cr=Ze.event[fr.value];cr!==void 0?Ze.locals[fr.value]=cr:"detail"in Ze.event&&(Ze.locals[fr.value]=Ze.event.detail[fr.value])}if(Ze.meta.errorHandler=Dt,Ze.meta.errorSymbol=Pn,Ze.meta.finallyHandler=rt,Ne.filter){var En=Ze.meta.context;Ze.meta.context=Ze.event;try{var no=Ne.filter.evaluate(Ze);if(!no)return}finally{Ze.meta.context=En}}if(Ne.inExpr){for(var rn=nn.target;;)if(rn.matches&&rn.matches(Ne.inExpr.css)){Ze.result=rn;break}else if(rn=rn.parentElement,rn==null)return}if(Ne.execCount++,Ne.startCount){if(Ne.endCount){if(Ne.execCount<Ne.startCount||Ne.execCount>Ne.endCount)return}else if(Ne.unbounded){if(Ne.execCount<Ne.startCount)return}else if(Ne.execCount!==Ne.startCount)return}if(Ne.debounceTime){Ne.debounced&&clearTimeout(Ne.debounced),Ne.debounced=setTimeout(function(){je.execute(Ze)},Ne.debounceTime);return}if(Ne.throttleTime){if(Ne.lastExec&&Date.now()<Ne.lastExec+Ne.throttleTime)return;Ne.lastExec=Date.now()}je.execute(Ze)}})})}}};return D.setParent(Oe,je),je}}),X.addFeature("def",function(D,A,p){if(p.matchToken("def")){var w=D.requireElement("dotOrColonPath",p),I=w.evaluate(),L=I.split("."),S=L.pop(),B=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do B.push(p.requireTokenType("IDENTIFIER"));while(p.matchOpToken(","));p.requireOpToken(")")}var G=D.requireElement("commandList",p),z,ae;if(p.matchToken("catch")&&(z=p.requireTokenType("IDENTIFIER").value,ae=D.parseElement("commandList",p)),p.matchToken("finally")){var pe=D.requireElement("commandList",p);D.ensureTerminated(pe)}var ue={displayName:S+"("+B.map(function(re){return re.value}).join(", ")+")",name:S,args:B,start:G,errorHandler:ae,errorSymbol:z,finallyHandler:pe,install:function(re,we){var Me=function(){var Te=A.makeContext(we,ue,re,null);Te.meta.errorHandler=ae,Te.meta.errorSymbol=z,Te.meta.finallyHandler=pe;for(var Ge=0;Ge<B.length;Ge++){var Ue=B[Ge],St=arguments[Ge];Ue&&(Te.locals[Ue.value]=St)}Te.meta.caller=arguments[B.length],Te.meta.caller&&(Te.meta.callingCommand=Te.meta.caller.meta.command);var Rt,Xe=null,wt=new Promise(function(Ct,ot){Rt=Ct,Xe=ot});return G.execute(Te),Te.meta.returned?Te.meta.returnValue:(Te.meta.resolve=Rt,Te.meta.reject=Xe,wt)};Me.hyperfunc=!0,Me.hypername=I,A.assignToNamespace(re,L,S,Me)}};return D.ensureTerminated(G),ae&&D.ensureTerminated(ae),D.setParent(G,ue),ue}}),X.addFeature("set",function(D,A,p){let w=D.parseElement("setCommand",p);if(w){w.target.scope!=="element"&&D.raiseParseError(p,"variables declared at the feature level must be element scoped.");let I={start:w,install:function(L,S){w&&w.execute(A.makeContext(L,I,L,null))}};return D.ensureTerminated(w),I}}),X.addFeature("init",function(D,A,p){if(p.matchToken("init")){var w=p.matchToken("immediately"),I=D.requireElement("commandList",p),L={start:I,install:function(S,B){let G=function(){I&&I.execute(A.makeContext(S,L,S,null))};w?G():setTimeout(G,0)}};return D.ensureTerminated(I),D.setParent(I,L),L}}),X.addFeature("worker",function(D,A,p){if(p.matchToken("worker")){D.raiseParseError(p,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}}),X.addFeature("behavior",function(D,A,p){if(p.matchToken("behavior")){var w=D.requireElement("dotOrColonPath",p).evaluate(),I=w.split("."),L=I.pop(),S=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do S.push(p.requireTokenType("IDENTIFIER").value);while(p.matchOpToken(","));p.requireOpToken(")")}for(var B=D.requireElement("hyperscript",p),G=0;G<B.features.length;G++){var z=B.features[G];z.behavior=w}return{install:function(ae,pe){A.assignToNamespace(t.document&&t.document.body,I,L,function(ue,re,we){for(var Me=A.getInternalData(ue),Te=ee(Me,w+"Scope"),Ge=0;Ge<S.length;Ge++)Te[S[Ge]]=we[S[Ge]];B.apply(ue,re)})}}}}),X.addFeature("install",function(D,A,p){if(p.matchToken("install")){var w=D.requireElement("dotOrColonPath",p).evaluate(),I=w.split("."),L=D.parseElement("namedArgumentList",p),S;return S={install:function(B,G){A.unifiedEval({args:[L],op:function(z,ae){for(var pe=t,ue=0;ue<I.length;ue++)if(pe=pe[I[ue]],typeof pe!="object"&&typeof pe!="function")throw new Error("No such behavior defined as "+w);if(!(pe instanceof Function))throw new Error(w+" is not a behavior");pe(B,G,ae)}},A.makeContext(B,S,B,null))}}}}),X.addGrammarElement("jsBody",function(D,A,p){for(var w=p.currentToken().start,I=p.currentToken(),L=[],S="",B=!1;p.hasMore();){I=p.consumeToken();var G=p.token(0,!0);if(G.type==="IDENTIFIER"&&G.value==="end")break;B?I.type==="IDENTIFIER"||I.type==="NUMBER"?S+=I.value:(S!==""&&L.push(S),S="",B=!1):I.type==="IDENTIFIER"&&I.value==="function"&&(B=!0)}var z=I.end+1;return{type:"jsBody",exposedFunctionNames:L,jsSource:p.source.substring(w,z)}}),X.addFeature("js",function(D,A,p){if(p.matchToken("js")){var w=D.requireElement("jsBody",p),I=w.jsSource+`
return { `+w.exposedFunctionNames.map(function(S){return S+":"+S}).join(",")+" } ",L=new Function(I);return{jsSource:I,function:L,exposedFunctionNames:w.exposedFunctionNames,install:function(){Object.assign(t,L())}}}}),X.addCommand("js",function(D,A,p){if(p.matchToken("js")){var w=[];if(p.matchOpToken("(")&&!p.matchOpToken(")")){do{var I=p.requireTokenType("IDENTIFIER");w.push(I.value)}while(p.matchOpToken(","));p.requireOpToken(")")}var L=D.requireElement("jsBody",p);p.matchToken("end");var S=$(Function,w.concat([L.jsSource])),B={jsSource:L.jsSource,function:S,inputs:w,op:function(G){var z=[];w.forEach(function(pe){z.push(A.resolveSymbol(pe,G,"default"))});var ae=S.apply(t,z);return ae&&typeof ae.then=="function"?new Promise(function(pe){ae.then(function(ue){G.result=ue,pe(A.findNext(this,G))})}):(G.result=ae,A.findNext(this,G))}};return B}}),X.addCommand("async",function(D,A,p){if(p.matchToken("async")){if(p.matchToken("do")){for(var w=D.requireElement("commandList",p),I=w;I.next;)I=I.next;I.next=A.HALT,p.requireToken("end")}else var w=D.requireElement("command",p);var L={body:w,op:function(S){return setTimeout(function(){w.execute(S)}),A.findNext(this,S)}};return D.setParent(w,L),L}}),X.addCommand("tell",function(D,A,p){var w=p.currentToken();if(p.matchToken("tell")){var I=D.requireElement("expression",p),L=D.requireElement("commandList",p);p.hasMore()&&!D.featureStart(p.currentToken())&&p.requireToken("end");var S="tell_"+w.start,B={value:I,body:L,args:[I],resolveNext:function(G){var z=G.meta.iterators[S];return z.index<z.value.length?(G.you=z.value[z.index++],L):(G.you=z.originalYou,this.next?this.next:A.findNext(this.parent,G))},op:function(G,z){return z==null?z=[]:Array.isArray(z)||z instanceof NodeList||(z=[z]),G.meta.iterators[S]={originalYou:G.you,index:0,value:z},this.resolveNext(G)}};return D.setParent(L,B),B}}),X.addCommand("wait",function(D,A,p){if(p.matchToken("wait")){var w;if(p.matchToken("for")){p.matchToken("a");var I=[];do{var L=p.token(0);L.type==="NUMBER"||L.type==="L_PAREN"?I.push({time:D.requireElement("expression",p).evaluate()}):I.push({name:D.requireElement("dotOrColonPath",p,"Expected event name").evaluate(),args:se(p)})}while(p.matchToken("or"));if(p.matchToken("from"))var S=D.requireElement("expression",p);return w={event:I,on:S,args:[S],op:function(G,z){var ae=z||G.me;if(!(ae instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise(pe=>{var ue=!1;for(let we of I){var re=Me=>{if(G.result=Me,we.args)for(let Te of we.args)G.locals[Te.value]=Me[Te.value]||(Me.detail?Me.detail[Te.value]:null);ue||(ue=!0,pe(A.findNext(this,G)))};we.name?ae.addEventListener(we.name,re,{once:!0}):we.time!=null&&setTimeout(re,we.time,we.time)}})}},w}else{var B;return p.matchToken("a")?(p.requireToken("tick"),B=0):B=D.requireElement("expression",p),w={type:"waitCmd",time:B,args:[B],op:function(G,z){return new Promise(ae=>{setTimeout(()=>{ae(A.findNext(this,G))},z)})},execute:function(G){return A.unifiedExec(this,G)}},w}}}),X.addGrammarElement("dotOrColonPath",function(D,A,p){var w=p.matchTokenType("IDENTIFIER");if(w){var I=[w.value],L=p.matchOpToken(".")||p.matchOpToken(":");if(L)do I.push(p.requireTokenType("IDENTIFIER","NUMBER").value);while(p.matchOpToken(L.value));return{type:"dotOrColonPath",path:I,evaluate:function(){return I.join(L?L.value:"")}}}}),X.addGrammarElement("eventName",function(D,A,p){var w;return(w=p.matchTokenType("STRING"))?{evaluate:function(){return w.value}}:D.parseElement("dotOrColonPath",p)});function O(D,A,p,w){var I=A.requireElement("eventName",w),L=A.parseElement("namedArgumentList",w);if(D==="send"&&w.matchToken("to")||D==="trigger"&&w.matchToken("on"))var S=A.requireElement("expression",w);else var S=A.requireElement("implicitMeTarget",w);var B={eventName:I,details:L,to:S,args:[S,I,L],op:function(G,z,ae,pe){return p.nullCheck(z,S),p.implicitLoop(z,function(ue){p.triggerEvent(ue,ae,pe,G.me)}),p.findNext(B,G)}};return B}X.addCommand("trigger",function(D,A,p){if(p.matchToken("trigger"))return O("trigger",D,A,p)}),X.addCommand("send",function(D,A,p){if(p.matchToken("send"))return O("send",D,A,p)});var b=function(D,A,p,w){if(w)if(D.commandBoundary(p.currentToken()))D.raiseParseError(p,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var I=D.requireElement("expression",p);var L={value:I,args:[I],op:function(S,B){var G=S.meta.resolve;return S.meta.returned=!0,S.meta.returnValue=B,G&&(B?G(B):G()),A.HALT}};return L};X.addCommand("return",function(D,A,p){if(p.matchToken("return"))return b(D,A,p,!0)}),X.addCommand("exit",function(D,A,p){if(p.matchToken("exit"))return b(D,A,p,!1)}),X.addCommand("halt",function(D,A,p){if(p.matchToken("halt")){if(p.matchToken("the")){p.requireToken("event"),p.matchOpToken("'")&&p.requireToken("s");var w=!0}if(p.matchToken("bubbling"))var I=!0;else if(p.matchToken("default"))var L=!0;var S=b(D,A,p,!1),B={keepExecuting:!0,bubbling:I,haltDefault:L,exit:S,op:function(G){if(G.event)return I?G.event.stopPropagation():(L||G.event.stopPropagation(),G.event.preventDefault()),w?A.findNext(this,G):S}};return B}}),X.addCommand("log",function(D,A,p){if(p.matchToken("log")){for(var w=[D.parseElement("expression",p)];p.matchOpToken(",");)w.push(D.requireElement("expression",p));if(p.matchToken("with"))var I=D.requireElement("expression",p);var L={exprs:w,withExpr:I,args:[I,w],op:function(S,B,G){return B?B.apply(null,G):console.log.apply(null,G),A.findNext(this,S)}};return L}}),X.addCommand("beep!",function(D,A,p){if(p.matchToken("beep!")){for(var w=[D.parseElement("expression",p)];p.matchOpToken(",");)w.push(D.requireElement("expression",p));var I={exprs:w,args:[w],op:function(L,S){for(let B=0;B<w.length;B++){let G=w[B],z=S[B];A.beepValueToConsole(L.me,G,z)}return A.findNext(this,L)}};return I}}),X.addCommand("throw",function(D,A,p){if(p.matchToken("throw")){var w=D.requireElement("expression",p),I={expr:w,args:[w],op:function(L,S){throw A.registerHyperTrace(L,S),S}};return I}});var J=function(D,A,p){var w=D.requireElement("expression",p),I={expr:w,args:[w],op:function(L,S){return L.result=S,A.findNext(I,L)}};return I};X.addCommand("call",function(D,A,p){if(p.matchToken("call")){var w=J(D,A,p);return w.expr&&w.expr.type!=="functionCall"&&D.raiseParseError(p,"Must be a function invocation"),w}}),X.addCommand("get",function(D,A,p){if(p.matchToken("get"))return J(D,A,p)}),X.addCommand("make",function(D,A,p){if(p.matchToken("make")){p.matchToken("a")||p.matchToken("an");var w=D.requireElement("expression",p),I=[];if(w.type!=="queryRef"&&p.matchToken("from"))do I.push(D.requireElement("expression",p));while(p.matchOpToken(","));if(p.matchToken("called"))var L=D.requireElement("symbol",p);var S;return w.type==="queryRef"?(S={op:function(B){for(var G,z="div",ae,pe=[],ue=/(?:(^|#|\.)([^#\. ]+))/g;G=ue.exec(w.css);)G[1]===""?z=G[2].trim():G[1]==="#"?ae=G[2].trim():pe.push(G[2].trim());var re=document.createElement(z);ae!==void 0&&(re.id=ae);for(var we=0;we<pe.length;we++){var Me=pe[we];re.classList.add(Me)}return B.result=re,L&&A.setSymbol(L.name,B,L.scope,re),A.findNext(this,B)}},S):(S={args:[w,I],op:function(B,G,z){return B.result=$(G,z),L&&A.setSymbol(L.name,B,L.scope,B.result),A.findNext(this,B)}},S)}}),X.addGrammarElement("pseudoCommand",function(D,A,p){let w=p.token(1);if(!(w&&w.op&&(w.value==="."||w.value==="(")))return null;for(var I=D.requireElement("primaryExpression",p),L=I.root,S=I;L.root!=null;)S=S.root,L=L.root;if(I.type!=="functionCall"&&D.raiseParseError(p,"Pseudo-commands must be function calls"),S.type==="functionCall"&&S.root.root==null){if(p.matchAnyToken("the","to","on","with","into","from","at"))var B=D.requireElement("expression",p);else if(p.matchToken("me"))var B=D.requireElement("implicitMeTarget",p)}var G;return B?G={type:"pseudoCommand",root:B,argExressions:S.argExressions,args:[B,S.argExressions],op:function(z,ae,pe){A.nullCheck(ae,B);var ue=ae[S.root.name];return A.nullCheck(ue,S),ue.hyperfunc&&pe.push(z),z.result=ue.apply(ae,pe),A.findNext(G,z)},execute:function(z){return A.unifiedExec(this,z)}}:G={type:"pseudoCommand",expr:I,args:[I],op:function(z,ae){return z.result=ae,A.findNext(G,z)},execute:function(z){return A.unifiedExec(this,z)}},G});var le=function(D,A,p,w,I){var L=w.type==="symbol",S=w.type==="attributeRef",B=w.type==="styleRef",G=w.type==="arrayIndex";!(S||B||L)&&w.root==null&&D.raiseParseError(p,"Can only put directly into symbols, not references");var z=null,ae=null;if(!L)if(S||B){z=D.requireElement("implicitMeTarget",p);var pe=w}else if(G)ae=w.firstIndex,z=w.root;else{ae=w.prop?w.prop.value:null;var pe=w.attribute;z=w.root}var ue={target:w,symbolWrite:L,value:I,args:[z,ae,I],op:function(re,we,Me,Te){return L?A.setSymbol(w.name,re,w.scope,Te):(A.nullCheck(we,z),G?we[Me]=Te:A.implicitLoop(we,function(Ge){pe?pe.type==="attributeRef"?Te==null?Ge.removeAttribute(pe.name):Ge.setAttribute(pe.name,Te):Ge.style[pe.name]=Te:Ge[Me]=Te})),A.findNext(this,re)}};return ue};X.addCommand("default",function(D,A,p){if(p.matchToken("default")){var w=D.requireElement("assignableExpression",p);p.requireToken("to");var I=D.requireElement("expression",p),L=le(D,A,p,w,I),S={target:w,value:I,setter:L,args:[w],op:function(B,G){return G?A.findNext(this,B):L}};return L.parent=S,S}}),X.addCommand("set",function(D,A,p){if(p.matchToken("set")){if(p.currentToken().type==="L_BRACE"){var w=D.requireElement("objectLiteral",p);p.requireToken("on");var I=D.requireElement("expression",p),L={objectLiteral:w,target:I,args:[w,I],op:function(B,G,z){return Object.assign(z,G),A.findNext(this,B)}};return L}try{p.pushFollow("to");var I=D.requireElement("assignableExpression",p)}finally{p.popFollow()}p.requireToken("to");var S=D.requireElement("expression",p);return le(D,A,p,I,S)}}),X.addCommand("if",function(D,A,p){if(!p.matchToken("if"))return;var w=D.requireElement("expression",p);p.matchToken("then");var I=D.parseElement("commandList",p),L=!1;let S=p.matchToken("else")||p.matchToken("otherwise");if(S){let z=p.peekToken("if");if(L=z!=null&&z.line===S.line,L)var B=D.parseElement("command",p);else var B=D.parseElement("commandList",p)}p.hasMore()&&!L&&p.requireToken("end");var G={expr:w,trueBranch:I,falseBranch:B,args:[w],op:function(z,ae){return ae?I:B||A.findNext(this,z)}};return D.setParent(I,G),D.setParent(B,G),G});var oe=function(D,A,p,w){var I=A.currentToken(),L;if(A.matchToken("for")||w){var S=A.requireTokenType("IDENTIFIER");L=S.value,A.requireToken("in");var B=D.requireElement("expression",A)}else if(A.matchToken("in")){L="it";var B=D.requireElement("expression",A)}else if(A.matchToken("while"))var G=D.requireElement("expression",A);else if(A.matchToken("until")){var z=!0;if(A.matchToken("event")){var ae=D.requireElement("dotOrColonPath",A,"Expected event name");if(A.matchToken("from"))var pe=D.requireElement("expression",A)}else var G=D.requireElement("expression",A)}else if(!D.commandBoundary(A.currentToken())&&A.currentToken().value!=="forever"){var ue=D.requireElement("expression",A);A.requireToken("times")}else{A.matchToken("forever");var re=!0}if(A.matchToken("index"))var S=A.requireTokenType("IDENTIFIER"),we=S.value;var Me=D.parseElement("commandList",A);if(Me&&ae){for(var Te=Me;Te.next;)Te=Te.next;var Ge={type:"waitATick",op:function(){return new Promise(function(Xe){setTimeout(function(){Xe(p.findNext(Ge))},0)})}};Te.next=Ge}if(A.hasMore()&&A.requireToken("end"),L==null){L="_implicit_repeat_"+I.start;var Ue=L}else var Ue=L+"_"+I.start;var St={identifier:L,indexIdentifier:we,slot:Ue,expression:B,forever:re,times:ue,until:z,event:ae,on:pe,whileExpr:G,resolveNext:function(){return this},loop:Me,args:[G,ue],op:function(Xe,wt,Ct){var ot=Xe.meta.iterators[Ue],Nt=!1,Lt=null;if(this.forever)Nt=!0;else if(this.until)ae?Nt=Xe.meta.iterators[Ue].eventFired===!1:Nt=wt!==!0;else if(G)Nt=wt;else if(Ct)Nt=ot.index<Ct;else{var bn=ot.iterator.next();Nt=!bn.done,Lt=bn.value}return Nt?(ot.value?Xe.result=Xe.locals[L]=Lt:Xe.result=ot.index,we&&(Xe.locals[we]=ot.index),ot.index++,Me):(Xe.meta.iterators[Ue]=null,p.findNext(this.parent,Xe))}};D.setParent(Me,St);var Rt={name:"repeatInit",args:[B,ae,pe],op:function(Xe,wt,Ct,ot){var Nt={index:0,value:wt,eventFired:!1};if(Xe.meta.iterators[Ue]=Nt,wt&&wt[Symbol.iterator]&&(Nt.iterator=wt[Symbol.iterator]()),ae){var Lt=ot||Xe.me;Lt.addEventListener(Ct,function(bn){Xe.meta.iterators[Ue].eventFired=!0},{once:!0})}return St},execute:function(Xe){return p.unifiedExec(this,Xe)}};return D.setParent(St,Rt),Rt};X.addCommand("repeat",function(D,A,p){if(p.matchToken("repeat"))return oe(D,p,A,!1)}),X.addCommand("for",function(D,A,p){if(p.matchToken("for"))return oe(D,p,A,!0)}),X.addCommand("continue",function(D,A,p){if(p.matchToken("continue")){var w={op:function(I){for(var L=this.parent;;L=L.parent)if(L==null&&D.raiseParseError(p,"Command `continue` cannot be used outside of a `repeat` loop."),L.loop!=null)return L.resolveNext(I)}};return w}}),X.addCommand("break",function(D,A,p){if(p.matchToken("break")){var w={op:function(I){for(var L=this.parent;;L=L.parent)if(L==null&&D.raiseParseError(p,"Command `continue` cannot be used outside of a `repeat` loop."),L.loop!=null)return A.findNext(L.parent,I)}};return w}}),X.addGrammarElement("stringLike",function(D,A,p){return D.parseAnyOf(["string","nakedString"],p)}),X.addCommand("append",function(D,A,p){if(p.matchToken("append")){var w=null,I=D.requireElement("expression",p),L={type:"symbol",evaluate:function(G){return A.resolveSymbol("result",G)}};p.matchToken("to")?w=D.requireElement("expression",p):w=L;var S=null;(w.type==="symbol"||w.type==="attributeRef"||w.root!=null)&&(S=le(D,A,p,w,L));var B={value:I,target:w,args:[w,I],op:function(G,z,ae){if(Array.isArray(z))return z.push(ae),A.findNext(this,G);if(z instanceof Element)return z.innerHTML+=ae,A.findNext(this,G);if(S)return G.result=(z||"")+ae,S;throw Error("Unable to append a value!")},execute:function(G){return A.unifiedExec(this,G)}};return S!=null&&(S.parent=B),B}});function xe(D,A,p){p.matchToken("at")||p.matchToken("from");let w={includeStart:!0,includeEnd:!1};return w.from=p.matchToken("start")?0:D.requireElement("expression",p),(p.matchToken("to")||p.matchOpToken(".."))&&(p.matchToken("end")?w.toEnd=!0:w.to=D.requireElement("expression",p)),p.matchToken("inclusive")?w.includeEnd=!0:p.matchToken("exclusive")&&(w.includeStart=!1),w}class me{constructor(A,p){this.re=A,this.str=p}next(){let A=this.re.exec(this.str);return A===null?{done:!0}:{value:A}}}class be{constructor(A,p,w){this.re=A,this.flags=p,this.str=w}[Symbol.iterator](){return new me(new RegExp(this.re,this.flags),this.str)}}X.addCommand("pick",(D,A,p)=>{if(p.matchToken("pick")){if(p.matchToken("the"),p.matchToken("item")||p.matchToken("items")||p.matchToken("character")||p.matchToken("characters")){let w=xe(D,A,p);return p.requireToken("from"),{args:[D.requireElement("expression",p),w.from,w.to],op(L,S,B,G){return w.toEnd&&(G=S.length),w.includeStart||B++,w.includeEnd&&G++,(G==null||G==null)&&(G=B+1),L.result=S.slice(B,G),A.findNext(this,L)}}}if(p.matchToken("match")){p.matchToken("of");let w=D.parseElement("expression",p),I="";return p.matchOpToken("|")&&(I=p.requireToken("identifier").value),p.requireToken("from"),{args:[D.parseElement("expression",p),w],op(S,B,G){return S.result=new RegExp(G,I).exec(B),A.findNext(this,S)}}}if(p.matchToken("matches")){p.matchToken("of");let w=D.parseElement("expression",p),I="gu";return p.matchOpToken("|")&&(I="g"+p.requireToken("identifier").value.replace("g","")),console.log("flags",I),p.requireToken("from"),{args:[D.parseElement("expression",p),w],op(S,B,G){return S.result=new be(G,I,B),A.findNext(this,S)}}}}}),X.addCommand("increment",function(D,A,p){if(p.matchToken("increment")){var w,I=D.parseElement("assignableExpression",p);p.matchToken("by")&&(w=D.requireElement("expression",p));var L={type:"implicitIncrementOp",target:I,args:[I,w],op:function(S,B,G){B=B?parseFloat(B):0,G=w?parseFloat(G):1;var z=B+G;return S.result=z,z},evaluate:function(S){return A.unifiedEval(this,S)}};return le(D,A,p,I,L)}}),X.addCommand("decrement",function(D,A,p){if(p.matchToken("decrement")){var w,I=D.parseElement("assignableExpression",p);p.matchToken("by")&&(w=D.requireElement("expression",p));var L={type:"implicitDecrementOp",target:I,args:[I,w],op:function(S,B,G){B=B?parseFloat(B):0,G=w?parseFloat(G):1;var z=B-G;return S.result=z,z},evaluate:function(S){return A.unifiedEval(this,S)}};return le(D,A,p,I,L)}});function Ce(D,A){var p="text",w;return D.matchToken("a")||D.matchToken("an"),D.matchToken("json")||D.matchToken("Object")?p="json":D.matchToken("response")?p="response":D.matchToken("html")?p="html":D.matchToken("text")||(w=A.requireElement("dotOrColonPath",D).evaluate()),{type:p,conversion:w}}X.addCommand("fetch",function(D,A,p){if(p.matchToken("fetch")){var w=D.requireElement("stringLike",p);if(p.matchToken("as"))var I=Ce(p,D);if(p.matchToken("with")&&p.currentToken().value!=="{")var L=D.parseElement("nakedNamedArgumentList",p);else var L=D.parseElement("objectLiteral",p);I==null&&p.matchToken("as")&&(I=Ce(p,D));var S=I?I.type:"text",B=I?I.conversion:null,G={url:w,argExpressions:L,args:[w,L],op:function(z,ae,pe){var ue=pe||{};ue.sender=z.me,ue.headers=ue.headers||{};var re=new AbortController;let we=z.me.addEventListener("fetch:abort",function(){re.abort()},{once:!0});ue.signal=re.signal,A.triggerEvent(z.me,"hyperscript:beforeFetch",ue),A.triggerEvent(z.me,"fetch:beforeRequest",ue),pe=ue;var Me=!1;return pe.timeout&&setTimeout(function(){Me||re.abort()},pe.timeout),fetch(ae,pe).then(function(Te){let Ge={response:Te};return A.triggerEvent(z.me,"fetch:afterResponse",Ge),Te=Ge.response,S==="response"?(z.result=Te,A.triggerEvent(z.me,"fetch:afterRequest",{result:Te}),Me=!0,A.findNext(G,z)):S==="json"?Te.json().then(function(Ue){return z.result=Ue,A.triggerEvent(z.me,"fetch:afterRequest",{result:Ue}),Me=!0,A.findNext(G,z)}):Te.text().then(function(Ue){return B&&(Ue=A.convertValue(Ue,B)),S==="html"&&(Ue=A.convertValue(Ue,"Fragment")),z.result=Ue,A.triggerEvent(z.me,"fetch:afterRequest",{result:Ue}),Me=!0,A.findNext(G,z)})}).catch(function(Te){throw A.triggerEvent(z.me,"fetch:error",{reason:Te}),Te}).finally(function(){z.me.removeEventListener("fetch:abort",we)})}};return G}})}function Q(X){X.addCommand("settle",function(M,j,R){if(R.matchToken("settle")){if(M.commandBoundary(R.currentToken()))var se=M.requireElement("implicitMeTarget",R);else var se=M.requireElement("expression",R);var O={type:"settleCmd",args:[se],op:function(b,J){j.nullCheck(J,se);var le=null,oe=!1,xe=!1,me=new Promise(function(be){le=be});return J.addEventListener("transitionstart",function(){xe=!0},{once:!0}),setTimeout(function(){!xe&&!oe&&le(j.findNext(O,b))},500),J.addEventListener("transitionend",function(){oe||le(j.findNext(O,b))},{once:!0}),me},execute:function(b){return j.unifiedExec(this,b)}};return O}}),X.addCommand("add",function(M,j,R){if(R.matchToken("add")){var se=M.parseElement("classRef",R),O=null,b=null;if(se==null)O=M.parseElement("attributeRef",R),O==null&&(b=M.parseElement("styleLiteral",R),b==null&&M.raiseParseError(R,"Expected either a class reference or attribute expression"));else for(var J=[se];se=M.parseElement("classRef",R);)J.push(se);if(R.matchToken("to"))var le=M.requireElement("expression",R);else var le=M.requireElement("implicitMeTarget",R);if(R.matchToken("when")){b&&M.raiseParseError(R,"Only class and properties are supported with a when clause");var oe=M.requireElement("expression",R)}return J?{classRefs:J,to:le,args:[le,J],op:function(xe,me,be){return j.nullCheck(me,le),j.forEach(be,function(Ce){j.implicitLoop(me,function(D){oe?(xe.result=D,j.evaluateNoPromise(oe,xe)?D instanceof Element&&D.classList.add(Ce.className):D instanceof Element&&D.classList.remove(Ce.className),xe.result=null):D instanceof Element&&D.classList.add(Ce.className)})}),j.findNext(this,xe)}}:O?{type:"addCmd",attributeRef:O,to:le,args:[le],op:function(xe,me,be){return j.nullCheck(me,le),j.implicitLoop(me,function(Ce){oe?(xe.result=Ce,j.evaluateNoPromise(oe,xe)?Ce.setAttribute(O.name,O.value):Ce.removeAttribute(O.name),xe.result=null):Ce.setAttribute(O.name,O.value)}),j.findNext(this,xe)},execute:function(xe){return j.unifiedExec(this,xe)}}:{type:"addCmd",cssDeclaration:b,to:le,args:[le,b],op:function(xe,me,be){return j.nullCheck(me,le),j.implicitLoop(me,function(Ce){Ce.style.cssText+=be}),j.findNext(this,xe)},execute:function(xe){return j.unifiedExec(this,xe)}}}}),X.addGrammarElement("styleLiteral",function(M,j,R){if(R.matchOpToken("{")){for(var se=[""],O=[];R.hasMore();){if(R.matchOpToken("\\"))R.consumeToken();else{if(R.matchOpToken("}"))break;if(R.matchToken("$")){var b=R.matchOpToken("{"),J=M.parseElement("expression",R);b&&R.requireOpToken("}"),O.push(J),se.push("")}else{var le=R.consumeToken();se[se.length-1]+=R.source.substring(le.start,le.end)}}se[se.length-1]+=R.lastWhitespace()}return{type:"styleLiteral",args:[O],op:function(oe,xe){var me="";return se.forEach(function(be,Ce){me+=be,Ce in xe&&(me+=xe[Ce])}),me},evaluate:function(oe){return j.unifiedEval(this,oe)}}}}),X.addCommand("remove",function(M,j,R){if(R.matchToken("remove")){var se=M.parseElement("classRef",R),O=null,b=null;if(se==null)O=M.parseElement("attributeRef",R),O==null&&(b=M.parseElement("expression",R),b==null&&M.raiseParseError(R,"Expected either a class reference, attribute expression or value expression"));else for(var J=[se];se=M.parseElement("classRef",R);)J.push(se);if(R.matchToken("from"))var le=M.requireElement("expression",R);else if(b==null)var le=M.requireElement("implicitMeTarget",R);return b?{elementExpr:b,from:le,args:[b,le],op:function(oe,xe,me){return j.nullCheck(xe,b),j.implicitLoop(xe,function(be){be.parentElement&&(me==null||me.contains(be))&&be.parentElement.removeChild(be)}),j.findNext(this,oe)}}:{classRefs:J,attributeRef:O,elementExpr:b,from:le,args:[J,le],op:function(oe,xe,me){return j.nullCheck(me,le),xe?j.forEach(xe,function(be){j.implicitLoop(me,function(Ce){Ce.classList.remove(be.className)})}):j.implicitLoop(me,function(be){be.removeAttribute(O.name)}),j.findNext(this,oe)}}}}),X.addCommand("toggle",function(M,j,R){if(R.matchToken("toggle")){if(R.matchAnyToken("the","my"),R.currentToken().type==="STYLE_REF"){var se=R.consumeToken().value.substr(1),O=!0,b=k(M,R,se);if(R.matchToken("of")){R.pushFollow("with");try{var J=M.requireElement("expression",R)}finally{R.popFollow()}}else var J=M.requireElement("implicitMeTarget",R)}else if(R.matchToken("between")){var le=!0,oe=M.parseElement("classRef",R);R.requireToken("and");var xe=M.requireElement("classRef",R)}else{var oe=M.parseElement("classRef",R),me=null;if(oe==null)me=M.parseElement("attributeRef",R),me==null&&M.raiseParseError(R,"Expected either a class reference or attribute expression");else for(var be=[oe];oe=M.parseElement("classRef",R);)be.push(oe)}if(O!==!0)if(R.matchToken("on"))var J=M.requireElement("expression",R);else var J=M.requireElement("implicitMeTarget",R);if(R.matchToken("for"))var Ce=M.requireElement("expression",R);else if(R.matchToken("until")){var D=M.requireElement("dotOrColonPath",R,"Expected event name");if(R.matchToken("from"))var A=M.requireElement("expression",R)}var p={classRef:oe,classRef2:xe,classRefs:be,attributeRef:me,on:J,time:Ce,evt:D,from:A,toggle:function(w,I,L,S){j.nullCheck(w,J),O?j.implicitLoop(w,function(B){b("toggle",B)}):le?j.implicitLoop(w,function(B){B.classList.contains(I.className)?(B.classList.remove(I.className),B.classList.add(L.className)):(B.classList.add(I.className),B.classList.remove(L.className))}):S?j.forEach(S,function(B){j.implicitLoop(w,function(G){G.classList.toggle(B.className)})}):j.forEach(w,function(B){B.hasAttribute(me.name)?B.removeAttribute(me.name):B.setAttribute(me.name,me.value)})},args:[J,Ce,D,A,oe,xe,be],op:function(w,I,L,S,B,G,z,ae){return L?new Promise(function(pe){p.toggle(I,G,z,ae),setTimeout(function(){p.toggle(I,G,z,ae),pe(j.findNext(p,w))},L)}):S?new Promise(function(pe){var ue=B||w.me;ue.addEventListener(S,function(){p.toggle(I,G,z,ae),pe(j.findNext(p,w))},{once:!0}),p.toggle(I,G,z,ae)}):(this.toggle(I,G,z,ae),j.findNext(p,w))}};return p}});var x={display:function(M,j,R){if(R)j.style.display=R;else if(M==="toggle")getComputedStyle(j).display==="none"?x.display("show",j,R):x.display("hide",j,R);else if(M==="hide"){let se=X.runtime.getInternalData(j);se.originalDisplay==null&&(se.originalDisplay=j.style.display),j.style.display="none"}else{let se=X.runtime.getInternalData(j);se.originalDisplay&&se.originalDisplay!=="none"?j.style.display=se.originalDisplay:j.style.removeProperty("display")}},visibility:function(M,j,R){R?j.style.visibility=R:M==="toggle"?getComputedStyle(j).visibility==="hidden"?x.visibility("show",j,R):x.visibility("hide",j,R):M==="hide"?j.style.visibility="hidden":j.style.visibility="visible"},opacity:function(M,j,R){R?j.style.opacity=R:M==="toggle"?getComputedStyle(j).opacity==="0"?x.opacity("show",j,R):x.opacity("hide",j,R):M==="hide"?j.style.opacity="0":j.style.opacity="1"}},T=function(M,j,R){var se,O=R.currentToken();return O.value==="when"||O.value==="with"||M.commandBoundary(O)?se=M.parseElement("implicitMeTarget",R):se=M.parseElement("expression",R),se},k=function(M,j,R){var se=o.defaultHideShowStrategy,O=x;o.hideShowStrategies&&(O=Object.assign(O,o.hideShowStrategies)),R=R||se||"display";var b=O[R];return b==null&&M.raiseParseError(j,"Unknown show/hide strategy : "+R),b};X.addCommand("hide",function(M,j,R){if(R.matchToken("hide")){var se=T(M,j,R),O=null;R.matchToken("with")&&(O=R.requireTokenType("IDENTIFIER","STYLE_REF").value,O.indexOf("*")===0&&(O=O.substr(1)));var b=k(M,R,O);return{target:se,args:[se],op:function(J,le){return j.nullCheck(le,se),j.implicitLoop(le,function(oe){b("hide",oe)}),j.findNext(this,J)}}}}),X.addCommand("show",function(M,j,R){if(R.matchToken("show")){var se=T(M,j,R),O=null;R.matchToken("with")&&(O=R.requireTokenType("IDENTIFIER","STYLE_REF").value,O.indexOf("*")===0&&(O=O.substr(1)));var b=null;if(R.matchOpToken(":")){var J=R.consumeUntilWhitespace();R.matchTokenType("WHITESPACE"),b=J.map(function(xe){return xe.value}).join("")}if(R.matchToken("when"))var le=M.requireElement("expression",R);var oe=k(M,R,O);return{target:se,when:le,args:[se],op:function(xe,me){return j.nullCheck(me,se),j.implicitLoop(me,function(be){le?(xe.result=be,j.evaluateNoPromise(le,xe)?oe("show",be,b):oe("hide",be),xe.result=null):oe("show",be,b)}),j.findNext(this,xe)}}}}),X.addCommand("take",function(M,j,R){if(R.matchToken("take")){let oe=null,xe=[];for(;oe=M.parseElement("classRef",R);)xe.push(oe);var se=null,O=null;let me=xe.length>0;if(me||(se=M.parseElement("attributeRef",R),se==null&&M.raiseParseError(R,"Expected either a class reference or attribute expression"),R.matchToken("with")&&(O=M.requireElement("expression",R))),R.matchToken("from"))var b=M.requireElement("expression",R);if(R.matchToken("for"))var J=M.requireElement("expression",R);else var J=M.requireElement("implicitMeTarget",R);if(me){var le={classRefs:xe,from:b,forElt:J,args:[xe,b,J],op:function(be,Ce,D,A){return j.nullCheck(A,J),j.implicitLoop(Ce,function(p){var w=p.className;D?j.implicitLoop(D,function(I){I.classList.remove(w)}):j.implicitLoop(p,function(I){I.classList.remove(w)}),j.implicitLoop(A,function(I){I.classList.add(w)})}),j.findNext(this,be)}};return le}else{var le={attributeRef:se,from:b,forElt:J,args:[b,J,O],op:function(Ce,D,A,p){return j.nullCheck(D,b),j.nullCheck(A,J),j.implicitLoop(D,function(w){p?w.setAttribute(se.name,p):w.removeAttribute(se.name)}),j.implicitLoop(A,function(w){w.setAttribute(se.name,se.value||"")}),j.findNext(this,Ce)}};return le}}});function _(M,j,R,se){if(R!=null)var O=M.resolveSymbol(R,j);else var O=j;if(O instanceof Element||O instanceof HTMLDocument){for(;O.firstChild;)O.removeChild(O.firstChild);O.append(X.runtime.convertValue(se,"Fragment")),M.processNode(O)}else if(R!=null)M.setSymbol(R,j,null,se);else throw"Don't know how to put a value into "+typeof j}X.addCommand("put",function(M,j,R){if(R.matchToken("put")){var se=M.requireElement("expression",R),O=R.matchAnyToken("into","before","after");O==null&&R.matchToken("at")&&(R.matchToken("the"),O=R.matchAnyToken("start","end"),R.requireToken("of")),O==null&&M.raiseParseError(R,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var b=M.requireElement("expression",R),J=O.value,le=!1,oe=!1,xe=null,me=null;if(b.type==="arrayIndex"&&J==="into")le=!0,me=b.prop,xe=b.root;else if(b.prop&&b.root&&J==="into")me=b.prop.value,xe=b.root;else if(b.type==="symbol"&&J==="into")oe=!0,me=b.name;else if(b.type==="attributeRef"&&J==="into"){var be=!0;me=b.name,xe=M.requireElement("implicitMeTarget",R)}else if(b.type==="styleRef"&&J==="into"){var Ce=!0;me=b.name,xe=M.requireElement("implicitMeTarget",R)}else if(b.attribute&&J==="into"){var be=b.attribute.type==="attributeRef",Ce=b.attribute.type==="styleRef";me=b.attribute.name,xe=b.root}else xe=b;var D={target:b,operation:J,symbolWrite:oe,value:se,args:[xe,me,se],op:function(A,p,w,I){if(oe)_(j,A,w,I);else if(j.nullCheck(p,xe),J==="into")be?j.implicitLoop(p,function(S){S.setAttribute(w,I)}):Ce?j.implicitLoop(p,function(S){S.style[w]=I}):le?p[w]=I:j.implicitLoop(p,function(S){_(j,S,w,I)});else{var L=J==="before"?Element.prototype.before:J==="after"?Element.prototype.after:J==="start"?Element.prototype.prepend:Element.prototype.append;j.implicitLoop(p,function(S){L.call(S,I instanceof Node?I:j.convertValue(I,"Fragment")),S.parentElement?j.processNode(S.parentElement):j.processNode(S)})}return j.findNext(this,A)}};return D}});function U(M,j,R){var se;if(R.matchToken("the")||R.matchToken("element")||R.matchToken("elements")||R.currentToken().type==="CLASS_REF"||R.currentToken().type==="ID_REF"||R.currentToken().op&&R.currentToken().value==="<"){M.possessivesDisabled=!0;try{se=M.parseElement("expression",R)}finally{delete M.possessivesDisabled}R.matchOpToken("'")&&R.requireToken("s")}else if(R.currentToken().type==="IDENTIFIER"&&R.currentToken().value==="its"){var O=R.matchToken("its");se={type:"pseudopossessiveIts",token:O,name:O.value,evaluate:function(b){return j.resolveSymbol("it",b)}}}else R.matchToken("my")||R.matchToken("me"),se=M.parseElement("implicitMeTarget",R);return se}X.addCommand("transition",function(M,j,R){if(R.matchToken("transition")){for(var se=U(M,j,R),O=[],b=[],J=[],le=R.currentToken();!M.commandBoundary(le)&&le.value!=="over"&&le.value!=="using";){if(R.currentToken().type==="STYLE_REF"){let Ce=R.consumeToken().value.substr(1);O.push({type:"styleRefValue",evaluate:function(){return Ce}})}else O.push(M.requireElement("stringLike",R));R.matchToken("from")?b.push(M.requireElement("expression",R)):b.push(null),R.requireToken("to"),R.matchToken("initial")?J.push({type:"initial_literal",evaluate:function(){return"initial"}}):J.push(M.requireElement("expression",R)),le=R.currentToken()}if(R.matchToken("over"))var oe=M.requireElement("expression",R);else if(R.matchToken("using"))var xe=M.requireElement("expression",R);var me={to:J,args:[se,O,b,J,xe,oe],op:function(be,Ce,D,A,p,w,I){j.nullCheck(Ce,se);var L=[];return j.implicitLoop(Ce,function(S){var B=new Promise(function(G,z){var ae=S.style.transition;I?S.style.transition="all "+I+"ms ease-in":w?S.style.transition=w:S.style.transition=o.defaultTransition;for(var pe=j.getInternalData(S),ue=getComputedStyle(S),re={},we=0;we<ue.length;we++){var Me=ue[we],Te=ue[Me];re[Me]=Te}pe.initialStyles||(pe.initialStyles=re);for(var we=0;we<D.length;we++){var Ge=D[we],Ue=A[we];Ue==="computed"||Ue==null?S.style[Ge]=re[Ge]:S.style[Ge]=Ue}var St=!1,Rt=!1;S.addEventListener("transitionend",function(){Rt||(S.style.transition=ae,Rt=!0,G())},{once:!0}),S.addEventListener("transitionstart",function(){St=!0},{once:!0}),setTimeout(function(){!Rt&&!St&&(S.style.transition=ae,Rt=!0,G())},100),setTimeout(function(){for(var Xe=[],wt=0;wt<D.length;wt++){var Ct=D[wt],ot=p[wt];if(ot==="initial"){var Nt=pe.initialStyles[Ct];S.style[Ct]=Nt}else S.style[Ct]=ot}},0)});L.push(B)}),Promise.all(L).then(function(){return j.findNext(me,be)})}};return me}}),X.addCommand("measure",function(M,j,R){if(R.matchToken("measure")){var se=U(M,j,R),O=[];if(!M.commandBoundary(R.currentToken()))do O.push(R.matchTokenType("IDENTIFIER").value);while(R.matchOpToken(","));return{properties:O,args:[se],op:function(b,J){j.nullCheck(J,se),0 in J&&(J=J[0]);var le=J.getBoundingClientRect(),oe={top:J.scrollTop,left:J.scrollLeft,topMax:J.scrollTopMax,leftMax:J.scrollLeftMax,height:J.scrollHeight,width:J.scrollWidth};return b.result={x:le.x,y:le.y,left:le.left,top:le.top,right:le.right,bottom:le.bottom,width:le.width,height:le.height,bounds:le,scrollLeft:oe.left,scrollTop:oe.top,scrollLeftMax:oe.leftMax,scrollTopMax:oe.topMax,scrollWidth:oe.width,scrollHeight:oe.height,scroll:oe},j.forEach(O,function(xe){if(xe in b.result)b.locals[xe]=b.result[xe];else throw"No such measurement as "+xe}),j.findNext(this,b)}}}}),X.addLeafExpression("closestExpr",function(M,j,R){if(R.matchToken("closest")){if(R.matchToken("parent"))var se=!0;var O=null;if(R.currentToken().type==="ATTRIBUTE_REF"){var b=M.requireElement("attributeRefAccess",R,null);O="["+b.attribute.name+"]"}if(O==null){var J=M.requireElement("expression",R);J.css==null?M.raiseParseError(R,"Expected a CSS expression"):O=J.css}if(R.matchToken("to"))var le=M.parseElement("expression",R);else var le=M.parseElement("implicitMeTarget",R);var oe={type:"closestExpr",parentSearch:se,expr:J,css:O,to:le,args:[le],op:function(xe,me){if(me==null)return null;{let be=[];return j.implicitLoop(me,function(Ce){se?be.push(Ce.parentElement?Ce.parentElement.closest(O):null):be.push(Ce.closest(O))}),j.shouldAutoIterate(me)?be:be[0]}},evaluate:function(xe){return j.unifiedEval(this,xe)}};return b?(b.root=oe,b.args=[oe],b):oe}}),X.addCommand("go",function(M,j,R){if(R.matchToken("go")){if(R.matchToken("back"))var se=!0;else if(R.matchToken("to"),R.matchToken("url")){var O=M.requireElement("stringLike",R),b=!0;if(R.matchToken("in")){R.requireToken("new"),R.requireToken("window");var J=!0}}else{R.matchToken("the");var le=R.matchAnyToken("top","middle","bottom"),oe=R.matchAnyToken("left","center","right");(le||oe)&&R.requireToken("of");var O=M.requireElement("unaryExpression",R),xe=R.matchAnyOpToken("+","-");if(xe){R.pushFollow("px");try{var me=M.requireElement("expression",R)}finally{R.popFollow()}}R.matchToken("px");var be=R.matchAnyToken("smoothly","instantly"),Ce={block:"start",inline:"nearest"};le&&(le.value==="top"?Ce.block="start":le.value==="bottom"?Ce.block="end":le.value==="middle"&&(Ce.block="center")),oe&&(oe.value==="left"?Ce.inline="start":oe.value==="center"?Ce.inline="center":oe.value==="right"&&(Ce.inline="end")),be&&(be.value==="smoothly"?Ce.behavior="smooth":be.value==="instantly"&&(Ce.behavior="instant"))}var D={target:O,args:[O,me],op:function(A,p,w){return se?window.history.back():b?p&&(J?window.open(p):window.location.href=p):j.implicitLoop(p,function(I){if(I===window&&(I=document.body),xe){let L=I.getBoundingClientRect(),S=document.createElement("div"),B=xe.value==="+"?w:w*-1,G=Ce.inline=="start"||Ce.inline=="end"?B:0,z=Ce.block=="start"||Ce.block=="end"?B:0;S.style.position="absolute",S.style.top=L.top+window.scrollY+z+"px",S.style.left=L.left+window.scrollX+G+"px",S.style.height=L.height+"px",S.style.width=L.width+"px",S.style.zIndex=""+Number.MIN_SAFE_INTEGER,S.style.opacity="0",document.body.appendChild(S),setTimeout(function(){document.body.removeChild(S)},100),I=S}I.scrollIntoView(Ce)}),j.findNext(D,A)}};return D}}),o.conversions.dynamicResolvers.push(function(M,j){if(!(M==="Values"||M.indexOf("Values:")===0))return;var R=M.split(":")[1],se={},O=X.runtime.implicitLoop.bind(X.runtime);if(O(j,function(le){var oe=J(le);if(oe!==void 0){se[oe.name]=oe.value;return}if(le.querySelectorAll!=null){var xe=le.querySelectorAll("input,select,textarea");xe.forEach(b)}}),R){if(R==="JSON")return JSON.stringify(se);if(R==="Form")return new URLSearchParams(se).toString();throw"Unknown conversion: "+R}else return se;function b(le){var oe=J(le);if(oe!=null){if(se[oe.name]==null){se[oe.name]=oe.value;return}if(Array.isArray(se[oe.name])&&Array.isArray(oe.value)){se[oe.name]=[].concat(se[oe.name],oe.value);return}}}function J(le){try{var oe={name:le.name,value:le.value};if(oe.name==null||oe.value==null||le.type=="radio"&&le.checked==!1)return;if(le.type=="checkbox"&&(le.checked==!1?oe.value=void 0:typeof oe.value=="string"&&(oe.value=[oe.value])),le.type=="select-multiple"){var xe=le.querySelectorAll("option[selected]");oe.value=[];for(var me=0;me<xe.length;me++)oe.value.push(xe[me].value)}return oe}catch{return}}}),o.conversions.HTML=function(M){var j=function(R){if(R instanceof Array)return R.map(function(J){return j(J)}).join("");if(R instanceof HTMLElement)return R.outerHTML;if(R instanceof NodeList){for(var se="",O=0;O<R.length;O++){var b=R[O];b instanceof HTMLElement&&(se+=b.outerHTML)}return se}return R.toString?R.toString():""};return j(M)},o.conversions.Fragment=function(M){var j=document.createDocumentFragment();return X.runtime.implicitLoop(M,function(R){if(R instanceof Node)j.append(R);else{var se=document.createElement("template");se.innerHTML=R,j.append(se.content)}}),j}}let te=new c,he=te.lexer,ce=te.parser;function ge(X,x){return te.evaluate(X,x)}function Re(){var X=Array.from(t.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(X.map(function(_){return fetch(_.src).then(function(U){return U.text()})})).then(_=>_.forEach(U=>de(U))).then(()=>x(function(){k(),te.processNode(document.documentElement),t.document.addEventListener("htmx:load",function(_){te.processNode(_.detail.elt)})}));function x(_){document.readyState!=="loading"?setTimeout(_):document.addEventListener("DOMContentLoaded",_)}function T(){var _=document.querySelector('meta[name="htmx-config"]');return _?Y(_.content):null}function k(){var _=T();_&&Object.assign(o,_)}}let de=Object.assign(ge,{config:o,use(X){X(de)},internals:{lexer:he,parser:ce,runtime:te,Lexer:l,Tokens:u,Parser:f,Runtime:c},ElementCollection:W,addFeature:ce.addFeature.bind(ce),addCommand:ce.addCommand.bind(ce),addLeafExpression:ce.addLeafExpression.bind(ce),addIndirectExpression:ce.addIndirectExpression.bind(ce),evaluate:te.evaluate.bind(te),parse:te.parse.bind(te),processNode:te.processNode.bind(te),version:"0.9.12",browserInit:Re});return de})});var Gt=Et((al,ol)=>{(function(t,r){typeof al=="object"&&typeof ol<"u"?ol.exports=r():typeof define=="function"&&define.amd?define(r):(t=t||self,t.CodeMirror=r())})(al,function(){"use strict";var t=navigator.userAgent,r=navigator.platform,o=/gecko\/\d/i.test(t),l=/MSIE \d/.test(t),u=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(t),f=/Edge\/(\d+)/.exec(t),c=l||u||f,d=c&&(l?document.documentMode||6:+(f||u)[1]),v=!f&&/WebKit\//.test(t),C=v&&/Qt\/\d+\.\d+/.test(t),F=!f&&/Chrome\/(\d+)/.exec(t),P=F&&+F[1],W=/Opera\//.test(t),K=/Apple Computer/.test(navigator.vendor),ee=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(t),Y=/PhantomJS/.test(t),H=K&&(/Mobile\/\w+/.test(t)||navigator.maxTouchPoints>2),$=/Android/.test(t),ne=H||$||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(t),Q=H||/Mac/.test(r),te=/\bCrOS\b/.test(t),he=/win/i.test(r),ce=W&&t.match(/Version\/(\d*\.\d*)/);ce&&(ce=Number(ce[1])),ce&&ce>=15&&(W=!1,v=!0);var ge=Q&&(C||W&&(ce==null||ce<12.11)),Re=o||c&&d>=9;function de(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var X=function(e,n){var a=e.className,i=de(n).exec(a);if(i){var s=a.slice(i.index+i[0].length);e.className=a.slice(0,i.index)+(s?i[1]+s:"")}};function x(e){for(var n=e.childNodes.length;n>0;--n)e.removeChild(e.firstChild);return e}function T(e,n){return x(e).appendChild(n)}function k(e,n,a,i){var s=document.createElement(e);if(a&&(s.className=a),i&&(s.style.cssText=i),typeof n=="string")s.appendChild(document.createTextNode(n));else if(n)for(var h=0;h<n.length;++h)s.appendChild(n[h]);return s}function _(e,n,a,i){var s=k(e,n,a,i);return s.setAttribute("role","presentation"),s}var U;document.createRange?U=function(e,n,a,i){var s=document.createRange();return s.setEnd(i||e,a),s.setStart(e,n),s}:U=function(e,n,a){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch{return i}return i.collapse(!0),i.moveEnd("character",a),i.moveStart("character",n),i};function M(e,n){if(n.nodeType==3&&(n=n.parentNode),e.contains)return e.contains(n);do if(n.nodeType==11&&(n=n.host),n==e)return!0;while(n=n.parentNode)}function j(e){var n=e.ownerDocument||e,a;try{a=e.activeElement}catch{a=n.body||null}for(;a&&a.shadowRoot&&a.shadowRoot.activeElement;)a=a.shadowRoot.activeElement;return a}function R(e,n){var a=e.className;de(n).test(a)||(e.className+=(a?" ":"")+n)}function se(e,n){for(var a=e.split(" "),i=0;i<a.length;i++)a[i]&&!de(a[i]).test(n)&&(n+=" "+a[i]);return n}var O=function(e){e.select()};H?O=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:c&&(O=function(e){try{e.select()}catch{}});function b(e){return e.display.wrapper.ownerDocument}function J(e){return le(e.display.wrapper)}function le(e){return e.getRootNode?e.getRootNode():e.ownerDocument}function oe(e){return b(e).defaultView}function xe(e){var n=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,n)}}function me(e,n,a){n||(n={});for(var i in e)e.hasOwnProperty(i)&&(a!==!1||!n.hasOwnProperty(i))&&(n[i]=e[i]);return n}function be(e,n,a,i,s){n==null&&(n=e.search(/[^\s\u00a0]/),n==-1&&(n=e.length));for(var h=i||0,g=s||0;;){var m=e.indexOf("	",h);if(m<0||m>=n)return g+(n-h);g+=m-h,g+=a-g%a,h=m+1}}var Ce=function(){this.id=null,this.f=null,this.time=0,this.handler=xe(this.onTimeout,this)};Ce.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Ce.prototype.set=function(e,n){this.f=n;var a=+new Date+e;(!this.id||a<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=a)};function D(e,n){for(var a=0;a<e.length;++a)if(e[a]==n)return a;return-1}var A=50,p={toString:function(){return"CodeMirror.Pass"}},w={scroll:!1},I={origin:"*mouse"},L={origin:"+move"};function S(e,n,a){for(var i=0,s=0;;){var h=e.indexOf("	",i);h==-1&&(h=e.length);var g=h-i;if(h==e.length||s+g>=n)return i+Math.min(g,n-s);if(s+=h-i,s+=a-s%a,i=h+1,s>=n)return i}}var B=[""];function G(e){for(;B.length<=e;)B.push(z(B)+" ");return B[e]}function z(e){return e[e.length-1]}function ae(e,n){for(var a=[],i=0;i<e.length;i++)a[i]=n(e[i],i);return a}function pe(e,n,a){for(var i=0,s=a(n);i<e.length&&a(e[i])<=s;)i++;e.splice(i,0,n)}function ue(){}function re(e,n){var a;return Object.create?a=Object.create(e):(ue.prototype=e,a=new ue),n&&me(n,a),a}var we=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Me(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||we.test(e))}function Te(e,n){return n?n.source.indexOf("\\w")>-1&&Me(e)?!0:n.test(e):Me(e)}function Ge(e){for(var n in e)if(e.hasOwnProperty(n)&&e[n])return!1;return!0}var Ue=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function St(e){return e.charCodeAt(0)>=768&&Ue.test(e)}function Rt(e,n,a){for(;(a<0?n>0:n<e.length)&&St(e.charAt(n));)n+=a;return n}function Xe(e,n,a){for(var i=n>a?-1:1;;){if(n==a)return n;var s=(n+a)/2,h=i<0?Math.ceil(s):Math.floor(s);if(h==n)return e(h)?n:a;e(h)?a=h:n=h+i}}function wt(e,n,a,i){if(!e)return i(n,a,"ltr",0);for(var s=!1,h=0;h<e.length;++h){var g=e[h];(g.from<a&&g.to>n||n==a&&g.to==n)&&(i(Math.max(g.from,n),Math.min(g.to,a),g.level==1?"rtl":"ltr",h),s=!0)}s||i(n,a,"ltr")}var Ct=null;function ot(e,n,a){var i;Ct=null;for(var s=0;s<e.length;++s){var h=e[s];if(h.from<n&&h.to>n)return s;h.to==n&&(h.from!=h.to&&a=="before"?i=s:Ct=s),h.from==n&&(h.from!=h.to&&a!="before"?i=s:Ct=s)}return i??Ct}var Nt=function(){var e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function a(E){return E<=247?e.charAt(E):1424<=E&&E<=1524?"R":1536<=E&&E<=1785?n.charAt(E-1536):1774<=E&&E<=2220?"r":8192<=E&&E<=8203?"w":E==8204?"b":"L"}var i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,s=/[stwN]/,h=/[LRr]/,g=/[Lb1n]/,m=/[1n]/;function y(E,N,q){this.level=E,this.from=N,this.to=q}return function(E,N){var q=N=="ltr"?"L":"R";if(E.length==0||N=="ltr"&&!i.test(E))return!1;for(var Z=E.length,V=[],ie=0;ie<Z;++ie)V.push(a(E.charCodeAt(ie)));for(var fe=0,ye=q;fe<Z;++fe){var Ee=V[fe];Ee=="m"?V[fe]=ye:ye=Ee}for(var De=0,ke=q;De<Z;++De){var Ae=V[De];Ae=="1"&&ke=="r"?V[De]="n":h.test(Ae)&&(ke=Ae,Ae=="r"&&(V[De]="R"))}for(var Ie=1,_e=V[0];Ie<Z-1;++Ie){var ze=V[Ie];ze=="+"&&_e=="1"&&V[Ie+1]=="1"?V[Ie]="1":ze==","&&_e==V[Ie+1]&&(_e=="1"||_e=="n")&&(V[Ie]=_e),_e=ze}for(var Ve=0;Ve<Z;++Ve){var xt=V[Ve];if(xt==",")V[Ve]="N";else if(xt=="%"){var it=void 0;for(it=Ve+1;it<Z&&V[it]=="%";++it);for(var jt=Ve&&V[Ve-1]=="!"||it<Z&&V[it]=="1"?"1":"N",Bt=Ve;Bt<it;++Bt)V[Bt]=jt;Ve=it-1}}for(var ct=0,Pt=q;ct<Z;++ct){var Tt=V[ct];Pt=="L"&&Tt=="1"?V[ct]="L":h.test(Tt)&&(Pt=Tt)}for(var pt=0;pt<Z;++pt)if(s.test(V[pt])){var ht=void 0;for(ht=pt+1;ht<Z&&s.test(V[ht]);++ht);for(var at=(pt?V[pt-1]:q)=="L",qt=(ht<Z?V[ht]:q)=="L",_r=at==qt?at?"L":"R":q,Ln=pt;Ln<ht;++Ln)V[Ln]=_r;pt=ht-1}for(var Ft=[],un,bt=0;bt<Z;)if(g.test(V[bt])){var rl=bt;for(++bt;bt<Z&&g.test(V[bt]);++bt);Ft.push(new y(0,rl,bt))}else{var vn=bt,Qn=Ft.length,Jn=N=="rtl"?1:0;for(++bt;bt<Z&&V[bt]!="L";++bt);for(var Ot=vn;Ot<bt;)if(m.test(V[Ot])){vn<Ot&&(Ft.splice(Qn,0,new y(1,vn,Ot)),Qn+=Jn);var Or=Ot;for(++Ot;Ot<bt&&m.test(V[Ot]);++Ot);Ft.splice(Qn,0,new y(2,Or,Ot)),Qn+=Jn,vn=Ot}else++Ot;vn<bt&&Ft.splice(Qn,0,new y(1,vn,bt))}return N=="ltr"&&(Ft[0].level==1&&(un=E.match(/^\s+/))&&(Ft[0].from=un[0].length,Ft.unshift(new y(0,0,un[0].length))),z(Ft).level==1&&(un=E.match(/\s+$/))&&(z(Ft).to-=un[0].length,Ft.push(new y(0,Z-un[0].length,Z)))),N=="rtl"?Ft.reverse():Ft}}();function Lt(e,n){var a=e.order;return a==null&&(a=e.order=Nt(e.text,n)),a}var bn=[],Oe=function(e,n,a){if(e.addEventListener)e.addEventListener(n,a,!1);else if(e.attachEvent)e.attachEvent("on"+n,a);else{var i=e._handlers||(e._handlers={});i[n]=(i[n]||bn).concat(a)}};function Pn(e,n){return e._handlers&&e._handlers[n]||bn}function Dt(e,n,a){if(e.removeEventListener)e.removeEventListener(n,a,!1);else if(e.detachEvent)e.detachEvent("on"+n,a);else{var i=e._handlers,s=i&&i[n];if(s){var h=D(s,a);h>-1&&(i[n]=s.slice(0,h).concat(s.slice(h+1)))}}}function rt(e,n){var a=Pn(e,n);if(a.length)for(var i=Array.prototype.slice.call(arguments,2),s=0;s<a.length;++s)a[s].apply(null,i)}function je(e,n,a){return typeof n=="string"&&(n={type:n,preventDefault:function(){this.defaultPrevented=!0}}),rt(e,a||n.type,e,n),tn(n)||n.codemirrorIgnore}function st(e){var n=e._handlers&&e._handlers.cursorActivity;if(n)for(var a=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<n.length;++i)D(a,n[i])==-1&&a.push(n[i])}function ut(e,n){return Pn(e,n).length>0}function dt(e){e.prototype.on=function(n,a){Oe(this,n,a)},e.prototype.off=function(n,a){Dt(this,n,a)}}function Ne(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Wt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function tn(e){return e.defaultPrevented!=null?e.defaultPrevented:e.returnValue==!1}function qn(e){Ne(e),Wt(e)}function cn(e){return e.target||e.srcElement}function nn(e){var n=e.which;return n==null&&(e.button&1?n=1:e.button&2?n=3:e.button&4&&(n=2)),Q&&e.ctrlKey&&n==1&&(n=3),n}var Ze=function(){if(c&&d<9)return!1;var e=k("div");return"draggable"in e||"dragDrop"in e}(),En;function no(e){if(En==null){var n=k("span","\u200B");T(e,k("span",[n,document.createTextNode("x")])),e.firstChild.offsetHeight!=0&&(En=n.offsetWidth<=1&&n.offsetHeight>2&&!(c&&d<8))}var a=En?k("span","\u200B"):k("span","\xA0",null,"display: inline-block; width: 1px; margin-right: -1px");return a.setAttribute("cm-text",""),a}var rn;function fr(e){if(rn!=null)return rn;var n=T(e,document.createTextNode("A\u062EA")),a=U(n,0,1).getBoundingClientRect(),i=U(n,1,2).getBoundingClientRect();return x(e),!a||a.left==a.right?!1:rn=i.right-a.right<3}var cr=`

b`.split(/\n/).length!=3?function(e){for(var n=0,a=[],i=e.length;n<=i;){var s=e.indexOf(`
`,n);s==-1&&(s=e.length);var h=e.slice(n,e.charAt(s-1)=="\r"?s-1:s),g=h.indexOf("\r");g!=-1?(a.push(h.slice(0,g)),n+=g+1):(a.push(h),n=s+1)}return a}:function(e){return e.split(/\r\n?|\n/)},rd=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch{return!1}}:function(e){var n;try{n=e.ownerDocument.selection.createRange()}catch{}return!n||n.parentElement()!=e?!1:n.compareEndPoints("StartToEnd",n)!=0},id=function(){var e=k("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),typeof e.oncopy=="function")}(),ro=null;function ad(e){if(ro!=null)return ro;var n=T(e,k("span","x")),a=n.getBoundingClientRect(),i=U(n,0,1).getBoundingClientRect();return ro=Math.abs(a.left-i.left)>1}var io={},hr={};function od(e,n){arguments.length>2&&(n.dependencies=Array.prototype.slice.call(arguments,2)),io[e]=n}function ld(e,n){hr[e]=n}function Li(e){if(typeof e=="string"&&hr.hasOwnProperty(e))e=hr[e];else if(e&&typeof e.name=="string"&&hr.hasOwnProperty(e.name)){var n=hr[e.name];typeof n=="string"&&(n={name:n}),e=re(n,e),e.name=n.name}else{if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Li("application/xml");if(typeof e=="string"&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Li("application/json")}return typeof e=="string"?{name:e}:e||{name:"null"}}function ao(e,n){n=Li(n);var a=io[n.name];if(!a)return ao(e,"text/plain");var i=a(e,n);if(dr.hasOwnProperty(n.name)){var s=dr[n.name];for(var h in s)s.hasOwnProperty(h)&&(i.hasOwnProperty(h)&&(i["_"+h]=i[h]),i[h]=s[h])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var g in n.modeProps)i[g]=n.modeProps[g];return i}var dr={};function sd(e,n){var a=dr.hasOwnProperty(e)?dr[e]:dr[e]={};me(n,a)}function zn(e,n){if(n===!0)return n;if(e.copyState)return e.copyState(n);var a={};for(var i in n){var s=n[i];s instanceof Array&&(s=s.concat([])),a[i]=s}return a}function oo(e,n){for(var a;e.innerMode&&(a=e.innerMode(n),!(!a||a.mode==e));)n=a.state,e=a.mode;return a||{mode:e,state:n}}function hs(e,n,a){return e.startState?e.startState(n,a):!0}var ft=function(e,n,a){this.pos=this.start=0,this.string=e,this.tabSize=n||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=a};ft.prototype.eol=function(){return this.pos>=this.string.length},ft.prototype.sol=function(){return this.pos==this.lineStart},ft.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ft.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ft.prototype.eat=function(e){var n=this.string.charAt(this.pos),a;if(typeof e=="string"?a=n==e:a=n&&(e.test?e.test(n):e(n)),a)return++this.pos,n},ft.prototype.eatWhile=function(e){for(var n=this.pos;this.eat(e););return this.pos>n},ft.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},ft.prototype.skipToEnd=function(){this.pos=this.string.length},ft.prototype.skipTo=function(e){var n=this.string.indexOf(e,this.pos);if(n>-1)return this.pos=n,!0},ft.prototype.backUp=function(e){this.pos-=e},ft.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=be(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},ft.prototype.indentation=function(){return be(this.string,null,this.tabSize)-(this.lineStart?be(this.string,this.lineStart,this.tabSize):0)},ft.prototype.match=function(e,n,a){if(typeof e=="string"){var i=function(g){return a?g.toLowerCase():g},s=this.string.substr(this.pos,e.length);if(i(s)==i(e))return n!==!1&&(this.pos+=e.length),!0}else{var h=this.string.slice(this.pos).match(e);return h&&h.index>0?null:(h&&n!==!1&&(this.pos+=h[0].length),h)}},ft.prototype.current=function(){return this.string.slice(this.start,this.pos)},ft.prototype.hideFirstChars=function(e,n){this.lineStart+=e;try{return n()}finally{this.lineStart-=e}},ft.prototype.lookAhead=function(e){var n=this.lineOracle;return n&&n.lookAhead(e)},ft.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};function Le(e,n){if(n-=e.first,n<0||n>=e.size)throw new Error("There is no line "+(n+e.first)+" in the document.");for(var a=e;!a.lines;)for(var i=0;;++i){var s=a.children[i],h=s.chunkSize();if(n<h){a=s;break}n-=h}return a.lines[n]}function Wn(e,n,a){var i=[],s=n.line;return e.iter(n.line,a.line+1,function(h){var g=h.text;s==a.line&&(g=g.slice(0,a.ch)),s==n.line&&(g=g.slice(n.ch)),i.push(g),++s}),i}function lo(e,n,a){var i=[];return e.iter(n,a,function(s){i.push(s.text)}),i}function an(e,n){var a=n-e.height;if(a)for(var i=e;i;i=i.parent)i.height+=a}function Ke(e){if(e.parent==null)return null;for(var n=e.parent,a=D(n.lines,e),i=n.parent;i;n=i,i=i.parent)for(var s=0;i.children[s]!=n;++s)a+=i.children[s].chunkSize();return a+n.first}function Un(e,n){var a=e.first;e:do{for(var i=0;i<e.children.length;++i){var s=e.children[i],h=s.height;if(n<h){e=s;continue e}n-=h,a+=s.chunkSize()}return a}while(!e.lines);for(var g=0;g<e.lines.length;++g){var m=e.lines[g],y=m.height;if(n<y)break;n-=y}return a+g}function Wr(e,n){return n>=e.first&&n<e.first+e.size}function so(e,n){return String(e.lineNumberFormatter(n+e.firstLineNumber))}function ve(e,n,a){if(a===void 0&&(a=null),!(this instanceof ve))return new ve(e,n,a);this.line=e,this.ch=n,this.sticky=a}function Pe(e,n){return e.line-n.line||e.ch-n.ch}function uo(e,n){return e.sticky==n.sticky&&Pe(e,n)==0}function fo(e){return ve(e.line,e.ch)}function _i(e,n){return Pe(e,n)<0?n:e}function Oi(e,n){return Pe(e,n)<0?e:n}function ds(e,n){return Math.max(e.first,Math.min(n,e.first+e.size-1))}function qe(e,n){if(n.line<e.first)return ve(e.first,0);var a=e.first+e.size-1;return n.line>a?ve(a,Le(e,a).text.length):ud(n,Le(e,n.line).text.length)}function ud(e,n){var a=e.ch;return a==null||a>n?ve(e.line,n):a<0?ve(e.line,0):e}function ps(e,n){for(var a=[],i=0;i<n.length;i++)a[i]=qe(e,n[i]);return a}var Ii=function(e,n){this.state=e,this.lookAhead=n},on=function(e,n,a,i){this.state=n,this.doc=e,this.line=a,this.maxLookAhead=i||0,this.baseTokens=null,this.baseTokenPos=1};on.prototype.lookAhead=function(e){var n=this.doc.getLine(this.line+e);return n!=null&&e>this.maxLookAhead&&(this.maxLookAhead=e),n},on.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var n=this.baseTokens[this.baseTokenPos+1];return{type:n&&n.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},on.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},on.fromSaved=function(e,n,a){return n instanceof Ii?new on(e,zn(e.mode,n.state),a,n.lookAhead):new on(e,zn(e.mode,n),a)},on.prototype.save=function(e){var n=e!==!1?zn(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new Ii(n,this.maxLookAhead):n};function gs(e,n,a,i){var s=[e.state.modeGen],h={};Es(e,n.text,e.doc.mode,a,function(E,N){return s.push(E,N)},h,i);for(var g=a.state,m=function(E){a.baseTokens=s;var N=e.state.overlays[E],q=1,Z=0;a.state=!0,Es(e,n.text,N.mode,a,function(V,ie){for(var fe=q;Z<V;){var ye=s[q];ye>V&&s.splice(q,1,V,s[q+1],ye),q+=2,Z=Math.min(V,ye)}if(ie)if(N.opaque)s.splice(fe,q-fe,V,"overlay "+ie),q=fe+2;else for(;fe<q;fe+=2){var Ee=s[fe+1];s[fe+1]=(Ee?Ee+" ":"")+"overlay "+ie}},h),a.state=g,a.baseTokens=null,a.baseTokenPos=1},y=0;y<e.state.overlays.length;++y)m(y);return{styles:s,classes:h.bgClass||h.textClass?h:null}}function ms(e,n,a){if(!n.styles||n.styles[0]!=e.state.modeGen){var i=Ur(e,Ke(n)),s=n.text.length>e.options.maxHighlightLength&&zn(e.doc.mode,i.state),h=gs(e,n,i);s&&(i.state=s),n.stateAfter=i.save(!s),n.styles=h.styles,h.classes?n.styleClasses=h.classes:n.styleClasses&&(n.styleClasses=null),a===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return n.styles}function Ur(e,n,a){var i=e.doc,s=e.display;if(!i.mode.startState)return new on(i,!0,n);var h=fd(e,n,a),g=h>i.first&&Le(i,h-1).stateAfter,m=g?on.fromSaved(i,g,h):new on(i,hs(i.mode),h);return i.iter(h,n,function(y){co(e,y.text,m);var E=m.line;y.stateAfter=E==n-1||E%5==0||E>=s.viewFrom&&E<s.viewTo?m.save():null,m.nextLine()}),a&&(i.modeFrontier=m.line),m}function co(e,n,a,i){var s=e.doc.mode,h=new ft(n,e.options.tabSize,a);for(h.start=h.pos=i||0,n==""&&vs(s,a.state);!h.eol();)ho(s,h,a.state),h.start=h.pos}function vs(e,n){if(e.blankLine)return e.blankLine(n);if(e.innerMode){var a=oo(e,n);if(a.mode.blankLine)return a.mode.blankLine(a.state)}}function ho(e,n,a,i){for(var s=0;s<10;s++){i&&(i[0]=oo(e,a).mode);var h=e.token(n,a);if(n.pos>n.start)return h}throw new Error("Mode "+e.name+" failed to advance stream.")}var ys=function(e,n,a){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=n||null,this.state=a};function xs(e,n,a,i){var s=e.doc,h=s.mode,g;n=qe(s,n);var m=Le(s,n.line),y=Ur(e,n.line,a),E=new ft(m.text,e.options.tabSize,y),N;for(i&&(N=[]);(i||E.pos<n.ch)&&!E.eol();)E.start=E.pos,g=ho(h,E,y.state),i&&N.push(new ys(E,g,zn(s.mode,y.state)));return i?N:new ys(E,g,y.state)}function bs(e,n){if(e)for(;;){var a=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!a)break;e=e.slice(0,a.index)+e.slice(a.index+a[0].length);var i=a[1]?"bgClass":"textClass";n[i]==null?n[i]=a[2]:new RegExp("(?:^|\\s)"+a[2]+"(?:$|\\s)").test(n[i])||(n[i]+=" "+a[2])}return e}function Es(e,n,a,i,s,h,g){var m=a.flattenSpans;m==null&&(m=e.options.flattenSpans);var y=0,E=null,N=new ft(n,e.options.tabSize,i),q,Z=e.options.addModeClass&&[null];for(n==""&&bs(vs(a,i.state),h);!N.eol();){if(N.pos>e.options.maxHighlightLength?(m=!1,g&&co(e,n,i,N.pos),N.pos=n.length,q=null):q=bs(ho(a,N,i.state,Z),h),Z){var V=Z[0].name;V&&(q="m-"+(q?V+" "+q:V))}if(!m||E!=q){for(;y<N.start;)y=Math.min(N.start,y+5e3),s(y,E);E=q}N.start=N.pos}for(;y<N.pos;){var ie=Math.min(N.pos,y+5e3);s(ie,E),y=ie}}function fd(e,n,a){for(var i,s,h=e.doc,g=a?-1:n-(e.doc.mode.innerMode?1e3:100),m=n;m>g;--m){if(m<=h.first)return h.first;var y=Le(h,m-1),E=y.stateAfter;if(E&&(!a||m+(E instanceof Ii?E.lookAhead:0)<=h.modeFrontier))return m;var N=be(y.text,null,e.options.tabSize);(s==null||i>N)&&(s=m-1,i=N)}return s}function cd(e,n){if(e.modeFrontier=Math.min(e.modeFrontier,n),!(e.highlightFrontier<n-10)){for(var a=e.first,i=n-1;i>a;i--){var s=Le(e,i).stateAfter;if(s&&(!(s instanceof Ii)||i+s.lookAhead<n)){a=i+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,a)}}var ks=!1,hn=!1;function hd(){ks=!0}function dd(){hn=!0}function Ri(e,n,a){this.marker=e,this.from=n,this.to=a}function jr(e,n){if(e)for(var a=0;a<e.length;++a){var i=e[a];if(i.marker==n)return i}}function pd(e,n){for(var a,i=0;i<e.length;++i)e[i]!=n&&(a||(a=[])).push(e[i]);return a}function gd(e,n,a){var i=a&&window.WeakSet&&(a.markedSpans||(a.markedSpans=new WeakSet));i&&e.markedSpans&&i.has(e.markedSpans)?e.markedSpans.push(n):(e.markedSpans=e.markedSpans?e.markedSpans.concat([n]):[n],i&&i.add(e.markedSpans)),n.marker.attachLine(e)}function md(e,n,a){var i;if(e)for(var s=0;s<e.length;++s){var h=e[s],g=h.marker,m=h.from==null||(g.inclusiveLeft?h.from<=n:h.from<n);if(m||h.from==n&&g.type=="bookmark"&&(!a||!h.marker.insertLeft)){var y=h.to==null||(g.inclusiveRight?h.to>=n:h.to>n);(i||(i=[])).push(new Ri(g,h.from,y?null:h.to))}}return i}function vd(e,n,a){var i;if(e)for(var s=0;s<e.length;++s){var h=e[s],g=h.marker,m=h.to==null||(g.inclusiveRight?h.to>=n:h.to>n);if(m||h.from==n&&g.type=="bookmark"&&(!a||h.marker.insertLeft)){var y=h.from==null||(g.inclusiveLeft?h.from<=n:h.from<n);(i||(i=[])).push(new Ri(g,y?null:h.from-n,h.to==null?null:h.to-n))}}return i}function po(e,n){if(n.full)return null;var a=Wr(e,n.from.line)&&Le(e,n.from.line).markedSpans,i=Wr(e,n.to.line)&&Le(e,n.to.line).markedSpans;if(!a&&!i)return null;var s=n.from.ch,h=n.to.ch,g=Pe(n.from,n.to)==0,m=md(a,s,g),y=vd(i,h,g),E=n.text.length==1,N=z(n.text).length+(E?s:0);if(m)for(var q=0;q<m.length;++q){var Z=m[q];if(Z.to==null){var V=jr(y,Z.marker);V?E&&(Z.to=V.to==null?null:V.to+N):Z.to=s}}if(y)for(var ie=0;ie<y.length;++ie){var fe=y[ie];if(fe.to!=null&&(fe.to+=N),fe.from==null){var ye=jr(m,fe.marker);ye||(fe.from=N,E&&(m||(m=[])).push(fe))}else fe.from+=N,E&&(m||(m=[])).push(fe)}m&&(m=ws(m)),y&&y!=m&&(y=ws(y));var Ee=[m];if(!E){var De=n.text.length-2,ke;if(De>0&&m)for(var Ae=0;Ae<m.length;++Ae)m[Ae].to==null&&(ke||(ke=[])).push(new Ri(m[Ae].marker,null,null));for(var Ie=0;Ie<De;++Ie)Ee.push(ke);Ee.push(y)}return Ee}function ws(e){for(var n=0;n<e.length;++n){var a=e[n];a.from!=null&&a.from==a.to&&a.marker.clearWhenEmpty!==!1&&e.splice(n--,1)}return e.length?e:null}function yd(e,n,a){var i=null;if(e.iter(n.line,a.line+1,function(V){if(V.markedSpans)for(var ie=0;ie<V.markedSpans.length;++ie){var fe=V.markedSpans[ie].marker;fe.readOnly&&(!i||D(i,fe)==-1)&&(i||(i=[])).push(fe)}}),!i)return null;for(var s=[{from:n,to:a}],h=0;h<i.length;++h)for(var g=i[h],m=g.find(0),y=0;y<s.length;++y){var E=s[y];if(!(Pe(E.to,m.from)<0||Pe(E.from,m.to)>0)){var N=[y,1],q=Pe(E.from,m.from),Z=Pe(E.to,m.to);(q<0||!g.inclusiveLeft&&!q)&&N.push({from:E.from,to:m.from}),(Z>0||!g.inclusiveRight&&!Z)&&N.push({from:m.to,to:E.to}),s.splice.apply(s,N),y+=N.length-3}}return s}function Cs(e){var n=e.markedSpans;if(n){for(var a=0;a<n.length;++a)n[a].marker.detachLine(e);e.markedSpans=null}}function Ds(e,n){if(n){for(var a=0;a<n.length;++a)n[a].marker.attachLine(e);e.markedSpans=n}}function Ni(e){return e.inclusiveLeft?-1:0}function Mi(e){return e.inclusiveRight?1:0}function go(e,n){var a=e.lines.length-n.lines.length;if(a!=0)return a;var i=e.find(),s=n.find(),h=Pe(i.from,s.from)||Ni(e)-Ni(n);if(h)return-h;var g=Pe(i.to,s.to)||Mi(e)-Mi(n);return g||n.id-e.id}function Ts(e,n){var a=hn&&e.markedSpans,i;if(a)for(var s=void 0,h=0;h<a.length;++h)s=a[h],s.marker.collapsed&&(n?s.from:s.to)==null&&(!i||go(i,s.marker)<0)&&(i=s.marker);return i}function Ss(e){return Ts(e,!0)}function Hi(e){return Ts(e,!1)}function xd(e,n){var a=hn&&e.markedSpans,i;if(a)for(var s=0;s<a.length;++s){var h=a[s];h.marker.collapsed&&(h.from==null||h.from<n)&&(h.to==null||h.to>n)&&(!i||go(i,h.marker)<0)&&(i=h.marker)}return i}function As(e,n,a,i,s){var h=Le(e,n),g=hn&&h.markedSpans;if(g)for(var m=0;m<g.length;++m){var y=g[m];if(y.marker.collapsed){var E=y.marker.find(0),N=Pe(E.from,a)||Ni(y.marker)-Ni(s),q=Pe(E.to,i)||Mi(y.marker)-Mi(s);if(!(N>=0&&q<=0||N<=0&&q>=0)&&(N<=0&&(y.marker.inclusiveRight&&s.inclusiveLeft?Pe(E.to,a)>=0:Pe(E.to,a)>0)||N>=0&&(y.marker.inclusiveRight&&s.inclusiveLeft?Pe(E.from,i)<=0:Pe(E.from,i)<0)))return!0}}}function Vt(e){for(var n;n=Ss(e);)e=n.find(-1,!0).line;return e}function bd(e){for(var n;n=Hi(e);)e=n.find(1,!0).line;return e}function Ed(e){for(var n,a;n=Hi(e);)e=n.find(1,!0).line,(a||(a=[])).push(e);return a}function mo(e,n){var a=Le(e,n),i=Vt(a);return a==i?n:Ke(i)}function Fs(e,n){if(n>e.lastLine())return n;var a=Le(e,n),i;if(!kn(e,a))return n;for(;i=Hi(a);)a=i.find(1,!0).line;return Ke(a)+1}function kn(e,n){var a=hn&&n.markedSpans;if(a){for(var i=void 0,s=0;s<a.length;++s)if(i=a[s],!!i.marker.collapsed){if(i.from==null)return!0;if(!i.marker.widgetNode&&i.from==0&&i.marker.inclusiveLeft&&vo(e,n,i))return!0}}}function vo(e,n,a){if(a.to==null){var i=a.marker.find(1,!0);return vo(e,i.line,jr(i.line.markedSpans,a.marker))}if(a.marker.inclusiveRight&&a.to==n.text.length)return!0;for(var s=void 0,h=0;h<n.markedSpans.length;++h)if(s=n.markedSpans[h],s.marker.collapsed&&!s.marker.widgetNode&&s.from==a.to&&(s.to==null||s.to!=a.from)&&(s.marker.inclusiveLeft||a.marker.inclusiveRight)&&vo(e,n,s))return!0}function dn(e){e=Vt(e);for(var n=0,a=e.parent,i=0;i<a.lines.length;++i){var s=a.lines[i];if(s==e)break;n+=s.height}for(var h=a.parent;h;a=h,h=a.parent)for(var g=0;g<h.children.length;++g){var m=h.children[g];if(m==a)break;n+=m.height}return n}function Bi(e){if(e.height==0)return 0;for(var n=e.text.length,a,i=e;a=Ss(i);){var s=a.find(0,!0);i=s.from.line,n+=s.from.ch-s.to.ch}for(i=e;a=Hi(i);){var h=a.find(0,!0);n-=i.text.length-h.from.ch,i=h.to.line,n+=i.text.length-h.to.ch}return n}function yo(e){var n=e.display,a=e.doc;n.maxLine=Le(a,a.first),n.maxLineLength=Bi(n.maxLine),n.maxLineChanged=!0,a.iter(function(i){var s=Bi(i);s>n.maxLineLength&&(n.maxLineLength=s,n.maxLine=i)})}var pr=function(e,n,a){this.text=e,Ds(this,n),this.height=a?a(this):1};pr.prototype.lineNo=function(){return Ke(this)},dt(pr);function kd(e,n,a,i){e.text=n,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),e.order!=null&&(e.order=null),Cs(e),Ds(e,a);var s=i?i(e):1;s!=e.height&&an(e,s)}function wd(e){e.parent=null,Cs(e)}var Cd={},Dd={};function Ls(e,n){if(!e||/^\s*$/.test(e))return null;var a=n.addModeClass?Dd:Cd;return a[e]||(a[e]=e.replace(/\S+/g,"cm-$&"))}function _s(e,n){var a=_("span",null,null,v?"padding-right: .1px":null),i={pre:_("pre",[a],"CodeMirror-line"),content:a,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};n.measure={};for(var s=0;s<=(n.rest?n.rest.length:0);s++){var h=s?n.rest[s-1]:n.line,g=void 0;i.pos=0,i.addToken=Sd,fr(e.display.measure)&&(g=Lt(h,e.doc.direction))&&(i.addToken=Fd(i.addToken,g)),i.map=[];var m=n!=e.display.externalMeasured&&Ke(h);Ld(h,i,ms(e,h,m)),h.styleClasses&&(h.styleClasses.bgClass&&(i.bgClass=se(h.styleClasses.bgClass,i.bgClass||"")),h.styleClasses.textClass&&(i.textClass=se(h.styleClasses.textClass,i.textClass||""))),i.map.length==0&&i.map.push(0,0,i.content.appendChild(no(e.display.measure))),s==0?(n.measure.map=i.map,n.measure.cache={}):((n.measure.maps||(n.measure.maps=[])).push(i.map),(n.measure.caches||(n.measure.caches=[])).push({}))}if(v){var y=i.content.lastChild;(/\bcm-tab\b/.test(y.className)||y.querySelector&&y.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return rt(e,"renderLine",e,n.line,i.pre),i.pre.className&&(i.textClass=se(i.pre.className,i.textClass||"")),i}function Td(e){var n=k("span","\u2022","cm-invalidchar");return n.title="\\u"+e.charCodeAt(0).toString(16),n.setAttribute("aria-label",n.title),n}function Sd(e,n,a,i,s,h,g){if(n){var m=e.splitSpaces?Ad(n,e.trailingSpace):n,y=e.cm.state.specialChars,E=!1,N;if(!y.test(n))e.col+=n.length,N=document.createTextNode(m),e.map.push(e.pos,e.pos+n.length,N),c&&d<9&&(E=!0),e.pos+=n.length;else{N=document.createDocumentFragment();for(var q=0;;){y.lastIndex=q;var Z=y.exec(n),V=Z?Z.index-q:n.length-q;if(V){var ie=document.createTextNode(m.slice(q,q+V));c&&d<9?N.appendChild(k("span",[ie])):N.appendChild(ie),e.map.push(e.pos,e.pos+V,ie),e.col+=V,e.pos+=V}if(!Z)break;q+=V+1;var fe=void 0;if(Z[0]=="	"){var ye=e.cm.options.tabSize,Ee=ye-e.col%ye;fe=N.appendChild(k("span",G(Ee),"cm-tab")),fe.setAttribute("role","presentation"),fe.setAttribute("cm-text","	"),e.col+=Ee}else Z[0]=="\r"||Z[0]==`
`?(fe=N.appendChild(k("span",Z[0]=="\r"?"\u240D":"\u2424","cm-invalidchar")),fe.setAttribute("cm-text",Z[0]),e.col+=1):(fe=e.cm.options.specialCharPlaceholder(Z[0]),fe.setAttribute("cm-text",Z[0]),c&&d<9?N.appendChild(k("span",[fe])):N.appendChild(fe),e.col+=1);e.map.push(e.pos,e.pos+1,fe),e.pos++}}if(e.trailingSpace=m.charCodeAt(n.length-1)==32,a||i||s||E||h||g){var De=a||"";i&&(De+=i),s&&(De+=s);var ke=k("span",[N],De,h);if(g)for(var Ae in g)g.hasOwnProperty(Ae)&&Ae!="style"&&Ae!="class"&&ke.setAttribute(Ae,g[Ae]);return e.content.appendChild(ke)}e.content.appendChild(N)}}function Ad(e,n){if(e.length>1&&!/  /.test(e))return e;for(var a=n,i="",s=0;s<e.length;s++){var h=e.charAt(s);h==" "&&a&&(s==e.length-1||e.charCodeAt(s+1)==32)&&(h="\xA0"),i+=h,a=h==" "}return i}function Fd(e,n){return function(a,i,s,h,g,m,y){s=s?s+" cm-force-border":"cm-force-border";for(var E=a.pos,N=E+i.length;;){for(var q=void 0,Z=0;Z<n.length&&(q=n[Z],!(q.to>E&&q.from<=E));Z++);if(q.to>=N)return e(a,i,s,h,g,m,y);e(a,i.slice(0,q.to-E),s,h,null,m,y),h=null,i=i.slice(q.to-E),E=q.to}}}function Os(e,n,a,i){var s=!i&&a.widgetNode;s&&e.map.push(e.pos,e.pos+n,s),!i&&e.cm.display.input.needsContentAttribute&&(s||(s=e.content.appendChild(document.createElement("span"))),s.setAttribute("cm-marker",a.id)),s&&(e.cm.display.input.setUneditable(s),e.content.appendChild(s)),e.pos+=n,e.trailingSpace=!1}function Ld(e,n,a){var i=e.markedSpans,s=e.text,h=0;if(!i){for(var g=1;g<a.length;g+=2)n.addToken(n,s.slice(h,h=a[g]),Ls(a[g+1],n.cm.options));return}for(var m=s.length,y=0,E=1,N="",q,Z,V=0,ie,fe,ye,Ee,De;;){if(V==y){ie=fe=ye=Z="",De=null,Ee=null,V=1/0;for(var ke=[],Ae=void 0,Ie=0;Ie<i.length;++Ie){var _e=i[Ie],ze=_e.marker;if(ze.type=="bookmark"&&_e.from==y&&ze.widgetNode)ke.push(ze);else if(_e.from<=y&&(_e.to==null||_e.to>y||ze.collapsed&&_e.to==y&&_e.from==y)){if(_e.to!=null&&_e.to!=y&&V>_e.to&&(V=_e.to,fe=""),ze.className&&(ie+=" "+ze.className),ze.css&&(Z=(Z?Z+";":"")+ze.css),ze.startStyle&&_e.from==y&&(ye+=" "+ze.startStyle),ze.endStyle&&_e.to==V&&(Ae||(Ae=[])).push(ze.endStyle,_e.to),ze.title&&((De||(De={})).title=ze.title),ze.attributes)for(var Ve in ze.attributes)(De||(De={}))[Ve]=ze.attributes[Ve];ze.collapsed&&(!Ee||go(Ee.marker,ze)<0)&&(Ee=_e)}else _e.from>y&&V>_e.from&&(V=_e.from)}if(Ae)for(var xt=0;xt<Ae.length;xt+=2)Ae[xt+1]==V&&(fe+=" "+Ae[xt]);if(!Ee||Ee.from==y)for(var it=0;it<ke.length;++it)Os(n,0,ke[it]);if(Ee&&(Ee.from||0)==y){if(Os(n,(Ee.to==null?m+1:Ee.to)-y,Ee.marker,Ee.from==null),Ee.to==null)return;Ee.to==y&&(Ee=!1)}}if(y>=m)break;for(var jt=Math.min(m,V);;){if(N){var Bt=y+N.length;if(!Ee){var ct=Bt>jt?N.slice(0,jt-y):N;n.addToken(n,ct,q?q+ie:ie,ye,y+ct.length==V?fe:"",Z,De)}if(Bt>=jt){N=N.slice(jt-y),y=jt;break}y=Bt,ye=""}N=s.slice(h,h=a[E++]),q=Ls(a[E++],n.cm.options)}}}function Is(e,n,a){this.line=n,this.rest=Ed(n),this.size=this.rest?Ke(z(this.rest))-a+1:1,this.node=this.text=null,this.hidden=kn(e,n)}function Pi(e,n,a){for(var i=[],s,h=n;h<a;h=s){var g=new Is(e.doc,Le(e.doc,h),h);s=h+g.size,i.push(g)}return i}var gr=null;function _d(e){gr?gr.ops.push(e):e.ownsGroup=gr={ops:[e],delayedCallbacks:[]}}function Od(e){var n=e.delayedCallbacks,a=0;do{for(;a<n.length;a++)n[a].call(null);for(var i=0;i<e.ops.length;i++){var s=e.ops[i];if(s.cursorActivityHandlers)for(;s.cursorActivityCalled<s.cursorActivityHandlers.length;)s.cursorActivityHandlers[s.cursorActivityCalled++].call(null,s.cm)}}while(a<n.length)}function Id(e,n){var a=e.ownsGroup;if(a)try{Od(a)}finally{gr=null,n(a)}}var Gr=null;function mt(e,n){var a=Pn(e,n);if(a.length){var i=Array.prototype.slice.call(arguments,2),s;gr?s=gr.delayedCallbacks:Gr?s=Gr:(s=Gr=[],setTimeout(Rd,0));for(var h=function(m){s.push(function(){return a[m].apply(null,i)})},g=0;g<a.length;++g)h(g)}}function Rd(){var e=Gr;Gr=null;for(var n=0;n<e.length;++n)e[n]()}function Rs(e,n,a,i){for(var s=0;s<n.changes.length;s++){var h=n.changes[s];h=="text"?Md(e,n):h=="gutter"?Ms(e,n,a,i):h=="class"?xo(e,n):h=="widget"&&Hd(e,n,i)}n.changes=null}function Xr(e){return e.node==e.text&&(e.node=k("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),c&&d<8&&(e.node.style.zIndex=2)),e.node}function Nd(e,n){var a=n.bgClass?n.bgClass+" "+(n.line.bgClass||""):n.line.bgClass;if(a&&(a+=" CodeMirror-linebackground"),n.background)a?n.background.className=a:(n.background.parentNode.removeChild(n.background),n.background=null);else if(a){var i=Xr(n);n.background=i.insertBefore(k("div",null,a),i.firstChild),e.display.input.setUneditable(n.background)}}function Ns(e,n){var a=e.display.externalMeasured;return a&&a.line==n.line?(e.display.externalMeasured=null,n.measure=a.measure,a.built):_s(e,n)}function Md(e,n){var a=n.text.className,i=Ns(e,n);n.text==n.node&&(n.node=i.pre),n.text.parentNode.replaceChild(i.pre,n.text),n.text=i.pre,i.bgClass!=n.bgClass||i.textClass!=n.textClass?(n.bgClass=i.bgClass,n.textClass=i.textClass,xo(e,n)):a&&(n.text.className=a)}function xo(e,n){Nd(e,n),n.line.wrapClass?Xr(n).className=n.line.wrapClass:n.node!=n.text&&(n.node.className="");var a=n.textClass?n.textClass+" "+(n.line.textClass||""):n.line.textClass;n.text.className=a||""}function Ms(e,n,a,i){if(n.gutter&&(n.node.removeChild(n.gutter),n.gutter=null),n.gutterBackground&&(n.node.removeChild(n.gutterBackground),n.gutterBackground=null),n.line.gutterClass){var s=Xr(n);n.gutterBackground=k("div",null,"CodeMirror-gutter-background "+n.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(n.gutterBackground),s.insertBefore(n.gutterBackground,n.text)}var h=n.line.gutterMarkers;if(e.options.lineNumbers||h){var g=Xr(n),m=n.gutter=k("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(m.setAttribute("aria-hidden","true"),e.display.input.setUneditable(m),g.insertBefore(m,n.text),n.line.gutterClass&&(m.className+=" "+n.line.gutterClass),e.options.lineNumbers&&(!h||!h["CodeMirror-linenumbers"])&&(n.lineNumber=m.appendChild(k("div",so(e.options,a),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),h)for(var y=0;y<e.display.gutterSpecs.length;++y){var E=e.display.gutterSpecs[y].className,N=h.hasOwnProperty(E)&&h[E];N&&m.appendChild(k("div",[N],"CodeMirror-gutter-elt","left: "+i.gutterLeft[E]+"px; width: "+i.gutterWidth[E]+"px"))}}}function Hd(e,n,a){n.alignable&&(n.alignable=null);for(var i=de("CodeMirror-linewidget"),s=n.node.firstChild,h=void 0;s;s=h)h=s.nextSibling,i.test(s.className)&&n.node.removeChild(s);Hs(e,n,a)}function Bd(e,n,a,i){var s=Ns(e,n);return n.text=n.node=s.pre,s.bgClass&&(n.bgClass=s.bgClass),s.textClass&&(n.textClass=s.textClass),xo(e,n),Ms(e,n,a,i),Hs(e,n,i),n.node}function Hs(e,n,a){if(Bs(e,n.line,n,a,!0),n.rest)for(var i=0;i<n.rest.length;i++)Bs(e,n.rest[i],n,a,!1)}function Bs(e,n,a,i,s){if(n.widgets)for(var h=Xr(a),g=0,m=n.widgets;g<m.length;++g){var y=m[g],E=k("div",[y.node],"CodeMirror-linewidget"+(y.className?" "+y.className:""));y.handleMouseEvents||E.setAttribute("cm-ignore-events","true"),Pd(y,E,a,i),e.display.input.setUneditable(E),s&&y.above?h.insertBefore(E,a.gutter||a.text):h.appendChild(E),mt(y,"redraw")}}function Pd(e,n,a,i){if(e.noHScroll){(a.alignable||(a.alignable=[])).push(n);var s=i.wrapperWidth;n.style.left=i.fixedPos+"px",e.coverGutter||(s-=i.gutterTotalWidth,n.style.paddingLeft=i.gutterTotalWidth+"px"),n.style.width=s+"px"}e.coverGutter&&(n.style.zIndex=5,n.style.position="relative",e.noHScroll||(n.style.marginLeft=-i.gutterTotalWidth+"px"))}function Kr(e){if(e.height!=null)return e.height;var n=e.doc.cm;if(!n)return 0;if(!M(document.body,e.node)){var a="position: relative;";e.coverGutter&&(a+="margin-left: -"+n.display.gutters.offsetWidth+"px;"),e.noHScroll&&(a+="width: "+n.display.wrapper.clientWidth+"px;"),T(n.display.measure,k("div",[e.node],null,a))}return e.height=e.node.parentNode.offsetHeight}function pn(e,n){for(var a=cn(n);a!=e.wrapper;a=a.parentNode)if(!a||a.nodeType==1&&a.getAttribute("cm-ignore-events")=="true"||a.parentNode==e.sizer&&a!=e.mover)return!0}function qi(e){return e.lineSpace.offsetTop}function bo(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Ps(e){if(e.cachedPaddingH)return e.cachedPaddingH;var n=T(e.measure,k("pre","x","CodeMirror-line-like")),a=window.getComputedStyle?window.getComputedStyle(n):n.currentStyle,i={left:parseInt(a.paddingLeft),right:parseInt(a.paddingRight)};return!isNaN(i.left)&&!isNaN(i.right)&&(e.cachedPaddingH=i),i}function ln(e){return A-e.display.nativeBarWidth}function jn(e){return e.display.scroller.clientWidth-ln(e)-e.display.barWidth}function Eo(e){return e.display.scroller.clientHeight-ln(e)-e.display.barHeight}function qd(e,n,a){var i=e.options.lineWrapping,s=i&&jn(e);if(!n.measure.heights||i&&n.measure.width!=s){var h=n.measure.heights=[];if(i){n.measure.width=s;for(var g=n.text.firstChild.getClientRects(),m=0;m<g.length-1;m++){var y=g[m],E=g[m+1];Math.abs(y.bottom-E.bottom)>2&&h.push((y.bottom+E.top)/2-a.top)}}h.push(a.bottom-a.top)}}function qs(e,n,a){if(e.line==n)return{map:e.measure.map,cache:e.measure.cache};if(e.rest){for(var i=0;i<e.rest.length;i++)if(e.rest[i]==n)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(var s=0;s<e.rest.length;s++)if(Ke(e.rest[s])>a)return{map:e.measure.maps[s],cache:e.measure.caches[s],before:!0}}}function zd(e,n){n=Vt(n);var a=Ke(n),i=e.display.externalMeasured=new Is(e.doc,n,a);i.lineN=a;var s=i.built=_s(e,i);return i.text=s.pre,T(e.display.lineMeasure,s.pre),i}function zs(e,n,a,i){return sn(e,mr(e,n),a,i)}function ko(e,n){if(n>=e.display.viewFrom&&n<e.display.viewTo)return e.display.view[Kn(e,n)];var a=e.display.externalMeasured;if(a&&n>=a.lineN&&n<a.lineN+a.size)return a}function mr(e,n){var a=Ke(n),i=ko(e,a);i&&!i.text?i=null:i&&i.changes&&(Rs(e,i,a,So(e)),e.curOp.forceUpdate=!0),i||(i=zd(e,n));var s=qs(i,n,a);return{line:n,view:i,rect:null,map:s.map,cache:s.cache,before:s.before,hasHeights:!1}}function sn(e,n,a,i,s){n.before&&(a=-1);var h=a+(i||""),g;return n.cache.hasOwnProperty(h)?g=n.cache[h]:(n.rect||(n.rect=n.view.text.getBoundingClientRect()),n.hasHeights||(qd(e,n.view,n.rect),n.hasHeights=!0),g=Ud(e,n,a,i),g.bogus||(n.cache[h]=g)),{left:g.left,right:g.right,top:s?g.rtop:g.top,bottom:s?g.rbottom:g.bottom}}var Ws={left:0,right:0,top:0,bottom:0};function Us(e,n,a){for(var i,s,h,g,m,y,E=0;E<e.length;E+=3)if(m=e[E],y=e[E+1],n<m?(s=0,h=1,g="left"):n<y?(s=n-m,h=s+1):(E==e.length-3||n==y&&e[E+3]>n)&&(h=y-m,s=h-1,n>=y&&(g="right")),s!=null){if(i=e[E+2],m==y&&a==(i.insertLeft?"left":"right")&&(g=a),a=="left"&&s==0)for(;E&&e[E-2]==e[E-3]&&e[E-1].insertLeft;)i=e[(E-=3)+2],g="left";if(a=="right"&&s==y-m)for(;E<e.length-3&&e[E+3]==e[E+4]&&!e[E+5].insertLeft;)i=e[(E+=3)+2],g="right";break}return{node:i,start:s,end:h,collapse:g,coverStart:m,coverEnd:y}}function Wd(e,n){var a=Ws;if(n=="left")for(var i=0;i<e.length&&(a=e[i]).left==a.right;i++);else for(var s=e.length-1;s>=0&&(a=e[s]).left==a.right;s--);return a}function Ud(e,n,a,i){var s=Us(n.map,a,i),h=s.node,g=s.start,m=s.end,y=s.collapse,E;if(h.nodeType==3){for(var N=0;N<4;N++){for(;g&&St(n.line.text.charAt(s.coverStart+g));)--g;for(;s.coverStart+m<s.coverEnd&&St(n.line.text.charAt(s.coverStart+m));)++m;if(c&&d<9&&g==0&&m==s.coverEnd-s.coverStart?E=h.parentNode.getBoundingClientRect():E=Wd(U(h,g,m).getClientRects(),i),E.left||E.right||g==0)break;m=g,g=g-1,y="right"}c&&d<11&&(E=jd(e.display.measure,E))}else{g>0&&(y=i="right");var q;e.options.lineWrapping&&(q=h.getClientRects()).length>1?E=q[i=="right"?q.length-1:0]:E=h.getBoundingClientRect()}if(c&&d<9&&!g&&(!E||!E.left&&!E.right)){var Z=h.parentNode.getClientRects()[0];Z?E={left:Z.left,right:Z.left+yr(e.display),top:Z.top,bottom:Z.bottom}:E=Ws}for(var V=E.top-n.rect.top,ie=E.bottom-n.rect.top,fe=(V+ie)/2,ye=n.view.measure.heights,Ee=0;Ee<ye.length-1&&!(fe<ye[Ee]);Ee++);var De=Ee?ye[Ee-1]:0,ke=ye[Ee],Ae={left:(y=="right"?E.right:E.left)-n.rect.left,right:(y=="left"?E.left:E.right)-n.rect.left,top:De,bottom:ke};return!E.left&&!E.right&&(Ae.bogus=!0),e.options.singleCursorHeightPerLine||(Ae.rtop=V,Ae.rbottom=ie),Ae}function jd(e,n){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!ad(e))return n;var a=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:n.left*a,right:n.right*a,top:n.top*i,bottom:n.bottom*i}}function js(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var n=0;n<e.rest.length;n++)e.measure.caches[n]={}}function Gs(e){e.display.externalMeasure=null,x(e.display.lineMeasure);for(var n=0;n<e.display.view.length;n++)js(e.display.view[n])}function $r(e){Gs(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Xs(e){return F&&$?-(e.body.getBoundingClientRect().left-parseInt(getComputedStyle(e.body).marginLeft)):e.defaultView.pageXOffset||(e.documentElement||e.body).scrollLeft}function Ks(e){return F&&$?-(e.body.getBoundingClientRect().top-parseInt(getComputedStyle(e.body).marginTop)):e.defaultView.pageYOffset||(e.documentElement||e.body).scrollTop}function wo(e){var n=Vt(e),a=n.widgets,i=0;if(a)for(var s=0;s<a.length;++s)a[s].above&&(i+=Kr(a[s]));return i}function zi(e,n,a,i,s){if(!s){var h=wo(n);a.top+=h,a.bottom+=h}if(i=="line")return a;i||(i="local");var g=dn(n);if(i=="local"?g+=qi(e.display):g-=e.display.viewOffset,i=="page"||i=="window"){var m=e.display.lineSpace.getBoundingClientRect();g+=m.top+(i=="window"?0:Ks(b(e)));var y=m.left+(i=="window"?0:Xs(b(e)));a.left+=y,a.right+=y}return a.top+=g,a.bottom+=g,a}function $s(e,n,a){if(a=="div")return n;var i=n.left,s=n.top;if(a=="page")i-=Xs(b(e)),s-=Ks(b(e));else if(a=="local"||!a){var h=e.display.sizer.getBoundingClientRect();i+=h.left,s+=h.top}var g=e.display.lineSpace.getBoundingClientRect();return{left:i-g.left,top:s-g.top}}function Wi(e,n,a,i,s){return i||(i=Le(e.doc,n.line)),zi(e,i,zs(e,i,n.ch,s),a)}function Yt(e,n,a,i,s,h){i=i||Le(e.doc,n.line),s||(s=mr(e,i));function g(ie,fe){var ye=sn(e,s,ie,fe?"right":"left",h);return fe?ye.left=ye.right:ye.right=ye.left,zi(e,i,ye,a)}var m=Lt(i,e.doc.direction),y=n.ch,E=n.sticky;if(y>=i.text.length?(y=i.text.length,E="before"):y<=0&&(y=0,E="after"),!m)return g(E=="before"?y-1:y,E=="before");function N(ie,fe,ye){var Ee=m[fe],De=Ee.level==1;return g(ye?ie-1:ie,De!=ye)}var q=ot(m,y,E),Z=Ct,V=N(y,q,E=="before");return Z!=null&&(V.other=N(y,Z,E!="before")),V}function Vs(e,n){var a=0;n=qe(e.doc,n),e.options.lineWrapping||(a=yr(e.display)*n.ch);var i=Le(e.doc,n.line),s=dn(i)+qi(e.display);return{left:a,right:a,top:s,bottom:s+i.height}}function Co(e,n,a,i,s){var h=ve(e,n,a);return h.xRel=s,i&&(h.outside=i),h}function Do(e,n,a){var i=e.doc;if(a+=e.display.viewOffset,a<0)return Co(i.first,0,null,-1,-1);var s=Un(i,a),h=i.first+i.size-1;if(s>h)return Co(i.first+i.size-1,Le(i,h).text.length,null,1,1);n<0&&(n=0);for(var g=Le(i,s);;){var m=Gd(e,g,s,n,a),y=xd(g,m.ch+(m.xRel>0||m.outside>0?1:0));if(!y)return m;var E=y.find(1);if(E.line==s)return E;g=Le(i,s=E.line)}}function Ys(e,n,a,i){i-=wo(n);var s=n.text.length,h=Xe(function(g){return sn(e,a,g-1).bottom<=i},s,0);return s=Xe(function(g){return sn(e,a,g).top>i},h,s),{begin:h,end:s}}function Zs(e,n,a,i){a||(a=mr(e,n));var s=zi(e,n,sn(e,a,i),"line").top;return Ys(e,n,a,s)}function To(e,n,a,i){return e.bottom<=a?!1:e.top>a?!0:(i?e.left:e.right)>n}function Gd(e,n,a,i,s){s-=dn(n);var h=mr(e,n),g=wo(n),m=0,y=n.text.length,E=!0,N=Lt(n,e.doc.direction);if(N){var q=(e.options.lineWrapping?Kd:Xd)(e,n,a,h,N,i,s);E=q.level!=1,m=E?q.from:q.to-1,y=E?q.to:q.from-1}var Z=null,V=null,ie=Xe(function(Ie){var _e=sn(e,h,Ie);return _e.top+=g,_e.bottom+=g,To(_e,i,s,!1)?(_e.top<=s&&_e.left<=i&&(Z=Ie,V=_e),!0):!1},m,y),fe,ye,Ee=!1;if(V){var De=i-V.left<V.right-i,ke=De==E;ie=Z+(ke?0:1),ye=ke?"after":"before",fe=De?V.left:V.right}else{!E&&(ie==y||ie==m)&&ie++,ye=ie==0?"after":ie==n.text.length?"before":sn(e,h,ie-(E?1:0)).bottom+g<=s==E?"after":"before";var Ae=Yt(e,ve(a,ie,ye),"line",n,h);fe=Ae.left,Ee=s<Ae.top?-1:s>=Ae.bottom?1:0}return ie=Rt(n.text,ie,1),Co(a,ie,ye,Ee,i-fe)}function Xd(e,n,a,i,s,h,g){var m=Xe(function(q){var Z=s[q],V=Z.level!=1;return To(Yt(e,ve(a,V?Z.to:Z.from,V?"before":"after"),"line",n,i),h,g,!0)},0,s.length-1),y=s[m];if(m>0){var E=y.level!=1,N=Yt(e,ve(a,E?y.from:y.to,E?"after":"before"),"line",n,i);To(N,h,g,!0)&&N.top>g&&(y=s[m-1])}return y}function Kd(e,n,a,i,s,h,g){var m=Ys(e,n,i,g),y=m.begin,E=m.end;/\s/.test(n.text.charAt(E-1))&&E--;for(var N=null,q=null,Z=0;Z<s.length;Z++){var V=s[Z];if(!(V.from>=E||V.to<=y)){var ie=V.level!=1,fe=sn(e,i,ie?Math.min(E,V.to)-1:Math.max(y,V.from)).right,ye=fe<h?h-fe+1e9:fe-h;(!N||q>ye)&&(N=V,q=ye)}}return N||(N=s[s.length-1]),N.from<y&&(N={from:y,to:N.to,level:N.level}),N.to>E&&(N={from:N.from,to:E,level:N.level}),N}var Gn;function vr(e){if(e.cachedTextHeight!=null)return e.cachedTextHeight;if(Gn==null){Gn=k("pre",null,"CodeMirror-line-like");for(var n=0;n<49;++n)Gn.appendChild(document.createTextNode("x")),Gn.appendChild(k("br"));Gn.appendChild(document.createTextNode("x"))}T(e.measure,Gn);var a=Gn.offsetHeight/50;return a>3&&(e.cachedTextHeight=a),x(e.measure),a||1}function yr(e){if(e.cachedCharWidth!=null)return e.cachedCharWidth;var n=k("span","xxxxxxxxxx"),a=k("pre",[n],"CodeMirror-line-like");T(e.measure,a);var i=n.getBoundingClientRect(),s=(i.right-i.left)/10;return s>2&&(e.cachedCharWidth=s),s||10}function So(e){for(var n=e.display,a={},i={},s=n.gutters.clientLeft,h=n.gutters.firstChild,g=0;h;h=h.nextSibling,++g){var m=e.display.gutterSpecs[g].className;a[m]=h.offsetLeft+h.clientLeft+s,i[m]=h.clientWidth}return{fixedPos:Ao(n),gutterTotalWidth:n.gutters.offsetWidth,gutterLeft:a,gutterWidth:i,wrapperWidth:n.wrapper.clientWidth}}function Ao(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Qs(e){var n=vr(e.display),a=e.options.lineWrapping,i=a&&Math.max(5,e.display.scroller.clientWidth/yr(e.display)-3);return function(s){if(kn(e.doc,s))return 0;var h=0;if(s.widgets)for(var g=0;g<s.widgets.length;g++)s.widgets[g].height&&(h+=s.widgets[g].height);return a?h+(Math.ceil(s.text.length/i)||1)*n:h+n}}function Fo(e){var n=e.doc,a=Qs(e);n.iter(function(i){var s=a(i);s!=i.height&&an(i,s)})}function Xn(e,n,a,i){var s=e.display;if(!a&&cn(n).getAttribute("cm-not-content")=="true")return null;var h,g,m=s.lineSpace.getBoundingClientRect();try{h=n.clientX-m.left,g=n.clientY-m.top}catch{return null}var y=Do(e,h,g),E;if(i&&y.xRel>0&&(E=Le(e.doc,y.line).text).length==y.ch){var N=be(E,E.length,e.options.tabSize)-E.length;y=ve(y.line,Math.max(0,Math.round((h-Ps(e.display).left)/yr(e.display))-N))}return y}function Kn(e,n){if(n>=e.display.viewTo||(n-=e.display.viewFrom,n<0))return null;for(var a=e.display.view,i=0;i<a.length;i++)if(n-=a[i].size,n<0)return i}function Mt(e,n,a,i){n==null&&(n=e.doc.first),a==null&&(a=e.doc.first+e.doc.size),i||(i=0);var s=e.display;if(i&&a<s.viewTo&&(s.updateLineNumbers==null||s.updateLineNumbers>n)&&(s.updateLineNumbers=n),e.curOp.viewChanged=!0,n>=s.viewTo)hn&&mo(e.doc,n)<s.viewTo&&Cn(e);else if(a<=s.viewFrom)hn&&Fs(e.doc,a+i)>s.viewFrom?Cn(e):(s.viewFrom+=i,s.viewTo+=i);else if(n<=s.viewFrom&&a>=s.viewTo)Cn(e);else if(n<=s.viewFrom){var h=Ui(e,a,a+i,1);h?(s.view=s.view.slice(h.index),s.viewFrom=h.lineN,s.viewTo+=i):Cn(e)}else if(a>=s.viewTo){var g=Ui(e,n,n,-1);g?(s.view=s.view.slice(0,g.index),s.viewTo=g.lineN):Cn(e)}else{var m=Ui(e,n,n,-1),y=Ui(e,a,a+i,1);m&&y?(s.view=s.view.slice(0,m.index).concat(Pi(e,m.lineN,y.lineN)).concat(s.view.slice(y.index)),s.viewTo+=i):Cn(e)}var E=s.externalMeasured;E&&(a<E.lineN?E.lineN+=i:n<E.lineN+E.size&&(s.externalMeasured=null))}function wn(e,n,a){e.curOp.viewChanged=!0;var i=e.display,s=e.display.externalMeasured;if(s&&n>=s.lineN&&n<s.lineN+s.size&&(i.externalMeasured=null),!(n<i.viewFrom||n>=i.viewTo)){var h=i.view[Kn(e,n)];if(h.node!=null){var g=h.changes||(h.changes=[]);D(g,a)==-1&&g.push(a)}}}function Cn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Ui(e,n,a,i){var s=Kn(e,n),h,g=e.display.view;if(!hn||a==e.doc.first+e.doc.size)return{index:s,lineN:a};for(var m=e.display.viewFrom,y=0;y<s;y++)m+=g[y].size;if(m!=n){if(i>0){if(s==g.length-1)return null;h=m+g[s].size-n,s++}else h=m-n;n+=h,a+=h}for(;mo(e.doc,a)!=a;){if(s==(i<0?0:g.length-1))return null;a+=i*g[s-(i<0?1:0)].size,s+=i}return{index:s,lineN:a}}function $d(e,n,a){var i=e.display,s=i.view;s.length==0||n>=i.viewTo||a<=i.viewFrom?(i.view=Pi(e,n,a),i.viewFrom=n):(i.viewFrom>n?i.view=Pi(e,n,i.viewFrom).concat(i.view):i.viewFrom<n&&(i.view=i.view.slice(Kn(e,n))),i.viewFrom=n,i.viewTo<a?i.view=i.view.concat(Pi(e,i.viewTo,a)):i.viewTo>a&&(i.view=i.view.slice(0,Kn(e,a)))),i.viewTo=a}function Js(e){for(var n=e.display.view,a=0,i=0;i<n.length;i++){var s=n[i];!s.hidden&&(!s.node||s.changes)&&++a}return a}function Vr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function eu(e,n){n===void 0&&(n=!0);var a=e.doc,i={},s=i.cursors=document.createDocumentFragment(),h=i.selection=document.createDocumentFragment(),g=e.options.$customCursor;g&&(n=!0);for(var m=0;m<a.sel.ranges.length;m++)if(!(!n&&m==a.sel.primIndex)){var y=a.sel.ranges[m];if(!(y.from().line>=e.display.viewTo||y.to().line<e.display.viewFrom)){var E=y.empty();if(g){var N=g(e,y);N&&Lo(e,N,s)}else(E||e.options.showCursorWhenSelecting)&&Lo(e,y.head,s);E||Vd(e,y,h)}}return i}function Lo(e,n,a){var i=Yt(e,n,"div",null,null,!e.options.singleCursorHeightPerLine),s=a.appendChild(k("div","\xA0","CodeMirror-cursor"));if(s.style.left=i.left+"px",s.style.top=i.top+"px",s.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var h=Wi(e,n,"div",null,null),g=h.right-h.left;s.style.width=(g>0?g:e.defaultCharWidth())+"px"}if(i.other){var m=a.appendChild(k("div","\xA0","CodeMirror-cursor CodeMirror-secondarycursor"));m.style.display="",m.style.left=i.other.left+"px",m.style.top=i.other.top+"px",m.style.height=(i.other.bottom-i.other.top)*.85+"px"}}function ji(e,n){return e.top-n.top||e.left-n.left}function Vd(e,n,a){var i=e.display,s=e.doc,h=document.createDocumentFragment(),g=Ps(e.display),m=g.left,y=Math.max(i.sizerWidth,jn(e)-i.sizer.offsetLeft)-g.right,E=s.direction=="ltr";function N(ke,Ae,Ie,_e){Ae<0&&(Ae=0),Ae=Math.round(Ae),_e=Math.round(_e),h.appendChild(k("div",null,"CodeMirror-selected","position: absolute; left: "+ke+`px;
                             top: `+Ae+"px; width: "+(Ie??y-ke)+`px;
                             height: `+(_e-Ae)+"px"))}function q(ke,Ae,Ie){var _e=Le(s,ke),ze=_e.text.length,Ve,xt;function it(ct,Pt){return Wi(e,ve(ke,ct),"div",_e,Pt)}function jt(ct,Pt,Tt){var pt=Zs(e,_e,null,ct),ht=Pt=="ltr"==(Tt=="after")?"left":"right",at=Tt=="after"?pt.begin:pt.end-(/\s/.test(_e.text.charAt(pt.end-1))?2:1);return it(at,ht)[ht]}var Bt=Lt(_e,s.direction);return wt(Bt,Ae||0,Ie??ze,function(ct,Pt,Tt,pt){var ht=Tt=="ltr",at=it(ct,ht?"left":"right"),qt=it(Pt-1,ht?"right":"left"),_r=Ae==null&&ct==0,Ln=Ie==null&&Pt==ze,Ft=pt==0,un=!Bt||pt==Bt.length-1;if(qt.top-at.top<=3){var bt=(E?_r:Ln)&&Ft,rl=(E?Ln:_r)&&un,vn=bt?m:(ht?at:qt).left,Qn=rl?y:(ht?qt:at).right;N(vn,at.top,Qn-vn,at.bottom)}else{var Jn,Ot,Or,il;ht?(Jn=E&&_r&&Ft?m:at.left,Ot=E?y:jt(ct,Tt,"before"),Or=E?m:jt(Pt,Tt,"after"),il=E&&Ln&&un?y:qt.right):(Jn=E?jt(ct,Tt,"before"):m,Ot=!E&&_r&&Ft?y:at.right,Or=!E&&Ln&&un?m:qt.left,il=E?jt(Pt,Tt,"after"):y),N(Jn,at.top,Ot-Jn,at.bottom),at.bottom<qt.top&&N(m,at.bottom,null,qt.top),N(Or,qt.top,il-Or,qt.bottom)}(!Ve||ji(at,Ve)<0)&&(Ve=at),ji(qt,Ve)<0&&(Ve=qt),(!xt||ji(at,xt)<0)&&(xt=at),ji(qt,xt)<0&&(xt=qt)}),{start:Ve,end:xt}}var Z=n.from(),V=n.to();if(Z.line==V.line)q(Z.line,Z.ch,V.ch);else{var ie=Le(s,Z.line),fe=Le(s,V.line),ye=Vt(ie)==Vt(fe),Ee=q(Z.line,Z.ch,ye?ie.text.length+1:null).end,De=q(V.line,ye?0:null,V.ch).start;ye&&(Ee.top<De.top-2?(N(Ee.right,Ee.top,null,Ee.bottom),N(m,De.top,De.left,De.bottom)):N(Ee.right,Ee.top,De.left-Ee.right,Ee.bottom)),Ee.bottom<De.top&&N(m,Ee.bottom,null,De.top)}a.appendChild(h)}function _o(e){if(e.state.focused){var n=e.display;clearInterval(n.blinker);var a=!0;n.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?n.blinker=setInterval(function(){e.hasFocus()||xr(e),n.cursorDiv.style.visibility=(a=!a)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(n.cursorDiv.style.visibility="hidden")}}function tu(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Io(e))}function Oo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&xr(e))},100)}function Io(e,n){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),e.options.readOnly!="nocursor"&&(e.state.focused||(rt(e,"focus",e,n),e.state.focused=!0,R(e.display.wrapper,"CodeMirror-focused"),!e.curOp&&e.display.selForContextMenu!=e.doc.sel&&(e.display.input.reset(),v&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),_o(e))}function xr(e,n){e.state.delayingBlurEvent||(e.state.focused&&(rt(e,"blur",e,n),e.state.focused=!1,X(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Gi(e){for(var n=e.display,a=n.lineDiv.offsetTop,i=Math.max(0,n.scroller.getBoundingClientRect().top),s=n.lineDiv.getBoundingClientRect().top,h=0,g=0;g<n.view.length;g++){var m=n.view[g],y=e.options.lineWrapping,E=void 0,N=0;if(!m.hidden){if(s+=m.line.height,c&&d<8){var q=m.node.offsetTop+m.node.offsetHeight;E=q-a,a=q}else{var Z=m.node.getBoundingClientRect();E=Z.bottom-Z.top,!y&&m.text.firstChild&&(N=m.text.firstChild.getBoundingClientRect().right-Z.left-1)}var V=m.line.height-E;if((V>.005||V<-.005)&&(s<i&&(h-=V),an(m.line,E),nu(m.line),m.rest))for(var ie=0;ie<m.rest.length;ie++)nu(m.rest[ie]);if(N>e.display.sizerWidth){var fe=Math.ceil(N/yr(e.display));fe>e.display.maxLineLength&&(e.display.maxLineLength=fe,e.display.maxLine=m.line,e.display.maxLineChanged=!0)}}}Math.abs(h)>2&&(n.scroller.scrollTop+=h)}function nu(e){if(e.widgets)for(var n=0;n<e.widgets.length;++n){var a=e.widgets[n],i=a.node.parentNode;i&&(a.height=i.offsetHeight)}}function Xi(e,n,a){var i=a&&a.top!=null?Math.max(0,a.top):e.scroller.scrollTop;i=Math.floor(i-qi(e));var s=a&&a.bottom!=null?a.bottom:i+e.wrapper.clientHeight,h=Un(n,i),g=Un(n,s);if(a&&a.ensure){var m=a.ensure.from.line,y=a.ensure.to.line;m<h?(h=m,g=Un(n,dn(Le(n,m))+e.wrapper.clientHeight)):Math.min(y,n.lastLine())>=g&&(h=Un(n,dn(Le(n,y))-e.wrapper.clientHeight),g=y)}return{from:h,to:Math.max(g,h+1)}}function Yd(e,n){if(!je(e,"scrollCursorIntoView")){var a=e.display,i=a.sizer.getBoundingClientRect(),s=null,h=a.wrapper.ownerDocument;if(n.top+i.top<0?s=!0:n.bottom+i.top>(h.defaultView.innerHeight||h.documentElement.clientHeight)&&(s=!1),s!=null&&!Y){var g=k("div","\u200B",null,`position: absolute;
                         top: `+(n.top-a.viewOffset-qi(e.display))+`px;
                         height: `+(n.bottom-n.top+ln(e)+a.barHeight)+`px;
                         left: `+n.left+"px; width: "+Math.max(2,n.right-n.left)+"px;");e.display.lineSpace.appendChild(g),g.scrollIntoView(s),e.display.lineSpace.removeChild(g)}}}function Zd(e,n,a,i){i==null&&(i=0);var s;!e.options.lineWrapping&&n==a&&(a=n.sticky=="before"?ve(n.line,n.ch+1,"before"):n,n=n.ch?ve(n.line,n.sticky=="before"?n.ch-1:n.ch,"after"):n);for(var h=0;h<5;h++){var g=!1,m=Yt(e,n),y=!a||a==n?m:Yt(e,a);s={left:Math.min(m.left,y.left),top:Math.min(m.top,y.top)-i,right:Math.max(m.left,y.left),bottom:Math.max(m.bottom,y.bottom)+i};var E=Ro(e,s),N=e.doc.scrollTop,q=e.doc.scrollLeft;if(E.scrollTop!=null&&(Zr(e,E.scrollTop),Math.abs(e.doc.scrollTop-N)>1&&(g=!0)),E.scrollLeft!=null&&($n(e,E.scrollLeft),Math.abs(e.doc.scrollLeft-q)>1&&(g=!0)),!g)break}return s}function Qd(e,n){var a=Ro(e,n);a.scrollTop!=null&&Zr(e,a.scrollTop),a.scrollLeft!=null&&$n(e,a.scrollLeft)}function Ro(e,n){var a=e.display,i=vr(e.display);n.top<0&&(n.top=0);var s=e.curOp&&e.curOp.scrollTop!=null?e.curOp.scrollTop:a.scroller.scrollTop,h=Eo(e),g={};n.bottom-n.top>h&&(n.bottom=n.top+h);var m=e.doc.height+bo(a),y=n.top<i,E=n.bottom>m-i;if(n.top<s)g.scrollTop=y?0:n.top;else if(n.bottom>s+h){var N=Math.min(n.top,(E?m:n.bottom)-h);N!=s&&(g.scrollTop=N)}var q=e.options.fixedGutter?0:a.gutters.offsetWidth,Z=e.curOp&&e.curOp.scrollLeft!=null?e.curOp.scrollLeft:a.scroller.scrollLeft-q,V=jn(e)-a.gutters.offsetWidth,ie=n.right-n.left>V;return ie&&(n.right=n.left+V),n.left<10?g.scrollLeft=0:n.left<Z?g.scrollLeft=Math.max(0,n.left+q-(ie?0:10)):n.right>V+Z-3&&(g.scrollLeft=n.right+(ie?0:10)-V),g}function No(e,n){n!=null&&(Ki(e),e.curOp.scrollTop=(e.curOp.scrollTop==null?e.doc.scrollTop:e.curOp.scrollTop)+n)}function br(e){Ki(e);var n=e.getCursor();e.curOp.scrollToPos={from:n,to:n,margin:e.options.cursorScrollMargin}}function Yr(e,n,a){(n!=null||a!=null)&&Ki(e),n!=null&&(e.curOp.scrollLeft=n),a!=null&&(e.curOp.scrollTop=a)}function Jd(e,n){Ki(e),e.curOp.scrollToPos=n}function Ki(e){var n=e.curOp.scrollToPos;if(n){e.curOp.scrollToPos=null;var a=Vs(e,n.from),i=Vs(e,n.to);ru(e,a,i,n.margin)}}function ru(e,n,a,i){var s=Ro(e,{left:Math.min(n.left,a.left),top:Math.min(n.top,a.top)-i,right:Math.max(n.right,a.right),bottom:Math.max(n.bottom,a.bottom)+i});Yr(e,s.scrollLeft,s.scrollTop)}function Zr(e,n){Math.abs(e.doc.scrollTop-n)<2||(o||Ho(e,{top:n}),iu(e,n,!0),o&&Ho(e),ei(e,100))}function iu(e,n,a){n=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,n)),!(e.display.scroller.scrollTop==n&&!a)&&(e.doc.scrollTop=n,e.display.scrollbars.setScrollTop(n),e.display.scroller.scrollTop!=n&&(e.display.scroller.scrollTop=n))}function $n(e,n,a,i){n=Math.max(0,Math.min(n,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),!((a?n==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-n)<2)&&!i)&&(e.doc.scrollLeft=n,uu(e),e.display.scroller.scrollLeft!=n&&(e.display.scroller.scrollLeft=n),e.display.scrollbars.setScrollLeft(n))}function Qr(e){var n=e.display,a=n.gutters.offsetWidth,i=Math.round(e.doc.height+bo(e.display));return{clientHeight:n.scroller.clientHeight,viewHeight:n.wrapper.clientHeight,scrollWidth:n.scroller.scrollWidth,clientWidth:n.scroller.clientWidth,viewWidth:n.wrapper.clientWidth,barLeft:e.options.fixedGutter?a:0,docHeight:i,scrollHeight:i+ln(e)+n.barHeight,nativeBarWidth:n.nativeBarWidth,gutterWidth:a}}var Vn=function(e,n,a){this.cm=a;var i=this.vert=k("div",[k("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),s=this.horiz=k("div",[k("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=s.tabIndex=-1,e(i),e(s),Oe(i,"scroll",function(){i.clientHeight&&n(i.scrollTop,"vertical")}),Oe(s,"scroll",function(){s.clientWidth&&n(s.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&d<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Vn.prototype.update=function(e){var n=e.scrollWidth>e.clientWidth+1,a=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(a){this.vert.style.display="block",this.vert.style.bottom=n?i+"px":"0";var s=e.viewHeight-(n?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+s)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(n){this.horiz.style.display="block",this.horiz.style.right=a?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var h=e.viewWidth-e.barLeft-(a?i:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+h)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(i==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:a?i:0,bottom:n?i:0}},Vn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Vn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Vn.prototype.zeroWidthHack=function(){var e=Q&&!ee?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new Ce,this.disableVert=new Ce},Vn.prototype.enableZeroWidthBar=function(e,n,a){e.style.visibility="";function i(){var s=e.getBoundingClientRect(),h=a=="vert"?document.elementFromPoint(s.right-1,(s.top+s.bottom)/2):document.elementFromPoint((s.right+s.left)/2,s.bottom-1);h!=e?e.style.visibility="hidden":n.set(1e3,i)}n.set(1e3,i)},Vn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Jr=function(){};Jr.prototype.update=function(){return{bottom:0,right:0}},Jr.prototype.setScrollLeft=function(){},Jr.prototype.setScrollTop=function(){},Jr.prototype.clear=function(){};function Er(e,n){n||(n=Qr(e));var a=e.display.barWidth,i=e.display.barHeight;au(e,n);for(var s=0;s<4&&a!=e.display.barWidth||i!=e.display.barHeight;s++)a!=e.display.barWidth&&e.options.lineWrapping&&Gi(e),au(e,Qr(e)),a=e.display.barWidth,i=e.display.barHeight}function au(e,n){var a=e.display,i=a.scrollbars.update(n);a.sizer.style.paddingRight=(a.barWidth=i.right)+"px",a.sizer.style.paddingBottom=(a.barHeight=i.bottom)+"px",a.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(a.scrollbarFiller.style.display="block",a.scrollbarFiller.style.height=i.bottom+"px",a.scrollbarFiller.style.width=i.right+"px"):a.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(a.gutterFiller.style.display="block",a.gutterFiller.style.height=i.bottom+"px",a.gutterFiller.style.width=n.gutterWidth+"px"):a.gutterFiller.style.display=""}var ou={native:Vn,null:Jr};function lu(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&X(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new ou[e.options.scrollbarStyle](function(n){e.display.wrapper.insertBefore(n,e.display.scrollbarFiller),Oe(n,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),n.setAttribute("cm-not-content","true")},function(n,a){a=="horizontal"?$n(e,n):Zr(e,n)},e),e.display.scrollbars.addClass&&R(e.display.wrapper,e.display.scrollbars.addClass)}var ep=0;function Yn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++ep,markArrays:null},_d(e.curOp)}function Zn(e){var n=e.curOp;n&&Id(n,function(a){for(var i=0;i<a.ops.length;i++)a.ops[i].cm.curOp=null;tp(a)})}function tp(e){for(var n=e.ops,a=0;a<n.length;a++)np(n[a]);for(var i=0;i<n.length;i++)rp(n[i]);for(var s=0;s<n.length;s++)ip(n[s]);for(var h=0;h<n.length;h++)ap(n[h]);for(var g=0;g<n.length;g++)op(n[g])}function np(e){var n=e.cm,a=n.display;sp(n),e.updateMaxLine&&yo(n),e.mustUpdate=e.viewChanged||e.forceUpdate||e.scrollTop!=null||e.scrollToPos&&(e.scrollToPos.from.line<a.viewFrom||e.scrollToPos.to.line>=a.viewTo)||a.maxLineChanged&&n.options.lineWrapping,e.update=e.mustUpdate&&new $i(n,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function rp(e){e.updatedDisplay=e.mustUpdate&&Mo(e.cm,e.update)}function ip(e){var n=e.cm,a=n.display;e.updatedDisplay&&Gi(n),e.barMeasure=Qr(n),a.maxLineChanged&&!n.options.lineWrapping&&(e.adjustWidthTo=zs(n,a.maxLine,a.maxLine.text.length).left+3,n.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(a.scroller.clientWidth,a.sizer.offsetLeft+e.adjustWidthTo+ln(n)+n.display.barWidth),e.maxScrollLeft=Math.max(0,a.sizer.offsetLeft+e.adjustWidthTo-jn(n))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=a.input.prepareSelection())}function ap(e){var n=e.cm;e.adjustWidthTo!=null&&(n.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<n.doc.scrollLeft&&$n(n,Math.min(n.display.scroller.scrollLeft,e.maxScrollLeft),!0),n.display.maxLineChanged=!1);var a=e.focus&&e.focus==j(J(n));e.preparedSelection&&n.display.input.showSelection(e.preparedSelection,a),(e.updatedDisplay||e.startHeight!=n.doc.height)&&Er(n,e.barMeasure),e.updatedDisplay&&Po(n,e.barMeasure),e.selectionChanged&&_o(n),n.state.focused&&e.updateInput&&n.display.input.reset(e.typing),a&&tu(e.cm)}function op(e){var n=e.cm,a=n.display,i=n.doc;if(e.updatedDisplay&&su(n,e.update),a.wheelStartX!=null&&(e.scrollTop!=null||e.scrollLeft!=null||e.scrollToPos)&&(a.wheelStartX=a.wheelStartY=null),e.scrollTop!=null&&iu(n,e.scrollTop,e.forceScroll),e.scrollLeft!=null&&$n(n,e.scrollLeft,!0,!0),e.scrollToPos){var s=Zd(n,qe(i,e.scrollToPos.from),qe(i,e.scrollToPos.to),e.scrollToPos.margin);Yd(n,s)}var h=e.maybeHiddenMarkers,g=e.maybeUnhiddenMarkers;if(h)for(var m=0;m<h.length;++m)h[m].lines.length||rt(h[m],"hide");if(g)for(var y=0;y<g.length;++y)g[y].lines.length&&rt(g[y],"unhide");a.wrapper.offsetHeight&&(i.scrollTop=n.display.scroller.scrollTop),e.changeObjs&&rt(n,"changes",n,e.changeObjs),e.update&&e.update.finish()}function Ut(e,n){if(e.curOp)return n();Yn(e);try{return n()}finally{Zn(e)}}function vt(e,n){return function(){if(e.curOp)return n.apply(e,arguments);Yn(e);try{return n.apply(e,arguments)}finally{Zn(e)}}}function _t(e){return function(){if(this.curOp)return e.apply(this,arguments);Yn(this);try{return e.apply(this,arguments)}finally{Zn(this)}}}function yt(e){return function(){var n=this.cm;if(!n||n.curOp)return e.apply(this,arguments);Yn(n);try{return e.apply(this,arguments)}finally{Zn(n)}}}function ei(e,n){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(n,xe(lp,e))}function lp(e){var n=e.doc;if(!(n.highlightFrontier>=e.display.viewTo)){var a=+new Date+e.options.workTime,i=Ur(e,n.highlightFrontier),s=[];n.iter(i.line,Math.min(n.first+n.size,e.display.viewTo+500),function(h){if(i.line>=e.display.viewFrom){var g=h.styles,m=h.text.length>e.options.maxHighlightLength?zn(n.mode,i.state):null,y=gs(e,h,i,!0);m&&(i.state=m),h.styles=y.styles;var E=h.styleClasses,N=y.classes;N?h.styleClasses=N:E&&(h.styleClasses=null);for(var q=!g||g.length!=h.styles.length||E!=N&&(!E||!N||E.bgClass!=N.bgClass||E.textClass!=N.textClass),Z=0;!q&&Z<g.length;++Z)q=g[Z]!=h.styles[Z];q&&s.push(i.line),h.stateAfter=i.save(),i.nextLine()}else h.text.length<=e.options.maxHighlightLength&&co(e,h.text,i),h.stateAfter=i.line%5==0?i.save():null,i.nextLine();if(+new Date>a)return ei(e,e.options.workDelay),!0}),n.highlightFrontier=i.line,n.modeFrontier=Math.max(n.modeFrontier,i.line),s.length&&Ut(e,function(){for(var h=0;h<s.length;h++)wn(e,s[h],"text")})}}var $i=function(e,n,a){var i=e.display;this.viewport=n,this.visible=Xi(i,e.doc,n),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=jn(e),this.force=a,this.dims=So(e),this.events=[]};$i.prototype.signal=function(e,n){ut(e,n)&&this.events.push(arguments)},$i.prototype.finish=function(){for(var e=0;e<this.events.length;e++)rt.apply(null,this.events[e])};function sp(e){var n=e.display;!n.scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=ln(e)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=ln(e)+"px",n.scrollbarsClipped=!0)}function up(e){if(e.hasFocus())return null;var n=j(J(e));if(!n||!M(e.display.lineDiv,n))return null;var a={activeElt:n};if(window.getSelection){var i=oe(e).getSelection();i.anchorNode&&i.extend&&M(e.display.lineDiv,i.anchorNode)&&(a.anchorNode=i.anchorNode,a.anchorOffset=i.anchorOffset,a.focusNode=i.focusNode,a.focusOffset=i.focusOffset)}return a}function fp(e){if(!(!e||!e.activeElt||e.activeElt==j(le(e.activeElt)))&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&M(document.body,e.anchorNode)&&M(document.body,e.focusNode))){var n=e.activeElt.ownerDocument,a=n.defaultView.getSelection(),i=n.createRange();i.setEnd(e.anchorNode,e.anchorOffset),i.collapse(!1),a.removeAllRanges(),a.addRange(i),a.extend(e.focusNode,e.focusOffset)}}function Mo(e,n){var a=e.display,i=e.doc;if(n.editorIsHidden)return Cn(e),!1;if(!n.force&&n.visible.from>=a.viewFrom&&n.visible.to<=a.viewTo&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo)&&a.renderedView==a.view&&Js(e)==0)return!1;fu(e)&&(Cn(e),n.dims=So(e));var s=i.first+i.size,h=Math.max(n.visible.from-e.options.viewportMargin,i.first),g=Math.min(s,n.visible.to+e.options.viewportMargin);a.viewFrom<h&&h-a.viewFrom<20&&(h=Math.max(i.first,a.viewFrom)),a.viewTo>g&&a.viewTo-g<20&&(g=Math.min(s,a.viewTo)),hn&&(h=mo(e.doc,h),g=Fs(e.doc,g));var m=h!=a.viewFrom||g!=a.viewTo||a.lastWrapHeight!=n.wrapperHeight||a.lastWrapWidth!=n.wrapperWidth;$d(e,h,g),a.viewOffset=dn(Le(e.doc,a.viewFrom)),e.display.mover.style.top=a.viewOffset+"px";var y=Js(e);if(!m&&y==0&&!n.force&&a.renderedView==a.view&&(a.updateLineNumbers==null||a.updateLineNumbers>=a.viewTo))return!1;var E=up(e);return y>4&&(a.lineDiv.style.display="none"),cp(e,a.updateLineNumbers,n.dims),y>4&&(a.lineDiv.style.display=""),a.renderedView=a.view,fp(E),x(a.cursorDiv),x(a.selectionDiv),a.gutters.style.height=a.sizer.style.minHeight=0,m&&(a.lastWrapHeight=n.wrapperHeight,a.lastWrapWidth=n.wrapperWidth,ei(e,400)),a.updateLineNumbers=null,!0}function su(e,n){for(var a=n.viewport,i=!0;;i=!1){if(!i||!e.options.lineWrapping||n.oldDisplayWidth==jn(e)){if(a&&a.top!=null&&(a={top:Math.min(e.doc.height+bo(e.display)-Eo(e),a.top)}),n.visible=Xi(e.display,e.doc,a),n.visible.from>=e.display.viewFrom&&n.visible.to<=e.display.viewTo)break}else i&&(n.visible=Xi(e.display,e.doc,a));if(!Mo(e,n))break;Gi(e);var s=Qr(e);Vr(e),Er(e,s),Po(e,s),n.force=!1}n.signal(e,"update",e),(e.display.viewFrom!=e.display.reportedViewFrom||e.display.viewTo!=e.display.reportedViewTo)&&(n.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Ho(e,n){var a=new $i(e,n);if(Mo(e,a)){Gi(e),su(e,a);var i=Qr(e);Vr(e),Er(e,i),Po(e,i),a.finish()}}function cp(e,n,a){var i=e.display,s=e.options.lineNumbers,h=i.lineDiv,g=h.firstChild;function m(ie){var fe=ie.nextSibling;return v&&Q&&e.display.currentWheelTarget==ie?ie.style.display="none":ie.parentNode.removeChild(ie),fe}for(var y=i.view,E=i.viewFrom,N=0;N<y.length;N++){var q=y[N];if(!q.hidden)if(!q.node||q.node.parentNode!=h){var Z=Bd(e,q,E,a);h.insertBefore(Z,g)}else{for(;g!=q.node;)g=m(g);var V=s&&n!=null&&n<=E&&q.lineNumber;q.changes&&(D(q.changes,"gutter")>-1&&(V=!1),Rs(e,q,E,a)),V&&(x(q.lineNumber),q.lineNumber.appendChild(document.createTextNode(so(e.options,E)))),g=q.node.nextSibling}E+=q.size}for(;g;)g=m(g)}function Bo(e){var n=e.gutters.offsetWidth;e.sizer.style.marginLeft=n+"px",mt(e,"gutterChanged",e)}function Po(e,n){e.display.sizer.style.minHeight=n.docHeight+"px",e.display.heightForcer.style.top=n.docHeight+"px",e.display.gutters.style.height=n.docHeight+e.display.barHeight+ln(e)+"px"}function uu(e){var n=e.display,a=n.view;if(!(!n.alignWidgets&&(!n.gutters.firstChild||!e.options.fixedGutter))){for(var i=Ao(n)-n.scroller.scrollLeft+e.doc.scrollLeft,s=n.gutters.offsetWidth,h=i+"px",g=0;g<a.length;g++)if(!a[g].hidden){e.options.fixedGutter&&(a[g].gutter&&(a[g].gutter.style.left=h),a[g].gutterBackground&&(a[g].gutterBackground.style.left=h));var m=a[g].alignable;if(m)for(var y=0;y<m.length;y++)m[y].style.left=h}e.options.fixedGutter&&(n.gutters.style.left=i+s+"px")}}function fu(e){if(!e.options.lineNumbers)return!1;var n=e.doc,a=so(e.options,n.first+n.size-1),i=e.display;if(a.length!=i.lineNumChars){var s=i.measure.appendChild(k("div",[k("div",a)],"CodeMirror-linenumber CodeMirror-gutter-elt")),h=s.firstChild.offsetWidth,g=s.offsetWidth-h;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(h,i.lineGutter.offsetWidth-g)+1,i.lineNumWidth=i.lineNumInnerWidth+g,i.lineNumChars=i.lineNumInnerWidth?a.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Bo(e.display),!0}return!1}function qo(e,n){for(var a=[],i=!1,s=0;s<e.length;s++){var h=e[s],g=null;if(typeof h!="string"&&(g=h.style,h=h.className),h=="CodeMirror-linenumbers")if(n)i=!0;else continue;a.push({className:h,style:g})}return n&&!i&&a.push({className:"CodeMirror-linenumbers",style:null}),a}function cu(e){var n=e.gutters,a=e.gutterSpecs;x(n),e.lineGutter=null;for(var i=0;i<a.length;++i){var s=a[i],h=s.className,g=s.style,m=n.appendChild(k("div",null,"CodeMirror-gutter "+h));g&&(m.style.cssText=g),h=="CodeMirror-linenumbers"&&(e.lineGutter=m,m.style.width=(e.lineNumWidth||1)+"px")}n.style.display=a.length?"":"none",Bo(e)}function ti(e){cu(e.display),Mt(e),uu(e)}function hp(e,n,a,i){var s=this;this.input=a,s.scrollbarFiller=k("div",null,"CodeMirror-scrollbar-filler"),s.scrollbarFiller.setAttribute("cm-not-content","true"),s.gutterFiller=k("div",null,"CodeMirror-gutter-filler"),s.gutterFiller.setAttribute("cm-not-content","true"),s.lineDiv=_("div",null,"CodeMirror-code"),s.selectionDiv=k("div",null,null,"position: relative; z-index: 1"),s.cursorDiv=k("div",null,"CodeMirror-cursors"),s.measure=k("div",null,"CodeMirror-measure"),s.lineMeasure=k("div",null,"CodeMirror-measure"),s.lineSpace=_("div",[s.measure,s.lineMeasure,s.selectionDiv,s.cursorDiv,s.lineDiv],null,"position: relative; outline: none");var h=_("div",[s.lineSpace],"CodeMirror-lines");s.mover=k("div",[h],null,"position: relative"),s.sizer=k("div",[s.mover],"CodeMirror-sizer"),s.sizerWidth=null,s.heightForcer=k("div",null,null,"position: absolute; height: "+A+"px; width: 1px;"),s.gutters=k("div",null,"CodeMirror-gutters"),s.lineGutter=null,s.scroller=k("div",[s.sizer,s.heightForcer,s.gutters],"CodeMirror-scroll"),s.scroller.setAttribute("tabIndex","-1"),s.wrapper=k("div",[s.scrollbarFiller,s.gutterFiller,s.scroller],"CodeMirror"),F&&P>=105&&(s.wrapper.style.clipPath="inset(0px)"),s.wrapper.setAttribute("translate","no"),c&&d<8&&(s.gutters.style.zIndex=-1,s.scroller.style.paddingRight=0),!v&&!(o&&ne)&&(s.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(s.wrapper):e(s.wrapper)),s.viewFrom=s.viewTo=n.first,s.reportedViewFrom=s.reportedViewTo=n.first,s.view=[],s.renderedView=null,s.externalMeasured=null,s.viewOffset=0,s.lastWrapHeight=s.lastWrapWidth=0,s.updateLineNumbers=null,s.nativeBarWidth=s.barHeight=s.barWidth=0,s.scrollbarsClipped=!1,s.lineNumWidth=s.lineNumInnerWidth=s.lineNumChars=null,s.alignWidgets=!1,s.cachedCharWidth=s.cachedTextHeight=s.cachedPaddingH=null,s.maxLine=null,s.maxLineLength=0,s.maxLineChanged=!1,s.wheelDX=s.wheelDY=s.wheelStartX=s.wheelStartY=null,s.shift=!1,s.selForContextMenu=null,s.activeTouch=null,s.gutterSpecs=qo(i.gutters,i.lineNumbers),cu(s),a.init(s)}var Vi=0,gn=null;c?gn=-.53:o?gn=15:F?gn=-.7:K&&(gn=-1/3);function hu(e){var n=e.wheelDeltaX,a=e.wheelDeltaY;return n==null&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(n=e.detail),a==null&&e.detail&&e.axis==e.VERTICAL_AXIS?a=e.detail:a==null&&(a=e.wheelDelta),{x:n,y:a}}function dp(e){var n=hu(e);return n.x*=gn,n.y*=gn,n}function du(e,n){F&&P==102&&(e.display.chromeScrollHack==null?e.display.sizer.style.pointerEvents="none":clearTimeout(e.display.chromeScrollHack),e.display.chromeScrollHack=setTimeout(function(){e.display.chromeScrollHack=null,e.display.sizer.style.pointerEvents=""},100));var a=hu(n),i=a.x,s=a.y,h=gn;n.deltaMode===0&&(i=n.deltaX,s=n.deltaY,h=1);var g=e.display,m=g.scroller,y=m.scrollWidth>m.clientWidth,E=m.scrollHeight>m.clientHeight;if(i&&y||s&&E){if(s&&Q&&v){e:for(var N=n.target,q=g.view;N!=m;N=N.parentNode)for(var Z=0;Z<q.length;Z++)if(q[Z].node==N){e.display.currentWheelTarget=N;break e}}if(i&&!o&&!W&&h!=null){s&&E&&Zr(e,Math.max(0,m.scrollTop+s*h)),$n(e,Math.max(0,m.scrollLeft+i*h)),(!s||s&&E)&&Ne(n),g.wheelStartX=null;return}if(s&&h!=null){var V=s*h,ie=e.doc.scrollTop,fe=ie+g.wrapper.clientHeight;V<0?ie=Math.max(0,ie+V-50):fe=Math.min(e.doc.height,fe+V+50),Ho(e,{top:ie,bottom:fe})}Vi<20&&n.deltaMode!==0&&(g.wheelStartX==null?(g.wheelStartX=m.scrollLeft,g.wheelStartY=m.scrollTop,g.wheelDX=i,g.wheelDY=s,setTimeout(function(){if(g.wheelStartX!=null){var ye=m.scrollLeft-g.wheelStartX,Ee=m.scrollTop-g.wheelStartY,De=Ee&&g.wheelDY&&Ee/g.wheelDY||ye&&g.wheelDX&&ye/g.wheelDX;g.wheelStartX=g.wheelStartY=null,De&&(gn=(gn*Vi+De)/(Vi+1),++Vi)}},200)):(g.wheelDX+=i,g.wheelDY+=s))}}var Xt=function(e,n){this.ranges=e,this.primIndex=n};Xt.prototype.primary=function(){return this.ranges[this.primIndex]},Xt.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var n=0;n<this.ranges.length;n++){var a=this.ranges[n],i=e.ranges[n];if(!uo(a.anchor,i.anchor)||!uo(a.head,i.head))return!1}return!0},Xt.prototype.deepCopy=function(){for(var e=[],n=0;n<this.ranges.length;n++)e[n]=new We(fo(this.ranges[n].anchor),fo(this.ranges[n].head));return new Xt(e,this.primIndex)},Xt.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Xt.prototype.contains=function(e,n){n||(n=e);for(var a=0;a<this.ranges.length;a++){var i=this.ranges[a];if(Pe(n,i.from())>=0&&Pe(e,i.to())<=0)return a}return-1};var We=function(e,n){this.anchor=e,this.head=n};We.prototype.from=function(){return Oi(this.anchor,this.head)},We.prototype.to=function(){return _i(this.anchor,this.head)},We.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch};function Zt(e,n,a){var i=e&&e.options.selectionsMayTouch,s=n[a];n.sort(function(Z,V){return Pe(Z.from(),V.from())}),a=D(n,s);for(var h=1;h<n.length;h++){var g=n[h],m=n[h-1],y=Pe(m.to(),g.from());if(i&&!g.empty()?y>0:y>=0){var E=Oi(m.from(),g.from()),N=_i(m.to(),g.to()),q=m.empty()?g.from()==g.head:m.from()==m.head;h<=a&&--a,n.splice(--h,2,new We(q?N:E,q?E:N))}}return new Xt(n,a)}function Dn(e,n){return new Xt([new We(e,n||e)],0)}function Tn(e){return e.text?ve(e.from.line+e.text.length-1,z(e.text).length+(e.text.length==1?e.from.ch:0)):e.to}function pu(e,n){if(Pe(e,n.from)<0)return e;if(Pe(e,n.to)<=0)return Tn(n);var a=e.line+n.text.length-(n.to.line-n.from.line)-1,i=e.ch;return e.line==n.to.line&&(i+=Tn(n).ch-n.to.ch),ve(a,i)}function zo(e,n){for(var a=[],i=0;i<e.sel.ranges.length;i++){var s=e.sel.ranges[i];a.push(new We(pu(s.anchor,n),pu(s.head,n)))}return Zt(e.cm,a,e.sel.primIndex)}function gu(e,n,a){return e.line==n.line?ve(a.line,e.ch-n.ch+a.ch):ve(a.line+(e.line-n.line),e.ch)}function pp(e,n,a){for(var i=[],s=ve(e.first,0),h=s,g=0;g<n.length;g++){var m=n[g],y=gu(m.from,s,h),E=gu(Tn(m),s,h);if(s=m.to,h=E,a=="around"){var N=e.sel.ranges[g],q=Pe(N.head,N.anchor)<0;i[g]=new We(q?E:y,q?y:E)}else i[g]=new We(y,y)}return new Xt(i,e.sel.primIndex)}function Wo(e){e.doc.mode=ao(e.options,e.doc.modeOption),ni(e)}function ni(e){e.doc.iter(function(n){n.stateAfter&&(n.stateAfter=null),n.styles&&(n.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,ei(e,100),e.state.modeGen++,e.curOp&&Mt(e)}function mu(e,n){return n.from.ch==0&&n.to.ch==0&&z(n.text)==""&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Uo(e,n,a,i){function s(De){return a?a[De]:null}function h(De,ke,Ae){kd(De,ke,Ae,i),mt(De,"change",De,n)}function g(De,ke){for(var Ae=[],Ie=De;Ie<ke;++Ie)Ae.push(new pr(E[Ie],s(Ie),i));return Ae}var m=n.from,y=n.to,E=n.text,N=Le(e,m.line),q=Le(e,y.line),Z=z(E),V=s(E.length-1),ie=y.line-m.line;if(n.full)e.insert(0,g(0,E.length)),e.remove(E.length,e.size-E.length);else if(mu(e,n)){var fe=g(0,E.length-1);h(q,q.text,V),ie&&e.remove(m.line,ie),fe.length&&e.insert(m.line,fe)}else if(N==q)if(E.length==1)h(N,N.text.slice(0,m.ch)+Z+N.text.slice(y.ch),V);else{var ye=g(1,E.length-1);ye.push(new pr(Z+N.text.slice(y.ch),V,i)),h(N,N.text.slice(0,m.ch)+E[0],s(0)),e.insert(m.line+1,ye)}else if(E.length==1)h(N,N.text.slice(0,m.ch)+E[0]+q.text.slice(y.ch),s(0)),e.remove(m.line+1,ie);else{h(N,N.text.slice(0,m.ch)+E[0],s(0)),h(q,Z+q.text.slice(y.ch),V);var Ee=g(1,E.length-1);ie>1&&e.remove(m.line+1,ie-1),e.insert(m.line+1,Ee)}mt(e,"change",e,n)}function Sn(e,n,a){function i(s,h,g){if(s.linked)for(var m=0;m<s.linked.length;++m){var y=s.linked[m];if(y.doc!=h){var E=g&&y.sharedHist;a&&!E||(n(y.doc,E),i(y.doc,s,E))}}}i(e,null,!0)}function vu(e,n){if(n.cm)throw new Error("This document is already in use.");e.doc=n,n.cm=e,Fo(e),Wo(e),yu(e),e.options.direction=n.direction,e.options.lineWrapping||yo(e),e.options.mode=n.modeOption,Mt(e)}function yu(e){(e.doc.direction=="rtl"?R:X)(e.display.lineDiv,"CodeMirror-rtl")}function gp(e){Ut(e,function(){yu(e),Mt(e)})}function Yi(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function jo(e,n){var a={from:fo(n.from),to:Tn(n),text:Wn(e,n.from,n.to)};return Eu(e,a,n.from.line,n.to.line+1),Sn(e,function(i){return Eu(i,a,n.from.line,n.to.line+1)},!0),a}function xu(e){for(;e.length;){var n=z(e);if(n.ranges)e.pop();else break}}function mp(e,n){if(n)return xu(e.done),z(e.done);if(e.done.length&&!z(e.done).ranges)return z(e.done);if(e.done.length>1&&!e.done[e.done.length-2].ranges)return e.done.pop(),z(e.done)}function bu(e,n,a,i){var s=e.history;s.undone.length=0;var h=+new Date,g,m;if((s.lastOp==i||s.lastOrigin==n.origin&&n.origin&&(n.origin.charAt(0)=="+"&&s.lastModTime>h-(e.cm?e.cm.options.historyEventDelay:500)||n.origin.charAt(0)=="*"))&&(g=mp(s,s.lastOp==i)))m=z(g.changes),Pe(n.from,n.to)==0&&Pe(n.from,m.to)==0?m.to=Tn(n):g.changes.push(jo(e,n));else{var y=z(s.done);for((!y||!y.ranges)&&Zi(e.sel,s.done),g={changes:[jo(e,n)],generation:s.generation},s.done.push(g);s.done.length>s.undoDepth;)s.done.shift(),s.done[0].ranges||s.done.shift()}s.done.push(a),s.generation=++s.maxGeneration,s.lastModTime=s.lastSelTime=h,s.lastOp=s.lastSelOp=i,s.lastOrigin=s.lastSelOrigin=n.origin,m||rt(e,"historyAdded")}function vp(e,n,a,i){var s=n.charAt(0);return s=="*"||s=="+"&&a.ranges.length==i.ranges.length&&a.somethingSelected()==i.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function yp(e,n,a,i){var s=e.history,h=i&&i.origin;a==s.lastSelOp||h&&s.lastSelOrigin==h&&(s.lastModTime==s.lastSelTime&&s.lastOrigin==h||vp(e,h,z(s.done),n))?s.done[s.done.length-1]=n:Zi(n,s.done),s.lastSelTime=+new Date,s.lastSelOrigin=h,s.lastSelOp=a,i&&i.clearRedo!==!1&&xu(s.undone)}function Zi(e,n){var a=z(n);a&&a.ranges&&a.equals(e)||n.push(e)}function Eu(e,n,a,i){var s=n["spans_"+e.id],h=0;e.iter(Math.max(e.first,a),Math.min(e.first+e.size,i),function(g){g.markedSpans&&((s||(s=n["spans_"+e.id]={}))[h]=g.markedSpans),++h})}function xp(e){if(!e)return null;for(var n,a=0;a<e.length;++a)e[a].marker.explicitlyCleared?n||(n=e.slice(0,a)):n&&n.push(e[a]);return n?n.length?n:null:e}function bp(e,n){var a=n["spans_"+e.id];if(!a)return null;for(var i=[],s=0;s<n.text.length;++s)i.push(xp(a[s]));return i}function ku(e,n){var a=bp(e,n),i=po(e,n);if(!a)return i;if(!i)return a;for(var s=0;s<a.length;++s){var h=a[s],g=i[s];if(h&&g)e:for(var m=0;m<g.length;++m){for(var y=g[m],E=0;E<h.length;++E)if(h[E].marker==y.marker)continue e;h.push(y)}else g&&(a[s]=g)}return a}function kr(e,n,a){for(var i=[],s=0;s<e.length;++s){var h=e[s];if(h.ranges){i.push(a?Xt.prototype.deepCopy.call(h):h);continue}var g=h.changes,m=[];i.push({changes:m});for(var y=0;y<g.length;++y){var E=g[y],N=void 0;if(m.push({from:E.from,to:E.to,text:E.text}),n)for(var q in E)(N=q.match(/^spans_(\d+)$/))&&D(n,Number(N[1]))>-1&&(z(m)[q]=E[q],delete E[q])}}return i}function Go(e,n,a,i){if(i){var s=e.anchor;if(a){var h=Pe(n,s)<0;h!=Pe(a,s)<0?(s=n,n=a):h!=Pe(n,a)<0&&(n=a)}return new We(s,n)}else return new We(a||n,n)}function Qi(e,n,a,i,s){s==null&&(s=e.cm&&(e.cm.display.shift||e.extend)),At(e,new Xt([Go(e.sel.primary(),n,a,s)],0),i)}function wu(e,n,a){for(var i=[],s=e.cm&&(e.cm.display.shift||e.extend),h=0;h<e.sel.ranges.length;h++)i[h]=Go(e.sel.ranges[h],n[h],null,s);var g=Zt(e.cm,i,e.sel.primIndex);At(e,g,a)}function Xo(e,n,a,i){var s=e.sel.ranges.slice(0);s[n]=a,At(e,Zt(e.cm,s,e.sel.primIndex),i)}function Cu(e,n,a,i){At(e,Dn(n,a),i)}function Ep(e,n,a){var i={ranges:n.ranges,update:function(s){this.ranges=[];for(var h=0;h<s.length;h++)this.ranges[h]=new We(qe(e,s[h].anchor),qe(e,s[h].head))},origin:a&&a.origin};return rt(e,"beforeSelectionChange",e,i),e.cm&&rt(e.cm,"beforeSelectionChange",e.cm,i),i.ranges!=n.ranges?Zt(e.cm,i.ranges,i.ranges.length-1):n}function Du(e,n,a){var i=e.history.done,s=z(i);s&&s.ranges?(i[i.length-1]=n,Ji(e,n,a)):At(e,n,a)}function At(e,n,a){Ji(e,n,a),yp(e,e.sel,e.cm?e.cm.curOp.id:NaN,a)}function Ji(e,n,a){(ut(e,"beforeSelectionChange")||e.cm&&ut(e.cm,"beforeSelectionChange"))&&(n=Ep(e,n,a));var i=a&&a.bias||(Pe(n.primary().head,e.sel.primary().head)<0?-1:1);Tu(e,Au(e,n,i,!0)),!(a&&a.scroll===!1)&&e.cm&&e.cm.getOption("readOnly")!="nocursor"&&br(e.cm)}function Tu(e,n){n.equals(e.sel)||(e.sel=n,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,st(e.cm)),mt(e,"cursorActivity",e))}function Su(e){Tu(e,Au(e,e.sel,null,!1))}function Au(e,n,a,i){for(var s,h=0;h<n.ranges.length;h++){var g=n.ranges[h],m=n.ranges.length==e.sel.ranges.length&&e.sel.ranges[h],y=ea(e,g.anchor,m&&m.anchor,a,i),E=g.head==g.anchor?y:ea(e,g.head,m&&m.head,a,i);(s||y!=g.anchor||E!=g.head)&&(s||(s=n.ranges.slice(0,h)),s[h]=new We(y,E))}return s?Zt(e.cm,s,n.primIndex):n}function wr(e,n,a,i,s){var h=Le(e,n.line);if(h.markedSpans)for(var g=0;g<h.markedSpans.length;++g){var m=h.markedSpans[g],y=m.marker,E="selectLeft"in y?!y.selectLeft:y.inclusiveLeft,N="selectRight"in y?!y.selectRight:y.inclusiveRight;if((m.from==null||(E?m.from<=n.ch:m.from<n.ch))&&(m.to==null||(N?m.to>=n.ch:m.to>n.ch))){if(s&&(rt(y,"beforeCursorEnter"),y.explicitlyCleared))if(h.markedSpans){--g;continue}else break;if(!y.atomic)continue;if(a){var q=y.find(i<0?1:-1),Z=void 0;if((i<0?N:E)&&(q=Fu(e,q,-i,q&&q.line==n.line?h:null)),q&&q.line==n.line&&(Z=Pe(q,a))&&(i<0?Z<0:Z>0))return wr(e,q,n,i,s)}var V=y.find(i<0?-1:1);return(i<0?E:N)&&(V=Fu(e,V,i,V.line==n.line?h:null)),V?wr(e,V,n,i,s):null}}return n}function ea(e,n,a,i,s){var h=i||1,g=wr(e,n,a,h,s)||!s&&wr(e,n,a,h,!0)||wr(e,n,a,-h,s)||!s&&wr(e,n,a,-h,!0);return g||(e.cantEdit=!0,ve(e.first,0))}function Fu(e,n,a,i){return a<0&&n.ch==0?n.line>e.first?qe(e,ve(n.line-1)):null:a>0&&n.ch==(i||Le(e,n.line)).text.length?n.line<e.first+e.size-1?ve(n.line+1,0):null:new ve(n.line,n.ch+a)}function Lu(e){e.setSelection(ve(e.firstLine(),0),ve(e.lastLine()),w)}function _u(e,n,a){var i={canceled:!1,from:n.from,to:n.to,text:n.text,origin:n.origin,cancel:function(){return i.canceled=!0}};return a&&(i.update=function(s,h,g,m){s&&(i.from=qe(e,s)),h&&(i.to=qe(e,h)),g&&(i.text=g),m!==void 0&&(i.origin=m)}),rt(e,"beforeChange",e,i),e.cm&&rt(e.cm,"beforeChange",e.cm,i),i.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:i.from,to:i.to,text:i.text,origin:i.origin}}function Cr(e,n,a){if(e.cm){if(!e.cm.curOp)return vt(e.cm,Cr)(e,n,a);if(e.cm.state.suppressEdits)return}if(!((ut(e,"beforeChange")||e.cm&&ut(e.cm,"beforeChange"))&&(n=_u(e,n,!0),!n))){var i=ks&&!a&&yd(e,n.from,n.to);if(i)for(var s=i.length-1;s>=0;--s)Ou(e,{from:i[s].from,to:i[s].to,text:s?[""]:n.text,origin:n.origin});else Ou(e,n)}}function Ou(e,n){if(!(n.text.length==1&&n.text[0]==""&&Pe(n.from,n.to)==0)){var a=zo(e,n);bu(e,n,a,e.cm?e.cm.curOp.id:NaN),ri(e,n,a,po(e,n));var i=[];Sn(e,function(s,h){!h&&D(i,s.history)==-1&&(Mu(s.history,n),i.push(s.history)),ri(s,n,null,po(s,n))})}}function ta(e,n,a){var i=e.cm&&e.cm.state.suppressEdits;if(!(i&&!a)){for(var s=e.history,h,g=e.sel,m=n=="undo"?s.done:s.undone,y=n=="undo"?s.undone:s.done,E=0;E<m.length&&(h=m[E],!(a?h.ranges&&!h.equals(e.sel):!h.ranges));E++);if(E!=m.length){for(s.lastOrigin=s.lastSelOrigin=null;;)if(h=m.pop(),h.ranges){if(Zi(h,y),a&&!h.equals(e.sel)){At(e,h,{clearRedo:!1});return}g=h}else if(i){m.push(h);return}else break;var N=[];Zi(g,y),y.push({changes:N,generation:s.generation}),s.generation=h.generation||++s.maxGeneration;for(var q=ut(e,"beforeChange")||e.cm&&ut(e.cm,"beforeChange"),Z=function(fe){var ye=h.changes[fe];if(ye.origin=n,q&&!_u(e,ye,!1))return m.length=0,{};N.push(jo(e,ye));var Ee=fe?zo(e,ye):z(m);ri(e,ye,Ee,ku(e,ye)),!fe&&e.cm&&e.cm.scrollIntoView({from:ye.from,to:Tn(ye)});var De=[];Sn(e,function(ke,Ae){!Ae&&D(De,ke.history)==-1&&(Mu(ke.history,ye),De.push(ke.history)),ri(ke,ye,null,ku(ke,ye))})},V=h.changes.length-1;V>=0;--V){var ie=Z(V);if(ie)return ie.v}}}}function Iu(e,n){if(n!=0&&(e.first+=n,e.sel=new Xt(ae(e.sel.ranges,function(s){return new We(ve(s.anchor.line+n,s.anchor.ch),ve(s.head.line+n,s.head.ch))}),e.sel.primIndex),e.cm)){Mt(e.cm,e.first,e.first-n,n);for(var a=e.cm.display,i=a.viewFrom;i<a.viewTo;i++)wn(e.cm,i,"gutter")}}function ri(e,n,a,i){if(e.cm&&!e.cm.curOp)return vt(e.cm,ri)(e,n,a,i);if(n.to.line<e.first){Iu(e,n.text.length-1-(n.to.line-n.from.line));return}if(!(n.from.line>e.lastLine())){if(n.from.line<e.first){var s=n.text.length-1-(e.first-n.from.line);Iu(e,s),n={from:ve(e.first,0),to:ve(n.to.line+s,n.to.ch),text:[z(n.text)],origin:n.origin}}var h=e.lastLine();n.to.line>h&&(n={from:n.from,to:ve(h,Le(e,h).text.length),text:[n.text[0]],origin:n.origin}),n.removed=Wn(e,n.from,n.to),a||(a=zo(e,n)),e.cm?kp(e.cm,n,i):Uo(e,n,i),Ji(e,a,w),e.cantEdit&&ea(e,ve(e.firstLine(),0))&&(e.cantEdit=!1)}}function kp(e,n,a){var i=e.doc,s=e.display,h=n.from,g=n.to,m=!1,y=h.line;e.options.lineWrapping||(y=Ke(Vt(Le(i,h.line))),i.iter(y,g.line+1,function(V){if(V==s.maxLine)return m=!0,!0})),i.sel.contains(n.from,n.to)>-1&&st(e),Uo(i,n,a,Qs(e)),e.options.lineWrapping||(i.iter(y,h.line+n.text.length,function(V){var ie=Bi(V);ie>s.maxLineLength&&(s.maxLine=V,s.maxLineLength=ie,s.maxLineChanged=!0,m=!1)}),m&&(e.curOp.updateMaxLine=!0)),cd(i,h.line),ei(e,400);var E=n.text.length-(g.line-h.line)-1;n.full?Mt(e):h.line==g.line&&n.text.length==1&&!mu(e.doc,n)?wn(e,h.line,"text"):Mt(e,h.line,g.line+1,E);var N=ut(e,"changes"),q=ut(e,"change");if(q||N){var Z={from:h,to:g,text:n.text,removed:n.removed,origin:n.origin};q&&mt(e,"change",e,Z),N&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(Z)}e.display.selForContextMenu=null}function Dr(e,n,a,i,s){var h;i||(i=a),Pe(i,a)<0&&(h=[i,a],a=h[0],i=h[1]),typeof n=="string"&&(n=e.splitLines(n)),Cr(e,{from:a,to:i,text:n,origin:s})}function Ru(e,n,a,i){a<e.line?e.line+=i:n<e.line&&(e.line=n,e.ch=0)}function Nu(e,n,a,i){for(var s=0;s<e.length;++s){var h=e[s],g=!0;if(h.ranges){h.copied||(h=e[s]=h.deepCopy(),h.copied=!0);for(var m=0;m<h.ranges.length;m++)Ru(h.ranges[m].anchor,n,a,i),Ru(h.ranges[m].head,n,a,i);continue}for(var y=0;y<h.changes.length;++y){var E=h.changes[y];if(a<E.from.line)E.from=ve(E.from.line+i,E.from.ch),E.to=ve(E.to.line+i,E.to.ch);else if(n<=E.to.line){g=!1;break}}g||(e.splice(0,s+1),s=0)}}function Mu(e,n){var a=n.from.line,i=n.to.line,s=n.text.length-(i-a)-1;Nu(e.done,a,i,s),Nu(e.undone,a,i,s)}function ii(e,n,a,i){var s=n,h=n;return typeof n=="number"?h=Le(e,ds(e,n)):s=Ke(n),s==null?null:(i(h,s)&&e.cm&&wn(e.cm,s,a),h)}function ai(e){this.lines=e,this.parent=null;for(var n=0,a=0;a<e.length;++a)e[a].parent=this,n+=e[a].height;this.height=n}ai.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,n){for(var a=e,i=e+n;a<i;++a){var s=this.lines[a];this.height-=s.height,wd(s),mt(s,"delete")}this.lines.splice(e,n)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,n,a){this.height+=a,this.lines=this.lines.slice(0,e).concat(n).concat(this.lines.slice(e));for(var i=0;i<n.length;++i)n[i].parent=this},iterN:function(e,n,a){for(var i=e+n;e<i;++e)if(a(this.lines[e]))return!0}};function oi(e){this.children=e;for(var n=0,a=0,i=0;i<e.length;++i){var s=e[i];n+=s.chunkSize(),a+=s.height,s.parent=this}this.size=n,this.height=a,this.parent=null}oi.prototype={chunkSize:function(){return this.size},removeInner:function(e,n){this.size-=n;for(var a=0;a<this.children.length;++a){var i=this.children[a],s=i.chunkSize();if(e<s){var h=Math.min(n,s-e),g=i.height;if(i.removeInner(e,h),this.height-=g-i.height,s==h&&(this.children.splice(a--,1),i.parent=null),(n-=h)==0)break;e=0}else e-=s}if(this.size-n<25&&(this.children.length>1||!(this.children[0]instanceof ai))){var m=[];this.collapse(m),this.children=[new ai(m)],this.children[0].parent=this}},collapse:function(e){for(var n=0;n<this.children.length;++n)this.children[n].collapse(e)},insertInner:function(e,n,a){this.size+=n.length,this.height+=a;for(var i=0;i<this.children.length;++i){var s=this.children[i],h=s.chunkSize();if(e<=h){if(s.insertInner(e,n,a),s.lines&&s.lines.length>50){for(var g=s.lines.length%25+25,m=g;m<s.lines.length;){var y=new ai(s.lines.slice(m,m+=25));s.height-=y.height,this.children.splice(++i,0,y),y.parent=this}s.lines=s.lines.slice(0,g),this.maybeSpill()}break}e-=h}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var n=e.children.splice(e.children.length-5,5),a=new oi(n);if(e.parent){e.size-=a.size,e.height-=a.height;var s=D(e.parent.children,e);e.parent.children.splice(s+1,0,a)}else{var i=new oi(e.children);i.parent=e,e.children=[i,a],e=i}a.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,n,a){for(var i=0;i<this.children.length;++i){var s=this.children[i],h=s.chunkSize();if(e<h){var g=Math.min(n,h-e);if(s.iterN(e,g,a))return!0;if((n-=g)==0)break;e=0}else e-=h}}};var li=function(e,n,a){if(a)for(var i in a)a.hasOwnProperty(i)&&(this[i]=a[i]);this.doc=e,this.node=n};li.prototype.clear=function(){var e=this.doc.cm,n=this.line.widgets,a=this.line,i=Ke(a);if(!(i==null||!n)){for(var s=0;s<n.length;++s)n[s]==this&&n.splice(s--,1);n.length||(a.widgets=null);var h=Kr(this);an(a,Math.max(0,a.height-h)),e&&(Ut(e,function(){Hu(e,a,-h),wn(e,i,"widget")}),mt(e,"lineWidgetCleared",e,this,i))}},li.prototype.changed=function(){var e=this,n=this.height,a=this.doc.cm,i=this.line;this.height=null;var s=Kr(this)-n;s&&(kn(this.doc,i)||an(i,i.height+s),a&&Ut(a,function(){a.curOp.forceUpdate=!0,Hu(a,i,s),mt(a,"lineWidgetChanged",a,e,Ke(i))}))},dt(li);function Hu(e,n,a){dn(n)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&No(e,a)}function wp(e,n,a,i){var s=new li(e,a,i),h=e.cm;return h&&s.noHScroll&&(h.display.alignWidgets=!0),ii(e,n,"widget",function(g){var m=g.widgets||(g.widgets=[]);if(s.insertAt==null?m.push(s):m.splice(Math.min(m.length,Math.max(0,s.insertAt)),0,s),s.line=g,h&&!kn(e,g)){var y=dn(g)<e.scrollTop;an(g,g.height+Kr(s)),y&&No(h,s.height),h.curOp.forceUpdate=!0}return!0}),h&&mt(h,"lineWidgetAdded",h,s,typeof n=="number"?n:Ke(n)),s}var Bu=0,An=function(e,n){this.lines=[],this.type=n,this.doc=e,this.id=++Bu};An.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,n=e&&!e.curOp;if(n&&Yn(e),ut(this,"clear")){var a=this.find();a&&mt(this,"clear",a.from,a.to)}for(var i=null,s=null,h=0;h<this.lines.length;++h){var g=this.lines[h],m=jr(g.markedSpans,this);e&&!this.collapsed?wn(e,Ke(g),"text"):e&&(m.to!=null&&(s=Ke(g)),m.from!=null&&(i=Ke(g))),g.markedSpans=pd(g.markedSpans,m),m.from==null&&this.collapsed&&!kn(this.doc,g)&&e&&an(g,vr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var y=0;y<this.lines.length;++y){var E=Vt(this.lines[y]),N=Bi(E);N>e.display.maxLineLength&&(e.display.maxLine=E,e.display.maxLineLength=N,e.display.maxLineChanged=!0)}i!=null&&e&&this.collapsed&&Mt(e,i,s+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Su(e.doc)),e&&mt(e,"markerCleared",e,this,i,s),n&&Zn(e),this.parent&&this.parent.clear()}},An.prototype.find=function(e,n){e==null&&this.type=="bookmark"&&(e=1);for(var a,i,s=0;s<this.lines.length;++s){var h=this.lines[s],g=jr(h.markedSpans,this);if(g.from!=null&&(a=ve(n?h:Ke(h),g.from),e==-1))return a;if(g.to!=null&&(i=ve(n?h:Ke(h),g.to),e==1))return i}return a&&{from:a,to:i}},An.prototype.changed=function(){var e=this,n=this.find(-1,!0),a=this,i=this.doc.cm;!n||!i||Ut(i,function(){var s=n.line,h=Ke(n.line),g=ko(i,h);if(g&&(js(g),i.curOp.selectionChanged=i.curOp.forceUpdate=!0),i.curOp.updateMaxLine=!0,!kn(a.doc,s)&&a.height!=null){var m=a.height;a.height=null;var y=Kr(a)-m;y&&an(s,s.height+y)}mt(i,"markerChanged",i,e)})},An.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(!n.maybeHiddenMarkers||D(n.maybeHiddenMarkers,this)==-1)&&(n.maybeUnhiddenMarkers||(n.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},An.prototype.detachLine=function(e){if(this.lines.splice(D(this.lines,e),1),!this.lines.length&&this.doc.cm){var n=this.doc.cm.curOp;(n.maybeHiddenMarkers||(n.maybeHiddenMarkers=[])).push(this)}},dt(An);function Tr(e,n,a,i,s){if(i&&i.shared)return Cp(e,n,a,i,s);if(e.cm&&!e.cm.curOp)return vt(e.cm,Tr)(e,n,a,i,s);var h=new An(e,s),g=Pe(n,a);if(i&&me(i,h,!1),g>0||g==0&&h.clearWhenEmpty!==!1)return h;if(h.replacedWith&&(h.collapsed=!0,h.widgetNode=_("span",[h.replacedWith],"CodeMirror-widget"),i.handleMouseEvents||h.widgetNode.setAttribute("cm-ignore-events","true"),i.insertLeft&&(h.widgetNode.insertLeft=!0)),h.collapsed){if(As(e,n.line,n,a,h)||n.line!=a.line&&As(e,a.line,n,a,h))throw new Error("Inserting collapsed marker partially overlapping an existing one");dd()}h.addToHistory&&bu(e,{from:n,to:a,origin:"markText"},e.sel,NaN);var m=n.line,y=e.cm,E;if(e.iter(m,a.line+1,function(q){y&&h.collapsed&&!y.options.lineWrapping&&Vt(q)==y.display.maxLine&&(E=!0),h.collapsed&&m!=n.line&&an(q,0),gd(q,new Ri(h,m==n.line?n.ch:null,m==a.line?a.ch:null),e.cm&&e.cm.curOp),++m}),h.collapsed&&e.iter(n.line,a.line+1,function(q){kn(e,q)&&an(q,0)}),h.clearOnEnter&&Oe(h,"beforeCursorEnter",function(){return h.clear()}),h.readOnly&&(hd(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),h.collapsed&&(h.id=++Bu,h.atomic=!0),y){if(E&&(y.curOp.updateMaxLine=!0),h.collapsed)Mt(y,n.line,a.line+1);else if(h.className||h.startStyle||h.endStyle||h.css||h.attributes||h.title)for(var N=n.line;N<=a.line;N++)wn(y,N,"text");h.atomic&&Su(y.doc),mt(y,"markerAdded",y,h)}return h}var si=function(e,n){this.markers=e,this.primary=n;for(var a=0;a<e.length;++a)e[a].parent=this};si.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();mt(this,"clear")}},si.prototype.find=function(e,n){return this.primary.find(e,n)},dt(si);function Cp(e,n,a,i,s){i=me(i),i.shared=!1;var h=[Tr(e,n,a,i,s)],g=h[0],m=i.widgetNode;return Sn(e,function(y){m&&(i.widgetNode=m.cloneNode(!0)),h.push(Tr(y,qe(y,n),qe(y,a),i,s));for(var E=0;E<y.linked.length;++E)if(y.linked[E].isParent)return;g=z(h)}),new si(h,g)}function Pu(e){return e.findMarks(ve(e.first,0),e.clipPos(ve(e.lastLine())),function(n){return n.parent})}function Dp(e,n){for(var a=0;a<n.length;a++){var i=n[a],s=i.find(),h=e.clipPos(s.from),g=e.clipPos(s.to);if(Pe(h,g)){var m=Tr(e,h,g,i.primary,i.primary.type);i.markers.push(m),m.parent=i}}}function Tp(e){for(var n=function(i){var s=e[i],h=[s.primary.doc];Sn(s.primary.doc,function(y){return h.push(y)});for(var g=0;g<s.markers.length;g++){var m=s.markers[g];D(h,m.doc)==-1&&(m.parent=null,s.markers.splice(g--,1))}},a=0;a<e.length;a++)n(a)}var Sp=0,Ht=function(e,n,a,i,s){if(!(this instanceof Ht))return new Ht(e,n,a,i,s);a==null&&(a=0),oi.call(this,[new ai([new pr("",null)])]),this.first=a,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=a;var h=ve(a,0);this.sel=Dn(h),this.history=new Yi(null),this.id=++Sp,this.modeOption=n,this.lineSep=i,this.direction=s=="rtl"?"rtl":"ltr",this.extend=!1,typeof e=="string"&&(e=this.splitLines(e)),Uo(this,{from:h,to:h,text:e}),At(this,Dn(h),w)};Ht.prototype=re(oi.prototype,{constructor:Ht,iter:function(e,n,a){a?this.iterN(e-this.first,n-e,a):this.iterN(this.first,this.first+this.size,e)},insert:function(e,n){for(var a=0,i=0;i<n.length;++i)a+=n[i].height;this.insertInner(e-this.first,n,a)},remove:function(e,n){this.removeInner(e-this.first,n)},getValue:function(e){var n=lo(this,this.first,this.first+this.size);return e===!1?n:n.join(e||this.lineSeparator())},setValue:yt(function(e){var n=ve(this.first,0),a=this.first+this.size-1;Cr(this,{from:n,to:ve(a,Le(this,a).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Yr(this.cm,0,0),At(this,Dn(n),w)}),replaceRange:function(e,n,a,i){n=qe(this,n),a=a?qe(this,a):n,Dr(this,e,n,a,i)},getRange:function(e,n,a){var i=Wn(this,qe(this,e),qe(this,n));return a===!1?i:a===""?i.join(""):i.join(a||this.lineSeparator())},getLine:function(e){var n=this.getLineHandle(e);return n&&n.text},getLineHandle:function(e){if(Wr(this,e))return Le(this,e)},getLineNumber:function(e){return Ke(e)},getLineHandleVisualStart:function(e){return typeof e=="number"&&(e=Le(this,e)),Vt(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return qe(this,e)},getCursor:function(e){var n=this.sel.primary(),a;return e==null||e=="head"?a=n.head:e=="anchor"?a=n.anchor:e=="end"||e=="to"||e===!1?a=n.to():a=n.from(),a},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:yt(function(e,n,a){Cu(this,qe(this,typeof e=="number"?ve(e,n||0):e),null,a)}),setSelection:yt(function(e,n,a){Cu(this,qe(this,e),qe(this,n||e),a)}),extendSelection:yt(function(e,n,a){Qi(this,qe(this,e),n&&qe(this,n),a)}),extendSelections:yt(function(e,n){wu(this,ps(this,e),n)}),extendSelectionsBy:yt(function(e,n){var a=ae(this.sel.ranges,e);wu(this,ps(this,a),n)}),setSelections:yt(function(e,n,a){if(e.length){for(var i=[],s=0;s<e.length;s++)i[s]=new We(qe(this,e[s].anchor),qe(this,e[s].head||e[s].anchor));n==null&&(n=Math.min(e.length-1,this.sel.primIndex)),At(this,Zt(this.cm,i,n),a)}}),addSelection:yt(function(e,n,a){var i=this.sel.ranges.slice(0);i.push(new We(qe(this,e),qe(this,n||e))),At(this,Zt(this.cm,i,i.length-1),a)}),getSelection:function(e){for(var n=this.sel.ranges,a,i=0;i<n.length;i++){var s=Wn(this,n[i].from(),n[i].to());a=a?a.concat(s):s}return e===!1?a:a.join(e||this.lineSeparator())},getSelections:function(e){for(var n=[],a=this.sel.ranges,i=0;i<a.length;i++){var s=Wn(this,a[i].from(),a[i].to());e!==!1&&(s=s.join(e||this.lineSeparator())),n[i]=s}return n},replaceSelection:function(e,n,a){for(var i=[],s=0;s<this.sel.ranges.length;s++)i[s]=e;this.replaceSelections(i,n,a||"+input")},replaceSelections:yt(function(e,n,a){for(var i=[],s=this.sel,h=0;h<s.ranges.length;h++){var g=s.ranges[h];i[h]={from:g.from(),to:g.to(),text:this.splitLines(e[h]),origin:a}}for(var m=n&&n!="end"&&pp(this,i,n),y=i.length-1;y>=0;y--)Cr(this,i[y]);m?Du(this,m):this.cm&&br(this.cm)}),undo:yt(function(){ta(this,"undo")}),redo:yt(function(){ta(this,"redo")}),undoSelection:yt(function(){ta(this,"undo",!0)}),redoSelection:yt(function(){ta(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,n=0,a=0,i=0;i<e.done.length;i++)e.done[i].ranges||++n;for(var s=0;s<e.undone.length;s++)e.undone[s].ranges||++a;return{undo:n,redo:a}},clearHistory:function(){var e=this;this.history=new Yi(this.history),Sn(this,function(n){return n.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:kr(this.history.done),undone:kr(this.history.undone)}},setHistory:function(e){var n=this.history=new Yi(this.history);n.done=kr(e.done.slice(0),null,!0),n.undone=kr(e.undone.slice(0),null,!0)},setGutterMarker:yt(function(e,n,a){return ii(this,e,"gutter",function(i){var s=i.gutterMarkers||(i.gutterMarkers={});return s[n]=a,!a&&Ge(s)&&(i.gutterMarkers=null),!0})}),clearGutter:yt(function(e){var n=this;this.iter(function(a){a.gutterMarkers&&a.gutterMarkers[e]&&ii(n,a,"gutter",function(){return a.gutterMarkers[e]=null,Ge(a.gutterMarkers)&&(a.gutterMarkers=null),!0})})}),lineInfo:function(e){var n;if(typeof e=="number"){if(!Wr(this,e)||(n=e,e=Le(this,e),!e))return null}else if(n=Ke(e),n==null)return null;return{line:n,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:yt(function(e,n,a){return ii(this,e,n=="gutter"?"gutter":"class",function(i){var s=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass";if(!i[s])i[s]=a;else{if(de(a).test(i[s]))return!1;i[s]+=" "+a}return!0})}),removeLineClass:yt(function(e,n,a){return ii(this,e,n=="gutter"?"gutter":"class",function(i){var s=n=="text"?"textClass":n=="background"?"bgClass":n=="gutter"?"gutterClass":"wrapClass",h=i[s];if(h)if(a==null)i[s]=null;else{var g=h.match(de(a));if(!g)return!1;var m=g.index+g[0].length;i[s]=h.slice(0,g.index)+(!g.index||m==h.length?"":" ")+h.slice(m)||null}else return!1;return!0})}),addLineWidget:yt(function(e,n,a){return wp(this,e,n,a)}),removeLineWidget:function(e){e.clear()},markText:function(e,n,a){return Tr(this,qe(this,e),qe(this,n),a,a&&a.type||"range")},setBookmark:function(e,n){var a={replacedWith:n&&(n.nodeType==null?n.widget:n),insertLeft:n&&n.insertLeft,clearWhenEmpty:!1,shared:n&&n.shared,handleMouseEvents:n&&n.handleMouseEvents};return e=qe(this,e),Tr(this,e,e,a,"bookmark")},findMarksAt:function(e){e=qe(this,e);var n=[],a=Le(this,e.line).markedSpans;if(a)for(var i=0;i<a.length;++i){var s=a[i];(s.from==null||s.from<=e.ch)&&(s.to==null||s.to>=e.ch)&&n.push(s.marker.parent||s.marker)}return n},findMarks:function(e,n,a){e=qe(this,e),n=qe(this,n);var i=[],s=e.line;return this.iter(e.line,n.line+1,function(h){var g=h.markedSpans;if(g)for(var m=0;m<g.length;m++){var y=g[m];!(y.to!=null&&s==e.line&&e.ch>=y.to||y.from==null&&s!=e.line||y.from!=null&&s==n.line&&y.from>=n.ch)&&(!a||a(y.marker))&&i.push(y.marker.parent||y.marker)}++s}),i},getAllMarks:function(){var e=[];return this.iter(function(n){var a=n.markedSpans;if(a)for(var i=0;i<a.length;++i)a[i].from!=null&&e.push(a[i].marker)}),e},posFromIndex:function(e){var n,a=this.first,i=this.lineSeparator().length;return this.iter(function(s){var h=s.text.length+i;if(h>e)return n=e,!0;e-=h,++a}),qe(this,ve(a,n))},indexFromPos:function(e){e=qe(this,e);var n=e.ch;if(e.line<this.first||e.ch<0)return 0;var a=this.lineSeparator().length;return this.iter(this.first,e.line,function(i){n+=i.text.length+a}),n},copy:function(e){var n=new Ht(lo(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return n.scrollTop=this.scrollTop,n.scrollLeft=this.scrollLeft,n.sel=this.sel,n.extend=!1,e&&(n.history.undoDepth=this.history.undoDepth,n.setHistory(this.getHistory())),n},linkedDoc:function(e){e||(e={});var n=this.first,a=this.first+this.size;e.from!=null&&e.from>n&&(n=e.from),e.to!=null&&e.to<a&&(a=e.to);var i=new Ht(lo(this,n,a),e.mode||this.modeOption,n,this.lineSep,this.direction);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Dp(i,Pu(this)),i},unlinkDoc:function(e){if(e instanceof et&&(e=e.doc),this.linked)for(var n=0;n<this.linked.length;++n){var a=this.linked[n];if(a.doc==e){this.linked.splice(n,1),e.unlinkDoc(this),Tp(Pu(this));break}}if(e.history==this.history){var i=[e.id];Sn(e,function(s){return i.push(s.id)},!0),e.history=new Yi(null),e.history.done=kr(this.history.done,i),e.history.undone=kr(this.history.undone,i)}},iterLinkedDocs:function(e){Sn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):cr(e)},lineSeparator:function(){return this.lineSep||`
`},setDirection:yt(function(e){e!="rtl"&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(n){return n.order=null}),this.cm&&gp(this.cm))})}),Ht.prototype.eachLine=Ht.prototype.iter;var qu=0;function Ap(e){var n=this;if(zu(n),!(je(n,e)||pn(n.display,e))){Ne(e),c&&(qu=+new Date);var a=Xn(n,e,!0),i=e.dataTransfer.files;if(!(!a||n.isReadOnly()))if(i&&i.length&&window.FileReader&&window.File)for(var s=i.length,h=Array(s),g=0,m=function(){++g==s&&vt(n,function(){a=qe(n.doc,a);var V={from:a,to:a,text:n.doc.splitLines(h.filter(function(ie){return ie!=null}).join(n.doc.lineSeparator())),origin:"paste"};Cr(n.doc,V),Du(n.doc,Dn(qe(n.doc,a),qe(n.doc,Tn(V))))})()},y=function(V,ie){if(n.options.allowDropFileTypes&&D(n.options.allowDropFileTypes,V.type)==-1){m();return}var fe=new FileReader;fe.onerror=function(){return m()},fe.onload=function(){var ye=fe.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(ye)){m();return}h[ie]=ye,m()},fe.readAsText(V)},E=0;E<i.length;E++)y(i[E],E);else{if(n.state.draggingText&&n.doc.sel.contains(a)>-1){n.state.draggingText(e),setTimeout(function(){return n.display.input.focus()},20);return}try{var N=e.dataTransfer.getData("Text");if(N){var q;if(n.state.draggingText&&!n.state.draggingText.copy&&(q=n.listSelections()),Ji(n.doc,Dn(a,a)),q)for(var Z=0;Z<q.length;++Z)Dr(n.doc,"",q[Z].anchor,q[Z].head,"drag");n.replaceSelection(N,"around","paste"),n.display.input.focus()}}catch{}}}}function Fp(e,n){if(c&&(!e.state.draggingText||+new Date-qu<100)){qn(n);return}if(!(je(e,n)||pn(e.display,n))&&(n.dataTransfer.setData("Text",e.getSelection()),n.dataTransfer.effectAllowed="copyMove",n.dataTransfer.setDragImage&&!K)){var a=k("img",null,null,"position: fixed; left: 0; top: 0;");a.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",W&&(a.width=a.height=1,e.display.wrapper.appendChild(a),a._top=a.offsetTop),n.dataTransfer.setDragImage(a,0,0),W&&a.parentNode.removeChild(a)}}function Lp(e,n){var a=Xn(e,n);if(a){var i=document.createDocumentFragment();Lo(e,a,i),e.display.dragCursor||(e.display.dragCursor=k("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),T(e.display.dragCursor,i)}}function zu(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function Wu(e){if(document.getElementsByClassName){for(var n=document.getElementsByClassName("CodeMirror"),a=[],i=0;i<n.length;i++){var s=n[i].CodeMirror;s&&a.push(s)}a.length&&a[0].operation(function(){for(var h=0;h<a.length;h++)e(a[h])})}}var Uu=!1;function _p(){Uu||(Op(),Uu=!0)}function Op(){var e;Oe(window,"resize",function(){e==null&&(e=setTimeout(function(){e=null,Wu(Ip)},100))}),Oe(window,"blur",function(){return Wu(xr)})}function Ip(e){var n=e.display;n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.scrollbarsClipped=!1,e.setSize()}for(var Fn={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},ui=0;ui<10;ui++)Fn[ui+48]=Fn[ui+96]=String(ui);for(var na=65;na<=90;na++)Fn[na]=String.fromCharCode(na);for(var fi=1;fi<=12;fi++)Fn[fi+111]=Fn[fi+63235]="F"+fi;var mn={};mn.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},mn.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},mn.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},mn.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},mn.default=Q?mn.macDefault:mn.pcDefault;function Rp(e){var n=e.split(/-(?!$)/);e=n[n.length-1];for(var a,i,s,h,g=0;g<n.length-1;g++){var m=n[g];if(/^(cmd|meta|m)$/i.test(m))h=!0;else if(/^a(lt)?$/i.test(m))a=!0;else if(/^(c|ctrl|control)$/i.test(m))i=!0;else if(/^s(hift)?$/i.test(m))s=!0;else throw new Error("Unrecognized modifier name: "+m)}return a&&(e="Alt-"+e),i&&(e="Ctrl-"+e),h&&(e="Cmd-"+e),s&&(e="Shift-"+e),e}function Np(e){var n={};for(var a in e)if(e.hasOwnProperty(a)){var i=e[a];if(/^(name|fallthrough|(de|at)tach)$/.test(a))continue;if(i=="..."){delete e[a];continue}for(var s=ae(a.split(" "),Rp),h=0;h<s.length;h++){var g=void 0,m=void 0;h==s.length-1?(m=s.join(" "),g=i):(m=s.slice(0,h+1).join(" "),g="...");var y=n[m];if(!y)n[m]=g;else if(y!=g)throw new Error("Inconsistent bindings for "+m)}delete e[a]}for(var E in n)e[E]=n[E];return e}function Sr(e,n,a,i){n=ra(n);var s=n.call?n.call(e,i):n[e];if(s===!1)return"nothing";if(s==="...")return"multi";if(s!=null&&a(s))return"handled";if(n.fallthrough){if(Object.prototype.toString.call(n.fallthrough)!="[object Array]")return Sr(e,n.fallthrough,a,i);for(var h=0;h<n.fallthrough.length;h++){var g=Sr(e,n.fallthrough[h],a,i);if(g)return g}}}function ju(e){var n=typeof e=="string"?e:Fn[e.keyCode];return n=="Ctrl"||n=="Alt"||n=="Shift"||n=="Mod"}function Gu(e,n,a){var i=e;return n.altKey&&i!="Alt"&&(e="Alt-"+e),(ge?n.metaKey:n.ctrlKey)&&i!="Ctrl"&&(e="Ctrl-"+e),(ge?n.ctrlKey:n.metaKey)&&i!="Mod"&&(e="Cmd-"+e),!a&&n.shiftKey&&i!="Shift"&&(e="Shift-"+e),e}function Xu(e,n){if(W&&e.keyCode==34&&e.char)return!1;var a=Fn[e.keyCode];return a==null||e.altGraphKey?!1:(e.keyCode==3&&e.code&&(a=e.code),Gu(a,e,n))}function ra(e){return typeof e=="string"?mn[e]:e}function Ar(e,n){for(var a=e.doc.sel.ranges,i=[],s=0;s<a.length;s++){for(var h=n(a[s]);i.length&&Pe(h.from,z(i).to)<=0;){var g=i.pop();if(Pe(g.from,h.from)<0){h.from=g.from;break}}i.push(h)}Ut(e,function(){for(var m=i.length-1;m>=0;m--)Dr(e.doc,"",i[m].from,i[m].to,"+delete");br(e)})}function Ko(e,n,a){var i=Rt(e.text,n+a,a);return i<0||i>e.text.length?null:i}function $o(e,n,a){var i=Ko(e,n.ch,a);return i==null?null:new ve(n.line,i,a<0?"after":"before")}function Vo(e,n,a,i,s){if(e){n.doc.direction=="rtl"&&(s=-s);var h=Lt(a,n.doc.direction);if(h){var g=s<0?z(h):h[0],m=s<0==(g.level==1),y=m?"after":"before",E;if(g.level>0||n.doc.direction=="rtl"){var N=mr(n,a);E=s<0?a.text.length-1:0;var q=sn(n,N,E).top;E=Xe(function(Z){return sn(n,N,Z).top==q},s<0==(g.level==1)?g.from:g.to-1,E),y=="before"&&(E=Ko(a,E,1))}else E=s<0?g.to:g.from;return new ve(i,E,y)}}return new ve(i,s<0?a.text.length:0,s<0?"before":"after")}function Mp(e,n,a,i){var s=Lt(n,e.doc.direction);if(!s)return $o(n,a,i);a.ch>=n.text.length?(a.ch=n.text.length,a.sticky="before"):a.ch<=0&&(a.ch=0,a.sticky="after");var h=ot(s,a.ch,a.sticky),g=s[h];if(e.doc.direction=="ltr"&&g.level%2==0&&(i>0?g.to>a.ch:g.from<a.ch))return $o(n,a,i);var m=function(Ee,De){return Ko(n,Ee instanceof ve?Ee.ch:Ee,De)},y,E=function(Ee){return e.options.lineWrapping?(y=y||mr(e,n),Zs(e,n,y,Ee)):{begin:0,end:n.text.length}},N=E(a.sticky=="before"?m(a,-1):a.ch);if(e.doc.direction=="rtl"||g.level==1){var q=g.level==1==i<0,Z=m(a,q?1:-1);if(Z!=null&&(q?Z<=g.to&&Z<=N.end:Z>=g.from&&Z>=N.begin)){var V=q?"before":"after";return new ve(a.line,Z,V)}}var ie=function(Ee,De,ke){for(var Ae=function(Ve,xt){return xt?new ve(a.line,m(Ve,1),"before"):new ve(a.line,Ve,"after")};Ee>=0&&Ee<s.length;Ee+=De){var Ie=s[Ee],_e=De>0==(Ie.level!=1),ze=_e?ke.begin:m(ke.end,-1);if(Ie.from<=ze&&ze<Ie.to||(ze=_e?Ie.from:m(Ie.to,-1),ke.begin<=ze&&ze<ke.end))return Ae(ze,_e)}},fe=ie(h+i,i,N);if(fe)return fe;var ye=i>0?N.end:m(N.begin,-1);return ye!=null&&!(i>0&&ye==n.text.length)&&(fe=ie(i>0?0:s.length-1,i,E(ye)),fe)?fe:null}var ci={selectAll:Lu,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),w)},killLine:function(e){return Ar(e,function(n){if(n.empty()){var a=Le(e.doc,n.head.line).text.length;return n.head.ch==a&&n.head.line<e.lastLine()?{from:n.head,to:ve(n.head.line+1,0)}:{from:n.head,to:ve(n.head.line,a)}}else return{from:n.from(),to:n.to()}})},deleteLine:function(e){return Ar(e,function(n){return{from:ve(n.from().line,0),to:qe(e.doc,ve(n.to().line+1,0))}})},delLineLeft:function(e){return Ar(e,function(n){return{from:ve(n.from().line,0),to:n.from()}})},delWrappedLineLeft:function(e){return Ar(e,function(n){var a=e.charCoords(n.head,"div").top+5,i=e.coordsChar({left:0,top:a},"div");return{from:i,to:n.from()}})},delWrappedLineRight:function(e){return Ar(e,function(n){var a=e.charCoords(n.head,"div").top+5,i=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div");return{from:n.from(),to:i}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ve(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ve(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(n){return Ku(e,n.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(n){return $u(e,n.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(n){return Hp(e,n.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:a},"div")},L)},goLineLeft:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5;return e.coordsChar({left:0,top:a},"div")},L)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(n){var a=e.cursorCoords(n.head,"div").top+5,i=e.coordsChar({left:0,top:a},"div");return i.ch<e.getLine(i.line).search(/\S/)?$u(e,n.head):i},L)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("	")},insertSoftTab:function(e){for(var n=[],a=e.listSelections(),i=e.options.tabSize,s=0;s<a.length;s++){var h=a[s].from(),g=be(e.getLine(h.line),h.ch,i);n.push(G(i-g%i))}e.replaceSelections(n)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return Ut(e,function(){for(var n=e.listSelections(),a=[],i=0;i<n.length;i++)if(n[i].empty()){var s=n[i].head,h=Le(e.doc,s.line).text;if(h){if(s.ch==h.length&&(s=new ve(s.line,s.ch-1)),s.ch>0)s=new ve(s.line,s.ch+1),e.replaceRange(h.charAt(s.ch-1)+h.charAt(s.ch-2),ve(s.line,s.ch-2),s,"+transpose");else if(s.line>e.doc.first){var g=Le(e.doc,s.line-1).text;g&&(s=new ve(s.line,1),e.replaceRange(h.charAt(0)+e.doc.lineSeparator()+g.charAt(g.length-1),ve(s.line-1,g.length-1),s,"+transpose"))}}a.push(new We(s,s))}e.setSelections(a)})},newlineAndIndent:function(e){return Ut(e,function(){for(var n=e.listSelections(),a=n.length-1;a>=0;a--)e.replaceRange(e.doc.lineSeparator(),n[a].anchor,n[a].head,"+input");n=e.listSelections();for(var i=0;i<n.length;i++)e.indentLine(n[i].from().line,null,!0);br(e)})},openLine:function(e){return e.replaceSelection(`
`,"start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function Ku(e,n){var a=Le(e.doc,n),i=Vt(a);return i!=a&&(n=Ke(i)),Vo(!0,e,i,n,1)}function Hp(e,n){var a=Le(e.doc,n),i=bd(a);return i!=a&&(n=Ke(i)),Vo(!0,e,a,n,-1)}function $u(e,n){var a=Ku(e,n.line),i=Le(e.doc,a.line),s=Lt(i,e.doc.direction);if(!s||s[0].level==0){var h=Math.max(a.ch,i.text.search(/\S/)),g=n.line==a.line&&n.ch<=h&&n.ch;return ve(a.line,g?0:h,a.sticky)}return a}function ia(e,n,a){if(typeof n=="string"&&(n=ci[n],!n))return!1;e.display.input.ensurePolled();var i=e.display.shift,s=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),a&&(e.display.shift=!1),s=n(e)!=p}finally{e.display.shift=i,e.state.suppressEdits=!1}return s}function Bp(e,n,a){for(var i=0;i<e.state.keyMaps.length;i++){var s=Sr(n,e.state.keyMaps[i],a,e);if(s)return s}return e.options.extraKeys&&Sr(n,e.options.extraKeys,a,e)||Sr(n,e.options.keyMap,a,e)}var Pp=new Ce;function hi(e,n,a,i){var s=e.state.keySeq;if(s){if(ju(n))return"handled";if(/\'$/.test(n)?e.state.keySeq=null:Pp.set(50,function(){e.state.keySeq==s&&(e.state.keySeq=null,e.display.input.reset())}),Vu(e,s+" "+n,a,i))return!0}return Vu(e,n,a,i)}function Vu(e,n,a,i){var s=Bp(e,n,i);return s=="multi"&&(e.state.keySeq=n),s=="handled"&&mt(e,"keyHandled",e,n,a),(s=="handled"||s=="multi")&&(Ne(a),_o(e)),!!s}function Yu(e,n){var a=Xu(n,!0);return a?n.shiftKey&&!e.state.keySeq?hi(e,"Shift-"+a,n,function(i){return ia(e,i,!0)})||hi(e,a,n,function(i){if(typeof i=="string"?/^go[A-Z]/.test(i):i.motion)return ia(e,i)}):hi(e,a,n,function(i){return ia(e,i)}):!1}function qp(e,n,a){return hi(e,"'"+a+"'",n,function(i){return ia(e,i,!0)})}var Yo=null;function Zu(e){var n=this;if(!(e.target&&e.target!=n.display.input.getField())&&(n.curOp.focus=j(J(n)),!je(n,e))){c&&d<11&&e.keyCode==27&&(e.returnValue=!1);var a=e.keyCode;n.display.shift=a==16||e.shiftKey;var i=Yu(n,e);W&&(Yo=i?a:null,!i&&a==88&&!id&&(Q?e.metaKey:e.ctrlKey)&&n.replaceSelection("",null,"cut")),o&&!Q&&!i&&a==46&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),a==18&&!/\bCodeMirror-crosshair\b/.test(n.display.lineDiv.className)&&zp(n)}}function zp(e){var n=e.display.lineDiv;R(n,"CodeMirror-crosshair");function a(i){(i.keyCode==18||!i.altKey)&&(X(n,"CodeMirror-crosshair"),Dt(document,"keyup",a),Dt(document,"mouseover",a))}Oe(document,"keyup",a),Oe(document,"mouseover",a)}function Qu(e){e.keyCode==16&&(this.doc.sel.shift=!1),je(this,e)}function Ju(e){var n=this;if(!(e.target&&e.target!=n.display.input.getField())&&!(pn(n.display,e)||je(n,e)||e.ctrlKey&&!e.altKey||Q&&e.metaKey)){var a=e.keyCode,i=e.charCode;if(W&&a==Yo){Yo=null,Ne(e);return}if(!(W&&(!e.which||e.which<10)&&Yu(n,e))){var s=String.fromCharCode(i??a);s!="\b"&&(qp(n,e,s)||n.display.input.onKeyPress(e))}}}var Wp=400,Zo=function(e,n,a){this.time=e,this.pos=n,this.button=a};Zo.prototype.compare=function(e,n,a){return this.time+Wp>e&&Pe(n,this.pos)==0&&a==this.button};var di,pi;function Up(e,n){var a=+new Date;return pi&&pi.compare(a,e,n)?(di=pi=null,"triple"):di&&di.compare(a,e,n)?(pi=new Zo(a,e,n),di=null,"double"):(di=new Zo(a,e,n),pi=null,"single")}function ef(e){var n=this,a=n.display;if(!(je(n,e)||a.activeTouch&&a.input.supportsTouch())){if(a.input.ensurePolled(),a.shift=e.shiftKey,pn(a,e)){v||(a.scroller.draggable=!1,setTimeout(function(){return a.scroller.draggable=!0},100));return}if(!Qo(n,e)){var i=Xn(n,e),s=nn(e),h=i?Up(i,s):"single";oe(n).focus(),s==1&&n.state.selectingText&&n.state.selectingText(e),!(i&&jp(n,s,i,h,e))&&(s==1?i?Xp(n,i,h,e):cn(e)==a.scroller&&Ne(e):s==2?(i&&Qi(n.doc,i),setTimeout(function(){return a.input.focus()},20)):s==3&&(Re?n.display.input.onContextMenu(e):Oo(n)))}}}function jp(e,n,a,i,s){var h="Click";return i=="double"?h="Double"+h:i=="triple"&&(h="Triple"+h),h=(n==1?"Left":n==2?"Middle":"Right")+h,hi(e,Gu(h,s),s,function(g){if(typeof g=="string"&&(g=ci[g]),!g)return!1;var m=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),m=g(e,a)!=p}finally{e.state.suppressEdits=!1}return m})}function Gp(e,n,a){var i=e.getOption("configureMouse"),s=i?i(e,n,a):{};if(s.unit==null){var h=te?a.shiftKey&&a.metaKey:a.altKey;s.unit=h?"rectangle":n=="single"?"char":n=="double"?"word":"line"}return(s.extend==null||e.doc.extend)&&(s.extend=e.doc.extend||a.shiftKey),s.addNew==null&&(s.addNew=Q?a.metaKey:a.ctrlKey),s.moveOnDrag==null&&(s.moveOnDrag=!(Q?a.altKey:a.ctrlKey)),s}function Xp(e,n,a,i){c?setTimeout(xe(tu,e),0):e.curOp.focus=j(J(e));var s=Gp(e,a,i),h=e.doc.sel,g;e.options.dragDrop&&Ze&&!e.isReadOnly()&&a=="single"&&(g=h.contains(n))>-1&&(Pe((g=h.ranges[g]).from(),n)<0||n.xRel>0)&&(Pe(g.to(),n)>0||n.xRel<0)?Kp(e,i,n,s):$p(e,i,n,s)}function Kp(e,n,a,i){var s=e.display,h=!1,g=vt(e,function(E){v&&(s.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:Oo(e)),Dt(s.wrapper.ownerDocument,"mouseup",g),Dt(s.wrapper.ownerDocument,"mousemove",m),Dt(s.scroller,"dragstart",y),Dt(s.scroller,"drop",g),h||(Ne(E),i.addNew||Qi(e.doc,a,null,null,i.extend),v&&!K||c&&d==9?setTimeout(function(){s.wrapper.ownerDocument.body.focus({preventScroll:!0}),s.input.focus()},20):s.input.focus())}),m=function(E){h=h||Math.abs(n.clientX-E.clientX)+Math.abs(n.clientY-E.clientY)>=10},y=function(){return h=!0};v&&(s.scroller.draggable=!0),e.state.draggingText=g,g.copy=!i.moveOnDrag,Oe(s.wrapper.ownerDocument,"mouseup",g),Oe(s.wrapper.ownerDocument,"mousemove",m),Oe(s.scroller,"dragstart",y),Oe(s.scroller,"drop",g),e.state.delayingBlurEvent=!0,setTimeout(function(){return s.input.focus()},20),s.scroller.dragDrop&&s.scroller.dragDrop()}function tf(e,n,a){if(a=="char")return new We(n,n);if(a=="word")return e.findWordAt(n);if(a=="line")return new We(ve(n.line,0),qe(e.doc,ve(n.line+1,0)));var i=a(e,n);return new We(i.from,i.to)}function $p(e,n,a,i){c&&Oo(e);var s=e.display,h=e.doc;Ne(n);var g,m,y=h.sel,E=y.ranges;if(i.addNew&&!i.extend?(m=h.sel.contains(a),m>-1?g=E[m]:g=new We(a,a)):(g=h.sel.primary(),m=h.sel.primIndex),i.unit=="rectangle")i.addNew||(g=new We(a,a)),a=Xn(e,n,!0,!0),m=-1;else{var N=tf(e,a,i.unit);i.extend?g=Go(g,N.anchor,N.head,i.extend):g=N}i.addNew?m==-1?(m=E.length,At(h,Zt(e,E.concat([g]),m),{scroll:!1,origin:"*mouse"})):E.length>1&&E[m].empty()&&i.unit=="char"&&!i.extend?(At(h,Zt(e,E.slice(0,m).concat(E.slice(m+1)),0),{scroll:!1,origin:"*mouse"}),y=h.sel):Xo(h,m,g,I):(m=0,At(h,new Xt([g],0),I),y=h.sel);var q=a;function Z(ke){if(Pe(q,ke)!=0)if(q=ke,i.unit=="rectangle"){for(var Ae=[],Ie=e.options.tabSize,_e=be(Le(h,a.line).text,a.ch,Ie),ze=be(Le(h,ke.line).text,ke.ch,Ie),Ve=Math.min(_e,ze),xt=Math.max(_e,ze),it=Math.min(a.line,ke.line),jt=Math.min(e.lastLine(),Math.max(a.line,ke.line));it<=jt;it++){var Bt=Le(h,it).text,ct=S(Bt,Ve,Ie);Ve==xt?Ae.push(new We(ve(it,ct),ve(it,ct))):Bt.length>ct&&Ae.push(new We(ve(it,ct),ve(it,S(Bt,xt,Ie))))}Ae.length||Ae.push(new We(a,a)),At(h,Zt(e,y.ranges.slice(0,m).concat(Ae),m),{origin:"*mouse",scroll:!1}),e.scrollIntoView(ke)}else{var Pt=g,Tt=tf(e,ke,i.unit),pt=Pt.anchor,ht;Pe(Tt.anchor,pt)>0?(ht=Tt.head,pt=Oi(Pt.from(),Tt.anchor)):(ht=Tt.anchor,pt=_i(Pt.to(),Tt.head));var at=y.ranges.slice(0);at[m]=Vp(e,new We(qe(h,pt),ht)),At(h,Zt(e,at,m),I)}}var V=s.wrapper.getBoundingClientRect(),ie=0;function fe(ke){var Ae=++ie,Ie=Xn(e,ke,!0,i.unit=="rectangle");if(Ie)if(Pe(Ie,q)!=0){e.curOp.focus=j(J(e)),Z(Ie);var _e=Xi(s,h);(Ie.line>=_e.to||Ie.line<_e.from)&&setTimeout(vt(e,function(){ie==Ae&&fe(ke)}),150)}else{var ze=ke.clientY<V.top?-20:ke.clientY>V.bottom?20:0;ze&&setTimeout(vt(e,function(){ie==Ae&&(s.scroller.scrollTop+=ze,fe(ke))}),50)}}function ye(ke){e.state.selectingText=!1,ie=1/0,ke&&(Ne(ke),s.input.focus()),Dt(s.wrapper.ownerDocument,"mousemove",Ee),Dt(s.wrapper.ownerDocument,"mouseup",De),h.history.lastSelOrigin=null}var Ee=vt(e,function(ke){ke.buttons===0||!nn(ke)?ye(ke):fe(ke)}),De=vt(e,ye);e.state.selectingText=De,Oe(s.wrapper.ownerDocument,"mousemove",Ee),Oe(s.wrapper.ownerDocument,"mouseup",De)}function Vp(e,n){var a=n.anchor,i=n.head,s=Le(e.doc,a.line);if(Pe(a,i)==0&&a.sticky==i.sticky)return n;var h=Lt(s);if(!h)return n;var g=ot(h,a.ch,a.sticky),m=h[g];if(m.from!=a.ch&&m.to!=a.ch)return n;var y=g+(m.from==a.ch==(m.level!=1)?0:1);if(y==0||y==h.length)return n;var E;if(i.line!=a.line)E=(i.line-a.line)*(e.doc.direction=="ltr"?1:-1)>0;else{var N=ot(h,i.ch,i.sticky),q=N-g||(i.ch-a.ch)*(m.level==1?-1:1);N==y-1||N==y?E=q<0:E=q>0}var Z=h[y+(E?-1:0)],V=E==(Z.level==1),ie=V?Z.from:Z.to,fe=V?"after":"before";return a.ch==ie&&a.sticky==fe?n:new We(new ve(a.line,ie,fe),i)}function nf(e,n,a,i){var s,h;if(n.touches)s=n.touches[0].clientX,h=n.touches[0].clientY;else try{s=n.clientX,h=n.clientY}catch{return!1}if(s>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Ne(n);var g=e.display,m=g.lineDiv.getBoundingClientRect();if(h>m.bottom||!ut(e,a))return tn(n);h-=m.top-g.viewOffset;for(var y=0;y<e.display.gutterSpecs.length;++y){var E=g.gutters.childNodes[y];if(E&&E.getBoundingClientRect().right>=s){var N=Un(e.doc,h),q=e.display.gutterSpecs[y];return rt(e,a,e,N,q.className,n),tn(n)}}}function Qo(e,n){return nf(e,n,"gutterClick",!0)}function rf(e,n){pn(e.display,n)||Yp(e,n)||je(e,n,"contextmenu")||Re||e.display.input.onContextMenu(n)}function Yp(e,n){return ut(e,"gutterContextMenu")?nf(e,n,"gutterContextMenu",!1):!1}function af(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$r(e)}var Fr={toString:function(){return"CodeMirror.Init"}},of={},aa={};function Zp(e){var n=e.optionHandlers;function a(i,s,h,g){e.defaults[i]=s,h&&(n[i]=g?function(m,y,E){E!=Fr&&h(m,y,E)}:h)}e.defineOption=a,e.Init=Fr,a("value","",function(i,s){return i.setValue(s)},!0),a("mode",null,function(i,s){i.doc.modeOption=s,Wo(i)},!0),a("indentUnit",2,Wo,!0),a("indentWithTabs",!1),a("smartIndent",!0),a("tabSize",4,function(i){ni(i),$r(i),Mt(i)},!0),a("lineSeparator",null,function(i,s){if(i.doc.lineSep=s,!!s){var h=[],g=i.doc.first;i.doc.iter(function(y){for(var E=0;;){var N=y.text.indexOf(s,E);if(N==-1)break;E=N+s.length,h.push(ve(g,N))}g++});for(var m=h.length-1;m>=0;m--)Dr(i.doc,s,h[m],ve(h[m].line,h[m].ch+s.length))}}),a("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g,function(i,s,h){i.state.specialChars=new RegExp(s.source+(s.test("	")?"":"|	"),"g"),h!=Fr&&i.refresh()}),a("specialCharPlaceholder",Td,function(i){return i.refresh()},!0),a("electricChars",!0),a("inputStyle",ne?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),a("spellcheck",!1,function(i,s){return i.getInputField().spellcheck=s},!0),a("autocorrect",!1,function(i,s){return i.getInputField().autocorrect=s},!0),a("autocapitalize",!1,function(i,s){return i.getInputField().autocapitalize=s},!0),a("rtlMoveVisually",!he),a("wholeLineUpdateBefore",!0),a("theme","default",function(i){af(i),ti(i)},!0),a("keyMap","default",function(i,s,h){var g=ra(s),m=h!=Fr&&ra(h);m&&m.detach&&m.detach(i,g),g.attach&&g.attach(i,m||null)}),a("extraKeys",null),a("configureMouse",null),a("lineWrapping",!1,Jp,!0),a("gutters",[],function(i,s){i.display.gutterSpecs=qo(s,i.options.lineNumbers),ti(i)},!0),a("fixedGutter",!0,function(i,s){i.display.gutters.style.left=s?Ao(i.display)+"px":"0",i.refresh()},!0),a("coverGutterNextToScrollbar",!1,function(i){return Er(i)},!0),a("scrollbarStyle","native",function(i){lu(i),Er(i),i.display.scrollbars.setScrollTop(i.doc.scrollTop),i.display.scrollbars.setScrollLeft(i.doc.scrollLeft)},!0),a("lineNumbers",!1,function(i,s){i.display.gutterSpecs=qo(i.options.gutters,s),ti(i)},!0),a("firstLineNumber",1,ti,!0),a("lineNumberFormatter",function(i){return i},ti,!0),a("showCursorWhenSelecting",!1,Vr,!0),a("resetSelectionOnContextMenu",!0),a("lineWiseCopyCut",!0),a("pasteLinesPerSelection",!0),a("selectionsMayTouch",!1),a("readOnly",!1,function(i,s){s=="nocursor"&&(xr(i),i.display.input.blur()),i.display.input.readOnlyChanged(s)}),a("screenReaderLabel",null,function(i,s){s=s===""?null:s,i.display.input.screenReaderLabelChanged(s)}),a("disableInput",!1,function(i,s){s||i.display.input.reset()},!0),a("dragDrop",!0,Qp),a("allowDropFileTypes",null),a("cursorBlinkRate",530),a("cursorScrollMargin",0),a("cursorHeight",1,Vr,!0),a("singleCursorHeightPerLine",!0,Vr,!0),a("workTime",100),a("workDelay",100),a("flattenSpans",!0,ni,!0),a("addModeClass",!1,ni,!0),a("pollInterval",100),a("undoDepth",200,function(i,s){return i.doc.history.undoDepth=s}),a("historyEventDelay",1250),a("viewportMargin",10,function(i){return i.refresh()},!0),a("maxHighlightLength",1e4,ni,!0),a("moveInputWithCursor",!0,function(i,s){s||i.display.input.resetPosition()}),a("tabindex",null,function(i,s){return i.display.input.getField().tabIndex=s||""}),a("autofocus",null),a("direction","ltr",function(i,s){return i.doc.setDirection(s)},!0),a("phrases",null)}function Qp(e,n,a){var i=a&&a!=Fr;if(!n!=!i){var s=e.display.dragFunctions,h=n?Oe:Dt;h(e.display.scroller,"dragstart",s.start),h(e.display.scroller,"dragenter",s.enter),h(e.display.scroller,"dragover",s.over),h(e.display.scroller,"dragleave",s.leave),h(e.display.scroller,"drop",s.drop)}}function Jp(e){e.options.lineWrapping?(R(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(X(e.display.wrapper,"CodeMirror-wrap"),yo(e)),Fo(e),Mt(e),$r(e),setTimeout(function(){return Er(e)},100)}function et(e,n){var a=this;if(!(this instanceof et))return new et(e,n);this.options=n=n?me(n):{},me(of,n,!1);var i=n.value;typeof i=="string"?i=new Ht(i,n.mode,null,n.lineSeparator,n.direction):n.mode&&(i.modeOption=n.mode),this.doc=i;var s=new et.inputStyles[n.inputStyle](this),h=this.display=new hp(e,i,s,n);h.wrapper.CodeMirror=this,af(this),n.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),lu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Ce,keySeq:null,specialChars:null},n.autofocus&&!ne&&h.input.focus(),c&&d<11&&setTimeout(function(){return a.display.input.reset(!0)},20),eg(this),_p(),Yn(this),this.curOp.forceUpdate=!0,vu(this,i),n.autofocus&&!ne||this.hasFocus()?setTimeout(function(){a.hasFocus()&&!a.state.focused&&Io(a)},20):xr(this);for(var g in aa)aa.hasOwnProperty(g)&&aa[g](this,n[g],Fr);fu(this),n.finishInit&&n.finishInit(this);for(var m=0;m<Jo.length;++m)Jo[m](this);Zn(this),v&&n.lineWrapping&&getComputedStyle(h.lineDiv).textRendering=="optimizelegibility"&&(h.lineDiv.style.textRendering="auto")}et.defaults=of,et.optionHandlers=aa;function eg(e){var n=e.display;Oe(n.scroller,"mousedown",vt(e,ef)),c&&d<11?Oe(n.scroller,"dblclick",vt(e,function(y){if(!je(e,y)){var E=Xn(e,y);if(!(!E||Qo(e,y)||pn(e.display,y))){Ne(y);var N=e.findWordAt(E);Qi(e.doc,N.anchor,N.head)}}})):Oe(n.scroller,"dblclick",function(y){return je(e,y)||Ne(y)}),Oe(n.scroller,"contextmenu",function(y){return rf(e,y)}),Oe(n.input.getField(),"contextmenu",function(y){n.scroller.contains(y.target)||rf(e,y)});var a,i={end:0};function s(){n.activeTouch&&(a=setTimeout(function(){return n.activeTouch=null},1e3),i=n.activeTouch,i.end=+new Date)}function h(y){if(y.touches.length!=1)return!1;var E=y.touches[0];return E.radiusX<=1&&E.radiusY<=1}function g(y,E){if(E.left==null)return!0;var N=E.left-y.left,q=E.top-y.top;return N*N+q*q>20*20}Oe(n.scroller,"touchstart",function(y){if(!je(e,y)&&!h(y)&&!Qo(e,y)){n.input.ensurePolled(),clearTimeout(a);var E=+new Date;n.activeTouch={start:E,moved:!1,prev:E-i.end<=300?i:null},y.touches.length==1&&(n.activeTouch.left=y.touches[0].pageX,n.activeTouch.top=y.touches[0].pageY)}}),Oe(n.scroller,"touchmove",function(){n.activeTouch&&(n.activeTouch.moved=!0)}),Oe(n.scroller,"touchend",function(y){var E=n.activeTouch;if(E&&!pn(n,y)&&E.left!=null&&!E.moved&&new Date-E.start<300){var N=e.coordsChar(n.activeTouch,"page"),q;!E.prev||g(E,E.prev)?q=new We(N,N):!E.prev.prev||g(E,E.prev.prev)?q=e.findWordAt(N):q=new We(ve(N.line,0),qe(e.doc,ve(N.line+1,0))),e.setSelection(q.anchor,q.head),e.focus(),Ne(y)}s()}),Oe(n.scroller,"touchcancel",s),Oe(n.scroller,"scroll",function(){n.scroller.clientHeight&&(Zr(e,n.scroller.scrollTop),$n(e,n.scroller.scrollLeft,!0),rt(e,"scroll",e))}),Oe(n.scroller,"mousewheel",function(y){return du(e,y)}),Oe(n.scroller,"DOMMouseScroll",function(y){return du(e,y)}),Oe(n.wrapper,"scroll",function(){return n.wrapper.scrollTop=n.wrapper.scrollLeft=0}),n.dragFunctions={enter:function(y){je(e,y)||qn(y)},over:function(y){je(e,y)||(Lp(e,y),qn(y))},start:function(y){return Fp(e,y)},drop:vt(e,Ap),leave:function(y){je(e,y)||zu(e)}};var m=n.input.getField();Oe(m,"keyup",function(y){return Qu.call(e,y)}),Oe(m,"keydown",vt(e,Zu)),Oe(m,"keypress",vt(e,Ju)),Oe(m,"focus",function(y){return Io(e,y)}),Oe(m,"blur",function(y){return xr(e,y)})}var Jo=[];et.defineInitHook=function(e){return Jo.push(e)};function gi(e,n,a,i){var s=e.doc,h;a==null&&(a="add"),a=="smart"&&(s.mode.indent?h=Ur(e,n).state:a="prev");var g=e.options.tabSize,m=Le(s,n),y=be(m.text,null,g);m.stateAfter&&(m.stateAfter=null);var E=m.text.match(/^\s*/)[0],N;if(!i&&!/\S/.test(m.text))N=0,a="not";else if(a=="smart"&&(N=s.mode.indent(h,m.text.slice(E.length),m.text),N==p||N>150)){if(!i)return;a="prev"}a=="prev"?n>s.first?N=be(Le(s,n-1).text,null,g):N=0:a=="add"?N=y+e.options.indentUnit:a=="subtract"?N=y-e.options.indentUnit:typeof a=="number"&&(N=y+a),N=Math.max(0,N);var q="",Z=0;if(e.options.indentWithTabs)for(var V=Math.floor(N/g);V;--V)Z+=g,q+="	";if(Z<N&&(q+=G(N-Z)),q!=E)return Dr(s,q,ve(n,0),ve(n,E.length),"+input"),m.stateAfter=null,!0;for(var ie=0;ie<s.sel.ranges.length;ie++){var fe=s.sel.ranges[ie];if(fe.head.line==n&&fe.head.ch<E.length){var ye=ve(n,E.length);Xo(s,ie,new We(ye,ye));break}}}var Qt=null;function oa(e){Qt=e}function el(e,n,a,i,s){var h=e.doc;e.display.shift=!1,i||(i=h.sel);var g=+new Date-200,m=s=="paste"||e.state.pasteIncoming>g,y=cr(n),E=null;if(m&&i.ranges.length>1)if(Qt&&Qt.text.join(`
`)==n){if(i.ranges.length%Qt.text.length==0){E=[];for(var N=0;N<Qt.text.length;N++)E.push(h.splitLines(Qt.text[N]))}}else y.length==i.ranges.length&&e.options.pasteLinesPerSelection&&(E=ae(y,function(Ee){return[Ee]}));for(var q=e.curOp.updateInput,Z=i.ranges.length-1;Z>=0;Z--){var V=i.ranges[Z],ie=V.from(),fe=V.to();V.empty()&&(a&&a>0?ie=ve(ie.line,ie.ch-a):e.state.overwrite&&!m?fe=ve(fe.line,Math.min(Le(h,fe.line).text.length,fe.ch+z(y).length)):m&&Qt&&Qt.lineWise&&Qt.text.join(`
`)==y.join(`
`)&&(ie=fe=ve(ie.line,0)));var ye={from:ie,to:fe,text:E?E[Z%E.length]:y,origin:s||(m?"paste":e.state.cutIncoming>g?"cut":"+input")};Cr(e.doc,ye),mt(e,"inputRead",e,ye)}n&&!m&&sf(e,n),br(e),e.curOp.updateInput<2&&(e.curOp.updateInput=q),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function lf(e,n){var a=e.clipboardData&&e.clipboardData.getData("Text");if(a)return e.preventDefault(),!n.isReadOnly()&&!n.options.disableInput&&n.hasFocus()&&Ut(n,function(){return el(n,a,0,null,"paste")}),!0}function sf(e,n){if(!(!e.options.electricChars||!e.options.smartIndent))for(var a=e.doc.sel,i=a.ranges.length-1;i>=0;i--){var s=a.ranges[i];if(!(s.head.ch>100||i&&a.ranges[i-1].head.line==s.head.line)){var h=e.getModeAt(s.head),g=!1;if(h.electricChars){for(var m=0;m<h.electricChars.length;m++)if(n.indexOf(h.electricChars.charAt(m))>-1){g=gi(e,s.head.line,"smart");break}}else h.electricInput&&h.electricInput.test(Le(e.doc,s.head.line).text.slice(0,s.head.ch))&&(g=gi(e,s.head.line,"smart"));g&&mt(e,"electricInput",e,s.head.line)}}}function uf(e){for(var n=[],a=[],i=0;i<e.doc.sel.ranges.length;i++){var s=e.doc.sel.ranges[i].head.line,h={anchor:ve(s,0),head:ve(s+1,0)};a.push(h),n.push(e.getRange(h.anchor,h.head))}return{text:n,ranges:a}}function tl(e,n,a,i){e.setAttribute("autocorrect",a?"on":"off"),e.setAttribute("autocapitalize",i?"on":"off"),e.setAttribute("spellcheck",!!n)}function ff(){var e=k("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),n=k("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return v?e.style.width="1000px":e.setAttribute("wrap","off"),H&&(e.style.border="1px solid black"),n}function tg(e){var n=e.optionHandlers,a=e.helpers={};e.prototype={constructor:e,focus:function(){oe(this).focus(),this.display.input.focus()},setOption:function(i,s){var h=this.options,g=h[i];h[i]==s&&i!="mode"||(h[i]=s,n.hasOwnProperty(i)&&vt(this,n[i])(this,s,g),rt(this,"optionChange",this,i))},getOption:function(i){return this.options[i]},getDoc:function(){return this.doc},addKeyMap:function(i,s){this.state.keyMaps[s?"push":"unshift"](ra(i))},removeKeyMap:function(i){for(var s=this.state.keyMaps,h=0;h<s.length;++h)if(s[h]==i||s[h].name==i)return s.splice(h,1),!0},addOverlay:_t(function(i,s){var h=i.token?i:e.getMode(this.options,i);if(h.startState)throw new Error("Overlays may not be stateful.");pe(this.state.overlays,{mode:h,modeSpec:i,opaque:s&&s.opaque,priority:s&&s.priority||0},function(g){return g.priority}),this.state.modeGen++,Mt(this)}),removeOverlay:_t(function(i){for(var s=this.state.overlays,h=0;h<s.length;++h){var g=s[h].modeSpec;if(g==i||typeof i=="string"&&g.name==i){s.splice(h,1),this.state.modeGen++,Mt(this);return}}}),indentLine:_t(function(i,s,h){typeof s!="string"&&typeof s!="number"&&(s==null?s=this.options.smartIndent?"smart":"prev":s=s?"add":"subtract"),Wr(this.doc,i)&&gi(this,i,s,h)}),indentSelection:_t(function(i){for(var s=this.doc.sel.ranges,h=-1,g=0;g<s.length;g++){var m=s[g];if(m.empty())m.head.line>h&&(gi(this,m.head.line,i,!0),h=m.head.line,g==this.doc.sel.primIndex&&br(this));else{var y=m.from(),E=m.to(),N=Math.max(h,y.line);h=Math.min(this.lastLine(),E.line-(E.ch?0:1))+1;for(var q=N;q<h;++q)gi(this,q,i);var Z=this.doc.sel.ranges;y.ch==0&&s.length==Z.length&&Z[g].from().ch>0&&Xo(this.doc,g,new We(y,Z[g].to()),w)}}}),getTokenAt:function(i,s){return xs(this,i,s)},getLineTokens:function(i,s){return xs(this,ve(i),s,!0)},getTokenTypeAt:function(i){i=qe(this.doc,i);var s=ms(this,Le(this.doc,i.line)),h=0,g=(s.length-1)/2,m=i.ch,y;if(m==0)y=s[2];else for(;;){var E=h+g>>1;if((E?s[E*2-1]:0)>=m)g=E;else if(s[E*2+1]<m)h=E+1;else{y=s[E*2+2];break}}var N=y?y.indexOf("overlay "):-1;return N<0?y:N==0?null:y.slice(0,N-1)},getModeAt:function(i){var s=this.doc.mode;return s.innerMode?e.innerMode(s,this.getTokenAt(i).state).mode:s},getHelper:function(i,s){return this.getHelpers(i,s)[0]},getHelpers:function(i,s){var h=[];if(!a.hasOwnProperty(s))return h;var g=a[s],m=this.getModeAt(i);if(typeof m[s]=="string")g[m[s]]&&h.push(g[m[s]]);else if(m[s])for(var y=0;y<m[s].length;y++){var E=g[m[s][y]];E&&h.push(E)}else m.helperType&&g[m.helperType]?h.push(g[m.helperType]):g[m.name]&&h.push(g[m.name]);for(var N=0;N<g._global.length;N++){var q=g._global[N];q.pred(m,this)&&D(h,q.val)==-1&&h.push(q.val)}return h},getStateAfter:function(i,s){var h=this.doc;return i=ds(h,i??h.first+h.size-1),Ur(this,i+1,s).state},cursorCoords:function(i,s){var h,g=this.doc.sel.primary();return i==null?h=g.head:typeof i=="object"?h=qe(this.doc,i):h=i?g.from():g.to(),Yt(this,h,s||"page")},charCoords:function(i,s){return Wi(this,qe(this.doc,i),s||"page")},coordsChar:function(i,s){return i=$s(this,i,s||"page"),Do(this,i.left,i.top)},lineAtHeight:function(i,s){return i=$s(this,{top:i,left:0},s||"page").top,Un(this.doc,i+this.display.viewOffset)},heightAtLine:function(i,s,h){var g=!1,m;if(typeof i=="number"){var y=this.doc.first+this.doc.size-1;i<this.doc.first?i=this.doc.first:i>y&&(i=y,g=!0),m=Le(this.doc,i)}else m=i;return zi(this,m,{top:0,left:0},s||"page",h||g).top+(g?this.doc.height-dn(m):0)},defaultTextHeight:function(){return vr(this.display)},defaultCharWidth:function(){return yr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(i,s,h,g,m){var y=this.display;i=Yt(this,qe(this.doc,i));var E=i.bottom,N=i.left;if(s.style.position="absolute",s.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(s),y.sizer.appendChild(s),g=="over")E=i.top;else if(g=="above"||g=="near"){var q=Math.max(y.wrapper.clientHeight,this.doc.height),Z=Math.max(y.sizer.clientWidth,y.lineSpace.clientWidth);(g=="above"||i.bottom+s.offsetHeight>q)&&i.top>s.offsetHeight?E=i.top-s.offsetHeight:i.bottom+s.offsetHeight<=q&&(E=i.bottom),N+s.offsetWidth>Z&&(N=Z-s.offsetWidth)}s.style.top=E+"px",s.style.left=s.style.right="",m=="right"?(N=y.sizer.clientWidth-s.offsetWidth,s.style.right="0px"):(m=="left"?N=0:m=="middle"&&(N=(y.sizer.clientWidth-s.offsetWidth)/2),s.style.left=N+"px"),h&&Qd(this,{left:N,top:E,right:N+s.offsetWidth,bottom:E+s.offsetHeight})},triggerOnKeyDown:_t(Zu),triggerOnKeyPress:_t(Ju),triggerOnKeyUp:Qu,triggerOnMouseDown:_t(ef),execCommand:function(i){if(ci.hasOwnProperty(i))return ci[i].call(null,this)},triggerElectric:_t(function(i){sf(this,i)}),findPosH:function(i,s,h,g){var m=1;s<0&&(m=-1,s=-s);for(var y=qe(this.doc,i),E=0;E<s&&(y=nl(this.doc,y,m,h,g),!y.hitSide);++E);return y},moveH:_t(function(i,s){var h=this;this.extendSelectionsBy(function(g){return h.display.shift||h.doc.extend||g.empty()?nl(h.doc,g.head,i,s,h.options.rtlMoveVisually):i<0?g.from():g.to()},L)}),deleteH:_t(function(i,s){var h=this.doc.sel,g=this.doc;h.somethingSelected()?g.replaceSelection("",null,"+delete"):Ar(this,function(m){var y=nl(g,m.head,i,s,!1);return i<0?{from:y,to:m.head}:{from:m.head,to:y}})}),findPosV:function(i,s,h,g){var m=1,y=g;s<0&&(m=-1,s=-s);for(var E=qe(this.doc,i),N=0;N<s;++N){var q=Yt(this,E,"div");if(y==null?y=q.left:q.left=y,E=cf(this,q,m,h),E.hitSide)break}return E},moveV:_t(function(i,s){var h=this,g=this.doc,m=[],y=!this.display.shift&&!g.extend&&g.sel.somethingSelected();if(g.extendSelectionsBy(function(N){if(y)return i<0?N.from():N.to();var q=Yt(h,N.head,"div");N.goalColumn!=null&&(q.left=N.goalColumn),m.push(q.left);var Z=cf(h,q,i,s);return s=="page"&&N==g.sel.primary()&&No(h,Wi(h,Z,"div").top-q.top),Z},L),m.length)for(var E=0;E<g.sel.ranges.length;E++)g.sel.ranges[E].goalColumn=m[E]}),findWordAt:function(i){var s=this.doc,h=Le(s,i.line).text,g=i.ch,m=i.ch;if(h){var y=this.getHelper(i,"wordChars");(i.sticky=="before"||m==h.length)&&g?--g:++m;for(var E=h.charAt(g),N=Te(E,y)?function(q){return Te(q,y)}:/\s/.test(E)?function(q){return/\s/.test(q)}:function(q){return!/\s/.test(q)&&!Te(q)};g>0&&N(h.charAt(g-1));)--g;for(;m<h.length&&N(h.charAt(m));)++m}return new We(ve(i.line,g),ve(i.line,m))},toggleOverwrite:function(i){i!=null&&i==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?R(this.display.cursorDiv,"CodeMirror-overwrite"):X(this.display.cursorDiv,"CodeMirror-overwrite"),rt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==j(J(this))},isReadOnly:function(){return!!(this.options.readOnly||this.doc.cantEdit)},scrollTo:_t(function(i,s){Yr(this,i,s)}),getScrollInfo:function(){var i=this.display.scroller;return{left:i.scrollLeft,top:i.scrollTop,height:i.scrollHeight-ln(this)-this.display.barHeight,width:i.scrollWidth-ln(this)-this.display.barWidth,clientHeight:Eo(this),clientWidth:jn(this)}},scrollIntoView:_t(function(i,s){i==null?(i={from:this.doc.sel.primary().head,to:null},s==null&&(s=this.options.cursorScrollMargin)):typeof i=="number"?i={from:ve(i,0),to:null}:i.from==null&&(i={from:i,to:null}),i.to||(i.to=i.from),i.margin=s||0,i.from.line!=null?Jd(this,i):ru(this,i.from,i.to,i.margin)}),setSize:_t(function(i,s){var h=this,g=function(y){return typeof y=="number"||/^\d+$/.test(String(y))?y+"px":y};i!=null&&(this.display.wrapper.style.width=g(i)),s!=null&&(this.display.wrapper.style.height=g(s)),this.options.lineWrapping&&Gs(this);var m=this.display.viewFrom;this.doc.iter(m,this.display.viewTo,function(y){if(y.widgets){for(var E=0;E<y.widgets.length;E++)if(y.widgets[E].noHScroll){wn(h,m,"widget");break}}++m}),this.curOp.forceUpdate=!0,rt(this,"refresh",this)}),operation:function(i){return Ut(this,i)},startOperation:function(){return Yn(this)},endOperation:function(){return Zn(this)},refresh:_t(function(){var i=this.display.cachedTextHeight;Mt(this),this.curOp.forceUpdate=!0,$r(this),Yr(this,this.doc.scrollLeft,this.doc.scrollTop),Bo(this.display),(i==null||Math.abs(i-vr(this.display))>.5||this.options.lineWrapping)&&Fo(this),rt(this,"refresh",this)}),swapDoc:_t(function(i){var s=this.doc;return s.cm=null,this.state.selectingText&&this.state.selectingText(),vu(this,i),$r(this),this.display.input.reset(),Yr(this,i.scrollLeft,i.scrollTop),this.curOp.forceScroll=!0,mt(this,"swapDoc",this,s),s}),phrase:function(i){var s=this.options.phrases;return s&&Object.prototype.hasOwnProperty.call(s,i)?s[i]:i},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},dt(e),e.registerHelper=function(i,s,h){a.hasOwnProperty(i)||(a[i]=e[i]={_global:[]}),a[i][s]=h},e.registerGlobalHelper=function(i,s,h,g){e.registerHelper(i,s,g),a[i]._global.push({pred:h,val:g})}}function nl(e,n,a,i,s){var h=n,g=a,m=Le(e,n.line),y=s&&e.direction=="rtl"?-a:a;function E(){var De=n.line+y;return De<e.first||De>=e.first+e.size?!1:(n=new ve(De,n.ch,n.sticky),m=Le(e,De))}function N(De){var ke;if(i=="codepoint"){var Ae=m.text.charCodeAt(n.ch+(a>0?0:-1));if(isNaN(Ae))ke=null;else{var Ie=a>0?Ae>=55296&&Ae<56320:Ae>=56320&&Ae<57343;ke=new ve(n.line,Math.max(0,Math.min(m.text.length,n.ch+a*(Ie?2:1))),-a)}}else s?ke=Mp(e.cm,m,n,a):ke=$o(m,n,a);if(ke==null)if(!De&&E())n=Vo(s,e.cm,m,n.line,y);else return!1;else n=ke;return!0}if(i=="char"||i=="codepoint")N();else if(i=="column")N(!0);else if(i=="word"||i=="group")for(var q=null,Z=i=="group",V=e.cm&&e.cm.getHelper(n,"wordChars"),ie=!0;!(a<0&&!N(!ie));ie=!1){var fe=m.text.charAt(n.ch)||`
`,ye=Te(fe,V)?"w":Z&&fe==`
`?"n":!Z||/\s/.test(fe)?null:"p";if(Z&&!ie&&!ye&&(ye="s"),q&&q!=ye){a<0&&(a=1,N(),n.sticky="after");break}if(ye&&(q=ye),a>0&&!N(!ie))break}var Ee=ea(e,n,h,g,!0);return uo(h,Ee)&&(Ee.hitSide=!0),Ee}function cf(e,n,a,i){var s=e.doc,h=n.left,g;if(i=="page"){var m=Math.min(e.display.wrapper.clientHeight,oe(e).innerHeight||s(e).documentElement.clientHeight),y=Math.max(m-.5*vr(e.display),3);g=(a>0?n.bottom:n.top)+a*y}else i=="line"&&(g=a>0?n.bottom+3:n.top-3);for(var E;E=Do(e,h,g),!!E.outside;){if(a<0?g<=0:g>=s.height){E.hitSide=!0;break}g+=a*5}return E}var $e=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Ce,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};$e.prototype.init=function(e){var n=this,a=this,i=a.cm,s=a.div=e.lineDiv;s.contentEditable=!0,tl(s,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize);function h(m){for(var y=m.target;y;y=y.parentNode){if(y==s)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(y.className))break}return!1}Oe(s,"paste",function(m){!h(m)||je(i,m)||lf(m,i)||d<=11&&setTimeout(vt(i,function(){return n.updateFromDOM()}),20)}),Oe(s,"compositionstart",function(m){n.composing={data:m.data,done:!1}}),Oe(s,"compositionupdate",function(m){n.composing||(n.composing={data:m.data,done:!1})}),Oe(s,"compositionend",function(m){n.composing&&(m.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),Oe(s,"touchstart",function(){return a.forceCompositionEnd()}),Oe(s,"input",function(){n.composing||n.readFromDOMSoon()});function g(m){if(!(!h(m)||je(i,m))){if(i.somethingSelected())oa({lineWise:!1,text:i.getSelections()}),m.type=="cut"&&i.replaceSelection("",null,"cut");else if(i.options.lineWiseCopyCut){var y=uf(i);oa({lineWise:!0,text:y.text}),m.type=="cut"&&i.operation(function(){i.setSelections(y.ranges,0,w),i.replaceSelection("",null,"cut")})}else return;if(m.clipboardData){m.clipboardData.clearData();var E=Qt.text.join(`
`);if(m.clipboardData.setData("Text",E),m.clipboardData.getData("Text")==E){m.preventDefault();return}}var N=ff(),q=N.firstChild;tl(q),i.display.lineSpace.insertBefore(N,i.display.lineSpace.firstChild),q.value=Qt.text.join(`
`);var Z=j(le(s));O(q),setTimeout(function(){i.display.lineSpace.removeChild(N),Z.focus(),Z==s&&a.showPrimarySelection()},50)}}Oe(s,"copy",g),Oe(s,"cut",g)},$e.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},$e.prototype.prepareSelection=function(){var e=eu(this.cm,!1);return e.focus=j(le(this.div))==this.div,e},$e.prototype.showSelection=function(e,n){!e||!this.cm.display.view.length||((e.focus||n)&&this.showPrimarySelection(),this.showMultipleSelections(e))},$e.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},$e.prototype.showPrimarySelection=function(){var e=this.getSelection(),n=this.cm,a=n.doc.sel.primary(),i=a.from(),s=a.to();if(n.display.viewTo==n.display.viewFrom||i.line>=n.display.viewTo||s.line<n.display.viewFrom){e.removeAllRanges();return}var h=la(n,e.anchorNode,e.anchorOffset),g=la(n,e.focusNode,e.focusOffset);if(!(h&&!h.bad&&g&&!g.bad&&Pe(Oi(h,g),i)==0&&Pe(_i(h,g),s)==0)){var m=n.display.view,y=i.line>=n.display.viewFrom&&hf(n,i)||{node:m[0].measure.map[2],offset:0},E=s.line<n.display.viewTo&&hf(n,s);if(!E){var N=m[m.length-1].measure,q=N.maps?N.maps[N.maps.length-1]:N.map;E={node:q[q.length-1],offset:q[q.length-2]-q[q.length-3]}}if(!y||!E){e.removeAllRanges();return}var Z=e.rangeCount&&e.getRangeAt(0),V;try{V=U(y.node,y.offset,E.offset,E.node)}catch{}V&&(!o&&n.state.focused?(e.collapse(y.node,y.offset),V.collapsed||(e.removeAllRanges(),e.addRange(V))):(e.removeAllRanges(),e.addRange(V)),Z&&e.anchorNode==null?e.addRange(Z):o&&this.startGracePeriod()),this.rememberSelection()}},$e.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},$e.prototype.showMultipleSelections=function(e){T(this.cm.display.cursorDiv,e.cursors),T(this.cm.display.selectionDiv,e.selection)},$e.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},$e.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var n=e.getRangeAt(0).commonAncestorContainer;return M(this.div,n)},$e.prototype.focus=function(){this.cm.options.readOnly!="nocursor"&&((!this.selectionInEditor()||j(le(this.div))!=this.div)&&this.showSelection(this.prepareSelection(),!0),this.div.focus())},$e.prototype.blur=function(){this.div.blur()},$e.prototype.getField=function(){return this.div},$e.prototype.supportsTouch=function(){return!0},$e.prototype.receivedFocus=function(){var e=this,n=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):Ut(this.cm,function(){return n.cm.curOp.selectionChanged=!0});function a(){n.cm.state.focused&&(n.pollSelection(),n.polling.set(n.cm.options.pollInterval,a))}this.polling.set(this.cm.options.pollInterval,a)},$e.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},$e.prototype.pollSelection=function(){if(!(this.readDOMTimeout!=null||this.gracePeriod||!this.selectionChanged())){var e=this.getSelection(),n=this.cm;if($&&F&&this.cm.display.gutterSpecs.length&&ng(e.anchorNode)){this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),this.focus();return}if(!this.composing){this.rememberSelection();var a=la(n,e.anchorNode,e.anchorOffset),i=la(n,e.focusNode,e.focusOffset);a&&i&&Ut(n,function(){At(n.doc,Dn(a,i),w),(a.bad||i.bad)&&(n.curOp.selectionChanged=!0)})}}},$e.prototype.pollContent=function(){this.readDOMTimeout!=null&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,n=e.display,a=e.doc.sel.primary(),i=a.from(),s=a.to();if(i.ch==0&&i.line>e.firstLine()&&(i=ve(i.line-1,Le(e.doc,i.line-1).length)),s.ch==Le(e.doc,s.line).text.length&&s.line<e.lastLine()&&(s=ve(s.line+1,0)),i.line<n.viewFrom||s.line>n.viewTo-1)return!1;var h,g,m;i.line==n.viewFrom||(h=Kn(e,i.line))==0?(g=Ke(n.view[0].line),m=n.view[0].node):(g=Ke(n.view[h].line),m=n.view[h-1].node.nextSibling);var y=Kn(e,s.line),E,N;if(y==n.view.length-1?(E=n.viewTo-1,N=n.lineDiv.lastChild):(E=Ke(n.view[y+1].line)-1,N=n.view[y+1].node.previousSibling),!m)return!1;for(var q=e.doc.splitLines(rg(e,m,N,g,E)),Z=Wn(e.doc,ve(g,0),ve(E,Le(e.doc,E).text.length));q.length>1&&Z.length>1;)if(z(q)==z(Z))q.pop(),Z.pop(),E--;else if(q[0]==Z[0])q.shift(),Z.shift(),g++;else break;for(var V=0,ie=0,fe=q[0],ye=Z[0],Ee=Math.min(fe.length,ye.length);V<Ee&&fe.charCodeAt(V)==ye.charCodeAt(V);)++V;for(var De=z(q),ke=z(Z),Ae=Math.min(De.length-(q.length==1?V:0),ke.length-(Z.length==1?V:0));ie<Ae&&De.charCodeAt(De.length-ie-1)==ke.charCodeAt(ke.length-ie-1);)++ie;if(q.length==1&&Z.length==1&&g==i.line)for(;V&&V>i.ch&&De.charCodeAt(De.length-ie-1)==ke.charCodeAt(ke.length-ie-1);)V--,ie++;q[q.length-1]=De.slice(0,De.length-ie).replace(/^\u200b+/,""),q[0]=q[0].slice(V).replace(/\u200b+$/,"");var Ie=ve(g,V),_e=ve(E,Z.length?z(Z).length-ie:0);if(q.length>1||q[0]||Pe(Ie,_e))return Dr(e.doc,q,Ie,_e,"+input"),!0},$e.prototype.ensurePolled=function(){this.forceCompositionEnd()},$e.prototype.reset=function(){this.forceCompositionEnd()},$e.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},$e.prototype.readFromDOMSoon=function(){var e=this;this.readDOMTimeout==null&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing)if(e.composing.done)e.composing=null;else return;e.updateFromDOM()},80))},$e.prototype.updateFromDOM=function(){var e=this;(this.cm.isReadOnly()||!this.pollContent())&&Ut(this.cm,function(){return Mt(e.cm)})},$e.prototype.setUneditable=function(e){e.contentEditable="false"},$e.prototype.onKeyPress=function(e){e.charCode==0||this.composing||(e.preventDefault(),this.cm.isReadOnly()||vt(this.cm,el)(this.cm,String.fromCharCode(e.charCode==null?e.keyCode:e.charCode),0))},$e.prototype.readOnlyChanged=function(e){this.div.contentEditable=String(e!="nocursor")},$e.prototype.onContextMenu=function(){},$e.prototype.resetPosition=function(){},$e.prototype.needsContentAttribute=!0;function hf(e,n){var a=ko(e,n.line);if(!a||a.hidden)return null;var i=Le(e.doc,n.line),s=qs(a,i,n.line),h=Lt(i,e.doc.direction),g="left";if(h){var m=ot(h,n.ch);g=m%2?"right":"left"}var y=Us(s.map,n.ch,g);return y.offset=y.collapse=="right"?y.end:y.start,y}function ng(e){for(var n=e;n;n=n.parentNode)if(/CodeMirror-gutter-wrapper/.test(n.className))return!0;return!1}function Lr(e,n){return n&&(e.bad=!0),e}function rg(e,n,a,i,s){var h="",g=!1,m=e.doc.lineSeparator(),y=!1;function E(V){return function(ie){return ie.id==V}}function N(){g&&(h+=m,y&&(h+=m),g=y=!1)}function q(V){V&&(N(),h+=V)}function Z(V){if(V.nodeType==1){var ie=V.getAttribute("cm-text");if(ie){q(ie);return}var fe=V.getAttribute("cm-marker"),ye;if(fe){var Ee=e.findMarks(ve(i,0),ve(s+1,0),E(+fe));Ee.length&&(ye=Ee[0].find(0))&&q(Wn(e.doc,ye.from,ye.to).join(m));return}if(V.getAttribute("contenteditable")=="false")return;var De=/^(pre|div|p|li|table|br)$/i.test(V.nodeName);if(!/^br$/i.test(V.nodeName)&&V.textContent.length==0)return;De&&N();for(var ke=0;ke<V.childNodes.length;ke++)Z(V.childNodes[ke]);/^(pre|p)$/i.test(V.nodeName)&&(y=!0),De&&(g=!0)}else V.nodeType==3&&q(V.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Z(n),n!=a;)n=n.nextSibling,y=!1;return h}function la(e,n,a){var i;if(n==e.display.lineDiv){if(i=e.display.lineDiv.childNodes[a],!i)return Lr(e.clipPos(ve(e.display.viewTo-1)),!0);n=null,a=0}else for(i=n;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var s=0;s<e.display.view.length;s++){var h=e.display.view[s];if(h.node==i)return ig(h,n,a)}}function ig(e,n,a){var i=e.text.firstChild,s=!1;if(!n||!M(i,n))return Lr(ve(Ke(e.line),0),!0);if(n==i&&(s=!0,n=i.childNodes[a],a=0,!n)){var h=e.rest?z(e.rest):e.line;return Lr(ve(Ke(h),h.text.length),s)}var g=n.nodeType==3?n:null,m=n;for(!g&&n.childNodes.length==1&&n.firstChild.nodeType==3&&(g=n.firstChild,a&&(a=g.nodeValue.length));m.parentNode!=i;)m=m.parentNode;var y=e.measure,E=y.maps;function N(ye,Ee,De){for(var ke=-1;ke<(E?E.length:0);ke++)for(var Ae=ke<0?y.map:E[ke],Ie=0;Ie<Ae.length;Ie+=3){var _e=Ae[Ie+2];if(_e==ye||_e==Ee){var ze=Ke(ke<0?e.line:e.rest[ke]),Ve=Ae[Ie]+De;return(De<0||_e!=ye)&&(Ve=Ae[Ie+(De?1:0)]),ve(ze,Ve)}}}var q=N(g,m,a);if(q)return Lr(q,s);for(var Z=m.nextSibling,V=g?g.nodeValue.length-a:0;Z;Z=Z.nextSibling){if(q=N(Z,Z.firstChild,0),q)return Lr(ve(q.line,q.ch-V),s);V+=Z.textContent.length}for(var ie=m.previousSibling,fe=a;ie;ie=ie.previousSibling){if(q=N(ie,ie.firstChild,-1),q)return Lr(ve(q.line,q.ch+fe),s);fe+=ie.textContent.length}}var lt=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Ce,this.hasSelection=!1,this.composing=null,this.resetting=!1};lt.prototype.init=function(e){var n=this,a=this,i=this.cm;this.createField(e);var s=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),H&&(s.style.width="0px"),Oe(s,"input",function(){c&&d>=9&&n.hasSelection&&(n.hasSelection=null),a.poll()}),Oe(s,"paste",function(g){je(i,g)||lf(g,i)||(i.state.pasteIncoming=+new Date,a.fastPoll())});function h(g){if(!je(i,g)){if(i.somethingSelected())oa({lineWise:!1,text:i.getSelections()});else if(i.options.lineWiseCopyCut){var m=uf(i);oa({lineWise:!0,text:m.text}),g.type=="cut"?i.setSelections(m.ranges,null,w):(a.prevInput="",s.value=m.text.join(`
`),O(s))}else return;g.type=="cut"&&(i.state.cutIncoming=+new Date)}}Oe(s,"cut",h),Oe(s,"copy",h),Oe(e.scroller,"paste",function(g){if(!(pn(e,g)||je(i,g))){if(!s.dispatchEvent){i.state.pasteIncoming=+new Date,a.focus();return}var m=new Event("paste");m.clipboardData=g.clipboardData,s.dispatchEvent(m)}}),Oe(e.lineSpace,"selectstart",function(g){pn(e,g)||Ne(g)}),Oe(s,"compositionstart",function(){var g=i.getCursor("from");a.composing&&a.composing.range.clear(),a.composing={start:g,range:i.markText(g,i.getCursor("to"),{className:"CodeMirror-composing"})}}),Oe(s,"compositionend",function(){a.composing&&(a.poll(),a.composing.range.clear(),a.composing=null)})},lt.prototype.createField=function(e){this.wrapper=ff(),this.textarea=this.wrapper.firstChild;var n=this.cm.options;tl(this.textarea,n.spellcheck,n.autocorrect,n.autocapitalize)},lt.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},lt.prototype.prepareSelection=function(){var e=this.cm,n=e.display,a=e.doc,i=eu(e);if(e.options.moveInputWithCursor){var s=Yt(e,a.sel.primary().head,"div"),h=n.wrapper.getBoundingClientRect(),g=n.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(n.wrapper.clientHeight-10,s.top+g.top-h.top)),i.teLeft=Math.max(0,Math.min(n.wrapper.clientWidth-10,s.left+g.left-h.left))}return i},lt.prototype.showSelection=function(e){var n=this.cm,a=n.display;T(a.cursorDiv,e.cursors),T(a.selectionDiv,e.selection),e.teTop!=null&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},lt.prototype.reset=function(e){if(!(this.contextMenuPending||this.composing&&e)){var n=this.cm;if(this.resetting=!0,n.somethingSelected()){this.prevInput="";var a=n.getSelection();this.textarea.value=a,n.state.focused&&O(this.textarea),c&&d>=9&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",c&&d>=9&&(this.hasSelection=null));this.resetting=!1}},lt.prototype.getField=function(){return this.textarea},lt.prototype.supportsTouch=function(){return!1},lt.prototype.focus=function(){if(this.cm.options.readOnly!="nocursor"&&(!ne||j(le(this.textarea))!=this.textarea))try{this.textarea.focus()}catch{}},lt.prototype.blur=function(){this.textarea.blur()},lt.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},lt.prototype.receivedFocus=function(){this.slowPoll()},lt.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},lt.prototype.fastPoll=function(){var e=!1,n=this;n.pollingFast=!0;function a(){var i=n.poll();!i&&!e?(e=!0,n.polling.set(60,a)):(n.pollingFast=!1,n.slowPoll())}n.polling.set(20,a)},lt.prototype.poll=function(){var e=this,n=this.cm,a=this.textarea,i=this.prevInput;if(this.contextMenuPending||this.resetting||!n.state.focused||rd(a)&&!i&&!this.composing||n.isReadOnly()||n.options.disableInput||n.state.keySeq)return!1;var s=a.value;if(s==i&&!n.somethingSelected())return!1;if(c&&d>=9&&this.hasSelection===s||Q&&/[\uf700-\uf7ff]/.test(s))return n.display.input.reset(),!1;if(n.doc.sel==n.display.selForContextMenu){var h=s.charCodeAt(0);if(h==8203&&!i&&(i="\u200B"),h==8666)return this.reset(),this.cm.execCommand("undo")}for(var g=0,m=Math.min(i.length,s.length);g<m&&i.charCodeAt(g)==s.charCodeAt(g);)++g;return Ut(n,function(){el(n,s.slice(g),i.length-g,null,e.composing?"*compose":null),s.length>1e3||s.indexOf(`
`)>-1?a.value=e.prevInput="":e.prevInput=s,e.composing&&(e.composing.range.clear(),e.composing.range=n.markText(e.composing.start,n.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},lt.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},lt.prototype.onKeyPress=function(){c&&d>=9&&(this.hasSelection=null),this.fastPoll()},lt.prototype.onContextMenu=function(e){var n=this,a=n.cm,i=a.display,s=n.textarea;n.contextMenuPending&&n.contextMenuPending();var h=Xn(a,e),g=i.scroller.scrollTop;if(!h||W)return;var m=a.options.resetSelectionOnContextMenu;m&&a.doc.sel.contains(h)==-1&&vt(a,At)(a.doc,Dn(h),w);var y=s.style.cssText,E=n.wrapper.style.cssText,N=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static",s.style.cssText=`position: absolute; width: 30px; height: 30px;
      top: `+(e.clientY-N.top-5)+"px; left: "+(e.clientX-N.left-5)+`px;
      z-index: 1000; background: `+(c?"rgba(255, 255, 255, .05)":"transparent")+`;
      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);`;var q;v&&(q=s.ownerDocument.defaultView.scrollY),i.input.focus(),v&&s.ownerDocument.defaultView.scrollTo(null,q),i.input.reset(),a.somethingSelected()||(s.value=n.prevInput=" "),n.contextMenuPending=V,i.selForContextMenu=a.doc.sel,clearTimeout(i.detectingSelectAll);function Z(){if(s.selectionStart!=null){var fe=a.somethingSelected(),ye="\u200B"+(fe?s.value:"");s.value="\u21DA",s.value=ye,n.prevInput=fe?"":"\u200B",s.selectionStart=1,s.selectionEnd=ye.length,i.selForContextMenu=a.doc.sel}}function V(){if(n.contextMenuPending==V&&(n.contextMenuPending=!1,n.wrapper.style.cssText=E,s.style.cssText=y,c&&d<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=g),s.selectionStart!=null)){(!c||c&&d<9)&&Z();var fe=0,ye=function(){i.selForContextMenu==a.doc.sel&&s.selectionStart==0&&s.selectionEnd>0&&n.prevInput=="\u200B"?vt(a,Lu)(a):fe++<10?i.detectingSelectAll=setTimeout(ye,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(ye,200)}}if(c&&d>=9&&Z(),Re){qn(e);var ie=function(){Dt(window,"mouseup",ie),setTimeout(V,20)};Oe(window,"mouseup",ie)}else setTimeout(V,50)},lt.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled=e=="nocursor",this.textarea.readOnly=!!e},lt.prototype.setUneditable=function(){},lt.prototype.needsContentAttribute=!1;function ag(e,n){if(n=n?me(n):{},n.value=e.value,!n.tabindex&&e.tabIndex&&(n.tabindex=e.tabIndex),!n.placeholder&&e.placeholder&&(n.placeholder=e.placeholder),n.autofocus==null){var a=j(le(e));n.autofocus=a==e||e.getAttribute("autofocus")!=null&&a==document.body}function i(){e.value=m.getValue()}var s;if(e.form&&(Oe(e.form,"submit",i),!n.leaveSubmitMethodAlone)){var h=e.form;s=h.submit;try{var g=h.submit=function(){i(),h.submit=s,h.submit(),h.submit=g}}catch{}}n.finishInit=function(y){y.save=i,y.getTextArea=function(){return e},y.toTextArea=function(){y.toTextArea=isNaN,i(),e.parentNode.removeChild(y.getWrapperElement()),e.style.display="",e.form&&(Dt(e.form,"submit",i),!n.leaveSubmitMethodAlone&&typeof e.form.submit=="function"&&(e.form.submit=s))}},e.style.display="none";var m=et(function(y){return e.parentNode.insertBefore(y,e.nextSibling)},n);return m}function og(e){e.off=Dt,e.on=Oe,e.wheelEventPixels=dp,e.Doc=Ht,e.splitLines=cr,e.countColumn=be,e.findColumn=S,e.isWordChar=Me,e.Pass=p,e.signal=rt,e.Line=pr,e.changeEnd=Tn,e.scrollbarModel=ou,e.Pos=ve,e.cmpPos=Pe,e.modes=io,e.mimeModes=hr,e.resolveMode=Li,e.getMode=ao,e.modeExtensions=dr,e.extendMode=sd,e.copyState=zn,e.startState=hs,e.innerMode=oo,e.commands=ci,e.keyMap=mn,e.keyName=Xu,e.isModifierKey=ju,e.lookupKey=Sr,e.normalizeKeyMap=Np,e.StringStream=ft,e.SharedTextMarker=si,e.TextMarker=An,e.LineWidget=li,e.e_preventDefault=Ne,e.e_stopPropagation=Wt,e.e_stop=qn,e.addClass=R,e.contains=M,e.rmClass=X,e.keyNames=Fn}Zp(et),tg(et);var lg="iter insert remove copy getEditor constructor".split(" ");for(var sa in Ht.prototype)Ht.prototype.hasOwnProperty(sa)&&D(lg,sa)<0&&(et.prototype[sa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Ht.prototype[sa]));return dt(Ht),et.inputStyles={textarea:lt,contenteditable:$e},et.defineMode=function(e){!et.defaults.mode&&e!="null"&&(et.defaults.mode=e),od.apply(this,arguments)},et.defineMIME=ld,et.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),et.defineMIME("text/plain","null"),et.defineExtension=function(e,n){et.prototype[e]=n},et.defineDocExtension=function(e,n){Ht.prototype[e]=n},et.fromTextArea=ag,og(et),et.version="5.65.17",et})});var kf=Et((bf,Ef)=>{(function(t){typeof bf=="object"&&typeof Ef=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var r=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,o=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,l=/[*+-]\s/;t.commands.newlineAndIndentContinueMarkdownList=function(f){if(f.getOption("disableInput"))return t.Pass;for(var c=f.listSelections(),d=[],v=0;v<c.length;v++){var C=c[v].head,F=f.getStateAfter(C.line),P=t.innerMode(f.getMode(),F);if(P.mode.name!=="markdown"&&P.mode.helperType!=="markdown"){f.execCommand("newlineAndIndent");return}else F=P.state;var W=F.list!==!1,K=F.quote!==0,ee=f.getLine(C.line),Y=r.exec(ee),H=/^\s*$/.test(ee.slice(0,C.ch));if(!c[v].empty()||!W&&!K||!Y||H){f.execCommand("newlineAndIndent");return}if(o.test(ee)){var $=K&&/>\s*$/.test(ee),ne=!/>\s*$/.test(ee);($||ne)&&f.replaceRange("",{line:C.line,ch:0},{line:C.line,ch:C.ch+1}),d[v]=`
`}else{var Q=Y[1],te=Y[5],he=!(l.test(Y[2])||Y[2].indexOf(">")>=0),ce=he?parseInt(Y[3],10)+1+Y[4]:Y[2].replace("x"," ");d[v]=`
`+Q+ce+te,he&&u(f,C)}}f.replaceSelections(d)};function u(f,c){var d=c.line,v=0,C=0,F=r.exec(f.getLine(d)),P=F[1];do{v+=1;var W=d+v,K=f.getLine(W),ee=r.exec(K);if(ee){var Y=ee[1],H=parseInt(F[3],10)+v-C,$=parseInt(ee[3],10),ne=$;if(P===Y&&!isNaN($))H===$&&(ne=$+1),H>$&&(ne=H+1),f.replaceRange(K.replace(r,Y+ne+ee[4]+ee[5]),{line:W,ch:0},{line:W,ch:K.length});else{if(P.length>Y.length||P.length<Y.length&&v===1)return;C+=1}}}while(ee)}})});var Cf=Et(()=>{var wf=Gt();wf.commands.tabAndIndentMarkdownList=function(t){var r=t.listSelections(),o=r[0].head,l=t.getStateAfter(o.line),u=l.list!==!1;if(u){t.execCommand("indentMore");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var f=Array(t.options.tabSize+1).join(" ");t.replaceSelection(f)}};wf.commands.shiftTabAndUnindentMarkdownList=function(t){var r=t.listSelections(),o=r[0].head,l=t.getStateAfter(o.line),u=l.list!==!1;if(u){t.execCommand("indentLess");return}if(t.options.indentWithTabs)t.execCommand("insertTab");else{var f=Array(t.options.tabSize+1).join(" ");t.replaceSelection(f)}}});var Sf=Et((Df,Tf)=>{(function(t){typeof Df=="object"&&typeof Tf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineOption("fullScreen",!1,function(l,u,f){f==t.Init&&(f=!1),!f!=!u&&(u?r(l):o(l))});function r(l){var u=l.getWrapperElement();l.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:u.style.width,height:u.style.height},u.style.width="",u.style.height="auto",u.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",l.refresh()}function o(l){var u=l.getWrapperElement();u.className=u.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var f=l.state.fullScreenRestore;u.style.width=f.width,u.style.height=f.height,window.scrollTo(f.scrollLeft,f.scrollTop),l.refresh()}})});var ll=Et((Af,Ff)=>{(function(t){typeof Af=="object"&&typeof Ff=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var r={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},o={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};t.defineMode("xml",function(l,u){var f=l.indentUnit,c={},d=u.htmlMode?r:o;for(var v in d)c[v]=d[v];for(var v in u)c[v]=u[v];var C,F;function P(k,_){function U(R){return _.tokenize=R,R(k,_)}var M=k.next();if(M=="<")return k.eat("!")?k.eat("[")?k.match("CDATA[")?U(ee("atom","]]>")):null:k.match("--")?U(ee("comment","-->")):k.match("DOCTYPE",!0,!0)?(k.eatWhile(/[\w\._\-]/),U(Y(1))):null:k.eat("?")?(k.eatWhile(/[\w\._\-]/),_.tokenize=ee("meta","?>"),"meta"):(C=k.eat("/")?"closeTag":"openTag",_.tokenize=W,"tag bracket");if(M=="&"){var j;return k.eat("#")?k.eat("x")?j=k.eatWhile(/[a-fA-F\d]/)&&k.eat(";"):j=k.eatWhile(/[\d]/)&&k.eat(";"):j=k.eatWhile(/[\w\.\-:]/)&&k.eat(";"),j?"atom":"error"}else return k.eatWhile(/[^&<]/),null}P.isInText=!0;function W(k,_){var U=k.next();if(U==">"||U=="/"&&k.eat(">"))return _.tokenize=P,C=U==">"?"endTag":"selfcloseTag","tag bracket";if(U=="=")return C="equals",null;if(U=="<"){_.tokenize=P,_.state=te,_.tagName=_.tagStart=null;var M=_.tokenize(k,_);return M?M+" tag error":"tag error"}else return/[\'\"]/.test(U)?(_.tokenize=K(U),_.stringStartCol=k.column(),_.tokenize(k,_)):(k.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function K(k){var _=function(U,M){for(;!U.eol();)if(U.next()==k){M.tokenize=W;break}return"string"};return _.isInAttribute=!0,_}function ee(k,_){return function(U,M){for(;!U.eol();){if(U.match(_)){M.tokenize=P;break}U.next()}return k}}function Y(k){return function(_,U){for(var M;(M=_.next())!=null;){if(M=="<")return U.tokenize=Y(k+1),U.tokenize(_,U);if(M==">")if(k==1){U.tokenize=P;break}else return U.tokenize=Y(k-1),U.tokenize(_,U)}return"meta"}}function H(k){return k&&k.toLowerCase()}function $(k,_,U){this.prev=k.context,this.tagName=_||"",this.indent=k.indented,this.startOfLine=U,(c.doNotIndent.hasOwnProperty(_)||k.context&&k.context.noIndent)&&(this.noIndent=!0)}function ne(k){k.context&&(k.context=k.context.prev)}function Q(k,_){for(var U;;){if(!k.context||(U=k.context.tagName,!c.contextGrabbers.hasOwnProperty(H(U))||!c.contextGrabbers[H(U)].hasOwnProperty(H(_))))return;ne(k)}}function te(k,_,U){return k=="openTag"?(U.tagStart=_.column(),he):k=="closeTag"?ce:te}function he(k,_,U){return k=="word"?(U.tagName=_.current(),F="tag",de):c.allowMissingTagName&&k=="endTag"?(F="tag bracket",de(k,_,U)):(F="error",he)}function ce(k,_,U){if(k=="word"){var M=_.current();return U.context&&U.context.tagName!=M&&c.implicitlyClosed.hasOwnProperty(H(U.context.tagName))&&ne(U),U.context&&U.context.tagName==M||c.matchClosing===!1?(F="tag",ge):(F="tag error",Re)}else return c.allowMissingTagName&&k=="endTag"?(F="tag bracket",ge(k,_,U)):(F="error",Re)}function ge(k,_,U){return k!="endTag"?(F="error",ge):(ne(U),te)}function Re(k,_,U){return F="error",ge(k,_,U)}function de(k,_,U){if(k=="word")return F="attribute",X;if(k=="endTag"||k=="selfcloseTag"){var M=U.tagName,j=U.tagStart;return U.tagName=U.tagStart=null,k=="selfcloseTag"||c.autoSelfClosers.hasOwnProperty(H(M))?Q(U,M):(Q(U,M),U.context=new $(U,M,j==U.indented)),te}return F="error",de}function X(k,_,U){return k=="equals"?x:(c.allowMissing||(F="error"),de(k,_,U))}function x(k,_,U){return k=="string"?T:k=="word"&&c.allowUnquoted?(F="string",de):(F="error",de(k,_,U))}function T(k,_,U){return k=="string"?T:de(k,_,U)}return{startState:function(k){var _={tokenize:P,state:te,indented:k||0,tagName:null,tagStart:null,context:null};return k!=null&&(_.baseIndent=k),_},token:function(k,_){if(!_.tagName&&k.sol()&&(_.indented=k.indentation()),k.eatSpace())return null;C=null;var U=_.tokenize(k,_);return(U||C)&&U!="comment"&&(F=null,_.state=_.state(C||U,k,_),F&&(U=F=="error"?U+" error":F)),U},indent:function(k,_,U){var M=k.context;if(k.tokenize.isInAttribute)return k.tagStart==k.indented?k.stringStartCol+1:k.indented+f;if(M&&M.noIndent)return t.Pass;if(k.tokenize!=W&&k.tokenize!=P)return U?U.match(/^(\s*)/)[0].length:0;if(k.tagName)return c.multilineTagIndentPastTag!==!1?k.tagStart+k.tagName.length+2:k.tagStart+f*(c.multilineTagIndentFactor||1);if(c.alignCDATA&&/<!\[CDATA\[/.test(_))return 0;var j=_&&/^<(\/)?([\w_:\.-]*)/.exec(_);if(j&&j[1])for(;M;)if(M.tagName==j[2]){M=M.prev;break}else if(c.implicitlyClosed.hasOwnProperty(H(M.tagName)))M=M.prev;else break;else if(j)for(;M;){var R=c.contextGrabbers[H(M.tagName)];if(R&&R.hasOwnProperty(H(j[2])))M=M.prev;else break}for(;M&&M.prev&&!M.startOfLine;)M=M.prev;return M?M.indent+f:k.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:c.htmlMode?"html":"xml",helperType:c.htmlMode?"html":"xml",skipAttribute:function(k){k.state==x&&(k.state=de)},xmlCurrentTag:function(k){return k.tagName?{name:k.tagName,close:k.type=="closeTag"}:null},xmlCurrentContext:function(k){for(var _=[],U=k.context;U;U=U.prev)_.push(U.tagName);return _.reverse()}}}),t.defineMIME("text/xml","xml"),t.defineMIME("application/xml","xml"),t.mimeModes.hasOwnProperty("text/html")||t.defineMIME("text/html",{name:"xml",htmlMode:!0})})});var Of=Et((Lf,_f)=>{(function(t){typeof Lf=="object"&&typeof _f=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-encrypted","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["asc","pgp","sig"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h","ino"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy","cbl"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp","cs"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists\.txt$/},{name:"CoffeeScript",mimes:["application/vnd.coffeescript","text/coffeescript","text/x-coffeescript"],mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded JavaScript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Esper",mime:"text/x-esper",mode:"sql"},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90","f95"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history)\.md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"],file:/^Jenkinsfile$/},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm","handlebars","hbs"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Pug",mime:"text/x-pug",mode:"pug",ext:["jade","pug"],alias:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"text/jinja2",mode:"jinja2",ext:["j2","jinja","jinja2"]},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"],alias:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb","wl","wls"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mimes:["application/n-triples","application/n-quads","text/n-triples"],mode:"ntriples",ext:["nt","nq"]},{name:"Objective-C",mime:"text/x-objectivec",mode:"clike",ext:["m"],alias:["objective-c","objc"]},{name:"Objective-C++",mime:"text/x-objectivec++",mode:"clike",ext:["mm"],alias:["objective-c++","objc++"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mimes:["text/x-php","application/x-httpd-php","application/x-httpd-php-open"],mode:"php",ext:["php","php3","php4","php5","php7","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PostgreSQL",mime:"text/x-pgsql",mode:"sql"},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r","R"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mimes:["text/x-sh","application/x-sh"],mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"SML",mime:"text/x-sml",mode:"mllike",ext:["sml","sig","fun","smackspec"]},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"SQLite",mime:"text/x-sqlite",mode:"sql"},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Stylus",mime:"text/x-styl",mode:"stylus",ext:["styl"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx","tex"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v","sv","svh"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"TypeScript-JSX",mime:"text/typescript-jsx",mode:"jsx",ext:["tsx"],alias:["tsx"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"Vue.js Component",mimes:["script/x-vue","text/x-vue"],mode:"vue",ext:["vue"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd","svg"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mimes:["text/x-yaml","text/yaml"],mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]},{name:"WebAssembly",mime:"text/webassembly",mode:"wast",ext:["wat","wast"]}];for(var r=0;r<t.modeInfo.length;r++){var o=t.modeInfo[r];o.mimes&&(o.mime=o.mimes[0])}t.findModeByMIME=function(l){l=l.toLowerCase();for(var u=0;u<t.modeInfo.length;u++){var f=t.modeInfo[u];if(f.mime==l)return f;if(f.mimes){for(var c=0;c<f.mimes.length;c++)if(f.mimes[c]==l)return f}}if(/\+xml$/.test(l))return t.findModeByMIME("application/xml");if(/\+json$/.test(l))return t.findModeByMIME("application/json")},t.findModeByExtension=function(l){l=l.toLowerCase();for(var u=0;u<t.modeInfo.length;u++){var f=t.modeInfo[u];if(f.ext){for(var c=0;c<f.ext.length;c++)if(f.ext[c]==l)return f}}},t.findModeByFileName=function(l){for(var u=0;u<t.modeInfo.length;u++){var f=t.modeInfo[u];if(f.file&&f.file.test(l))return f}var c=l.lastIndexOf("."),d=c>-1&&l.substring(c+1,l.length);if(d)return t.findModeByExtension(d)},t.findModeByName=function(l){l=l.toLowerCase();for(var u=0;u<t.modeInfo.length;u++){var f=t.modeInfo[u];if(f.name.toLowerCase()==l)return f;if(f.alias){for(var c=0;c<f.alias.length;c++)if(f.alias[c].toLowerCase()==l)return f}}}})});var sl=Et((If,Rf)=>{(function(t){typeof If=="object"&&typeof Rf=="object"?t(Gt(),ll(),Of()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],t):t(CodeMirror)})(function(t){"use strict";t.defineMode("markdown",function(r,o){var l=t.getMode(r,"text/html"),u=l.name=="null";function f(O){if(t.findModeByName){var b=t.findModeByName(O);b&&(O=b.mime||b.mimes[0])}var J=t.getMode(r,O);return J.name=="null"?null:J}o.highlightFormatting===void 0&&(o.highlightFormatting=!1),o.maxBlockquoteDepth===void 0&&(o.maxBlockquoteDepth=0),o.taskLists===void 0&&(o.taskLists=!1),o.strikethrough===void 0&&(o.strikethrough=!1),o.emoji===void 0&&(o.emoji=!1),o.fencedCodeBlockHighlighting===void 0&&(o.fencedCodeBlockHighlighting=!0),o.fencedCodeBlockDefaultMode===void 0&&(o.fencedCodeBlockDefaultMode="text/plain"),o.xml===void 0&&(o.xml=!0),o.tokenTypeOverrides===void 0&&(o.tokenTypeOverrides={});var c={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough",emoji:"builtin"};for(var d in c)c.hasOwnProperty(d)&&o.tokenTypeOverrides[d]&&(c[d]=o.tokenTypeOverrides[d]);var v=/^([*\-_])(?:\s*\1){2,}\s*$/,C=/^(?:[*\-+]|^[0-9]+([.)]))\s+/,F=/^\[(x| )\](?=\s)/i,P=o.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,W=/^ {0,3}(?:\={1,}|-{2,})\s*$/,K=/^[^#!\[\]*_\\<>` "'(~:]+/,ee=/^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/,Y=/^\s*\[[^\]]+?\]:.*$/,H=/[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/,$="    ";function ne(O,b,J){return b.f=b.inline=J,J(O,b)}function Q(O,b,J){return b.f=b.block=J,J(O,b)}function te(O){return!O||!/\S/.test(O.string)}function he(O){if(O.linkTitle=!1,O.linkHref=!1,O.linkText=!1,O.em=!1,O.strong=!1,O.strikethrough=!1,O.quote=0,O.indentedCode=!1,O.f==ge){var b=u;if(!b){var J=t.innerMode(l,O.htmlState);b=J.mode.name=="xml"&&J.state.tagStart===null&&!J.state.context&&J.state.tokenize.isInText}b&&(O.f=x,O.block=ce,O.htmlState=null)}return O.trailingSpace=0,O.trailingSpaceNewLine=!1,O.prevLine=O.thisLine,O.thisLine={stream:null},null}function ce(O,b){var J=O.column()===b.indentation,le=te(b.prevLine.stream),oe=b.indentedCode,xe=b.prevLine.hr,me=b.list!==!1,be=(b.listStack[b.listStack.length-1]||0)+3;b.indentedCode=!1;var Ce=b.indentation;if(b.indentationDiff===null&&(b.indentationDiff=b.indentation,me)){for(b.list=null;Ce<b.listStack[b.listStack.length-1];)b.listStack.pop(),b.listStack.length?b.indentation=b.listStack[b.listStack.length-1]:b.list=!1;b.list!==!1&&(b.indentationDiff=Ce-b.listStack[b.listStack.length-1])}var D=!le&&!xe&&!b.prevLine.header&&(!me||!oe)&&!b.prevLine.fencedCodeEnd,A=(b.list===!1||xe||le)&&b.indentation<=be&&O.match(v),p=null;if(b.indentationDiff>=4&&(oe||b.prevLine.fencedCodeEnd||b.prevLine.header||le))return O.skipToEnd(),b.indentedCode=!0,c.code;if(O.eatSpace())return null;if(J&&b.indentation<=be&&(p=O.match(P))&&p[1].length<=6)return b.quote=0,b.header=p[1].length,b.thisLine.header=!0,o.highlightFormatting&&(b.formatting="header"),b.f=b.inline,de(b);if(b.indentation<=be&&O.eat(">"))return b.quote=J?1:b.quote+1,o.highlightFormatting&&(b.formatting="quote"),O.eatSpace(),de(b);if(!A&&!b.setext&&J&&b.indentation<=be&&(p=O.match(C))){var w=p[1]?"ol":"ul";return b.indentation=Ce+O.current().length,b.list=!0,b.quote=0,b.listStack.push(b.indentation),b.em=!1,b.strong=!1,b.code=!1,b.strikethrough=!1,o.taskLists&&O.match(F,!1)&&(b.taskList=!0),b.f=b.inline,o.highlightFormatting&&(b.formatting=["list","list-"+w]),de(b)}else{if(J&&b.indentation<=be&&(p=O.match(ee,!0)))return b.quote=0,b.fencedEndRE=new RegExp(p[1]+"+ *$"),b.localMode=o.fencedCodeBlockHighlighting&&f(p[2]||o.fencedCodeBlockDefaultMode),b.localMode&&(b.localState=t.startState(b.localMode)),b.f=b.block=Re,o.highlightFormatting&&(b.formatting="code-block"),b.code=-1,de(b);if(b.setext||(!D||!me)&&!b.quote&&b.list===!1&&!b.code&&!A&&!Y.test(O.string)&&(p=O.lookAhead(1))&&(p=p.match(W)))return b.setext?(b.header=b.setext,b.setext=0,O.skipToEnd(),o.highlightFormatting&&(b.formatting="header")):(b.header=p[0].charAt(0)=="="?1:2,b.setext=b.header),b.thisLine.header=!0,b.f=b.inline,de(b);if(A)return O.skipToEnd(),b.hr=!0,b.thisLine.hr=!0,c.hr;if(O.peek()==="[")return ne(O,b,M)}return ne(O,b,b.inline)}function ge(O,b){var J=l.token(O,b.htmlState);if(!u){var le=t.innerMode(l,b.htmlState);(le.mode.name=="xml"&&le.state.tagStart===null&&!le.state.context&&le.state.tokenize.isInText||b.md_inside&&O.current().indexOf(">")>-1)&&(b.f=x,b.block=ce,b.htmlState=null)}return J}function Re(O,b){var J=b.listStack[b.listStack.length-1]||0,le=b.indentation<J,oe=J+3;if(b.fencedEndRE&&b.indentation<=oe&&(le||O.match(b.fencedEndRE))){o.highlightFormatting&&(b.formatting="code-block");var xe;return le||(xe=de(b)),b.localMode=b.localState=null,b.block=ce,b.f=x,b.fencedEndRE=null,b.code=0,b.thisLine.fencedCodeEnd=!0,le?Q(O,b,b.block):xe}else return b.localMode?b.localMode.token(O,b.localState):(O.skipToEnd(),c.code)}function de(O){var b=[];if(O.formatting){b.push(c.formatting),typeof O.formatting=="string"&&(O.formatting=[O.formatting]);for(var J=0;J<O.formatting.length;J++)b.push(c.formatting+"-"+O.formatting[J]),O.formatting[J]==="header"&&b.push(c.formatting+"-"+O.formatting[J]+"-"+O.header),O.formatting[J]==="quote"&&(!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=O.quote?b.push(c.formatting+"-"+O.formatting[J]+"-"+O.quote):b.push("error"))}if(O.taskOpen)return b.push("meta"),b.length?b.join(" "):null;if(O.taskClosed)return b.push("property"),b.length?b.join(" "):null;if(O.linkHref?b.push(c.linkHref,"url"):(O.strong&&b.push(c.strong),O.em&&b.push(c.em),O.strikethrough&&b.push(c.strikethrough),O.emoji&&b.push(c.emoji),O.linkText&&b.push(c.linkText),O.code&&b.push(c.code),O.image&&b.push(c.image),O.imageAltText&&b.push(c.imageAltText,"link"),O.imageMarker&&b.push(c.imageMarker)),O.header&&b.push(c.header,c.header+"-"+O.header),O.quote&&(b.push(c.quote),!o.maxBlockquoteDepth||o.maxBlockquoteDepth>=O.quote?b.push(c.quote+"-"+O.quote):b.push(c.quote+"-"+o.maxBlockquoteDepth)),O.list!==!1){var le=(O.listStack.length-1)%3;le?le===1?b.push(c.list2):b.push(c.list3):b.push(c.list1)}return O.trailingSpaceNewLine?b.push("trailing-space-new-line"):O.trailingSpace&&b.push("trailing-space-"+(O.trailingSpace%2?"a":"b")),b.length?b.join(" "):null}function X(O,b){if(O.match(K,!0))return de(b)}function x(O,b){var J=b.text(O,b);if(typeof J<"u")return J;if(b.list)return b.list=null,de(b);if(b.taskList){var le=O.match(F,!0)[1]===" ";return le?b.taskOpen=!0:b.taskClosed=!0,o.highlightFormatting&&(b.formatting="task"),b.taskList=!1,de(b)}if(b.taskOpen=!1,b.taskClosed=!1,b.header&&O.match(/^#+$/,!0))return o.highlightFormatting&&(b.formatting="header"),de(b);var oe=O.next();if(b.linkTitle){b.linkTitle=!1;var xe=oe;oe==="("&&(xe=")"),xe=(xe+"").replace(/([.?*+^\[\]\\(){}|-])/g,"\\$1");var me="^\\s*(?:[^"+xe+"\\\\]+|\\\\\\\\|\\\\.)"+xe;if(O.match(new RegExp(me),!0))return c.linkHref}if(oe==="`"){var be=b.formatting;o.highlightFormatting&&(b.formatting="code"),O.eatWhile("`");var Ce=O.current().length;if(b.code==0&&(!b.quote||Ce==1))return b.code=Ce,de(b);if(Ce==b.code){var D=de(b);return b.code=0,D}else return b.formatting=be,de(b)}else if(b.code)return de(b);if(oe==="\\"&&(O.next(),o.highlightFormatting)){var A=de(b),p=c.formatting+"-escape";return A?A+" "+p:p}if(oe==="!"&&O.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return b.imageMarker=!0,b.image=!0,o.highlightFormatting&&(b.formatting="image"),de(b);if(oe==="["&&b.imageMarker&&O.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/,!1))return b.imageMarker=!1,b.imageAltText=!0,o.highlightFormatting&&(b.formatting="image"),de(b);if(oe==="]"&&b.imageAltText){o.highlightFormatting&&(b.formatting="image");var A=de(b);return b.imageAltText=!1,b.image=!1,b.inline=b.f=k,A}if(oe==="["&&!b.image)return b.linkText&&O.match(/^.*?\]/)||(b.linkText=!0,o.highlightFormatting&&(b.formatting="link")),de(b);if(oe==="]"&&b.linkText){o.highlightFormatting&&(b.formatting="link");var A=de(b);return b.linkText=!1,b.inline=b.f=O.match(/\(.*?\)| ?\[.*?\]/,!1)?k:x,A}if(oe==="<"&&O.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=T,o.highlightFormatting&&(b.formatting="link");var A=de(b);return A?A+=" ":A="",A+c.linkInline}if(oe==="<"&&O.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){b.f=b.inline=T,o.highlightFormatting&&(b.formatting="link");var A=de(b);return A?A+=" ":A="",A+c.linkEmail}if(o.xml&&oe==="<"&&O.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i,!1)){var w=O.string.indexOf(">",O.pos);if(w!=-1){var I=O.string.substring(O.start,w);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(I)&&(b.md_inside=!0)}return O.backUp(1),b.htmlState=t.startState(l),Q(O,b,ge)}if(o.xml&&oe==="<"&&O.match(/^\/\w*?>/))return b.md_inside=!1,"tag";if(oe==="*"||oe==="_"){for(var L=1,S=O.pos==1?" ":O.string.charAt(O.pos-2);L<3&&O.eat(oe);)L++;var B=O.peek()||" ",G=!/\s/.test(B)&&(!H.test(B)||/\s/.test(S)||H.test(S)),z=!/\s/.test(S)&&(!H.test(S)||/\s/.test(B)||H.test(B)),ae=null,pe=null;if(L%2&&(!b.em&&G&&(oe==="*"||!z||H.test(S))?ae=!0:b.em==oe&&z&&(oe==="*"||!G||H.test(B))&&(ae=!1)),L>1&&(!b.strong&&G&&(oe==="*"||!z||H.test(S))?pe=!0:b.strong==oe&&z&&(oe==="*"||!G||H.test(B))&&(pe=!1)),pe!=null||ae!=null){o.highlightFormatting&&(b.formatting=ae==null?"strong":pe==null?"em":"strong em"),ae===!0&&(b.em=oe),pe===!0&&(b.strong=oe);var D=de(b);return ae===!1&&(b.em=!1),pe===!1&&(b.strong=!1),D}}else if(oe===" "&&(O.eat("*")||O.eat("_"))){if(O.peek()===" ")return de(b);O.backUp(1)}if(o.strikethrough){if(oe==="~"&&O.eatWhile(oe)){if(b.strikethrough){o.highlightFormatting&&(b.formatting="strikethrough");var D=de(b);return b.strikethrough=!1,D}else if(O.match(/^[^\s]/,!1))return b.strikethrough=!0,o.highlightFormatting&&(b.formatting="strikethrough"),de(b)}else if(oe===" "&&O.match("~~",!0)){if(O.peek()===" ")return de(b);O.backUp(2)}}if(o.emoji&&oe===":"&&O.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)){b.emoji=!0,o.highlightFormatting&&(b.formatting="emoji");var ue=de(b);return b.emoji=!1,ue}return oe===" "&&(O.match(/^ +$/,!1)?b.trailingSpace++:b.trailingSpace&&(b.trailingSpaceNewLine=!0)),de(b)}function T(O,b){var J=O.next();if(J===">"){b.f=b.inline=x,o.highlightFormatting&&(b.formatting="link");var le=de(b);return le?le+=" ":le="",le+c.linkInline}return O.match(/^[^>]+/,!0),c.linkInline}function k(O,b){if(O.eatSpace())return null;var J=O.next();return J==="("||J==="["?(b.f=b.inline=U(J==="("?")":"]"),o.highlightFormatting&&(b.formatting="link-string"),b.linkHref=!0,de(b)):"error"}var _={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/};function U(O){return function(b,J){var le=b.next();if(le===O){J.f=J.inline=x,o.highlightFormatting&&(J.formatting="link-string");var oe=de(J);return J.linkHref=!1,oe}return b.match(_[O]),J.linkHref=!0,de(J)}}function M(O,b){return O.match(/^([^\]\\]|\\.)*\]:/,!1)?(b.f=j,O.next(),o.highlightFormatting&&(b.formatting="link"),b.linkText=!0,de(b)):ne(O,b,x)}function j(O,b){if(O.match("]:",!0)){b.f=b.inline=R,o.highlightFormatting&&(b.formatting="link");var J=de(b);return b.linkText=!1,J}return O.match(/^([^\]\\]|\\.)+/,!0),c.linkText}function R(O,b){return O.eatSpace()?null:(O.match(/^[^\s]+/,!0),O.peek()===void 0?b.linkTitle=!0:O.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/,!0),b.f=b.inline=x,c.linkHref+" url")}var se={startState:function(){return{f:ce,prevLine:{stream:null},thisLine:{stream:null},block:ce,htmlState:null,indentation:0,inline:x,text:X,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,setext:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,emoji:!1,fencedEndRE:null}},copyState:function(O){return{f:O.f,prevLine:O.prevLine,thisLine:O.thisLine,block:O.block,htmlState:O.htmlState&&t.copyState(l,O.htmlState),indentation:O.indentation,localMode:O.localMode,localState:O.localMode?t.copyState(O.localMode,O.localState):null,inline:O.inline,text:O.text,formatting:!1,linkText:O.linkText,linkTitle:O.linkTitle,linkHref:O.linkHref,code:O.code,em:O.em,strong:O.strong,strikethrough:O.strikethrough,emoji:O.emoji,header:O.header,setext:O.setext,hr:O.hr,taskList:O.taskList,list:O.list,listStack:O.listStack.slice(0),quote:O.quote,indentedCode:O.indentedCode,trailingSpace:O.trailingSpace,trailingSpaceNewLine:O.trailingSpaceNewLine,md_inside:O.md_inside,fencedEndRE:O.fencedEndRE}},token:function(O,b){if(b.formatting=!1,O!=b.thisLine.stream){if(b.header=0,b.hr=!1,O.match(/^\s*$/,!0))return he(b),null;if(b.prevLine=b.thisLine,b.thisLine={stream:O},b.taskList=!1,b.trailingSpace=0,b.trailingSpaceNewLine=!1,!b.localState&&(b.f=b.block,b.f!=ge)){var J=O.match(/^\s*/,!0)[0].replace(/\t/g,$).length;if(b.indentation=J,b.indentationDiff=null,J>0)return null}}return b.f(O,b)},innerMode:function(O){return O.block==ge?{state:O.htmlState,mode:l}:O.localState?{state:O.localState,mode:O.localMode}:{state:O,mode:se}},indent:function(O,b,J){return O.block==ge&&l.indent?l.indent(O.htmlState,b,J):O.localState&&O.localMode.indent?O.localMode.indent(O.localState,b,J):t.Pass},blankLine:he,getType:de,blockCommentStart:"<!--",blockCommentEnd:"-->",closeBrackets:"()[]{}''\"\"``",fold:"markdown"};return se},"xml"),t.defineMIME("text/markdown","markdown"),t.defineMIME("text/x-markdown","markdown")})});var ul=Et((Nf,Mf)=>{(function(t){typeof Nf=="object"&&typeof Mf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.overlayMode=function(r,o,l){return{startState:function(){return{base:t.startState(r),overlay:t.startState(o),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(u){return{base:t.copyState(r,u.base),overlay:t.copyState(o,u.overlay),basePos:u.basePos,baseCur:null,overlayPos:u.overlayPos,overlayCur:null}},token:function(u,f){return(u!=f.streamSeen||Math.min(f.basePos,f.overlayPos)<u.start)&&(f.streamSeen=u,f.basePos=f.overlayPos=u.start),u.start==f.basePos&&(f.baseCur=r.token(u,f.base),f.basePos=u.pos),u.start==f.overlayPos&&(u.pos=u.start,f.overlayCur=o.token(u,f.overlay),f.overlayPos=u.pos),u.pos=Math.min(f.basePos,f.overlayPos),f.overlayCur==null?f.baseCur:f.baseCur!=null&&f.overlay.combineTokens||l&&f.overlay.combineTokens==null?f.baseCur+" "+f.overlayCur:f.overlayCur},indent:r.indent&&function(u,f,c){return r.indent(u.base,f,c)},electricChars:r.electricChars,innerMode:function(u){return{state:u.base,mode:r}},blankLine:function(u){var f,c;return r.blankLine&&(f=r.blankLine(u.base)),o.blankLine&&(c=o.blankLine(u.overlay)),c==null?f:l&&f!=null?f+" "+c:c}}}})});var Pf=Et((Hf,Bf)=>{(function(t){typeof Hf=="object"&&typeof Bf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){t.defineOption("placeholder","",function(d,v,C){var F=C&&C!=t.Init;if(v&&!F)d.on("blur",u),d.on("change",f),d.on("swapDoc",f),t.on(d.getInputField(),"compositionupdate",d.state.placeholderCompose=function(){l(d)}),f(d);else if(!v&&F){d.off("blur",u),d.off("change",f),d.off("swapDoc",f),t.off(d.getInputField(),"compositionupdate",d.state.placeholderCompose),r(d);var P=d.getWrapperElement();P.className=P.className.replace(" CodeMirror-empty","")}v&&!d.hasFocus()&&u(d)});function r(d){d.state.placeholder&&(d.state.placeholder.parentNode.removeChild(d.state.placeholder),d.state.placeholder=null)}function o(d){r(d);var v=d.state.placeholder=document.createElement("pre");v.style.cssText="height: 0; overflow: visible",v.style.direction=d.getOption("direction"),v.className="CodeMirror-placeholder CodeMirror-line-like";var C=d.getOption("placeholder");typeof C=="string"&&(C=document.createTextNode(C)),v.appendChild(C),d.display.lineSpace.insertBefore(v,d.display.lineSpace.firstChild)}function l(d){setTimeout(function(){var v=!1;if(d.lineCount()==1){var C=d.getInputField();v=C.nodeName=="TEXTAREA"?!d.getLine(0).length:!/[^\u200b]/.test(C.querySelector(".CodeMirror-line").textContent)}v?o(d):r(d)},20)}function u(d){c(d)&&o(d)}function f(d){var v=d.getWrapperElement(),C=c(d);v.className=v.className.replace(" CodeMirror-empty","")+(C?" CodeMirror-empty":""),C?o(d):r(d)}function c(d){return d.lineCount()===1&&d.getLine(0)===""}})});var Wf=Et((qf,zf)=>{(function(t){typeof qf=="object"&&typeof zf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineOption("autoRefresh",!1,function(l,u){l.state.autoRefresh&&(o(l,l.state.autoRefresh),l.state.autoRefresh=null),u&&l.display.wrapper.offsetHeight==0&&r(l,l.state.autoRefresh={delay:u.delay||250})});function r(l,u){function f(){l.display.wrapper.offsetHeight?(o(l,u),l.display.lastWrapHeight!=l.display.wrapper.clientHeight&&l.refresh()):u.timeout=setTimeout(f,u.delay)}u.timeout=setTimeout(f,u.delay),u.hurry=function(){clearTimeout(u.timeout),u.timeout=setTimeout(f,50)},t.on(window,"mouseup",u.hurry),t.on(window,"keyup",u.hurry)}function o(l,u){clearTimeout(u.timeout),t.off(window,"mouseup",u.hurry),t.off(window,"keyup",u.hurry)}})});var Gf=Et((Uf,jf)=>{(function(t){typeof Uf=="object"&&typeof jf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";t.defineOption("styleSelectedText",!1,function(F,P,W){var K=W&&W!=t.Init;P&&!K?(F.state.markedSelection=[],F.state.markedSelectionStyle=typeof P=="string"?P:"CodeMirror-selectedtext",v(F),F.on("cursorActivity",r),F.on("change",o)):!P&&K&&(F.off("cursorActivity",r),F.off("change",o),d(F),F.state.markedSelection=F.state.markedSelectionStyle=null)});function r(F){F.state.markedSelection&&F.operation(function(){C(F)})}function o(F){F.state.markedSelection&&F.state.markedSelection.length&&F.operation(function(){d(F)})}var l=8,u=t.Pos,f=t.cmpPos;function c(F,P,W,K){if(f(P,W)!=0)for(var ee=F.state.markedSelection,Y=F.state.markedSelectionStyle,H=P.line;;){var $=H==P.line?P:u(H,0),ne=H+l,Q=ne>=W.line,te=Q?W:u(ne,0),he=F.markText($,te,{className:Y});if(K==null?ee.push(he):ee.splice(K++,0,he),Q)break;H=ne}}function d(F){for(var P=F.state.markedSelection,W=0;W<P.length;++W)P[W].clear();P.length=0}function v(F){d(F);for(var P=F.listSelections(),W=0;W<P.length;W++)c(F,P[W].from(),P[W].to())}function C(F){if(!F.somethingSelected())return d(F);if(F.listSelections().length>1)return v(F);var P=F.getCursor("start"),W=F.getCursor("end"),K=F.state.markedSelection;if(!K.length)return c(F,P,W);var ee=K[0].find(),Y=K[K.length-1].find();if(!ee||!Y||W.line-P.line<=l||f(P,Y.to)>=0||f(W,ee.from)<=0)return v(F);for(;f(P,ee.from)>0;)K.shift().clear(),ee=K[0].find();for(f(P,ee.from)<0&&(ee.to.line-P.line<l?(K.shift().clear(),c(F,P,ee.to,0)):c(F,P,ee.from,0));f(W,Y.to)<0;)K.pop().clear(),Y=K[K.length-1].find();f(W,Y.to)>0&&(W.line-Y.from.line<l?(K.pop().clear(),c(F,Y.from,W)):c(F,Y.to,W))}})});var $f=Et((Xf,Kf)=>{(function(t){typeof Xf=="object"&&typeof Kf=="object"?t(Gt()):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],t):t(CodeMirror)})(function(t){"use strict";var r=t.Pos;function o(H){var $=H.flags;return $??(H.ignoreCase?"i":"")+(H.global?"g":"")+(H.multiline?"m":"")}function l(H,$){for(var ne=o(H),Q=ne,te=0;te<$.length;te++)Q.indexOf($.charAt(te))==-1&&(Q+=$.charAt(te));return ne==Q?H:new RegExp(H.source,Q)}function u(H){return/\\s|\\n|\n|\\W|\\D|\[\^/.test(H.source)}function f(H,$,ne){$=l($,"g");for(var Q=ne.line,te=ne.ch,he=H.lastLine();Q<=he;Q++,te=0){$.lastIndex=te;var ce=H.getLine(Q),ge=$.exec(ce);if(ge)return{from:r(Q,ge.index),to:r(Q,ge.index+ge[0].length),match:ge}}}function c(H,$,ne){if(!u($))return f(H,$,ne);$=l($,"gm");for(var Q,te=1,he=ne.line,ce=H.lastLine();he<=ce;){for(var ge=0;ge<te&&!(he>ce);ge++){var Re=H.getLine(he++);Q=Q==null?Re:Q+`
`+Re}te=te*2,$.lastIndex=ne.ch;var de=$.exec(Q);if(de){var X=Q.slice(0,de.index).split(`
`),x=de[0].split(`
`),T=ne.line+X.length-1,k=X[X.length-1].length;return{from:r(T,k),to:r(T+x.length-1,x.length==1?k+x[0].length:x[x.length-1].length),match:de}}}}function d(H,$,ne){for(var Q,te=0;te<=H.length;){$.lastIndex=te;var he=$.exec(H);if(!he)break;var ce=he.index+he[0].length;if(ce>H.length-ne)break;(!Q||ce>Q.index+Q[0].length)&&(Q=he),te=he.index+1}return Q}function v(H,$,ne){$=l($,"g");for(var Q=ne.line,te=ne.ch,he=H.firstLine();Q>=he;Q--,te=-1){var ce=H.getLine(Q),ge=d(ce,$,te<0?0:ce.length-te);if(ge)return{from:r(Q,ge.index),to:r(Q,ge.index+ge[0].length),match:ge}}}function C(H,$,ne){if(!u($))return v(H,$,ne);$=l($,"gm");for(var Q,te=1,he=H.getLine(ne.line).length-ne.ch,ce=ne.line,ge=H.firstLine();ce>=ge;){for(var Re=0;Re<te&&ce>=ge;Re++){var de=H.getLine(ce--);Q=Q==null?de:de+`
`+Q}te*=2;var X=d(Q,$,he);if(X){var x=Q.slice(0,X.index).split(`
`),T=X[0].split(`
`),k=ce+x.length,_=x[x.length-1].length;return{from:r(k,_),to:r(k+T.length-1,T.length==1?_+T[0].length:T[T.length-1].length),match:X}}}}var F,P;String.prototype.normalize?(F=function(H){return H.normalize("NFD").toLowerCase()},P=function(H){return H.normalize("NFD")}):(F=function(H){return H.toLowerCase()},P=function(H){return H});function W(H,$,ne,Q){if(H.length==$.length)return ne;for(var te=0,he=ne+Math.max(0,H.length-$.length);;){if(te==he)return te;var ce=te+he>>1,ge=Q(H.slice(0,ce)).length;if(ge==ne)return ce;ge>ne?he=ce:te=ce+1}}function K(H,$,ne,Q){if(!$.length)return null;var te=Q?F:P,he=te($).split(/\r|\n\r?/);e:for(var ce=ne.line,ge=ne.ch,Re=H.lastLine()+1-he.length;ce<=Re;ce++,ge=0){var de=H.getLine(ce).slice(ge),X=te(de);if(he.length==1){var x=X.indexOf(he[0]);if(x==-1)continue e;var ne=W(de,X,x,te)+ge;return{from:r(ce,W(de,X,x,te)+ge),to:r(ce,W(de,X,x+he[0].length,te)+ge)}}else{var T=X.length-he[0].length;if(X.slice(T)!=he[0])continue e;for(var k=1;k<he.length-1;k++)if(te(H.getLine(ce+k))!=he[k])continue e;var _=H.getLine(ce+he.length-1),U=te(_),M=he[he.length-1];if(U.slice(0,M.length)!=M)continue e;return{from:r(ce,W(de,X,T,te)+ge),to:r(ce+he.length-1,W(_,U,M.length,te))}}}}function ee(H,$,ne,Q){if(!$.length)return null;var te=Q?F:P,he=te($).split(/\r|\n\r?/);e:for(var ce=ne.line,ge=ne.ch,Re=H.firstLine()-1+he.length;ce>=Re;ce--,ge=-1){var de=H.getLine(ce);ge>-1&&(de=de.slice(0,ge));var X=te(de);if(he.length==1){var x=X.lastIndexOf(he[0]);if(x==-1)continue e;return{from:r(ce,W(de,X,x,te)),to:r(ce,W(de,X,x+he[0].length,te))}}else{var T=he[he.length-1];if(X.slice(0,T.length)!=T)continue e;for(var k=1,ne=ce-he.length+1;k<he.length-1;k++)if(te(H.getLine(ne+k))!=he[k])continue e;var _=H.getLine(ce+1-he.length),U=te(_);if(U.slice(U.length-he[0].length)!=he[0])continue e;return{from:r(ce+1-he.length,W(_,U,_.length-he[0].length,te)),to:r(ce,W(de,X,T.length,te))}}}}function Y(H,$,ne,Q){this.atOccurrence=!1,this.afterEmptyMatch=!1,this.doc=H,ne=ne?H.clipPos(ne):r(0,0),this.pos={from:ne,to:ne};var te;typeof Q=="object"?te=Q.caseFold:(te=Q,Q=null),typeof $=="string"?(te==null&&(te=!1),this.matches=function(he,ce){return(he?ee:K)(H,$,ce,te)}):($=l($,"gm"),!Q||Q.multiline!==!1?this.matches=function(he,ce){return(he?C:c)(H,$,ce)}:this.matches=function(he,ce){return(he?v:f)(H,$,ce)})}Y.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(H){var $=this.doc.clipPos(H?this.pos.from:this.pos.to);if(this.afterEmptyMatch&&this.atOccurrence&&($=r($.line,$.ch),H?($.ch--,$.ch<0&&($.line--,$.ch=(this.doc.getLine($.line)||"").length)):($.ch++,$.ch>(this.doc.getLine($.line)||"").length&&($.ch=0,$.line++)),t.cmpPos($,this.doc.clipPos($))!=0))return this.atOccurrence=!1;var ne=this.matches(H,$);if(this.afterEmptyMatch=ne&&t.cmpPos(ne.from,ne.to)==0,ne)return this.pos=ne,this.atOccurrence=!0,this.pos.match||!0;var Q=r(H?this.doc.firstLine():this.doc.lastLine()+1,0);return this.pos={from:Q,to:Q},this.atOccurrence=!1},from:function(){if(this.atOccurrence)return this.pos.from},to:function(){if(this.atOccurrence)return this.pos.to},replace:function(H,$){if(this.atOccurrence){var ne=t.splitLines(H);this.doc.replaceRange(ne,this.pos.from,this.pos.to,$),this.pos.to=r(this.pos.from.line+ne.length-1,ne[ne.length-1].length+(ne.length==1?this.pos.from.ch:0))}}},t.defineExtension("getSearchCursor",function(H,$,ne){return new Y(this.doc,H,$,ne)}),t.defineDocExtension("getSearchCursor",function(H,$,ne){return new Y(this,H,$,ne)}),t.defineExtension("selectMatches",function(H,$){for(var ne=[],Q=this.getSearchCursor(H,this.getCursor("from"),$);Q.findNext()&&!(t.cmpPos(Q.to(),this.getCursor("to"))>0);)ne.push({anchor:Q.from(),head:Q.to()});ne.length&&this.setSelections(ne,0)})})});var Zf=Et((Vf,Yf)=>{(function(t){typeof Vf=="object"&&typeof Yf=="object"?t(Gt(),sl(),ul()):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../markdown/markdown","../../addon/mode/overlay"],t):t(CodeMirror)})(function(t){"use strict";var r=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;t.defineMode("gfm",function(o,l){var u=0;function f(C){return C.code=!1,null}var c={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(C){return{code:C.code,codeBlock:C.codeBlock,ateSpace:C.ateSpace}},token:function(C,F){if(F.combineTokens=null,F.codeBlock)return C.match(/^```+/)?(F.codeBlock=!1,null):(C.skipToEnd(),null);if(C.sol()&&(F.code=!1),C.sol()&&C.match(/^```+/))return C.skipToEnd(),F.codeBlock=!0,null;if(C.peek()==="`"){C.next();var P=C.pos;C.eatWhile("`");var W=1+C.pos-P;return F.code?W===u&&(F.code=!1):(u=W,F.code=!0),null}else if(F.code)return C.next(),null;if(C.eatSpace())return F.ateSpace=!0,null;if((C.sol()||F.ateSpace)&&(F.ateSpace=!1,l.gitHubSpice!==!1)){if(C.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?=.{0,6}\d)(?:[a-f0-9]{7,40}\b)/))return F.combineTokens=!0,"link";if(C.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))return F.combineTokens=!0,"link"}return C.match(r)&&C.string.slice(C.start-2,C.start)!="]("&&(C.start==0||/\W/.test(C.string.charAt(C.start-1)))?(F.combineTokens=!0,"link"):(C.next(),null)},blankLine:f},d={taskLists:!0,strikethrough:!0,emoji:!0};for(var v in l)d[v]=l[v];return d.name="markdown",t.overlayMode(t.getMode(o,d),c)},"markdown"),t.defineMIME("text/x-gfm","gfm")})});var Qf=Et(()=>{});var Jf=Et((b0,cl)=>{var fl;(function(){"use strict";fl=function(t,r,o,l){l=l||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=l.flags||{},this.memoized={},this.loaded=!1;var u=this,f,c,d,v,C;t&&(u.dictionary=t,r&&o?K():typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension?(l.dictionaryPath?f=l.dictionaryPath:f="typo/dictionaries",r||F(chrome.extension.getURL(f+"/"+t+"/"+t+".aff"),P),o||F(chrome.extension.getURL(f+"/"+t+"/"+t+".dic"),W)):(l.dictionaryPath?f=l.dictionaryPath:typeof __dirname<"u"?f=__dirname+"/dictionaries":f="./dictionaries",r||F(f+"/"+t+"/"+t+".aff",P),o||F(f+"/"+t+"/"+t+".dic",W)));function F(ee,Y){var H=u._readFile(ee,null,l.asyncLoad);l.asyncLoad?H.then(function($){Y($)}):Y(H)}function P(ee){r=ee,o&&K()}function W(ee){o=ee,r&&K()}function K(){for(u.rules=u._parseAFF(r),u.compoundRuleCodes={},c=0,v=u.compoundRules.length;c<v;c++){var ee=u.compoundRules[c];for(d=0,C=ee.length;d<C;d++)u.compoundRuleCodes[ee[d]]=[]}"ONLYINCOMPOUND"in u.flags&&(u.compoundRuleCodes[u.flags.ONLYINCOMPOUND]=[]),u.dictionaryTable=u._parseDIC(o);for(c in u.compoundRuleCodes)u.compoundRuleCodes[c].length===0&&delete u.compoundRuleCodes[c];for(c=0,v=u.compoundRules.length;c<v;c++){var Y=u.compoundRules[c],H="";for(d=0,C=Y.length;d<C;d++){var $=Y[d];$ in u.compoundRuleCodes?H+="("+u.compoundRuleCodes[$].join("|")+")":H+=$}u.compoundRules[c]=new RegExp(H,"i")}u.loaded=!0,l.asyncLoad&&l.loadedCallback&&l.loadedCallback(u)}return this},fl.prototype={load:function(t){for(var r in t)t.hasOwnProperty(r)&&(this[r]=t[r]);return this},_readFile:function(t,r,o){if(r=r||"utf8",typeof XMLHttpRequest<"u"){var l,u=new XMLHttpRequest;return u.open("GET",t,o),o&&(l=new Promise(function(c,d){u.onload=function(){u.status===200?c(u.responseText):d(u.statusText)},u.onerror=function(){d(u.statusText)}})),u.overrideMimeType&&u.overrideMimeType("text/plain; charset="+r),u.send(null),o?l:u.responseText}else if(typeof pf<"u"){var f=Qf();try{if(f.existsSync(t))return f.readFileSync(t,r);console.log("Path "+t+" does not exist.")}catch(c){return console.log(c),""}}},_parseAFF:function(t){var r={},o,l,u,f,c,d,v,C,F=t.split(/\r?\n/);for(c=0,v=F.length;c<v;c++)if(o=this._removeAffixComments(F[c]),o=o.trim(),!!o){var P=o.split(/\s+/),W=P[0];if(W=="PFX"||W=="SFX"){var K=P[1],ee=P[2];u=parseInt(P[3],10);var Y=[];for(d=c+1,C=c+1+u;d<C;d++){l=F[d],f=l.split(/\s+/);var H=f[2],$=f[3].split("/"),ne=$[0];ne==="0"&&(ne="");var Q=this.parseRuleCodes($[1]),te=f[4],he={};he.add=ne,Q.length>0&&(he.continuationClasses=Q),te!=="."&&(W==="SFX"?he.match=new RegExp(te+"$"):he.match=new RegExp("^"+te)),H!="0"&&(W==="SFX"?he.remove=new RegExp(H+"$"):he.remove=H),Y.push(he)}r[K]={type:W,combineable:ee=="Y",entries:Y},c+=u}else if(W==="COMPOUNDRULE"){for(u=parseInt(P[1],10),d=c+1,C=c+1+u;d<C;d++)o=F[d],f=o.split(/\s+/),this.compoundRules.push(f[1]);c+=u}else W==="REP"?(f=o.split(/\s+/),f.length===3&&this.replacementTable.push([f[1],f[2]])):this.flags[W]=P[1]}return r},_removeAffixComments:function(t){return t.match(/^\s*#/,"")?"":t},_parseDIC:function(t){t=this._removeDicComments(t);var r=t.split(/\r?\n/),o={};function l(de,X){o.hasOwnProperty(de)||(o[de]=null),X.length>0&&(o[de]===null&&(o[de]=[]),o[de].push(X))}for(var u=1,f=r.length;u<f;u++){var c=r[u];if(c){var d=c.split("/",2),v=d[0];if(d.length>1){var C=this.parseRuleCodes(d[1]);(!("NEEDAFFIX"in this.flags)||C.indexOf(this.flags.NEEDAFFIX)==-1)&&l(v,C);for(var F=0,P=C.length;F<P;F++){var W=C[F],K=this.rules[W];if(K)for(var ee=this._applyRule(v,K),Y=0,H=ee.length;Y<H;Y++){var $=ee[Y];if(l($,[]),K.combineable)for(var ne=F+1;ne<P;ne++){var Q=C[ne],te=this.rules[Q];if(te&&te.combineable&&K.type!=te.type)for(var he=this._applyRule($,te),ce=0,ge=he.length;ce<ge;ce++){var Re=he[ce];l(Re,[])}}}W in this.compoundRuleCodes&&this.compoundRuleCodes[W].push(v)}}else l(v.trim(),[])}}return o},_removeDicComments:function(t){return t=t.replace(/^\t.*$/mg,""),t},parseRuleCodes:function(t){if(t)if("FLAG"in this.flags)if(this.flags.FLAG==="long"){for(var r=[],o=0,l=t.length;o<l;o+=2)r.push(t.substr(o,2));return r}else return this.flags.FLAG==="num"?t.split(","):this.flags.FLAG==="UTF-8"?Array.from(t):t.split("");else return t.split("");else return[]},_applyRule:function(t,r){for(var o=r.entries,l=[],u=0,f=o.length;u<f;u++){var c=o[u];if(!c.match||t.match(c.match)){var d=t;if(c.remove&&(d=d.replace(c.remove,"")),r.type==="SFX"?d=d+c.add:d=c.add+d,l.push(d),"continuationClasses"in c)for(var v=0,C=c.continuationClasses.length;v<C;v++){var F=this.rules[c.continuationClasses[v]];F&&(l=l.concat(this._applyRule(d,F)))}}}return l},check:function(t){if(!this.loaded)throw"Dictionary not loaded.";if(!t)return!1;var r=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(r))return!0;if(r.toUpperCase()===r){var o=r[0]+r.substring(1).toLowerCase();if(this.hasFlag(o,"KEEPCASE"))return!1;if(this.checkExact(o)||this.checkExact(r.toLowerCase()))return!0}var l=r[0].toLowerCase()+r.substring(1);if(l!==r){if(this.hasFlag(l,"KEEPCASE"))return!1;if(this.checkExact(l))return!0}return!1},checkExact:function(t){if(!this.loaded)throw"Dictionary not loaded.";var r=this.dictionaryTable[t],o,l;if(typeof r>"u"){if("COMPOUNDMIN"in this.flags&&t.length>=this.flags.COMPOUNDMIN){for(o=0,l=this.compoundRules.length;o<l;o++)if(t.match(this.compoundRules[o]))return!0}}else{if(r===null)return!0;if(typeof r=="object"){for(o=0,l=r.length;o<l;o++)if(!this.hasFlag(t,"ONLYINCOMPOUND",r[o]))return!0}}return!1},hasFlag:function(t,r,o){if(!this.loaded)throw"Dictionary not loaded.";return!!(r in this.flags&&(typeof o>"u"&&(o=Array.prototype.concat.apply([],this.dictionaryTable[t])),o&&o.indexOf(this.flags[r])!==-1))},alphabet:"",suggest:function(t,r){if(!this.loaded)throw"Dictionary not loaded.";if(r=r||5,this.memoized.hasOwnProperty(t)){var o=this.memoized[t].limit;if(r<=o||this.memoized[t].suggestions.length<o)return this.memoized[t].suggestions.slice(0,r)}if(this.check(t))return[];for(var l=0,u=this.replacementTable.length;l<u;l++){var f=this.replacementTable[l];if(t.indexOf(f[0])!==-1){var c=t.replace(f[0],f[1]);if(this.check(c))return[c]}}if(!this.alphabet){this.alphabet="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ","TRY"in this.flags&&(this.alphabet+=this.flags.TRY),"WORDCHARS"in this.flags&&(this.alphabet+=this.flags.WORDCHARS);var d=this.alphabet.split("");d.sort();for(var v={},l=0;l<d.length;l++)v[d[l]]=!0;this.alphabet="";for(var l in v)this.alphabet+=l}var C=this;function F(W,K){var ee={},Y,H,$,ne,Q,te,he=C.alphabet.length;if(typeof W=="string"){var ce=W;W={},W[ce]=!0}for(var ce in W)for(Y=0,ne=ce.length+1;Y<ne;Y++){var ge=[ce.substring(0,Y),ce.substring(Y)];if(ge[1]&&(te=ge[0]+ge[1].substring(1),(!K||C.check(te))&&(te in ee?ee[te]+=1:ee[te]=1)),ge[1].length>1&&ge[1][1]!==ge[1][0]&&(te=ge[0]+ge[1][1]+ge[1][0]+ge[1].substring(2),(!K||C.check(te))&&(te in ee?ee[te]+=1:ee[te]=1)),ge[1]){var Re=ge[1].substring(0,1).toUpperCase()===ge[1].substring(0,1)?"uppercase":"lowercase";for(H=0;H<he;H++){var de=C.alphabet[H];Re==="uppercase"&&(de=de.toUpperCase()),de!=ge[1].substring(0,1)&&(te=ge[0]+de+ge[1].substring(1),(!K||C.check(te))&&(te in ee?ee[te]+=1:ee[te]=1))}}if(ge[1])for(H=0;H<he;H++){var Re=ge[0].substring(-1).toUpperCase()===ge[0].substring(-1)&&ge[1].substring(0,1).toUpperCase()===ge[1].substring(0,1)?"uppercase":"lowercase",de=C.alphabet[H];Re==="uppercase"&&(de=de.toUpperCase()),te=ge[0]+de+ge[1],(!K||C.check(te))&&(te in ee?ee[te]+=1:ee[te]=1)}}return ee}function P(W){var K=F(W),ee=F(K,!0),Y=ee;for(var H in K)C.check(H)&&(H in Y?Y[H]+=K[H]:Y[H]=K[H]);var $,ne,Q=[];for($ in Y)Y.hasOwnProperty($)&&Q.push([$,Y[$]]);function te(Re,de){var X=Re[1],x=de[1];return X<x?-1:X>x?1:de[0].localeCompare(Re[0])}Q.sort(te).reverse();var he=[],ce="lowercase";W.toUpperCase()===W?ce="uppercase":W.substr(0,1).toUpperCase()+W.substr(1).toLowerCase()===W&&(ce="capitalized");var ge=r;for($=0;$<Math.min(ge,Q.length);$++)ce==="uppercase"?Q[$][0]=Q[$][0].toUpperCase():ce==="capitalized"&&(Q[$][0]=Q[$][0].substr(0,1).toUpperCase()+Q[$][0].substr(1)),!C.hasFlag(Q[$][0],"NOSUGGEST")&&he.indexOf(Q[$][0])==-1?he.push(Q[$][0]):ge++;return he}return this.memoized[t]={suggestions:P(t),limit:r},this.memoized[t].suggestions}}})();typeof cl<"u"&&(cl.exports=fl)});var nc=Et((k0,tc)=>{"use strict";var ec=Jf();function tt(t){if(t=t||{},typeof t.codeMirrorInstance!="function"||typeof t.codeMirrorInstance.defineMode!="function"){console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`");return}String.prototype.includes||(String.prototype.includes=function(){"use strict";return String.prototype.indexOf.apply(this,arguments)!==-1}),t.codeMirrorInstance.defineMode("spell-checker",function(r){if(!tt.aff_loading){tt.aff_loading=!0;var o=new XMLHttpRequest;o.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),o.onload=function(){o.readyState===4&&o.status===200&&(tt.aff_data=o.responseText,tt.num_loaded++,tt.num_loaded==2&&(tt.typo=new ec("en_US",tt.aff_data,tt.dic_data,{platform:"any"})))},o.send(null)}if(!tt.dic_loading){tt.dic_loading=!0;var l=new XMLHttpRequest;l.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),l.onload=function(){l.readyState===4&&l.status===200&&(tt.dic_data=l.responseText,tt.num_loaded++,tt.num_loaded==2&&(tt.typo=new ec("en_US",tt.aff_data,tt.dic_data,{platform:"any"})))},l.send(null)}var u='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',f={token:function(d){var v=d.peek(),C="";if(u.includes(v))return d.next(),null;for(;(v=d.peek())!=null&&!u.includes(v);)C+=v,d.next();return tt.typo&&!tt.typo.check(C)?"spell-error":null}},c=t.codeMirrorInstance.getMode(r,r.backdrop||"text/plain");return t.codeMirrorInstance.overlayMode(c,f,!0)})}tt.num_loaded=0;tt.aff_loading=!1;tt.dic_loading=!1;tt.aff_data="";tt.dic_data="";tt.typo;tc.exports=tt});var gc=Et(Qe=>{"use strict";function rc(t,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,yg(l.key),l)}}function gg(t,r,o){return r&&rc(t.prototype,r),o&&rc(t,o),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kt(){return Kt=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var o=arguments[r];for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(t[l]=o[l])}return t},Kt.apply(this,arguments)}function mg(t,r){if(t){if(typeof t=="string")return ic(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return ic(t,r)}}function ic(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,l=new Array(r);o<r;o++)l[o]=t[o];return l}function fa(t,r){var o=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(o)return(o=o.call(t)).next.bind(o);if(Array.isArray(t)||(o=mg(t))||r&&t&&typeof t.length=="number"){o&&(t=o);var l=0;return function(){return l>=t.length?{done:!0}:{done:!1,value:t[l++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vg(t,r){if(typeof t!="object"||t===null)return t;var o=t[Symbol.toPrimitive];if(o!==void 0){var l=o.call(t,r||"default");if(typeof l!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(t)}function yg(t){var r=vg(t,"string");return typeof r=="symbol"?r:String(r)}function hl(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Qe.defaults=hl();function xg(t){Qe.defaults=t}var cc=/[&<>"']/,bg=new RegExp(cc.source,"g"),hc=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Eg=new RegExp(hc.source,"g"),kg={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ac=function(r){return kg[r]};function It(t,r){if(r){if(cc.test(t))return t.replace(bg,ac)}else if(hc.test(t))return t.replace(Eg,ac);return t}var wg=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function dc(t){return t.replace(wg,function(r,o){return o=o.toLowerCase(),o==="colon"?":":o.charAt(0)==="#"?o.charAt(1)==="x"?String.fromCharCode(parseInt(o.substring(2),16)):String.fromCharCode(+o.substring(1)):""})}var Cg=/(^|[^\[])\^/g;function Ye(t,r){t=typeof t=="string"?t:t.source,r=r||"";var o={replace:function(u,f){return f=f.source||f,f=f.replace(Cg,"$1"),t=t.replace(u,f),o},getRegex:function(){return new RegExp(t,r)}};return o}var Dg=/[^\w:]/g,Tg=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function oc(t,r,o){if(t){var l;try{l=decodeURIComponent(dc(o)).replace(Dg,"").toLowerCase()}catch{return null}if(l.indexOf("javascript:")===0||l.indexOf("vbscript:")===0||l.indexOf("data:")===0)return null}r&&!Tg.test(o)&&(o=Lg(r,o));try{o=encodeURI(o).replace(/%25/g,"%")}catch{return null}return o}var ca={},Sg=/^[^:]+:\/*[^/]*$/,Ag=/^([^:]+:)[\s\S]*$/,Fg=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Lg(t,r){ca[" "+t]||(Sg.test(t)?ca[" "+t]=t+"/":ca[" "+t]=ha(t,"/",!0)),t=ca[" "+t];var o=t.indexOf(":")===-1;return r.substring(0,2)==="//"?o?r:t.replace(Ag,"$1")+r:r.charAt(0)==="/"?o?r:t.replace(Fg,"$1")+r:t+r}var da={exec:function(){}};function lc(t,r){var o=t.replace(/\|/g,function(f,c,d){for(var v=!1,C=c;--C>=0&&d[C]==="\\";)v=!v;return v?"|":" |"}),l=o.split(/ \|/),u=0;if(l[0].trim()||l.shift(),l.length>0&&!l[l.length-1].trim()&&l.pop(),l.length>r)l.splice(r);else for(;l.length<r;)l.push("");for(;u<l.length;u++)l[u]=l[u].trim().replace(/\\\|/g,"|");return l}function ha(t,r,o){var l=t.length;if(l===0)return"";for(var u=0;u<l;){var f=t.charAt(l-u-1);if(f===r&&!o)u++;else if(f!==r&&o)u++;else break}return t.slice(0,l-u)}function _g(t,r){if(t.indexOf(r[1])===-1)return-1;for(var o=t.length,l=0,u=0;u<o;u++)if(t[u]==="\\")u++;else if(t[u]===r[0])l++;else if(t[u]===r[1]&&(l--,l<0))return u;return-1}function Og(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function sc(t,r){if(r<1)return"";for(var o="";r>1;)r&1&&(o+=t),r>>=1,t+=t;return o+t}function uc(t,r,o,l){var u=r.href,f=r.title?It(r.title):null,c=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){l.state.inLink=!0;var d={type:"link",raw:o,href:u,title:f,text:c,tokens:l.inlineTokens(c)};return l.state.inLink=!1,d}return{type:"image",raw:o,href:u,title:f,text:It(c)}}function Ig(t,r){var o=t.match(/^(\s+)(?:```)/);if(o===null)return r;var l=o[1];return r.split(`
`).map(function(u){var f=u.match(/^\s+/);if(f===null)return u;var c=f[0];return c.length>=l.length?u.slice(l.length):u}).join(`
`)}var pa=function(){function t(o){this.options=o||Qe.defaults}var r=t.prototype;return r.space=function(l){var u=this.rules.block.newline.exec(l);if(u&&u[0].length>0)return{type:"space",raw:u[0]}},r.code=function(l){var u=this.rules.block.code.exec(l);if(u){var f=u[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:u[0],codeBlockStyle:"indented",text:this.options.pedantic?f:ha(f,`
`)}}},r.fences=function(l){var u=this.rules.block.fences.exec(l);if(u){var f=u[0],c=Ig(f,u[3]||"");return{type:"code",raw:f,lang:u[2]?u[2].trim().replace(this.rules.inline._escapes,"$1"):u[2],text:c}}},r.heading=function(l){var u=this.rules.block.heading.exec(l);if(u){var f=u[2].trim();if(/#$/.test(f)){var c=ha(f,"#");(this.options.pedantic||!c||/ $/.test(c))&&(f=c.trim())}return{type:"heading",raw:u[0],depth:u[1].length,text:f,tokens:this.lexer.inline(f)}}},r.hr=function(l){var u=this.rules.block.hr.exec(l);if(u)return{type:"hr",raw:u[0]}},r.blockquote=function(l){var u=this.rules.block.blockquote.exec(l);if(u){var f=u[0].replace(/^ *>[ \t]?/gm,""),c=this.lexer.state.top;this.lexer.state.top=!0;var d=this.lexer.blockTokens(f);return this.lexer.state.top=c,{type:"blockquote",raw:u[0],tokens:d,text:f}}},r.list=function(l){var u=this.rules.block.list.exec(l);if(u){var f,c,d,v,C,F,P,W,K,ee,Y,H,$=u[1].trim(),ne=$.length>1,Q={type:"list",raw:"",ordered:ne,start:ne?+$.slice(0,-1):"",loose:!1,items:[]};$=ne?"\\d{1,9}\\"+$.slice(-1):"\\"+$,this.options.pedantic&&($=ne?$:"[*+-]");for(var te=new RegExp("^( {0,3}"+$+")((?:[	 ][^\\n]*)?(?:\\n|$))");l&&(H=!1,!(!(u=te.exec(l))||this.rules.block.hr.test(l)));){if(f=u[0],l=l.substring(f.length),W=u[2].split(`
`,1)[0].replace(/^\t+/,function(T){return" ".repeat(3*T.length)}),K=l.split(`
`,1)[0],this.options.pedantic?(v=2,Y=W.trimLeft()):(v=u[2].search(/[^ ]/),v=v>4?1:v,Y=W.slice(v),v+=u[1].length),F=!1,!W&&/^ *$/.test(K)&&(f+=K+`
`,l=l.substring(K.length+1),H=!0),!H)for(var he=new RegExp("^ {0,"+Math.min(3,v-1)+"}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))"),ce=new RegExp("^ {0,"+Math.min(3,v-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),ge=new RegExp("^ {0,"+Math.min(3,v-1)+"}(?:```|~~~)"),Re=new RegExp("^ {0,"+Math.min(3,v-1)+"}#");l&&(ee=l.split(`
`,1)[0],K=ee,this.options.pedantic&&(K=K.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(ge.test(K)||Re.test(K)||he.test(K)||ce.test(l)));){if(K.search(/[^ ]/)>=v||!K.trim())Y+=`
`+K.slice(v);else{if(F||W.search(/[^ ]/)>=4||ge.test(W)||Re.test(W)||ce.test(W))break;Y+=`
`+K}!F&&!K.trim()&&(F=!0),f+=ee+`
`,l=l.substring(ee.length+1),W=K.slice(v)}Q.loose||(P?Q.loose=!0:/\n *\n *$/.test(f)&&(P=!0)),this.options.gfm&&(c=/^\[[ xX]\] /.exec(Y),c&&(d=c[0]!=="[ ] ",Y=Y.replace(/^\[[ xX]\] +/,""))),Q.items.push({type:"list_item",raw:f,task:!!c,checked:d,loose:!1,text:Y}),Q.raw+=f}Q.items[Q.items.length-1].raw=f.trimRight(),Q.items[Q.items.length-1].text=Y.trimRight(),Q.raw=Q.raw.trimRight();var de=Q.items.length;for(C=0;C<de;C++)if(this.lexer.state.top=!1,Q.items[C].tokens=this.lexer.blockTokens(Q.items[C].text,[]),!Q.loose){var X=Q.items[C].tokens.filter(function(T){return T.type==="space"}),x=X.length>0&&X.some(function(T){return/\n.*\n/.test(T.raw)});Q.loose=x}if(Q.loose)for(C=0;C<de;C++)Q.items[C].loose=!0;return Q}},r.html=function(l){var u=this.rules.block.html.exec(l);if(u){var f={type:"html",raw:u[0],pre:!this.options.sanitizer&&(u[1]==="pre"||u[1]==="script"||u[1]==="style"),text:u[0]};if(this.options.sanitize){var c=this.options.sanitizer?this.options.sanitizer(u[0]):It(u[0]);f.type="paragraph",f.text=c,f.tokens=this.lexer.inline(c)}return f}},r.def=function(l){var u=this.rules.block.def.exec(l);if(u){var f=u[1].toLowerCase().replace(/\s+/g," "),c=u[2]?u[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",d=u[3]?u[3].substring(1,u[3].length-1).replace(this.rules.inline._escapes,"$1"):u[3];return{type:"def",tag:f,raw:u[0],href:c,title:d}}},r.table=function(l){var u=this.rules.block.table.exec(l);if(u){var f={type:"table",header:lc(u[1]).map(function(P){return{text:P}}),align:u[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:u[3]&&u[3].trim()?u[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(f.header.length===f.align.length){f.raw=u[0];var c=f.align.length,d,v,C,F;for(d=0;d<c;d++)/^ *-+: *$/.test(f.align[d])?f.align[d]="right":/^ *:-+: *$/.test(f.align[d])?f.align[d]="center":/^ *:-+ *$/.test(f.align[d])?f.align[d]="left":f.align[d]=null;for(c=f.rows.length,d=0;d<c;d++)f.rows[d]=lc(f.rows[d],f.header.length).map(function(P){return{text:P}});for(c=f.header.length,v=0;v<c;v++)f.header[v].tokens=this.lexer.inline(f.header[v].text);for(c=f.rows.length,v=0;v<c;v++)for(F=f.rows[v],C=0;C<F.length;C++)F[C].tokens=this.lexer.inline(F[C].text);return f}}},r.lheading=function(l){var u=this.rules.block.lheading.exec(l);if(u)return{type:"heading",raw:u[0],depth:u[2].charAt(0)==="="?1:2,text:u[1],tokens:this.lexer.inline(u[1])}},r.paragraph=function(l){var u=this.rules.block.paragraph.exec(l);if(u){var f=u[1].charAt(u[1].length-1)===`
`?u[1].slice(0,-1):u[1];return{type:"paragraph",raw:u[0],text:f,tokens:this.lexer.inline(f)}}},r.text=function(l){var u=this.rules.block.text.exec(l);if(u)return{type:"text",raw:u[0],text:u[0],tokens:this.lexer.inline(u[0])}},r.escape=function(l){var u=this.rules.inline.escape.exec(l);if(u)return{type:"escape",raw:u[0],text:It(u[1])}},r.tag=function(l){var u=this.rules.inline.tag.exec(l);if(u)return!this.lexer.state.inLink&&/^<a /i.test(u[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(u[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(u[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(u[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:u[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(u[0]):It(u[0]):u[0]}},r.link=function(l){var u=this.rules.inline.link.exec(l);if(u){var f=u[2].trim();if(!this.options.pedantic&&/^</.test(f)){if(!/>$/.test(f))return;var c=ha(f.slice(0,-1),"\\");if((f.length-c.length)%2===0)return}else{var d=_g(u[2],"()");if(d>-1){var v=u[0].indexOf("!")===0?5:4,C=v+u[1].length+d;u[2]=u[2].substring(0,d),u[0]=u[0].substring(0,C).trim(),u[3]=""}}var F=u[2],P="";if(this.options.pedantic){var W=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(F);W&&(F=W[1],P=W[3])}else P=u[3]?u[3].slice(1,-1):"";return F=F.trim(),/^</.test(F)&&(this.options.pedantic&&!/>$/.test(f)?F=F.slice(1):F=F.slice(1,-1)),uc(u,{href:F&&F.replace(this.rules.inline._escapes,"$1"),title:P&&P.replace(this.rules.inline._escapes,"$1")},u[0],this.lexer)}},r.reflink=function(l,u){var f;if((f=this.rules.inline.reflink.exec(l))||(f=this.rules.inline.nolink.exec(l))){var c=(f[2]||f[1]).replace(/\s+/g," ");if(c=u[c.toLowerCase()],!c){var d=f[0].charAt(0);return{type:"text",raw:d,text:d}}return uc(f,c,f[0],this.lexer)}},r.emStrong=function(l,u,f){f===void 0&&(f="");var c=this.rules.inline.emStrong.lDelim.exec(l);if(c&&!(c[3]&&f.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var d=c[1]||c[2]||"";if(!d||d&&(f===""||this.rules.inline.punctuation.exec(f))){var v=c[0].length-1,C,F,P=v,W=0,K=c[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(K.lastIndex=0,u=u.slice(-1*l.length+v);(c=K.exec(u))!=null;)if(C=c[1]||c[2]||c[3]||c[4]||c[5]||c[6],!!C){if(F=C.length,c[3]||c[4]){P+=F;continue}else if((c[5]||c[6])&&v%3&&!((v+F)%3)){W+=F;continue}if(P-=F,!(P>0)){F=Math.min(F,F+P+W);var ee=l.slice(0,v+c.index+(c[0].length-C.length)+F);if(Math.min(v,F)%2){var Y=ee.slice(1,-1);return{type:"em",raw:ee,text:Y,tokens:this.lexer.inlineTokens(Y)}}var H=ee.slice(2,-2);return{type:"strong",raw:ee,text:H,tokens:this.lexer.inlineTokens(H)}}}}}},r.codespan=function(l){var u=this.rules.inline.code.exec(l);if(u){var f=u[2].replace(/\n/g," "),c=/[^ ]/.test(f),d=/^ /.test(f)&&/ $/.test(f);return c&&d&&(f=f.substring(1,f.length-1)),f=It(f,!0),{type:"codespan",raw:u[0],text:f}}},r.br=function(l){var u=this.rules.inline.br.exec(l);if(u)return{type:"br",raw:u[0]}},r.del=function(l){var u=this.rules.inline.del.exec(l);if(u)return{type:"del",raw:u[0],text:u[2],tokens:this.lexer.inlineTokens(u[2])}},r.autolink=function(l,u){var f=this.rules.inline.autolink.exec(l);if(f){var c,d;return f[2]==="@"?(c=It(this.options.mangle?u(f[1]):f[1]),d="mailto:"+c):(c=It(f[1]),d=c),{type:"link",raw:f[0],text:c,href:d,tokens:[{type:"text",raw:c,text:c}]}}},r.url=function(l,u){var f;if(f=this.rules.inline.url.exec(l)){var c,d;if(f[2]==="@")c=It(this.options.mangle?u(f[0]):f[0]),d="mailto:"+c;else{var v;do v=f[0],f[0]=this.rules.inline._backpedal.exec(f[0])[0];while(v!==f[0]);c=It(f[0]),f[1]==="www."?d="http://"+f[0]:d=f[0]}return{type:"link",raw:f[0],text:c,href:d,tokens:[{type:"text",raw:c,text:c}]}}},r.inlineText=function(l,u){var f=this.rules.inline.text.exec(l);if(f){var c;return this.lexer.state.inRawBlock?c=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(f[0]):It(f[0]):f[0]:c=It(this.options.smartypants?u(f[0]):f[0]),{type:"text",raw:f[0],text:c}}},t}(),Be={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:da,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};Be._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;Be._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;Be.def=Ye(Be.def).replace("label",Be._label).replace("title",Be._title).getRegex();Be.bullet=/(?:[*+-]|\d{1,9}[.)])/;Be.listItemStart=Ye(/^( *)(bull) */).replace("bull",Be.bullet).getRegex();Be.list=Ye(Be.list).replace(/bull/g,Be.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Be.def.source+")").getRegex();Be._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";Be._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;Be.html=Ye(Be.html,"i").replace("comment",Be._comment).replace("tag",Be._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();Be.paragraph=Ye(Be._paragraph).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex();Be.blockquote=Ye(Be.blockquote).replace("paragraph",Be.paragraph).getRegex();Be.normal=Kt({},Be);Be.gfm=Kt({},Be.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});Be.gfm.table=Ye(Be.gfm.table).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex();Be.gfm.paragraph=Ye(Be._paragraph).replace("hr",Be.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Be.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Be._tag).getRegex();Be.pedantic=Kt({},Be.normal,{html:Ye(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Be._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:da,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Ye(Be.normal._paragraph).replace("hr",Be.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Be.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var Fe={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:da,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:da,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};Fe._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";Fe.punctuation=Ye(Fe.punctuation).replace(/punctuation/g,Fe._punctuation).getRegex();Fe.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;Fe.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g;Fe._comment=Ye(Be._comment).replace("(?:-->|$)","-->").getRegex();Fe.emStrong.lDelim=Ye(Fe.emStrong.lDelim).replace(/punct/g,Fe._punctuation).getRegex();Fe.emStrong.rDelimAst=Ye(Fe.emStrong.rDelimAst,"g").replace(/punct/g,Fe._punctuation).getRegex();Fe.emStrong.rDelimUnd=Ye(Fe.emStrong.rDelimUnd,"g").replace(/punct/g,Fe._punctuation).getRegex();Fe._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;Fe._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;Fe._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;Fe.autolink=Ye(Fe.autolink).replace("scheme",Fe._scheme).replace("email",Fe._email).getRegex();Fe._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;Fe.tag=Ye(Fe.tag).replace("comment",Fe._comment).replace("attribute",Fe._attribute).getRegex();Fe._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;Fe._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;Fe._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;Fe.link=Ye(Fe.link).replace("label",Fe._label).replace("href",Fe._href).replace("title",Fe._title).getRegex();Fe.reflink=Ye(Fe.reflink).replace("label",Fe._label).replace("ref",Be._label).getRegex();Fe.nolink=Ye(Fe.nolink).replace("ref",Be._label).getRegex();Fe.reflinkSearch=Ye(Fe.reflinkSearch,"g").replace("reflink",Fe.reflink).replace("nolink",Fe.nolink).getRegex();Fe.normal=Kt({},Fe);Fe.pedantic=Kt({},Fe.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Ye(/^!?\[(label)\]\((.*?)\)/).replace("label",Fe._label).getRegex(),reflink:Ye(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Fe._label).getRegex()});Fe.gfm=Kt({},Fe.normal,{escape:Ye(Fe.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});Fe.gfm.url=Ye(Fe.gfm.url,"i").replace("email",Fe.gfm._extended_email).getRegex();Fe.breaks=Kt({},Fe.gfm,{br:Ye(Fe.br).replace("{2,}","*").getRegex(),text:Ye(Fe.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function Rg(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function fc(t){var r="",o,l,u=t.length;for(o=0;o<u;o++)l=t.charCodeAt(o),Math.random()>.5&&(l="x"+l.toString(16)),r+="&#"+l+";";return r}var Ir=function(){function t(o){this.tokens=[],this.tokens.links=Object.create(null),this.options=o||Qe.defaults,this.options.tokenizer=this.options.tokenizer||new pa,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var l={block:Be.normal,inline:Fe.normal};this.options.pedantic?(l.block=Be.pedantic,l.inline=Fe.pedantic):this.options.gfm&&(l.block=Be.gfm,this.options.breaks?l.inline=Fe.breaks:l.inline=Fe.gfm),this.tokenizer.rules=l}t.lex=function(l,u){var f=new t(u);return f.lex(l)},t.lexInline=function(l,u){var f=new t(u);return f.inlineTokens(l)};var r=t.prototype;return r.lex=function(l){l=l.replace(/\r\n|\r/g,`
`),this.blockTokens(l,this.tokens);for(var u;u=this.inlineQueue.shift();)this.inlineTokens(u.src,u.tokens);return this.tokens},r.blockTokens=function(l,u){var f=this;u===void 0&&(u=[]),this.options.pedantic?l=l.replace(/\t/g,"    ").replace(/^ +$/gm,""):l=l.replace(/^( *)(\t+)/gm,function(P,W,K){return W+"    ".repeat(K.length)});for(var c,d,v,C;l;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(P){return(c=P.call({lexer:f},l,u))?(l=l.substring(c.raw.length),u.push(c),!0):!1}))){if(c=this.tokenizer.space(l)){l=l.substring(c.raw.length),c.raw.length===1&&u.length>0?u[u.length-1].raw+=`
`:u.push(c);continue}if(c=this.tokenizer.code(l)){l=l.substring(c.raw.length),d=u[u.length-1],d&&(d.type==="paragraph"||d.type==="text")?(d.raw+=`
`+c.raw,d.text+=`
`+c.text,this.inlineQueue[this.inlineQueue.length-1].src=d.text):u.push(c);continue}if(c=this.tokenizer.fences(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.heading(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.hr(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.blockquote(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.list(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.html(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.def(l)){l=l.substring(c.raw.length),d=u[u.length-1],d&&(d.type==="paragraph"||d.type==="text")?(d.raw+=`
`+c.raw,d.text+=`
`+c.raw,this.inlineQueue[this.inlineQueue.length-1].src=d.text):this.tokens.links[c.tag]||(this.tokens.links[c.tag]={href:c.href,title:c.title});continue}if(c=this.tokenizer.table(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.lheading(l)){l=l.substring(c.raw.length),u.push(c);continue}if(v=l,this.options.extensions&&this.options.extensions.startBlock&&function(){var P=1/0,W=l.slice(1),K=void 0;f.options.extensions.startBlock.forEach(function(ee){K=ee.call({lexer:this},W),typeof K=="number"&&K>=0&&(P=Math.min(P,K))}),P<1/0&&P>=0&&(v=l.substring(0,P+1))}(),this.state.top&&(c=this.tokenizer.paragraph(v))){d=u[u.length-1],C&&d.type==="paragraph"?(d.raw+=`
`+c.raw,d.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=d.text):u.push(c),C=v.length!==l.length,l=l.substring(c.raw.length);continue}if(c=this.tokenizer.text(l)){l=l.substring(c.raw.length),d=u[u.length-1],d&&d.type==="text"?(d.raw+=`
`+c.raw,d.text+=`
`+c.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=d.text):u.push(c);continue}if(l){var F="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(F);break}else throw new Error(F)}}return this.state.top=!0,u},r.inline=function(l,u){return u===void 0&&(u=[]),this.inlineQueue.push({src:l,tokens:u}),u},r.inlineTokens=function(l,u){var f=this;u===void 0&&(u=[]);var c,d,v,C=l,F,P,W;if(this.tokens.links){var K=Object.keys(this.tokens.links);if(K.length>0)for(;(F=this.tokenizer.rules.inline.reflinkSearch.exec(C))!=null;)K.includes(F[0].slice(F[0].lastIndexOf("[")+1,-1))&&(C=C.slice(0,F.index)+"["+sc("a",F[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(F=this.tokenizer.rules.inline.blockSkip.exec(C))!=null;)C=C.slice(0,F.index)+"["+sc("a",F[0].length-2)+"]"+C.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(F=this.tokenizer.rules.inline.escapedEmSt.exec(C))!=null;)C=C.slice(0,F.index+F[0].length-2)+"++"+C.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;l;)if(P||(W=""),P=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(Y){return(c=Y.call({lexer:f},l,u))?(l=l.substring(c.raw.length),u.push(c),!0):!1}))){if(c=this.tokenizer.escape(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.tag(l)){l=l.substring(c.raw.length),d=u[u.length-1],d&&c.type==="text"&&d.type==="text"?(d.raw+=c.raw,d.text+=c.text):u.push(c);continue}if(c=this.tokenizer.link(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.reflink(l,this.tokens.links)){l=l.substring(c.raw.length),d=u[u.length-1],d&&c.type==="text"&&d.type==="text"?(d.raw+=c.raw,d.text+=c.text):u.push(c);continue}if(c=this.tokenizer.emStrong(l,C,W)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.codespan(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.br(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.del(l)){l=l.substring(c.raw.length),u.push(c);continue}if(c=this.tokenizer.autolink(l,fc)){l=l.substring(c.raw.length),u.push(c);continue}if(!this.state.inLink&&(c=this.tokenizer.url(l,fc))){l=l.substring(c.raw.length),u.push(c);continue}if(v=l,this.options.extensions&&this.options.extensions.startInline&&function(){var Y=1/0,H=l.slice(1),$=void 0;f.options.extensions.startInline.forEach(function(ne){$=ne.call({lexer:this},H),typeof $=="number"&&$>=0&&(Y=Math.min(Y,$))}),Y<1/0&&Y>=0&&(v=l.substring(0,Y+1))}(),c=this.tokenizer.inlineText(v,Rg)){l=l.substring(c.raw.length),c.raw.slice(-1)!=="_"&&(W=c.raw.slice(-1)),P=!0,d=u[u.length-1],d&&d.type==="text"?(d.raw+=c.raw,d.text+=c.text):u.push(c);continue}if(l){var ee="Infinite loop on byte: "+l.charCodeAt(0);if(this.options.silent){console.error(ee);break}else throw new Error(ee)}}return u},gg(t,null,[{key:"rules",get:function(){return{block:Be,inline:Fe}}}]),t}(),ga=function(){function t(o){this.options=o||Qe.defaults}var r=t.prototype;return r.code=function(l,u,f){var c=(u||"").match(/\S*/)[0];if(this.options.highlight){var d=this.options.highlight(l,c);d!=null&&d!==l&&(f=!0,l=d)}return l=l.replace(/\n$/,"")+`
`,c?'<pre><code class="'+this.options.langPrefix+It(c)+'">'+(f?l:It(l,!0))+`</code></pre>
`:"<pre><code>"+(f?l:It(l,!0))+`</code></pre>
`},r.blockquote=function(l){return`<blockquote>
`+l+`</blockquote>
`},r.html=function(l){return l},r.heading=function(l,u,f,c){if(this.options.headerIds){var d=this.options.headerPrefix+c.slug(f);return"<h"+u+' id="'+d+'">'+l+"</h"+u+`>
`}return"<h"+u+">"+l+"</h"+u+`>
`},r.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},r.list=function(l,u,f){var c=u?"ol":"ul",d=u&&f!==1?' start="'+f+'"':"";return"<"+c+d+`>
`+l+"</"+c+`>
`},r.listitem=function(l){return"<li>"+l+`</li>
`},r.checkbox=function(l){return"<input "+(l?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},r.paragraph=function(l){return"<p>"+l+`</p>
`},r.table=function(l,u){return u&&(u="<tbody>"+u+"</tbody>"),`<table>
<thead>
`+l+`</thead>
`+u+`</table>
`},r.tablerow=function(l){return`<tr>
`+l+`</tr>
`},r.tablecell=function(l,u){var f=u.header?"th":"td",c=u.align?"<"+f+' align="'+u.align+'">':"<"+f+">";return c+l+("</"+f+`>
`)},r.strong=function(l){return"<strong>"+l+"</strong>"},r.em=function(l){return"<em>"+l+"</em>"},r.codespan=function(l){return"<code>"+l+"</code>"},r.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.del=function(l){return"<del>"+l+"</del>"},r.link=function(l,u,f){if(l=oc(this.options.sanitize,this.options.baseUrl,l),l===null)return f;var c='<a href="'+l+'"';return u&&(c+=' title="'+u+'"'),c+=">"+f+"</a>",c},r.image=function(l,u,f){if(l=oc(this.options.sanitize,this.options.baseUrl,l),l===null)return f;var c='<img src="'+l+'" alt="'+f+'"';return u&&(c+=' title="'+u+'"'),c+=this.options.xhtml?"/>":">",c},r.text=function(l){return l},t}(),dl=function(){function t(){}var r=t.prototype;return r.strong=function(l){return l},r.em=function(l){return l},r.codespan=function(l){return l},r.del=function(l){return l},r.html=function(l){return l},r.text=function(l){return l},r.link=function(l,u,f){return""+f},r.image=function(l,u,f){return""+f},r.br=function(){return""},t}(),pl=function(){function t(){this.seen={}}var r=t.prototype;return r.serialize=function(l){return l.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},r.getNextSafeSlug=function(l,u){var f=l,c=0;if(this.seen.hasOwnProperty(f)){c=this.seen[l];do c++,f=l+"-"+c;while(this.seen.hasOwnProperty(f))}return u||(this.seen[l]=c,this.seen[f]=0),f},r.slug=function(l,u){u===void 0&&(u={});var f=this.serialize(l);return this.getNextSafeSlug(f,u.dryrun)},t}(),Rr=function(){function t(o){this.options=o||Qe.defaults,this.options.renderer=this.options.renderer||new ga,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new dl,this.slugger=new pl}t.parse=function(l,u){var f=new t(u);return f.parse(l)},t.parseInline=function(l,u){var f=new t(u);return f.parseInline(l)};var r=t.prototype;return r.parse=function(l,u){u===void 0&&(u=!0);var f="",c,d,v,C,F,P,W,K,ee,Y,H,$,ne,Q,te,he,ce,ge,Re,de=l.length;for(c=0;c<de;c++){if(Y=l[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Y.type]&&(Re=this.options.extensions.renderers[Y.type].call({parser:this},Y),Re!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(Y.type))){f+=Re||"";continue}switch(Y.type){case"space":continue;case"hr":{f+=this.renderer.hr();continue}case"heading":{f+=this.renderer.heading(this.parseInline(Y.tokens),Y.depth,dc(this.parseInline(Y.tokens,this.textRenderer)),this.slugger);continue}case"code":{f+=this.renderer.code(Y.text,Y.lang,Y.escaped);continue}case"table":{for(K="",W="",C=Y.header.length,d=0;d<C;d++)W+=this.renderer.tablecell(this.parseInline(Y.header[d].tokens),{header:!0,align:Y.align[d]});for(K+=this.renderer.tablerow(W),ee="",C=Y.rows.length,d=0;d<C;d++){for(P=Y.rows[d],W="",F=P.length,v=0;v<F;v++)W+=this.renderer.tablecell(this.parseInline(P[v].tokens),{header:!1,align:Y.align[v]});ee+=this.renderer.tablerow(W)}f+=this.renderer.table(K,ee);continue}case"blockquote":{ee=this.parse(Y.tokens),f+=this.renderer.blockquote(ee);continue}case"list":{for(H=Y.ordered,$=Y.start,ne=Y.loose,C=Y.items.length,ee="",d=0;d<C;d++)te=Y.items[d],he=te.checked,ce=te.task,Q="",te.task&&(ge=this.renderer.checkbox(he),ne?te.tokens.length>0&&te.tokens[0].type==="paragraph"?(te.tokens[0].text=ge+" "+te.tokens[0].text,te.tokens[0].tokens&&te.tokens[0].tokens.length>0&&te.tokens[0].tokens[0].type==="text"&&(te.tokens[0].tokens[0].text=ge+" "+te.tokens[0].tokens[0].text)):te.tokens.unshift({type:"text",text:ge}):Q+=ge),Q+=this.parse(te.tokens,ne),ee+=this.renderer.listitem(Q,ce,he);f+=this.renderer.list(ee,H,$);continue}case"html":{f+=this.renderer.html(Y.text);continue}case"paragraph":{f+=this.renderer.paragraph(this.parseInline(Y.tokens));continue}case"text":{for(ee=Y.tokens?this.parseInline(Y.tokens):Y.text;c+1<de&&l[c+1].type==="text";)Y=l[++c],ee+=`
`+(Y.tokens?this.parseInline(Y.tokens):Y.text);f+=u?this.renderer.paragraph(ee):ee;continue}default:{var X='Token with "'+Y.type+'" type was not found.';if(this.options.silent){console.error(X);return}else throw new Error(X)}}}return f},r.parseInline=function(l,u){u=u||this.renderer;var f="",c,d,v,C=l.length;for(c=0;c<C;c++){if(d=l[c],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(v=this.options.extensions.renderers[d.type].call({parser:this},d),v!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(d.type))){f+=v||"";continue}switch(d.type){case"escape":{f+=u.text(d.text);break}case"html":{f+=u.html(d.text);break}case"link":{f+=u.link(d.href,d.title,this.parseInline(d.tokens,u));break}case"image":{f+=u.image(d.href,d.title,d.text);break}case"strong":{f+=u.strong(this.parseInline(d.tokens,u));break}case"em":{f+=u.em(this.parseInline(d.tokens,u));break}case"codespan":{f+=u.codespan(d.text);break}case"br":{f+=u.br();break}case"del":{f+=u.del(this.parseInline(d.tokens,u));break}case"text":{f+=u.text(d.text);break}default:{var F='Token with "'+d.type+'" type was not found.';if(this.options.silent){console.error(F);return}else throw new Error(F)}}}return f},t}(),mi=function(){function t(o){this.options=o||Qe.defaults}var r=t.prototype;return r.preprocess=function(l){return l},r.postprocess=function(l){return l},t}();mi.passThroughHooks=new Set(["preprocess","postprocess"]);function Ng(t,r,o){return function(l){if(l.message+=`
Please report this to https://github.com/markedjs/marked.`,t){var u="<p>An error occurred:</p><pre>"+It(l.message+"",!0)+"</pre>";if(r)return Promise.resolve(u);if(o){o(null,u);return}return u}if(r)return Promise.reject(l);if(o){o(l);return}throw l}}function pc(t,r){return function(o,l,u){typeof l=="function"&&(u=l,l=null);var f=Kt({},l);l=Kt({},He.defaults,f);var c=Ng(l.silent,l.async,u);if(typeof o>"u"||o===null)return c(new Error("marked(): input parameter is undefined or null"));if(typeof o!="string")return c(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(o)+", string expected"));if(Og(l),l.hooks&&(l.hooks.options=l),u){var d=l.highlight,v;try{l.hooks&&(o=l.hooks.preprocess(o)),v=t(o,l)}catch(K){return c(K)}var C=function(ee){var Y;if(!ee)try{l.walkTokens&&He.walkTokens(v,l.walkTokens),Y=r(v,l),l.hooks&&(Y=l.hooks.postprocess(Y))}catch(H){ee=H}return l.highlight=d,ee?c(ee):u(null,Y)};if(!d||d.length<3||(delete l.highlight,!v.length))return C();var F=0;He.walkTokens(v,function(K){K.type==="code"&&(F++,setTimeout(function(){d(K.text,K.lang,function(ee,Y){if(ee)return C(ee);Y!=null&&Y!==K.text&&(K.text=Y,K.escaped=!0),F--,F===0&&C()})},0))}),F===0&&C();return}if(l.async)return Promise.resolve(l.hooks?l.hooks.preprocess(o):o).then(function(K){return t(K,l)}).then(function(K){return l.walkTokens?Promise.all(He.walkTokens(K,l.walkTokens)).then(function(){return K}):K}).then(function(K){return r(K,l)}).then(function(K){return l.hooks?l.hooks.postprocess(K):K}).catch(c);try{l.hooks&&(o=l.hooks.preprocess(o));var P=t(o,l);l.walkTokens&&He.walkTokens(P,l.walkTokens);var W=r(P,l);return l.hooks&&(W=l.hooks.postprocess(W)),W}catch(K){return c(K)}}}function He(t,r,o){return pc(Ir.lex,Rr.parse)(t,r,o)}He.options=He.setOptions=function(t){return He.defaults=Kt({},He.defaults,t),xg(He.defaults),He};He.getDefaults=hl;He.defaults=Qe.defaults;He.use=function(){for(var t=He.defaults.extensions||{renderers:{},childTokens:{}},r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];o.forEach(function(u){var f=Kt({},u);if(f.async=He.defaults.async||f.async||!1,u.extensions&&(u.extensions.forEach(function(d){if(!d.name)throw new Error("extension name required");if(d.renderer){var v=t.renderers[d.name];v?t.renderers[d.name]=function(){for(var C=arguments.length,F=new Array(C),P=0;P<C;P++)F[P]=arguments[P];var W=d.renderer.apply(this,F);return W===!1&&(W=v.apply(this,F)),W}:t.renderers[d.name]=d.renderer}if(d.tokenizer){if(!d.level||d.level!=="block"&&d.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[d.level]?t[d.level].unshift(d.tokenizer):t[d.level]=[d.tokenizer],d.start&&(d.level==="block"?t.startBlock?t.startBlock.push(d.start):t.startBlock=[d.start]:d.level==="inline"&&(t.startInline?t.startInline.push(d.start):t.startInline=[d.start]))}d.childTokens&&(t.childTokens[d.name]=d.childTokens)}),f.extensions=t),u.renderer&&function(){var d=He.defaults.renderer||new ga,v=function(P){var W=d[P];d[P]=function(){for(var K=arguments.length,ee=new Array(K),Y=0;Y<K;Y++)ee[Y]=arguments[Y];var H=u.renderer[P].apply(d,ee);return H===!1&&(H=W.apply(d,ee)),H}};for(var C in u.renderer)v(C);f.renderer=d}(),u.tokenizer&&function(){var d=He.defaults.tokenizer||new pa,v=function(P){var W=d[P];d[P]=function(){for(var K=arguments.length,ee=new Array(K),Y=0;Y<K;Y++)ee[Y]=arguments[Y];var H=u.tokenizer[P].apply(d,ee);return H===!1&&(H=W.apply(d,ee)),H}};for(var C in u.tokenizer)v(C);f.tokenizer=d}(),u.hooks&&function(){var d=He.defaults.hooks||new mi,v=function(P){var W=d[P];mi.passThroughHooks.has(P)?d[P]=function(K){if(He.defaults.async)return Promise.resolve(u.hooks[P].call(d,K)).then(function(Y){return W.call(d,Y)});var ee=u.hooks[P].call(d,K);return W.call(d,ee)}:d[P]=function(){for(var K=arguments.length,ee=new Array(K),Y=0;Y<K;Y++)ee[Y]=arguments[Y];var H=u.hooks[P].apply(d,ee);return H===!1&&(H=W.apply(d,ee)),H}};for(var C in u.hooks)v(C);f.hooks=d}(),u.walkTokens){var c=He.defaults.walkTokens;f.walkTokens=function(d){var v=[];return v.push(u.walkTokens.call(this,d)),c&&(v=v.concat(c.call(this,d))),v}}He.setOptions(f)})};He.walkTokens=function(t,r){for(var o=[],l=function(){var d=f.value;switch(o=o.concat(r.call(He,d)),d.type){case"table":{for(var v=fa(d.header),C;!(C=v()).done;){var F=C.value;o=o.concat(He.walkTokens(F.tokens,r))}for(var P=fa(d.rows),W;!(W=P()).done;)for(var K=W.value,ee=fa(K),Y;!(Y=ee()).done;){var H=Y.value;o=o.concat(He.walkTokens(H.tokens,r))}break}case"list":{o=o.concat(He.walkTokens(d.items,r));break}default:He.defaults.extensions&&He.defaults.extensions.childTokens&&He.defaults.extensions.childTokens[d.type]?He.defaults.extensions.childTokens[d.type].forEach(function($){o=o.concat(He.walkTokens(d[$],r))}):d.tokens&&(o=o.concat(He.walkTokens(d.tokens,r)))}},u=fa(t),f;!(f=u()).done;)l();return o};He.parseInline=pc(Ir.lexInline,Rr.parseInline);He.Parser=Rr;He.parser=Rr.parse;He.Renderer=ga;He.TextRenderer=dl;He.Lexer=Ir;He.lexer=Ir.lex;He.Tokenizer=pa;He.Slugger=pl;He.Hooks=mi;He.parse=He;var Mg=He.options,Hg=He.setOptions,Bg=He.use,Pg=He.walkTokens,qg=He.parseInline,zg=He,Wg=Rr.parse,Ug=Ir.lex;Qe.Hooks=mi;Qe.Lexer=Ir;Qe.Parser=Rr;Qe.Renderer=ga;Qe.Slugger=pl;Qe.TextRenderer=dl;Qe.Tokenizer=pa;Qe.getDefaults=hl;Qe.lexer=Ug;Qe.marked=He;Qe.options=Mg;Qe.parse=zg;Qe.parseInline=qg;Qe.parser=Wg;Qe.setOptions=Hg;Qe.use=Bg;Qe.walkTokens=Pg});var Tc=Et((C0,Dc)=>{"use strict";var Nr=Gt();kf();Cf();Sf();sl();ul();Pf();Wf();Gf();$f();Zf();ll();var jg=nc(),gl=gc().marked,yc=/Mac/.test(navigator.platform),Gg=new RegExp(/(<a.*?https?:\/\/.*?[^a]>)+?/g),vi={toggleBold:ya,toggleItalic:xa,drawLink:La,toggleHeadingSmaller:yi,toggleHeadingBigger:wa,drawImage:_a,toggleBlockquote:ka,toggleOrderedList:Aa,toggleUnorderedList:Sa,toggleCodeBlock:Ea,togglePreview:Ma,toggleStrikethrough:ba,toggleHeading1:Ca,toggleHeading2:Da,toggleHeading3:Ta,toggleHeading4:vl,toggleHeading5:yl,toggleHeading6:xl,cleanBlock:Fa,drawTable:Oa,drawHorizontalRule:Ia,undo:Ra,redo:Na,toggleSideBySide:Mr,toggleFullScreen:tr},Xg={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",toggleHeading1:"Ctrl+Alt+1",toggleHeading2:"Ctrl+Alt+2",toggleHeading3:"Ctrl+Alt+3",toggleHeading4:"Ctrl+Alt+4",toggleHeading5:"Ctrl+Alt+5",toggleHeading6:"Ctrl+Alt+6",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},Kg=function(t){for(var r in vi)if(vi[r]===t)return r;return null},ml=function(){var t=!1;return function(r){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(r)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(r.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),t};function $g(t){for(var r;(r=Gg.exec(t))!==null;){var o=r[0];if(o.indexOf("target=")===-1){var l=o.replace(/>$/,' target="_blank">');t=t.replace(o,l)}}return t}function Vg(t){for(var r=new DOMParser,o=r.parseFromString(t,"text/html"),l=o.getElementsByTagName("li"),u=0;u<l.length;u++)for(var f=l[u],c=0;c<f.children.length;c++){var d=f.children[c];d instanceof HTMLInputElement&&d.type==="checkbox"&&(f.style.marginLeft="-1.5em",f.style.listStyleType="none")}return o.documentElement.innerHTML}function xc(t){return yc?t=t.replace("Ctrl","Cmd"):t=t.replace("Cmd","Ctrl"),t}function Yg(t,r,o,l){var u=ma(t,!1,r,o,"button",l);u.classList.add("easymde-dropdown"),u.onclick=function(){u.focus()};var f=document.createElement("div");f.className="easymde-dropdown-content";for(var c=0;c<t.children.length;c++){var d=t.children[c],v;typeof d=="string"&&d in er?v=ma(er[d],!0,r,o,"button",l):v=ma(d,!0,r,o,"button",l),v.addEventListener("click",function(C){C.stopPropagation()},!1),f.appendChild(v)}return u.appendChild(f),u}function ma(t,r,o,l,u,f){t=t||{};var c=document.createElement(u);if(t.attributes)for(var d in t.attributes)Object.prototype.hasOwnProperty.call(t.attributes,d)&&c.setAttribute(d,t.attributes[d]);var v=f.options.toolbarButtonClassPrefix?f.options.toolbarButtonClassPrefix+"-":"";c.className=v+t.name,c.setAttribute("type",u),o=o??!0,t.text&&(c.innerText=t.text),t.name&&t.name in l&&(vi[t.name]=t.action),t.title&&o&&(c.title=Qg(t.title,t.action,l),yc&&(c.title=c.title.replace("Ctrl","\u2318"),c.title=c.title.replace("Alt","\u2325"))),t.title&&c.setAttribute("aria-label",t.title),t.noDisable&&c.classList.add("no-disable"),t.noMobile&&c.classList.add("no-mobile");var C=[];typeof t.className<"u"&&(C=t.className.split(" "));for(var F=[],P=0;P<C.length;P++){var W=C[P];W.match(/^fa([srlb]|(-[\w-]*)|$)/)?F.push(W):c.classList.add(W)}if(c.tabIndex=-1,F.length>0){for(var K=document.createElement("i"),ee=0;ee<F.length;ee++){var Y=F[ee];K.classList.add(Y)}c.appendChild(K)}return typeof t.icon<"u"&&(c.innerHTML=t.icon),t.action&&r&&(typeof t.action=="function"?c.onclick=function(H){H.preventDefault(),t.action(f)}:typeof t.action=="string"&&(c.onclick=function(H){H.preventDefault(),window.open(t.action,"_blank")})),c}function Zg(){var t=document.createElement("i");return t.className="separator",t.innerHTML="|",t}function Qg(t,r,o){var l,u=t;return r&&(l=Kg(r),o[l]&&(u+=" ("+xc(o[l])+")")),u}function On(t,r){r=r||t.getCursor("start");var o=t.getTokenAt(r);if(!o.type)return{};for(var l=o.type.split(" "),u={},f,c,d=0;d<l.length;d++)f=l[d],f==="strong"?u.bold=!0:f==="variable-2"?(c=t.getLine(r.line),/^\s*\d+\.\s/.test(c)?u["ordered-list"]=!0:u["unordered-list"]=!0):f==="atom"?u.quote=!0:f==="em"?u.italic=!0:f==="quote"?u.quote=!0:f==="strikethrough"?u.strikethrough=!0:f==="comment"?u.code=!0:f==="link"&&!u.image?u.link=!0:f==="image"?u.image=!0:f.match(/^header(-[1-6])?$/)&&(u[f.replace("header","heading")]=!0);return u}var mc="";function tr(t){var r=t.codemirror;r.setOption("fullScreen",!r.getOption("fullScreen")),r.getOption("fullScreen")?(mc=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=mc;var o=r.getWrapperElement(),l=o.nextSibling;if(l.classList.contains("editor-preview-active-side"))if(t.options.sideBySideFullscreen===!1){var u=o.parentNode;r.getOption("fullScreen")?u.classList.remove("sided--no-fullscreen"):u.classList.add("sided--no-fullscreen")}else Mr(t);if(t.options.onToggleFullScreen&&t.options.onToggleFullScreen(r.getOption("fullScreen")||!1),typeof t.options.maxHeight<"u"&&(r.getOption("fullScreen")?(r.getScrollerElement().style.removeProperty("height"),l.style.removeProperty("height")):(r.getScrollerElement().style.height=t.options.maxHeight,t.setPreviewMaxHeight())),t.toolbar_div.classList.toggle("fullscreen"),t.toolbarElements&&t.toolbarElements.fullscreen){var f=t.toolbarElements.fullscreen;f.classList.toggle("active")}}function ya(t){kl(t,"bold",t.options.blockStyles.bold)}function xa(t){kl(t,"italic",t.options.blockStyles.italic)}function ba(t){kl(t,"strikethrough","~~")}function Ea(t){var r=t.options.blockStyles.code;function o(_){if(typeof _!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof _+": "+_;return _.styles&&_.styles[2]&&_.styles[2].indexOf("formatting-code-block")!==-1}function l(_){return _.state.base.base||_.state.base}function u(_,U,M,j,R){M=M||_.getLineHandle(U),j=j||_.getTokenAt({line:U,ch:1}),R=R||!!M.text&&_.getTokenAt({line:U,ch:M.text.length-1});var se=j.type?j.type.split(" "):[];return R&&l(R).indentedCode?"indented":se.indexOf("comment")===-1?!1:l(j).fencedChars||l(R).fencedChars||o(M)?"fenced":"single"}function f(_,U,M,j){var R=U.line+1,se=M.line+1,O=U.line!==M.line,b=j+`
`,J=`
`+j;O&&se++,O&&M.ch===0&&(J=j+`
`,se--),nr(_,!1,[b,J]),_.setSelection({line:R,ch:0},{line:se,ch:0})}var c=t.codemirror,d=c.getCursor("start"),v=c.getCursor("end"),C=c.getTokenAt({line:d.line,ch:d.ch||1}),F=c.getLineHandle(d.line),P=u(c,d.line,F,C),W,K,ee;if(P==="single"){var Y=F.text.slice(0,d.ch).replace("`",""),H=F.text.slice(d.ch).replace("`","");c.replaceRange(Y+H,{line:d.line,ch:0},{line:d.line,ch:99999999999999}),d.ch--,d!==v&&v.ch--,c.setSelection(d,v),c.focus()}else if(P==="fenced")if(d.line!==v.line||d.ch!==v.ch){for(W=d.line;W>=0&&(F=c.getLineHandle(W),!o(F));W--);var $=c.getTokenAt({line:W,ch:1}),ne=l($).fencedChars,Q,te,he,ce;o(c.getLineHandle(d.line))?(Q="",te=d.line):o(c.getLineHandle(d.line-1))?(Q="",te=d.line-1):(Q=ne+`
`,te=d.line),o(c.getLineHandle(v.line))?(he="",ce=v.line,v.ch===0&&(ce+=1)):v.ch!==0&&o(c.getLineHandle(v.line+1))?(he="",ce=v.line+1):(he=ne+`
`,ce=v.line+1),v.ch===0&&(ce-=1),c.operation(function(){c.replaceRange(he,{line:ce,ch:0},{line:ce+(he?0:1),ch:0}),c.replaceRange(Q,{line:te,ch:0},{line:te+(Q?0:1),ch:0})}),c.setSelection({line:te+(Q?1:0),ch:0},{line:ce+(Q?1:-1),ch:0}),c.focus()}else{var ge=d.line;if(o(c.getLineHandle(d.line))&&(u(c,d.line+1)==="fenced"?(W=d.line,ge=d.line+1):(K=d.line,ge=d.line-1)),W===void 0)for(W=ge;W>=0&&(F=c.getLineHandle(W),!o(F));W--);if(K===void 0)for(ee=c.lineCount(),K=ge;K<ee&&(F=c.getLineHandle(K),!o(F));K++);c.operation(function(){c.replaceRange("",{line:W,ch:0},{line:W+1,ch:0}),c.replaceRange("",{line:K-1,ch:0},{line:K,ch:0})}),c.focus()}else if(P==="indented"){if(d.line!==v.line||d.ch!==v.ch)W=d.line,K=v.line,v.ch===0&&K--;else{for(W=d.line;W>=0;W--)if(F=c.getLineHandle(W),!F.text.match(/^\s*$/)&&u(c,W,F)!=="indented"){W+=1;break}for(ee=c.lineCount(),K=d.line;K<ee;K++)if(F=c.getLineHandle(K),!F.text.match(/^\s*$/)&&u(c,K,F)!=="indented"){K-=1;break}}var Re=c.getLineHandle(K+1),de=Re&&c.getTokenAt({line:K+1,ch:Re.text.length-1}),X=de&&l(de).indentedCode;X&&c.replaceRange(`
`,{line:K+1,ch:0});for(var x=W;x<=K;x++)c.indentLine(x,"subtract");c.focus()}else{var T=d.line===v.line&&d.ch===v.ch&&d.ch===0,k=d.line!==v.line;T||k?f(c,d,v,r):nr(c,!1,["`","`"])}}function ka(t){El(t.codemirror,"quote")}function yi(t){In(t.codemirror,"smaller")}function wa(t){In(t.codemirror,"bigger")}function Ca(t){In(t.codemirror,void 0,1)}function Da(t){In(t.codemirror,void 0,2)}function Ta(t){In(t.codemirror,void 0,3)}function vl(t){In(t.codemirror,void 0,4)}function yl(t){In(t.codemirror,void 0,5)}function xl(t){In(t.codemirror,void 0,6)}function Sa(t){var r=t.codemirror,o="*";["-","+","*"].includes(t.options.unorderedListStyle)&&(o=t.options.unorderedListStyle),El(r,"unordered-list",o)}function Aa(t){El(t.codemirror,"ordered-list")}function Fa(t){Jg(t.codemirror)}function La(t){var r=t.options,o="https://";if(r.promptURLs){var l=prompt(r.promptTexts.link,o);if(!l)return!1;o=bc(l)}kc(t,"link",r.insertTexts.link,o)}function _a(t){var r=t.options,o="https://";if(r.promptURLs){var l=prompt(r.promptTexts.image,o);if(!l)return!1;o=bc(l)}kc(t,"image",r.insertTexts.image,o)}function bc(t){return encodeURI(t).replace(/([\\()])/g,"\\$1")}function bl(t){t.openBrowseFileWindow()}function Ec(t,r){var o=t.codemirror,l=On(o),u=t.options,f=r.substr(r.lastIndexOf("/")+1),c=f.substring(f.lastIndexOf(".")+1).replace(/\?.*$/,"").toLowerCase();if(["png","jpg","jpeg","gif","svg","apng","avif","webp"].includes(c))nr(o,l.image,u.insertTexts.uploadedImage,r);else{var d=u.insertTexts.link;d[0]="["+f,nr(o,l.link,d,r)}t.updateStatusBar("upload-image",t.options.imageTexts.sbOnUploaded.replace("#image_name#",f)),setTimeout(function(){t.updateStatusBar("upload-image",t.options.imageTexts.sbInit)},1e3)}function Oa(t){var r=t.codemirror,o=On(r),l=t.options;nr(r,o.table,l.insertTexts.table)}function Ia(t){var r=t.codemirror,o=On(r),l=t.options;nr(r,o.image,l.insertTexts.horizontalRule)}function Ra(t){var r=t.codemirror;r.undo(),r.focus()}function Na(t){var r=t.codemirror;r.redo(),r.focus()}function Mr(t){var r=t.codemirror,o=r.getWrapperElement(),l=o.nextSibling,u=t.toolbarElements&&t.toolbarElements["side-by-side"],f=!1,c=o.parentNode;l.classList.contains("editor-preview-active-side")?(t.options.sideBySideFullscreen===!1&&c.classList.remove("sided--no-fullscreen"),l.classList.remove("editor-preview-active-side"),u&&u.classList.remove("active"),o.classList.remove("CodeMirror-sided")):(setTimeout(function(){r.getOption("fullScreen")||(t.options.sideBySideFullscreen===!1?c.classList.add("sided--no-fullscreen"):tr(t)),l.classList.add("editor-preview-active-side")},1),u&&u.classList.add("active"),o.classList.add("CodeMirror-sided"),f=!0);var d=o.lastChild;if(d.classList.contains("editor-preview-active")){d.classList.remove("editor-preview-active");var v=t.toolbarElements.preview,C=t.toolbar_div;v.classList.remove("active"),C.classList.remove("disabled-for-preview")}var F=function(){var W=t.options.previewRender(t.value(),l);W!=null&&(l.innerHTML=W)};if(r.sideBySideRenderingFunction||(r.sideBySideRenderingFunction=F),f){var P=t.options.previewRender(t.value(),l);P!=null&&(l.innerHTML=P),r.on("update",r.sideBySideRenderingFunction)}else r.off("update",r.sideBySideRenderingFunction);r.refresh()}function Ma(t){var r=t.codemirror,o=r.getWrapperElement(),l=t.toolbar_div,u=t.options.toolbar?t.toolbarElements.preview:!1,f=o.lastChild,c=r.getWrapperElement().nextSibling;if(c.classList.contains("editor-preview-active-side")&&Mr(t),!f||!f.classList.contains("editor-preview-full")){if(f=document.createElement("div"),f.className="editor-preview-full",t.options.previewClass)if(Array.isArray(t.options.previewClass))for(var d=0;d<t.options.previewClass.length;d++)f.classList.add(t.options.previewClass[d]);else typeof t.options.previewClass=="string"&&f.classList.add(t.options.previewClass);o.appendChild(f)}f.classList.contains("editor-preview-active")?(f.classList.remove("editor-preview-active"),u&&(u.classList.remove("active"),l.classList.remove("disabled-for-preview"))):(setTimeout(function(){f.classList.add("editor-preview-active")},1),u&&(u.classList.add("active"),l.classList.add("disabled-for-preview")));var v=t.options.previewRender(t.value(),f);v!==null&&(f.innerHTML=v)}function nr(t,r,o,l){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){var u,f=o[0],c=o[1],d={},v={};Object.assign(d,t.getCursor("start")),Object.assign(v,t.getCursor("end")),l&&(f=f.replace("#url#",l),c=c.replace("#url#",l)),r?(u=t.getLine(d.line),f=u.slice(0,d.ch),c=u.slice(d.ch),t.replaceRange(f+c,{line:d.line,ch:0})):(u=t.getSelection(),t.replaceSelection(f+u+c),d.ch+=f.length,d!==v&&(v.ch+=f.length)),t.setSelection(d,v),t.focus()}}function In(t,r,o){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var l=t.getCursor("start"),u=t.getCursor("end"),f=l.line;f<=u.line;f++)(function(c){var d=t.getLine(c),v=d.search(/[^#]/);r!==void 0?v<=0?r=="bigger"?d="###### "+d:d="# "+d:v==6&&r=="smaller"?d=d.substr(7):v==1&&r=="bigger"?d=d.substr(2):r=="bigger"?d=d.substr(1):d="#"+d:v<=0?d="#".repeat(o)+" "+d:v==o?d=d.substr(v+1):d="#".repeat(o)+" "+d.substr(v+1),t.replaceRange(d,{line:c,ch:0},{line:c,ch:99999999999999})})(f);t.focus()}}function El(t,r,o){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active")){for(var l=/^(\s*)(\*|-|\+|\d*\.)(\s+)/,u=/^\s*/,f=On(t),c=t.getCursor("start"),d=t.getCursor("end"),v={quote:/^(\s*)>\s+/,"unordered-list":l,"ordered-list":l},C=function(ee,Y){var H={quote:">","unordered-list":o,"ordered-list":"%%i."};return H[ee].replace("%%i",Y)},F=function(ee,Y){var H={quote:">","unordered-list":"\\"+o,"ordered-list":"\\d+."},$=new RegExp(H[ee]);return Y&&$.test(Y)},P=function(ee,Y,H){var $=l.exec(Y),ne=C(ee,W);return $!==null?(F(ee,$[2])&&(ne=""),Y=$[1]+ne+$[3]+Y.replace(u,"").replace(v[ee],"$1")):H==!1&&(Y=ne+" "+Y),Y},W=1,K=c.line;K<=d.line;K++)(function(ee){var Y=t.getLine(ee);f[r]?Y=Y.replace(v[r],"$1"):(r=="unordered-list"&&(Y=P("ordered-list",Y,!0)),Y=P(r,Y,!1),W+=1),t.replaceRange(Y,{line:ee,ch:0},{line:ee,ch:99999999999999})})(K);t.focus()}}function kc(t,r,o,l){if(!(!t.codemirror||t.isPreviewActive())){var u=t.codemirror,f=On(u),c=f[r];if(!c){nr(u,c,o,l);return}var d=u.getCursor("start"),v=u.getCursor("end"),C=u.getLine(d.line),F=C.slice(0,d.ch),P=C.slice(d.ch);r=="link"?F=F.replace(/(.*)[^!]\[/,"$1"):r=="image"&&(F=F.replace(/(.*)!\[$/,"$1")),P=P.replace(/]\(.*?\)/,""),u.replaceRange(F+P,{line:d.line,ch:0},{line:d.line,ch:99999999999999}),d.ch-=o[0].length,d!==v&&(v.ch-=o[0].length),u.setSelection(d,v),u.focus()}}function kl(t,r,o,l){if(!(!t.codemirror||t.isPreviewActive())){l=typeof l>"u"?o:l;var u=t.codemirror,f=On(u),c,d=o,v=l,C=u.getCursor("start"),F=u.getCursor("end");f[r]?(c=u.getLine(C.line),d=c.slice(0,C.ch),v=c.slice(C.ch),r=="bold"?(d=d.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),v=v.replace(/(\*\*|__)/,"")):r=="italic"?(d=d.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),v=v.replace(/(\*|_)/,"")):r=="strikethrough"&&(d=d.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),v=v.replace(/(\*\*|~~)/,"")),u.replaceRange(d+v,{line:C.line,ch:0},{line:C.line,ch:99999999999999}),r=="bold"||r=="strikethrough"?(C.ch-=2,C!==F&&(F.ch-=2)):r=="italic"&&(C.ch-=1,C!==F&&(F.ch-=1))):(c=u.getSelection(),r=="bold"?(c=c.split("**").join(""),c=c.split("__").join("")):r=="italic"?(c=c.split("*").join(""),c=c.split("_").join("")):r=="strikethrough"&&(c=c.split("~~").join("")),u.replaceSelection(d+c+v),C.ch+=o.length,F.ch=C.ch+c.length),u.setSelection(C,F),u.focus()}}function Jg(t){if(!t.getWrapperElement().lastChild.classList.contains("editor-preview-active"))for(var r=t.getCursor("start"),o=t.getCursor("end"),l,u=r.line;u<=o.line;u++)l=t.getLine(u),l=l.replace(/^[ ]*([# ]+|\*|-|[> ]+|[0-9]+(.|\)))[ ]*/,""),t.replaceRange(l,{line:u,ch:0},{line:u,ch:99999999999999})}function va(t,r){if(Math.abs(t)<1024)return""+t+r[0];var o=0;do t/=1024,++o;while(Math.abs(t)>=1024&&o<r.length);return""+t.toFixed(1)+r[o]}function wc(t,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(r[o]instanceof Array?t[o]=r[o].concat(t[o]instanceof Array?t[o]:[]):r[o]!==null&&typeof r[o]=="object"&&r[o].constructor===Object?t[o]=wc(t[o]||{},r[o]):t[o]=r[o]);return t}function yn(t){for(var r=1;r<arguments.length;r++)t=wc(t,arguments[r]);return t}function vc(t){var r=/[a-zA-Z0-9_\u00A0-\u02AF\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,o=t.match(r),l=0;if(o===null)return l;for(var u=0;u<o.length;u++)o[u].charCodeAt(0)>=19968?l+=o[u].length:l+=1;return l}var Je={bold:"fa fa-bold",italic:"fa fa-italic",strikethrough:"fa fa-strikethrough",heading:"fa fa-header fa-heading","heading-smaller":"fa fa-header fa-heading header-smaller","heading-bigger":"fa fa-header fa-heading header-bigger","heading-1":"fa fa-header fa-heading header-1","heading-2":"fa fa-header fa-heading header-2","heading-3":"fa fa-header fa-heading header-3",code:"fa fa-code",quote:"fa fa-quote-left","ordered-list":"fa fa-list-ol","unordered-list":"fa fa-list-ul","clean-block":"fa fa-eraser",link:"fa fa-link",image:"fa fa-image","upload-image":"fa fa-image",table:"fa fa-table","horizontal-rule":"fa fa-minus",preview:"fa fa-eye","side-by-side":"fa fa-columns",fullscreen:"fa fa-arrows-alt",guide:"fa fa-question-circle",undo:"fa fa-undo",redo:"fa fa-repeat fa-redo"},er={bold:{name:"bold",action:ya,className:Je.bold,title:"Bold",default:!0},italic:{name:"italic",action:xa,className:Je.italic,title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:ba,className:Je.strikethrough,title:"Strikethrough"},heading:{name:"heading",action:yi,className:Je.heading,title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:yi,className:Je["heading-smaller"],title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:wa,className:Je["heading-bigger"],title:"Bigger Heading"},"heading-1":{name:"heading-1",action:Ca,className:Je["heading-1"],title:"Big Heading"},"heading-2":{name:"heading-2",action:Da,className:Je["heading-2"],title:"Medium Heading"},"heading-3":{name:"heading-3",action:Ta,className:Je["heading-3"],title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:Ea,className:Je.code,title:"Code"},quote:{name:"quote",action:ka,className:Je.quote,title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:Sa,className:Je["unordered-list"],title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:Aa,className:Je["ordered-list"],title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:Fa,className:Je["clean-block"],title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:La,className:Je.link,title:"Create Link",default:!0},image:{name:"image",action:_a,className:Je.image,title:"Insert Image",default:!0},"upload-image":{name:"upload-image",action:bl,className:Je["upload-image"],title:"Import an image"},table:{name:"table",action:Oa,className:Je.table,title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:Ia,className:Je["horizontal-rule"],title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:Ma,className:Je.preview,noDisable:!0,title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Mr,className:Je["side-by-side"],noDisable:!0,noMobile:!0,title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:tr,className:Je.fullscreen,noDisable:!0,noMobile:!0,title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://www.markdownguide.org/basic-syntax/",className:Je.guide,noDisable:!0,title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:Ra,className:Je.undo,noDisable:!0,title:"Undo"},redo:{name:"redo",action:Na,className:Je.redo,noDisable:!0,title:"Redo"}},em={link:["[","](#url#)"],image:["![","](#url#)"],uploadedImage:["![](#url#)",""],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},tm={link:"URL for the link:",image:"URL of the image:"},nm={locale:"en-US",format:{hour:"2-digit",minute:"2-digit"}},rm={bold:"**",code:"```",italic:"*"},im={sbInit:"Attach files by drag and dropping or pasting from clipboard.",sbOnDragEnter:"Drop image to upload it.",sbOnDrop:"Uploading image #images_names#...",sbProgress:"Uploading #file_name#: #progress#%",sbOnUploaded:"Uploaded #image_name#",sizeUnits:" B, KB, MB"},am={noFileGiven:"You must select a file.",typeNotAllowed:"This image type is not allowed.",fileTooLarge:`Image #image_name# is too big (#image_size#).
Maximum file size is #image_max_size#.`,importError:"Something went wrong when uploading the image #image_name#."};function Se(t){t=t||{},t.parent=this;var r=!0;if(t.autoDownloadFontAwesome===!1&&(r=!1),t.autoDownloadFontAwesome!==!0)for(var o=document.styleSheets,l=0;l<o.length;l++)o[l].href&&o[l].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(r=!1);if(r){var u=document.createElement("link");u.rel="stylesheet",u.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(u)}if(t.element)this.element=t.element;else if(t.element===null){console.log("EasyMDE: Error. No element was found.");return}if(t.toolbar===void 0){t.toolbar=[];for(var f in er)Object.prototype.hasOwnProperty.call(er,f)&&(f.indexOf("separator-")!=-1&&t.toolbar.push("|"),(er[f].default===!0||t.showIcons&&t.showIcons.constructor===Array&&t.showIcons.indexOf(f)!=-1)&&t.toolbar.push(f))}if(Object.prototype.hasOwnProperty.call(t,"previewClass")||(t.previewClass="editor-preview"),Object.prototype.hasOwnProperty.call(t,"status")||(t.status=["autosave","lines","words","cursor"],t.uploadImage&&t.status.unshift("upload-image")),t.previewRender||(t.previewRender=function(d){return this.parent.markdown(d)}),t.parsingConfig=yn({highlightFormatting:!0},t.parsingConfig||{}),t.insertTexts=yn({},em,t.insertTexts||{}),t.promptTexts=yn({},tm,t.promptTexts||{}),t.blockStyles=yn({},rm,t.blockStyles||{}),t.autosave!=null&&(t.autosave.timeFormat=yn({},nm,t.autosave.timeFormat||{})),t.iconClassMap=yn({},Je,t.iconClassMap||{}),t.shortcuts=yn({},Xg,t.shortcuts||{}),t.maxHeight=t.maxHeight||void 0,t.direction=t.direction||"ltr",typeof t.maxHeight<"u"?t.minHeight=t.maxHeight:t.minHeight=t.minHeight||"300px",t.errorCallback=t.errorCallback||function(d){alert(d)},t.uploadImage=t.uploadImage||!1,t.imageMaxSize=t.imageMaxSize||2097152,t.imageAccept=t.imageAccept||"image/png, image/jpeg, image/gif, image/avif",t.imageTexts=yn({},im,t.imageTexts||{}),t.errorMessages=yn({},am,t.errorMessages||{}),t.imagePathAbsolute=t.imagePathAbsolute||!1,t.imageCSRFName=t.imageCSRFName||"csrfmiddlewaretoken",t.imageCSRFHeader=t.imageCSRFHeader||!1,t.autosave!=null&&t.autosave.unique_id!=null&&t.autosave.unique_id!=""&&(t.autosave.uniqueId=t.autosave.unique_id),t.overlayMode&&t.overlayMode.combine===void 0&&(t.overlayMode.combine=!0),this.options=t,this.render(),t.initialValue&&(!this.options.autosave||this.options.autosave.foundSavedValue!==!0)&&this.value(t.initialValue),t.uploadImage){var c=this;this.codemirror.on("dragenter",function(d,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbOnDragEnter),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragend",function(d,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragleave",function(d,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbInit),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("dragover",function(d,v){c.updateStatusBar("upload-image",c.options.imageTexts.sbOnDragEnter),v.stopPropagation(),v.preventDefault()}),this.codemirror.on("drop",function(d,v){v.stopPropagation(),v.preventDefault(),t.imageUploadFunction?c.uploadImagesUsingCustomFunction(t.imageUploadFunction,v.dataTransfer.files):c.uploadImages(v.dataTransfer.files)}),this.codemirror.on("paste",function(d,v){t.imageUploadFunction?c.uploadImagesUsingCustomFunction(t.imageUploadFunction,v.clipboardData.files):c.uploadImages(v.clipboardData.files)})}}Se.prototype.uploadImages=function(t,r,o){if(t.length!==0){for(var l=[],u=0;u<t.length;u++)l.push(t[u].name),this.uploadImage(t[u],r,o);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",l.join(", ")))}};Se.prototype.uploadImagesUsingCustomFunction=function(t,r){if(r.length!==0){for(var o=[],l=0;l<r.length;l++)o.push(r[l].name),this.uploadImageUsingCustomFunction(t,r[l]);this.updateStatusBar("upload-image",this.options.imageTexts.sbOnDrop.replace("#images_names#",o.join(", ")))}};Se.prototype.updateStatusBar=function(t,r){if(this.gui.statusbar){var o=this.gui.statusbar.getElementsByClassName(t);o.length===1?this.gui.statusbar.getElementsByClassName(t)[0].textContent=r:o.length===0?console.log("EasyMDE: status bar item "+t+" was not found."):console.log("EasyMDE: Several status bar items named "+t+" was found.")}};Se.prototype.markdown=function(t){if(gl){var r;if(this.options&&this.options.renderingConfig&&this.options.renderingConfig.markedOptions?r=this.options.renderingConfig.markedOptions:r={},this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?r.breaks=!1:r.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0){var o=this.options.renderingConfig.hljs||window.hljs;o&&(r.highlight=function(u,f){return f&&o.getLanguage(f)?o.highlight(f,u).value:o.highlightAuto(u).value})}gl.setOptions(r);var l=gl.parse(t);return this.options.renderingConfig&&typeof this.options.renderingConfig.sanitizerFunction=="function"&&(l=this.options.renderingConfig.sanitizerFunction.call(this,l)),l=$g(l),l=Vg(l),l}};Se.prototype.render=function(t){if(t||(t=this.element||document.getElementsByTagName("textarea")[0]),this._rendered&&this._rendered===t)return;this.element=t;var r=this.options,o=this,l={};for(var u in r.shortcuts)r.shortcuts[u]!==null&&vi[u]!==null&&function(H){l[xc(r.shortcuts[H])]=function(){var $=vi[H];typeof $=="function"?$(o):typeof $=="string"&&window.open($,"_blank")}}(u);l.Enter="newlineAndIndentContinueMarkdownList",l.Tab="tabAndIndentMarkdownList",l["Shift-Tab"]="shiftTabAndUnindentMarkdownList",l.Esc=function(H){H.getOption("fullScreen")&&tr(o)},this.documentOnKeyDown=function(H){H=H||window.event,H.keyCode==27&&o.codemirror.getOption("fullScreen")&&tr(o)},document.addEventListener("keydown",this.documentOnKeyDown,!1);var f,c;r.overlayMode?(Nr.defineMode("overlay-mode",function(H){return Nr.overlayMode(Nr.getMode(H,r.spellChecker!==!1?"spell-checker":"gfm"),r.overlayMode.mode,r.overlayMode.combine)}),f="overlay-mode",c=r.parsingConfig,c.gitHubSpice=!1):(f=r.parsingConfig,f.name="gfm",f.gitHubSpice=!1),r.spellChecker!==!1&&(f="spell-checker",c=r.parsingConfig,c.name="gfm",c.gitHubSpice=!1,typeof r.spellChecker=="function"?r.spellChecker({codeMirrorInstance:Nr}):jg({codeMirrorInstance:Nr}));function d(H,$,ne){return{addNew:!1}}if(this.codemirror=Nr.fromTextArea(t,{mode:f,backdrop:c,theme:r.theme!=null?r.theme:"easymde",tabSize:r.tabSize!=null?r.tabSize:2,indentUnit:r.tabSize!=null?r.tabSize:2,indentWithTabs:r.indentWithTabs!==!1,lineNumbers:r.lineNumbers===!0,autofocus:r.autofocus===!0,extraKeys:l,direction:r.direction,lineWrapping:r.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:r.placeholder||t.getAttribute("placeholder")||"",styleSelectedText:r.styleSelectedText!=null?r.styleSelectedText:!ml(),scrollbarStyle:r.scrollbarStyle!=null?r.scrollbarStyle:"native",configureMouse:d,inputStyle:r.inputStyle!=null?r.inputStyle:ml()?"contenteditable":"textarea",spellcheck:r.nativeSpellcheck!=null?r.nativeSpellcheck:!0,autoRefresh:r.autoRefresh!=null?r.autoRefresh:!1}),this.codemirror.getScrollerElement().style.minHeight=r.minHeight,typeof r.maxHeight<"u"&&(this.codemirror.getScrollerElement().style.height=r.maxHeight),r.forceSync===!0){var v=this.codemirror;v.on("change",function(){v.save()})}this.gui={};var C=document.createElement("div");C.classList.add("EasyMDEContainer"),C.setAttribute("role","application");var F=this.codemirror.getWrapperElement();F.parentNode.insertBefore(C,F),C.appendChild(F),r.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),r.status!==!1&&(this.gui.statusbar=this.createStatusbar()),r.autosave!=null&&r.autosave.enabled===!0&&(this.autosave(),this.codemirror.on("change",function(){clearTimeout(o._autosave_timeout),o._autosave_timeout=setTimeout(function(){o.autosave()},o.options.autosave.submit_delay||o.options.autosave.delay||1e3)}));function P(H,$){var ne,Q=window.getComputedStyle(document.querySelector(".CodeMirror-sizer")).width.replace("px","");return H<Q?ne=$+"px":ne=$/H*100+"%",ne}var W=this;function K(H,$){H.setAttribute("data-img-src",$.url),H.setAttribute("style","--bg-image:url("+$.url+");--width:"+$.naturalWidth+"px;--height:"+P($.naturalWidth,$.naturalHeight)),W.codemirror.setSize()}function ee(){r.previewImagesInEditor&&C.querySelectorAll(".cm-image-marker").forEach(function(H){var $=H.parentElement;if($.innerText.match(/^!\[.*?\]\(.*\)/g)&&!$.hasAttribute("data-img-src")){var ne=$.innerText.match("\\((.*)\\)");if(window.EMDEimagesCache||(window.EMDEimagesCache={}),ne&&ne.length>=2){var Q=ne[1];if(r.imagesPreviewHandler){var te=r.imagesPreviewHandler(ne[1]);typeof te=="string"&&(Q=te)}if(window.EMDEimagesCache[Q])K($,window.EMDEimagesCache[Q]);else{var he=document.createElement("img");he.onload=function(){window.EMDEimagesCache[Q]={naturalWidth:he.naturalWidth,naturalHeight:he.naturalHeight,url:Q},K($,window.EMDEimagesCache[Q])},he.src=Q}}}})}this.codemirror.on("update",function(){ee()}),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element,(r.autofocus===!0||t.autofocus)&&this.codemirror.focus();var Y=this.codemirror;setTimeout(function(){Y.refresh()}.bind(Y),0)};Se.prototype.cleanup=function(){document.removeEventListener("keydown",this.documentOnKeyDown)};function Cc(){if(typeof localStorage=="object")try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}else return!1;return!0}Se.prototype.autosave=function(){if(Cc()){var t=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to use the autosave feature");return}this.options.autosave.binded!==!0&&(t.element.form!=null&&t.element.form!=null&&t.element.form.addEventListener("submit",function(){clearTimeout(t.autosaveTimeoutId),t.autosaveTimeoutId=void 0,localStorage.removeItem("smde_"+t.options.autosave.uniqueId)}),this.options.autosave.binded=!0),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0);var r=t.value();r!==""?localStorage.setItem("smde_"+this.options.autosave.uniqueId,r):localStorage.removeItem("smde_"+this.options.autosave.uniqueId);var o=document.getElementById("autosaved");if(o!=null&&o!=null&&o!=""){var l=new Date,u=new Intl.DateTimeFormat([this.options.autosave.timeFormat.locale,"en-US"],this.options.autosave.timeFormat.format).format(l),f=this.options.autosave.text==null?"Autosaved: ":this.options.autosave.text;o.innerHTML=f+u}}else console.log("EasyMDE: localStorage not available, cannot autosave")};Se.prototype.clearAutosavedValue=function(){if(Cc()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId==""){console.log("EasyMDE: You must set a uniqueId to clear the autosave value");return}localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("EasyMDE: localStorage not available, cannot autosave")};Se.prototype.openBrowseFileWindow=function(t,r){var o=this,l=this.gui.toolbar.getElementsByClassName("imageInput")[0];l.click();function u(f){o.options.imageUploadFunction?o.uploadImagesUsingCustomFunction(o.options.imageUploadFunction,f.target.files):o.uploadImages(f.target.files,t,r),l.removeEventListener("change",u)}l.addEventListener("change",u)};Se.prototype.uploadImage=function(t,r,o){var l=this;r=r||function(C){Ec(l,C)};function u(v){l.updateStatusBar("upload-image",v),setTimeout(function(){l.updateStatusBar("upload-image",l.options.imageTexts.sbInit)},1e4),o&&typeof o=="function"&&o(v),l.options.errorCallback(v)}function f(v){var C=l.options.imageTexts.sizeUnits.split(",");return v.replace("#image_name#",t.name).replace("#image_size#",va(t.size,C)).replace("#image_max_size#",va(l.options.imageMaxSize,C))}if(t.size>this.options.imageMaxSize){u(f(this.options.errorMessages.fileTooLarge));return}var c=new FormData;c.append("image",t),l.options.imageCSRFToken&&!l.options.imageCSRFHeader&&c.append(l.options.imageCSRFName,l.options.imageCSRFToken);var d=new XMLHttpRequest;d.upload.onprogress=function(v){if(v.lengthComputable){var C=""+Math.round(v.loaded*100/v.total);l.updateStatusBar("upload-image",l.options.imageTexts.sbProgress.replace("#file_name#",t.name).replace("#progress#",C))}},d.open("POST",this.options.imageUploadEndpoint),l.options.imageCSRFToken&&l.options.imageCSRFHeader&&d.setRequestHeader(l.options.imageCSRFName,l.options.imageCSRFToken),d.onload=function(){try{var v=JSON.parse(this.responseText)}catch{console.error("EasyMDE: The server did not return a valid json."),u(f(l.options.errorMessages.importError));return}this.status===200&&v&&!v.error&&v.data&&v.data.filePath?r((l.options.imagePathAbsolute?"":window.location.origin+"/")+v.data.filePath):v.error&&v.error in l.options.errorMessages?u(f(l.options.errorMessages[v.error])):v.error?u(f(v.error)):(console.error("EasyMDE: Received an unexpected response after uploading the image."+this.status+" ("+this.statusText+")"),u(f(l.options.errorMessages.importError)))},d.onerror=function(v){console.error("EasyMDE: An unexpected error occurred when trying to upload the image."+v.target.status+" ("+v.target.statusText+")"),u(l.options.errorMessages.importError)},d.send(c)};Se.prototype.uploadImageUsingCustomFunction=function(t,r){var o=this;function l(c){Ec(o,c)}function u(c){var d=f(c);o.updateStatusBar("upload-image",d),setTimeout(function(){o.updateStatusBar("upload-image",o.options.imageTexts.sbInit)},1e4),o.options.errorCallback(d)}function f(c){var d=o.options.imageTexts.sizeUnits.split(",");return c.replace("#image_name#",r.name).replace("#image_size#",va(r.size,d)).replace("#image_max_size#",va(o.options.imageMaxSize,d))}t.apply(this,[r,l,u])};Se.prototype.setPreviewMaxHeight=function(){var t=this.codemirror,r=t.getWrapperElement(),o=r.nextSibling,l=parseInt(window.getComputedStyle(r).paddingTop),u=parseInt(window.getComputedStyle(r).borderTopWidth),f=parseInt(this.options.maxHeight),c=f+l*2+u*2,d=c.toString()+"px";o.style.height=d};Se.prototype.createSideBySide=function(){var t=this.codemirror,r=t.getWrapperElement(),o=r.nextSibling;if(!o||!o.classList.contains("editor-preview-side")){if(o=document.createElement("div"),o.className="editor-preview-side",this.options.previewClass)if(Array.isArray(this.options.previewClass))for(var l=0;l<this.options.previewClass.length;l++)o.classList.add(this.options.previewClass[l]);else typeof this.options.previewClass=="string"&&o.classList.add(this.options.previewClass);r.parentNode.insertBefore(o,r.nextSibling)}if(typeof this.options.maxHeight<"u"&&this.setPreviewMaxHeight(),this.options.syncSideBySidePreviewScroll===!1)return o;var u=!1,f=!1;return t.on("scroll",function(c){if(u){u=!1;return}f=!0;var d=c.getScrollInfo().height-c.getScrollInfo().clientHeight,v=parseFloat(c.getScrollInfo().top)/d,C=(o.scrollHeight-o.clientHeight)*v;o.scrollTop=C}),o.onscroll=function(){if(f){f=!1;return}u=!0;var c=o.scrollHeight-o.clientHeight,d=parseFloat(o.scrollTop)/c,v=(t.getScrollInfo().height-t.getScrollInfo().clientHeight)*d;t.scrollTo(0,v)},o};Se.prototype.createToolbar=function(t){if(t=t||this.options.toolbar,!(!t||t.length===0)){var r;for(r=0;r<t.length;r++)er[t[r]]!=null&&(t[r]=er[t[r]]);var o=document.createElement("div");o.className="editor-toolbar",o.setAttribute("role","toolbar");var l=this,u={};for(l.toolbar=t,r=0;r<t.length;r++)if(!(t[r].name=="guide"&&l.options.toolbarGuideIcon===!1)&&!(l.options.hideIcons&&l.options.hideIcons.indexOf(t[r].name)!=-1)&&!((t[r].name=="fullscreen"||t[r].name=="side-by-side")&&ml())){if(t[r]==="|"){for(var f=!1,c=r+1;c<t.length;c++)t[c]!=="|"&&(!l.options.hideIcons||l.options.hideIcons.indexOf(t[c].name)==-1)&&(f=!0);if(!f)continue}(function(C){var F;if(C==="|"?F=Zg():C.children?F=Yg(C,l.options.toolbarTips,l.options.shortcuts,l):F=ma(C,!0,l.options.toolbarTips,l.options.shortcuts,"button",l),u[C.name||C]=F,o.appendChild(F),C.name==="upload-image"){var P=document.createElement("input");P.className="imageInput",P.type="file",P.multiple=!0,P.name="image",P.accept=l.options.imageAccept,P.style.display="none",P.style.opacity=0,o.appendChild(P)}})(t[r])}l.toolbar_div=o,l.toolbarElements=u;var d=this.codemirror;d.on("cursorActivity",function(){var C=On(d);for(var F in u)(function(P){var W=u[P];C[P]?W.classList.add("active"):P!="fullscreen"&&P!="side-by-side"&&W.classList.remove("active")})(F)});var v=d.getWrapperElement();return v.parentNode.insertBefore(o,v),o}};Se.prototype.createStatusbar=function(t){t=t||this.options.status;var r=this.options,o=this.codemirror;if(!(!t||t.length===0)){var l=[],u,f,c,d;for(u=0;u<t.length;u++)if(f=void 0,c=void 0,d=void 0,typeof t[u]=="object")l.push({className:t[u].className,defaultValue:t[u].defaultValue,onUpdate:t[u].onUpdate,onActivity:t[u].onActivity});else{var v=t[u];v==="words"?(d=function(K){K.innerHTML=vc(o.getValue())},f=function(K){K.innerHTML=vc(o.getValue())}):v==="lines"?(d=function(K){K.innerHTML=o.lineCount()},f=function(K){K.innerHTML=o.lineCount()}):v==="cursor"?(d=function(K){K.innerHTML="1:1"},c=function(K){var ee=o.getCursor(),Y=ee.line+1,H=ee.ch+1;K.innerHTML=Y+":"+H}):v==="autosave"?d=function(K){r.autosave!=null&&r.autosave.enabled===!0&&K.setAttribute("id","autosaved")}:v==="upload-image"&&(d=function(K){K.innerHTML=r.imageTexts.sbInit}),l.push({className:v,defaultValue:d,onUpdate:f,onActivity:c})}var C=document.createElement("div");for(C.className="editor-statusbar",u=0;u<l.length;u++){var F=l[u],P=document.createElement("span");P.className=F.className,typeof F.defaultValue=="function"&&F.defaultValue(P),typeof F.onUpdate=="function"&&this.codemirror.on("update",function(K,ee){return function(){ee.onUpdate(K)}}(P,F)),typeof F.onActivity=="function"&&this.codemirror.on("cursorActivity",function(K,ee){return function(){ee.onActivity(K)}}(P,F)),C.appendChild(P)}var W=this.codemirror.getWrapperElement();return W.parentNode.insertBefore(C,W.nextSibling),C}};Se.prototype.value=function(t){var r=this.codemirror;if(t===void 0)return r.getValue();if(r.getDoc().setValue(t),this.isPreviewActive()){var o=r.getWrapperElement(),l=o.lastChild,u=this.options.previewRender(t,l);u!==null&&(l.innerHTML=u)}return this};Se.toggleBold=ya;Se.toggleItalic=xa;Se.toggleStrikethrough=ba;Se.toggleBlockquote=ka;Se.toggleHeadingSmaller=yi;Se.toggleHeadingBigger=wa;Se.toggleHeading1=Ca;Se.toggleHeading2=Da;Se.toggleHeading3=Ta;Se.toggleHeading4=vl;Se.toggleHeading5=yl;Se.toggleHeading6=xl;Se.toggleCodeBlock=Ea;Se.toggleUnorderedList=Sa;Se.toggleOrderedList=Aa;Se.cleanBlock=Fa;Se.drawLink=La;Se.drawImage=_a;Se.drawUploadedImage=bl;Se.drawTable=Oa;Se.drawHorizontalRule=Ia;Se.undo=Ra;Se.redo=Na;Se.togglePreview=Ma;Se.toggleSideBySide=Mr;Se.toggleFullScreen=tr;Se.prototype.toggleBold=function(){ya(this)};Se.prototype.toggleItalic=function(){xa(this)};Se.prototype.toggleStrikethrough=function(){ba(this)};Se.prototype.toggleBlockquote=function(){ka(this)};Se.prototype.toggleHeadingSmaller=function(){yi(this)};Se.prototype.toggleHeadingBigger=function(){wa(this)};Se.prototype.toggleHeading1=function(){Ca(this)};Se.prototype.toggleHeading2=function(){Da(this)};Se.prototype.toggleHeading3=function(){Ta(this)};Se.prototype.toggleHeading4=function(){vl(this)};Se.prototype.toggleHeading5=function(){yl(this)};Se.prototype.toggleHeading6=function(){xl(this)};Se.prototype.toggleCodeBlock=function(){Ea(this)};Se.prototype.toggleUnorderedList=function(){Sa(this)};Se.prototype.toggleOrderedList=function(){Aa(this)};Se.prototype.cleanBlock=function(){Fa(this)};Se.prototype.drawLink=function(){La(this)};Se.prototype.drawImage=function(){_a(this)};Se.prototype.drawUploadedImage=function(){bl(this)};Se.prototype.drawTable=function(){Oa(this)};Se.prototype.drawHorizontalRule=function(){Ia(this)};Se.prototype.undo=function(){Ra(this)};Se.prototype.redo=function(){Na(this)};Se.prototype.togglePreview=function(){Ma(this)};Se.prototype.toggleSideBySide=function(){Mr(this)};Se.prototype.toggleFullScreen=function(){tr(this)};Se.prototype.isPreviewActive=function(){var t=this.codemirror,r=t.getWrapperElement(),o=r.lastChild;return o.classList.contains("editor-preview-active")};Se.prototype.isSideBySideActive=function(){var t=this.codemirror,r=t.getWrapperElement(),o=r.nextSibling;return o.classList.contains("editor-preview-active-side")};Se.prototype.isFullscreenActive=function(){var t=this.codemirror;return t.getOption("fullScreen")};Se.prototype.getState=function(){var t=this.codemirror;return On(t)};Se.prototype.toTextArea=function(){var t=this.codemirror,r=t.getWrapperElement(),o=r.parentNode;o&&(this.gui.toolbar&&o.removeChild(this.gui.toolbar),this.gui.statusbar&&o.removeChild(this.gui.statusbar),this.gui.sideBySide&&o.removeChild(this.gui.sideBySide)),o.parentNode.insertBefore(r,o),o.remove(),t.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())};Dc.exports=Se});var pg=function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(t,r){return getInputValues(t,r||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0},parseInterval:null,_:null,version:"2.0.1"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(t){return"[hx-"+t+"], [data-hx-"+t+"]"}).join(", "),HEAD_TAG_REGEX=makeTagRegEx("head");function makeTagRegEx(t,r=!1){return new RegExp(`<${t}(\\s[^>]*>|>)([\\s\\S]*?)<\\/${t}>`,r?"gim":"im")}function parseInterval(t){if(t==null)return;let r=NaN;return t.slice(-2)=="ms"?r=parseFloat(t.slice(0,-2)):t.slice(-1)=="s"?r=parseFloat(t.slice(0,-1))*1e3:t.slice(-1)=="m"?r=parseFloat(t.slice(0,-1))*1e3*60:r=parseFloat(t),isNaN(r)?void 0:r}function getRawAttribute(t,r){return t instanceof Element&&t.getAttribute(r)}function hasAttribute(t,r){return!!t.hasAttribute&&(t.hasAttribute(r)||t.hasAttribute("data-"+r))}function getAttributeValue(t,r){return getRawAttribute(t,r)||getRawAttribute(t,"data-"+r)}function parentElt(t){let r=t.parentElement;return!r&&t.parentNode instanceof ShadowRoot?t.parentNode:r}function getDocument(){return document}function getRootNode(t,r){return t.getRootNode?t.getRootNode({composed:r}):getDocument()}function getClosestMatch(t,r){for(;t&&!r(t);)t=parentElt(t);return t||null}function getAttributeValueWithDisinheritance(t,r,o){let l=getAttributeValue(r,o),u=getAttributeValue(r,"hx-disinherit");var f=getAttributeValue(r,"hx-inherit");if(t!==r){if(htmx.config.disableInheritance)return f&&(f==="*"||f.split(" ").indexOf(o)>=0)?l:null;if(u&&(u==="*"||u.split(" ").indexOf(o)>=0))return"unset"}return l}function getClosestAttributeValue(t,r){let o=null;if(getClosestMatch(t,function(l){return!!(o=getAttributeValueWithDisinheritance(t,asElement(l),r))}),o!=="unset")return o}function matches(t,r){let o=t instanceof Element&&(t.matches||t.matchesSelector||t.msMatchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.oMatchesSelector);return!!o&&o.call(t,r)}function getStartTag(t){let o=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(t);return o?o[1].toLowerCase():""}function parseHTML(t){return new DOMParser().parseFromString(t,"text/html")}function takeChildrenFor(t,r){for(;r.childNodes.length>0;)t.append(r.childNodes[0])}function duplicateScript(t){let r=getDocument().createElement("script");return forEach(t.attributes,function(o){r.setAttribute(o.name,o.value)}),r.textContent=t.textContent,r.async=!1,htmx.config.inlineScriptNonce&&(r.nonce=htmx.config.inlineScriptNonce),r}function isJavaScriptScriptNode(t){return t.matches("script")&&(t.type==="text/javascript"||t.type==="module"||t.type==="")}function normalizeScriptTags(t){Array.from(t.querySelectorAll("script")).forEach(r=>{if(isJavaScriptScriptNode(r)){let o=duplicateScript(r),l=r.parentNode;try{l.insertBefore(o,r)}catch(u){logError(u)}finally{r.remove()}}})}function makeFragment(t){let r=t.replace(HEAD_TAG_REGEX,""),o=getStartTag(r),l;if(o==="html"){l=new DocumentFragment;let f=parseHTML(t);takeChildrenFor(l,f.body),l.title=f.title}else if(o==="body"){l=new DocumentFragment;let f=parseHTML(r);takeChildrenFor(l,f.body),l.title=f.title}else{let f=parseHTML('<body><template class="internal-htmx-wrapper">'+r+"</template></body>");l=f.querySelector("template").content,l.title=f.title;var u=l.querySelector("title");u&&u.parentNode===l&&(u.remove(),l.title=u.innerText)}return l&&(htmx.config.allowScriptTags?normalizeScriptTags(l):l.querySelectorAll("script").forEach(f=>f.remove())),l}function maybeCall(t){t&&t()}function isType(t,r){return Object.prototype.toString.call(t)==="[object "+r+"]"}function isFunction(t){return typeof t=="function"}function isRawObject(t){return isType(t,"Object")}function getInternalData(t){let r="htmx-internal-data",o=t[r];return o||(o=t[r]={}),o}function toArray(t){let r=[];if(t)for(let o=0;o<t.length;o++)r.push(t[o]);return r}function forEach(t,r){if(t)for(let o=0;o<t.length;o++)r(t[o])}function isScrolledIntoView(t){let r=t.getBoundingClientRect(),o=r.top,l=r.bottom;return o<window.innerHeight&&l>=0}function bodyContains(t){let r=t.getRootNode&&t.getRootNode();return r&&r instanceof window.ShadowRoot?getDocument().body.contains(r.host):getDocument().body.contains(t)}function splitOnWhitespace(t){return t.trim().split(/\s+/)}function mergeObjects(t,r){for(let o in r)r.hasOwnProperty(o)&&(t[o]=r[o]);return t}function parseJSON(t){try{return JSON.parse(t)}catch(r){return logError(r),null}}function canAccessLocalStorage(){let t="htmx:localStorageTest";try{return localStorage.setItem(t,t),localStorage.removeItem(t),!0}catch{return!1}}function normalizePath(t){try{let r=new URL(t);return r&&(t=r.pathname+r.search),/^\/$/.test(t)||(t=t.replace(/\/+$/,"")),t}catch{return t}}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(t){return htmx.on("htmx:load",function(o){t(o.detail.elt)})}function logAll(){htmx.logger=function(t,r,o){console&&console.log(r,t,o)}}function logNone(){htmx.logger=null}function find(t,r){return typeof t!="string"?t.querySelector(r):find(getDocument(),t)}function findAll(t,r){return typeof t!="string"?t.querySelectorAll(r):findAll(getDocument(),t)}function getWindow(){return window}function removeElement(t,r){t=resolveTarget(t),r?getWindow().setTimeout(function(){removeElement(t),t=null},r):parentElt(t).removeChild(t)}function asElement(t){return t instanceof Element?t:null}function asHtmlElement(t){return t instanceof HTMLElement?t:null}function asString(t){return typeof t=="string"?t:null}function asParentNode(t){return t instanceof Element||t instanceof Document||t instanceof DocumentFragment?t:null}function addClassToElement(t,r,o){t=asElement(resolveTarget(t)),t&&(o?getWindow().setTimeout(function(){addClassToElement(t,r),t=null},o):t.classList&&t.classList.add(r))}function removeClassFromElement(t,r,o){let l=asElement(resolveTarget(t));l&&(o?getWindow().setTimeout(function(){removeClassFromElement(l,r),l=null},o):l.classList&&(l.classList.remove(r),l.classList.length===0&&l.removeAttribute("class")))}function toggleClassOnElement(t,r){t=resolveTarget(t),t.classList.toggle(r)}function takeClassForElement(t,r){t=resolveTarget(t),forEach(t.parentElement.children,function(o){removeClassFromElement(o,r)}),addClassToElement(asElement(t),r)}function closest(t,r){if(t=asElement(resolveTarget(t)),t&&t.closest)return t.closest(r);do if(t==null||matches(t,r))return t;while(t=t&&asElement(parentElt(t)));return null}function startsWith(t,r){return t.substring(0,r.length)===r}function endsWith(t,r){return t.substring(t.length-r.length)===r}function normalizeSelector(t){let r=t.trim();return startsWith(r,"<")&&endsWith(r,"/>")?r.substring(1,r.length-2):r}function querySelectorAllExt(t,r,o){return t=resolveTarget(t),r.indexOf("closest ")===0?[closest(asElement(t),normalizeSelector(r.substr(8)))]:r.indexOf("find ")===0?[find(asParentNode(t),normalizeSelector(r.substr(5)))]:r==="next"?[asElement(t).nextElementSibling]:r.indexOf("next ")===0?[scanForwardQuery(t,normalizeSelector(r.substr(5)),!!o)]:r==="previous"?[asElement(t).previousElementSibling]:r.indexOf("previous ")===0?[scanBackwardsQuery(t,normalizeSelector(r.substr(9)),!!o)]:r==="document"?[document]:r==="window"?[window]:r==="body"?[document.body]:r==="root"?[getRootNode(t,!!o)]:r.indexOf("global ")===0?querySelectorAllExt(t,r.slice(7),!0):toArray(asParentNode(getRootNode(t,!!o)).querySelectorAll(normalizeSelector(r)))}var scanForwardQuery=function(t,r,o){let l=asParentNode(getRootNode(t,o)).querySelectorAll(r);for(let u=0;u<l.length;u++){let f=l[u];if(f.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_PRECEDING)return f}},scanBackwardsQuery=function(t,r,o){let l=asParentNode(getRootNode(t,o)).querySelectorAll(r);for(let u=l.length-1;u>=0;u--){let f=l[u];if(f.compareDocumentPosition(t)===Node.DOCUMENT_POSITION_FOLLOWING)return f}};function querySelectorExt(t,r){return typeof t!="string"?querySelectorAllExt(t,r)[0]:querySelectorAllExt(getDocument().body,t)[0]}function resolveTarget(t,r){return typeof t=="string"?find(asParentNode(r)||document,t):t}function processEventArgs(t,r,o){return isFunction(r)?{target:getDocument().body,event:asString(t),listener:r}:{target:resolveTarget(t),event:asString(r),listener:o}}function addEventListenerImpl(t,r,o){return ready(function(){let u=processEventArgs(t,r,o);u.target.addEventListener(u.event,u.listener)}),isFunction(r)?r:o}function removeEventListenerImpl(t,r,o){return ready(function(){let l=processEventArgs(t,r,o);l.target.removeEventListener(l.event,l.listener)}),isFunction(r)?r:o}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(t,r){let o=getClosestAttributeValue(t,r);if(o){if(o==="this")return[findThisElement(t,r)];{let l=querySelectorAllExt(t,o);return l.length===0?(logError('The selector "'+o+'" on '+r+" returned no matches!"),[DUMMY_ELT]):l}}}function findThisElement(t,r){return asElement(getClosestMatch(t,function(o){return getAttributeValue(asElement(o),r)!=null}))}function getTarget(t){let r=getClosestAttributeValue(t,"hx-target");return r?r==="this"?findThisElement(t,"hx-target"):querySelectorExt(t,r):getInternalData(t).boosted?getDocument().body:t}function shouldSettleAttribute(t){let r=htmx.config.attributesToSettle;for(let o=0;o<r.length;o++)if(t===r[o])return!0;return!1}function cloneAttributes(t,r){forEach(t.attributes,function(o){!r.hasAttribute(o.name)&&shouldSettleAttribute(o.name)&&t.removeAttribute(o.name)}),forEach(r.attributes,function(o){shouldSettleAttribute(o.name)&&t.setAttribute(o.name,o.value)})}function isInlineSwap(t,r){let o=getExtensions(r);for(let l=0;l<o.length;l++){let u=o[l];try{if(u.isInlineSwap(t))return!0}catch(f){logError(f)}}return t==="outerHTML"}function oobSwap(t,r,o){let l="#"+getRawAttribute(r,"id"),u="outerHTML";t==="true"||(t.indexOf(":")>0?(u=t.substr(0,t.indexOf(":")),l=t.substr(t.indexOf(":")+1,t.length)):u=t);let f=getDocument().querySelectorAll(l);return f?(forEach(f,function(c){let d,v=r.cloneNode(!0);d=getDocument().createDocumentFragment(),d.appendChild(v),isInlineSwap(u,c)||(d=asParentNode(v));let C={shouldSwap:!0,target:c,fragment:d};triggerEvent(c,"htmx:oobBeforeSwap",C)&&(c=C.target,C.shouldSwap&&swapWithStyle(u,c,c,d,o),forEach(o.elts,function(F){triggerEvent(F,"htmx:oobAfterSwap",C)}))}),r.parentNode.removeChild(r)):(r.parentNode.removeChild(r),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:r})),t}function handlePreservedElements(t){forEach(findAll(t,"[hx-preserve], [data-hx-preserve]"),function(r){let o=getAttributeValue(r,"id"),l=getDocument().getElementById(o);l!=null&&r.parentNode.replaceChild(l,r)})}function handleAttributes(t,r,o){forEach(r.querySelectorAll("[id]"),function(l){let u=getRawAttribute(l,"id");if(u&&u.length>0){let f=u.replace("'","\\'"),c=l.tagName.replace(":","\\:"),d=asParentNode(t),v=d&&d.querySelector(c+"[id='"+f+"']");if(v&&v!==d){let C=l.cloneNode();cloneAttributes(l,v),o.tasks.push(function(){cloneAttributes(l,C)})}}})}function makeAjaxLoadTask(t){return function(){removeClassFromElement(t,htmx.config.addedClass),processNode(asElement(t)),processFocus(asParentNode(t)),triggerEvent(t,"htmx:load")}}function processFocus(t){let r="[autofocus]",o=asHtmlElement(matches(t,r)?t:t.querySelector(r));o?.focus()}function insertNodesBefore(t,r,o,l){for(handleAttributes(t,o,l);o.childNodes.length>0;){let u=o.firstChild;addClassToElement(asElement(u),htmx.config.addedClass),t.insertBefore(u,r),u.nodeType!==Node.TEXT_NODE&&u.nodeType!==Node.COMMENT_NODE&&l.tasks.push(makeAjaxLoadTask(u))}}function stringHash(t,r){let o=0;for(;o<t.length;)r=(r<<5)-r+t.charCodeAt(o++)|0;return r}function attributeHash(t){let r=0;if(t.attributes)for(let o=0;o<t.attributes.length;o++){let l=t.attributes[o];l.value&&(r=stringHash(l.name,r),r=stringHash(l.value,r))}return r}function deInitOnHandlers(t){let r=getInternalData(t);if(r.onHandlers){for(let o=0;o<r.onHandlers.length;o++){let l=r.onHandlers[o];removeEventListenerImpl(t,l.event,l.listener)}delete r.onHandlers}}function deInitNode(t){let r=getInternalData(t);r.timeout&&clearTimeout(r.timeout),r.listenerInfos&&forEach(r.listenerInfos,function(o){o.on&&removeEventListenerImpl(o.on,o.trigger,o.listener)}),deInitOnHandlers(t),forEach(Object.keys(r),function(o){delete r[o]})}function cleanUpElement(t){triggerEvent(t,"htmx:beforeCleanupElement"),deInitNode(t),t.children&&forEach(t.children,function(r){cleanUpElement(r)})}function swapOuterHTML(t,r,o){if(t instanceof Element&&t.tagName==="BODY")return swapInnerHTML(t,r,o);let l,u=t.previousSibling;for(insertNodesBefore(parentElt(t),t,r,o),u==null?l=parentElt(t).firstChild:l=u.nextSibling,o.elts=o.elts.filter(function(f){return f!==t});l&&l!==t;)l instanceof Element?(o.elts.push(l),l=l.nextElementSibling):l=null;cleanUpElement(t),t instanceof Element?t.remove():t.parentNode.removeChild(t)}function swapAfterBegin(t,r,o){return insertNodesBefore(t,t.firstChild,r,o)}function swapBeforeBegin(t,r,o){return insertNodesBefore(parentElt(t),t,r,o)}function swapBeforeEnd(t,r,o){return insertNodesBefore(t,null,r,o)}function swapAfterEnd(t,r,o){return insertNodesBefore(parentElt(t),t.nextSibling,r,o)}function swapDelete(t){return cleanUpElement(t),parentElt(t).removeChild(t)}function swapInnerHTML(t,r,o){let l=t.firstChild;if(insertNodesBefore(t,l,r,o),l){for(;l.nextSibling;)cleanUpElement(l.nextSibling),t.removeChild(l.nextSibling);cleanUpElement(l),t.removeChild(l)}}function swapWithStyle(t,r,o,l,u){switch(t){case"none":return;case"outerHTML":swapOuterHTML(o,l,u);return;case"afterbegin":swapAfterBegin(o,l,u);return;case"beforebegin":swapBeforeBegin(o,l,u);return;case"beforeend":swapBeforeEnd(o,l,u);return;case"afterend":swapAfterEnd(o,l,u);return;case"delete":swapDelete(o);return;default:var f=getExtensions(r);for(let c=0;c<f.length;c++){let d=f[c];try{let v=d.handleSwap(t,o,l,u);if(v){if(typeof v.length<"u")for(let C=0;C<v.length;C++){let F=v[C];F.nodeType!==Node.TEXT_NODE&&F.nodeType!==Node.COMMENT_NODE&&u.tasks.push(makeAjaxLoadTask(F))}return}}catch(v){logError(v)}}t==="innerHTML"?swapInnerHTML(o,l,u):swapWithStyle(htmx.config.defaultSwapStyle,r,o,l,u)}}function findAndSwapOobElements(t,r){forEach(findAll(t,"[hx-swap-oob], [data-hx-swap-oob]"),function(o){if(htmx.config.allowNestedOobSwaps||o.parentElement===null){let l=getAttributeValue(o,"hx-swap-oob");l!=null&&oobSwap(l,o,r)}else o.removeAttribute("hx-swap-oob"),o.removeAttribute("data-hx-swap-oob")})}function swap(t,r,o,l){l||(l={}),t=resolveTarget(t);let u=document.activeElement,f={};try{f={elt:u,start:u?u.selectionStart:null,end:u?u.selectionEnd:null}}catch{}let c=makeSettleInfo(t);if(o.swapStyle==="textContent")t.textContent=r;else{let v=makeFragment(r);if(c.title=v.title,l.selectOOB){let C=l.selectOOB.split(",");for(let F=0;F<C.length;F++){let P=C[F].split(":",2),W=P[0].trim();W.indexOf("#")===0&&(W=W.substring(1));let K=P[1]||"true",ee=v.querySelector("#"+W);ee&&oobSwap(K,ee,c)}}if(findAndSwapOobElements(v,c),forEach(findAll(v,"template"),function(C){findAndSwapOobElements(C.content,c),C.content.childElementCount===0&&C.content.textContent.trim()===""&&C.remove()}),l.select){let C=getDocument().createDocumentFragment();forEach(v.querySelectorAll(l.select),function(F){C.appendChild(F)}),v=C}handlePreservedElements(v),swapWithStyle(o.swapStyle,l.contextElement,t,v,c)}if(f.elt&&!bodyContains(f.elt)&&getRawAttribute(f.elt,"id")){let v=document.getElementById(getRawAttribute(f.elt,"id")),C={preventScroll:o.focusScroll!==void 0?!o.focusScroll:!htmx.config.defaultFocusScroll};if(v){if(f.start&&v.setSelectionRange)try{v.setSelectionRange(f.start,f.end)}catch{}v.focus(C)}}t.classList.remove(htmx.config.swappingClass),forEach(c.elts,function(v){v.classList&&v.classList.add(htmx.config.settlingClass),triggerEvent(v,"htmx:afterSwap",l.eventInfo)}),l.afterSwapCallback&&l.afterSwapCallback(),o.ignoreTitle||handleTitle(c.title);let d=function(){if(forEach(c.tasks,function(v){v.call()}),forEach(c.elts,function(v){v.classList&&v.classList.remove(htmx.config.settlingClass),triggerEvent(v,"htmx:afterSettle",l.eventInfo)}),l.anchor){let v=asElement(resolveTarget("#"+l.anchor));v&&v.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(c.elts,o),l.afterSettleCallback&&l.afterSettleCallback()};o.settleDelay>0?getWindow().setTimeout(d,o.settleDelay):d()}function handleTriggerHeader(t,r,o){let l=t.getResponseHeader(r);if(l.indexOf("{")===0){let u=parseJSON(l);for(let f in u)if(u.hasOwnProperty(f)){let c=u[f];isRawObject(c)||(c={value:c}),triggerEvent(o,f,c)}}else{let u=l.split(",");for(let f=0;f<u.length;f++)triggerEvent(o,u[f].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(t){let r=[],o=0;for(;o<t.length;){if(SYMBOL_START.exec(t.charAt(o))){for(var l=o;SYMBOL_CONT.exec(t.charAt(o+1));)o++;r.push(t.substr(l,o-l+1))}else if(STRINGISH_START.indexOf(t.charAt(o))!==-1){let u=t.charAt(o);var l=o;for(o++;o<t.length&&t.charAt(o)!==u;)t.charAt(o)==="\\"&&o++,o++;r.push(t.substr(l,o-l+1))}else{let u=t.charAt(o);r.push(u)}o++}return r}function isPossibleRelativeReference(t,r,o){return SYMBOL_START.exec(t.charAt(0))&&t!=="true"&&t!=="false"&&t!=="this"&&t!==o&&r!=="."}function maybeGenerateConditional(t,r,o){if(r[0]==="["){r.shift();let l=1,u=" return (function("+o+"){ return (",f=null;for(;r.length>0;){let c=r[0];if(c==="]"){if(l--,l===0){f===null&&(u=u+"true"),r.shift(),u+=")})";try{let d=maybeEval(t,function(){return Function(u)()},function(){return!0});return d.source=u,d}catch(d){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:d,source:u}),null}}}else c==="["&&l++;isPossibleRelativeReference(c,f,o)?u+="(("+o+"."+c+") ? ("+o+"."+c+") : (window."+c+"))":u=u+c,f=r.shift()}}}function consumeUntil(t,r){let o="";for(;t.length>0&&!r.test(t[0]);)o+=t.shift();return o}function consumeCSSSelector(t){let r;return t.length>0&&COMBINED_SELECTOR_START.test(t[0])?(t.shift(),r=consumeUntil(t,COMBINED_SELECTOR_END).trim(),t.shift()):r=consumeUntil(t,WHITESPACE_OR_COMMA),r}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(t,r,o){let l=[],u=tokenizeString(r);do{consumeUntil(u,NOT_WHITESPACE);let d=u.length,v=consumeUntil(u,/[,\[\s]/);if(v!=="")if(v==="every"){let C={trigger:"every"};consumeUntil(u,NOT_WHITESPACE),C.pollInterval=parseInterval(consumeUntil(u,/[,\[\s]/)),consumeUntil(u,NOT_WHITESPACE);var f=maybeGenerateConditional(t,u,"event");f&&(C.eventFilter=f),l.push(C)}else{let C={trigger:v};var f=maybeGenerateConditional(t,u,"event");for(f&&(C.eventFilter=f);u.length>0&&u[0]!==",";){consumeUntil(u,NOT_WHITESPACE);let P=u.shift();if(P==="changed")C.changed=!0;else if(P==="once")C.once=!0;else if(P==="consume")C.consume=!0;else if(P==="delay"&&u[0]===":")u.shift(),C.delay=parseInterval(consumeUntil(u,WHITESPACE_OR_COMMA));else if(P==="from"&&u[0]===":"){if(u.shift(),COMBINED_SELECTOR_START.test(u[0]))var c=consumeCSSSelector(u);else{var c=consumeUntil(u,WHITESPACE_OR_COMMA);if(c==="closest"||c==="find"||c==="next"||c==="previous"){u.shift();let K=consumeCSSSelector(u);K.length>0&&(c+=" "+K)}}C.from=c}else P==="target"&&u[0]===":"?(u.shift(),C.target=consumeCSSSelector(u)):P==="throttle"&&u[0]===":"?(u.shift(),C.throttle=parseInterval(consumeUntil(u,WHITESPACE_OR_COMMA))):P==="queue"&&u[0]===":"?(u.shift(),C.queue=consumeUntil(u,WHITESPACE_OR_COMMA)):P==="root"&&u[0]===":"?(u.shift(),C[P]=consumeCSSSelector(u)):P==="threshold"&&u[0]===":"?(u.shift(),C[P]=consumeUntil(u,WHITESPACE_OR_COMMA)):triggerErrorEvent(t,"htmx:syntax:error",{token:u.shift()})}l.push(C)}u.length===d&&triggerErrorEvent(t,"htmx:syntax:error",{token:u.shift()}),consumeUntil(u,NOT_WHITESPACE)}while(u[0]===","&&u.shift());return o&&(o[r]=l),l}function getTriggerSpecs(t){let r=getAttributeValue(t,"hx-trigger"),o=[];if(r){let l=htmx.config.triggerSpecsCache;o=l&&l[r]||parseAndCacheTrigger(t,r,l)}return o.length>0?o:matches(t,"form")?[{trigger:"submit"}]:matches(t,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(t,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(t){getInternalData(t).cancelled=!0}function processPolling(t,r,o){let l=getInternalData(t);l.timeout=getWindow().setTimeout(function(){bodyContains(t)&&l.cancelled!==!0&&(maybeFilterEvent(o,t,makeEvent("hx:poll:trigger",{triggerSpec:o,target:t}))||r(t),processPolling(t,r,o))},o.pollInterval)}function isLocalLink(t){return location.hostname===t.hostname&&getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")!==0}function eltIsDisabled(t){return closest(t,htmx.config.disableSelector)}function boostElement(t,r,o){if(t instanceof HTMLAnchorElement&&isLocalLink(t)&&(t.target===""||t.target==="_self")||t.tagName==="FORM"){r.boosted=!0;let l,u;if(t.tagName==="A")l="get",u=getRawAttribute(t,"href");else{let f=getRawAttribute(t,"method");l=f?f.toLowerCase():"get",u=getRawAttribute(t,"action")}o.forEach(function(f){addEventListener(t,function(c,d){let v=asElement(c);if(eltIsDisabled(v)){cleanUpElement(v);return}issueAjaxRequest(l,u,v,d)},r,f,!0)})}}function shouldCancel(t,r){let o=asElement(r);return o?!!((t.type==="submit"||t.type==="click")&&(o.tagName==="FORM"||matches(o,'input[type="submit"], button')&&closest(o,"form")!==null||o instanceof HTMLAnchorElement&&o.href&&(o.getAttribute("href")==="#"||o.getAttribute("href").indexOf("#")!==0))):!1}function ignoreBoostedAnchorCtrlClick(t,r){return getInternalData(t).boosted&&t instanceof HTMLAnchorElement&&r.type==="click"&&(r.ctrlKey||r.metaKey)}function maybeFilterEvent(t,r,o){let l=t.eventFilter;if(l)try{return l.call(r,o)!==!0}catch(u){let f=l.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:u,source:f}),!0}return!1}function addEventListener(t,r,o,l,u){let f=getInternalData(t),c;l.from?c=querySelectorAllExt(t,l.from):c=[t],l.changed&&c.forEach(function(d){let v=getInternalData(d);v.lastValue=d.value}),forEach(c,function(d){let v=function(C){if(!bodyContains(t)){d.removeEventListener(l.trigger,v);return}if(ignoreBoostedAnchorCtrlClick(t,C)||((u||shouldCancel(C,t))&&C.preventDefault(),maybeFilterEvent(l,t,C)))return;let F=getInternalData(C);if(F.triggerSpec=l,F.handledFor==null&&(F.handledFor=[]),F.handledFor.indexOf(t)<0){if(F.handledFor.push(t),l.consume&&C.stopPropagation(),l.target&&C.target&&!matches(asElement(C.target),l.target))return;if(l.once){if(f.triggeredOnce)return;f.triggeredOnce=!0}if(l.changed){let P=getInternalData(d),W=d.value;if(P.lastValue===W)return;P.lastValue=W}if(f.delayed&&clearTimeout(f.delayed),f.throttle)return;l.throttle>0?f.throttle||(r(t,C),f.throttle=getWindow().setTimeout(function(){f.throttle=null},l.throttle)):l.delay>0?f.delayed=getWindow().setTimeout(function(){r(t,C)},l.delay):(triggerEvent(t,"htmx:trigger"),r(t,C))}};o.listenerInfos==null&&(o.listenerInfos=[]),o.listenerInfos.push({trigger:l.trigger,listener:v,on:d}),d.addEventListener(l.trigger,v)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(t){maybeReveal(t)}))},200))}function maybeReveal(t){!hasAttribute(t,"data-hx-revealed")&&isScrolledIntoView(t)&&(t.setAttribute("data-hx-revealed","true"),getInternalData(t).initHash?triggerEvent(t,"revealed"):t.addEventListener("htmx:afterProcessNode",function(){triggerEvent(t,"revealed")},{once:!0}))}function loadImmediately(t,r,o,l){let u=function(){o.loaded||(o.loaded=!0,r(t))};l>0?getWindow().setTimeout(u,l):u()}function processVerbs(t,r,o){let l=!1;return forEach(VERBS,function(u){if(hasAttribute(t,"hx-"+u)){let f=getAttributeValue(t,"hx-"+u);l=!0,r.path=f,r.verb=u,o.forEach(function(c){addTriggerHandler(t,c,r,function(d,v){let C=asElement(d);if(closest(C,htmx.config.disableSelector)){cleanUpElement(C);return}issueAjaxRequest(u,f,C,v)})})}}),l}function addTriggerHandler(t,r,o,l){if(r.trigger==="revealed")initScrollHandler(),addEventListener(t,l,o,r),maybeReveal(asElement(t));else if(r.trigger==="intersect"){let u={};r.root&&(u.root=querySelectorExt(t,r.root)),r.threshold&&(u.threshold=parseFloat(r.threshold)),new IntersectionObserver(function(c){for(let d=0;d<c.length;d++)if(c[d].isIntersecting){triggerEvent(t,"intersect");break}},u).observe(asElement(t)),addEventListener(asElement(t),l,o,r)}else r.trigger==="load"?maybeFilterEvent(r,t,makeEvent("load",{elt:t}))||loadImmediately(asElement(t),l,o,r.delay):r.pollInterval>0?(o.polling=!0,processPolling(asElement(t),l,r)):addEventListener(t,l,o,r)}function shouldProcessHxOn(t){let r=asElement(t);if(!r)return!1;let o=r.attributes;for(let l=0;l<o.length;l++){let u=o[l].name;if(startsWith(u,"hx-on:")||startsWith(u,"data-hx-on:")||startsWith(u,"hx-on-")||startsWith(u,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(t,r){shouldProcessHxOn(t)&&r.push(asElement(t));let o=HX_ON_QUERY.evaluate(t),l=null;for(;l=o.iterateNext();)r.push(asElement(l))}function findHxOnWildcardElements(t){let r=[];if(t instanceof DocumentFragment)for(let o of t.childNodes)processHXOnRoot(o,r);else processHXOnRoot(t,r);return r}function findElementsToProcess(t){if(t.querySelectorAll){let o=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",l=[];for(let f in extensions){let c=extensions[f];if(c.getSelectors){var r=c.getSelectors();r&&l.push(r)}}return t.querySelectorAll(VERB_SELECTOR+o+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+l.flat().map(f=>", "+f).join(""))}else return[]}function maybeSetLastButtonClicked(t){let r=closest(asElement(t.target),"button, input[type='submit']"),o=getRelatedFormData(t);o&&(o.lastButtonClicked=r)}function maybeUnsetLastButtonClicked(t){let r=getRelatedFormData(t);r&&(r.lastButtonClicked=null)}function getRelatedFormData(t){let r=closest(asElement(t.target),"button, input[type='submit']");if(!r)return;let o=resolveTarget("#"+getRawAttribute(r,"form"),r.getRootNode())||closest(r,"form");if(o)return getInternalData(o)}function initButtonTracking(t){t.addEventListener("click",maybeSetLastButtonClicked),t.addEventListener("focusin",maybeSetLastButtonClicked),t.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(t,r,o){let l=getInternalData(t);Array.isArray(l.onHandlers)||(l.onHandlers=[]);let u,f=function(c){maybeEval(t,function(){eltIsDisabled(t)||(u||(u=new Function("event",o)),u.call(t,c))})};t.addEventListener(r,f),l.onHandlers.push({event:r,listener:f})}function processHxOnWildcard(t){deInitOnHandlers(t);for(let r=0;r<t.attributes.length;r++){let o=t.attributes[r].name,l=t.attributes[r].value;if(startsWith(o,"hx-on")||startsWith(o,"data-hx-on")){let u=o.indexOf("-on")+3,f=o.slice(u,u+1);if(f==="-"||f===":"){let c=o.slice(u+1);startsWith(c,":")?c="htmx"+c:startsWith(c,"-")?c="htmx:"+c.slice(1):startsWith(c,"htmx-")&&(c="htmx:"+c.slice(5)),addHxOnEventHandler(t,c,l)}}}}function initNode(t){if(closest(t,htmx.config.disableSelector)){cleanUpElement(t);return}let r=getInternalData(t);if(r.initHash!==attributeHash(t)){deInitNode(t),r.initHash=attributeHash(t),triggerEvent(t,"htmx:beforeProcessNode"),t.value&&(r.lastValue=t.value);let o=getTriggerSpecs(t);processVerbs(t,r,o)||(getClosestAttributeValue(t,"hx-boost")==="true"?boostElement(t,r,o):hasAttribute(t,"hx-trigger")&&o.forEach(function(u){addTriggerHandler(t,u,r,function(){})})),(t.tagName==="FORM"||getRawAttribute(t,"type")==="submit"&&hasAttribute(t,"form"))&&initButtonTracking(t),triggerEvent(t,"htmx:afterProcessNode")}}function processNode(t){if(t=resolveTarget(t),closest(t,htmx.config.disableSelector)){cleanUpElement(t);return}initNode(t),forEach(findElementsToProcess(t),function(r){initNode(r)}),forEach(findHxOnWildcardElements(t),processHxOnWildcard)}function kebabEventName(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(t,r){let o;return window.CustomEvent&&typeof window.CustomEvent=="function"?o=new CustomEvent(t,{bubbles:!0,cancelable:!0,composed:!0,detail:r}):(o=getDocument().createEvent("CustomEvent"),o.initCustomEvent(t,!0,!0,r)),o}function triggerErrorEvent(t,r,o){triggerEvent(t,r,mergeObjects({error:r},o))}function ignoreEventForLogging(t){return t==="htmx:afterProcessNode"}function withExtensions(t,r){forEach(getExtensions(t),function(o){try{r(o)}catch(l){logError(l)}})}function logError(t){console.error?console.error(t):console.log&&console.log("ERROR: ",t)}function triggerEvent(t,r,o){t=resolveTarget(t),o==null&&(o={}),o.elt=t;let l=makeEvent(r,o);htmx.logger&&!ignoreEventForLogging(r)&&htmx.logger(t,r,o),o.error&&(logError(o.error),triggerEvent(t,"htmx:error",{errorInfo:o}));let u=t.dispatchEvent(l),f=kebabEventName(r);if(u&&f!==r){let c=makeEvent(f,l.detail);u=u&&t.dispatchEvent(c)}return withExtensions(asElement(t),function(c){u=u&&c.onEvent(r,l)!==!1&&!l.defaultPrevented}),u}let currentPathForHistory=location.pathname+location.search;function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(t,r){if(!canAccessLocalStorage())return;let o=cleanInnerHtmlForHistory(r),l=getDocument().title,u=window.scrollY;if(htmx.config.historyCacheSize<=0){localStorage.removeItem("htmx-history-cache");return}t=normalizePath(t);let f=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let d=0;d<f.length;d++)if(f[d].url===t){f.splice(d,1);break}let c={url:t,content:o,title:l,scroll:u};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:c,cache:f}),f.push(c);f.length>htmx.config.historyCacheSize;)f.shift();for(;f.length>0;)try{localStorage.setItem("htmx-history-cache",JSON.stringify(f));break}catch(d){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:d,cache:f}),f.shift()}}function getCachedHistory(t){if(!canAccessLocalStorage())return null;t=normalizePath(t);let r=parseJSON(localStorage.getItem("htmx-history-cache"))||[];for(let o=0;o<r.length;o++)if(r[o].url===t)return r[o];return null}function cleanInnerHtmlForHistory(t){let r=htmx.config.requestClass,o=t.cloneNode(!0);return forEach(findAll(o,"."+r),function(l){removeClassFromElement(l,r)}),o.innerHTML}function saveCurrentPageToHistory(){let t=getHistoryElement(),r=currentPathForHistory||location.pathname+location.search,o;try{o=getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')}catch{o=getDocument().querySelector('[hx-history="false"],[data-hx-history="false"]')}o||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:r,historyElt:t}),saveToHistoryCache(r,t)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,window.location.href)}function pushUrlIntoHistory(t){htmx.config.getCacheBusterParam&&(t=t.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(t,"&")||endsWith(t,"?"))&&(t=t.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",t),currentPathForHistory=t}function replaceUrlInHistory(t){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",t),currentPathForHistory=t}function settleImmediately(t){forEach(t,function(r){r.call(void 0)})}function loadHistoryFromServer(t){let r=new XMLHttpRequest,o={path:t,xhr:r};triggerEvent(getDocument().body,"htmx:historyCacheMiss",o),r.open("GET",t,!0),r.setRequestHeader("HX-Request","true"),r.setRequestHeader("HX-History-Restore-Request","true"),r.setRequestHeader("HX-Current-URL",getDocument().location.href),r.onload=function(){if(this.status>=200&&this.status<400){triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",o);let l=makeFragment(this.response),u=l.querySelector("[hx-history-elt],[data-hx-history-elt]")||l,f=getHistoryElement(),c=makeSettleInfo(f);handleTitle(l.title),swapInnerHTML(f,u,c),settleImmediately(c.tasks),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,cacheMiss:!0,serverResponse:this.response})}else triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",o)},r.send()}function restoreHistory(t){saveCurrentPageToHistory(),t=t||location.pathname+location.search;let r=getCachedHistory(t);if(r){let o=makeFragment(r.content),l=getHistoryElement(),u=makeSettleInfo(l);handleTitle(o.title),swapInnerHTML(l,o,u),settleImmediately(u.tasks),getWindow().setTimeout(function(){window.scrollTo(0,r.scroll)},0),currentPathForHistory=t,triggerEvent(getDocument().body,"htmx:historyRestore",{path:t,item:r})}else htmx.config.refreshOnHistoryMiss?window.location.reload(!0):loadHistoryFromServer(t)}function addRequestIndicatorClasses(t){let r=findAttributeTargets(t,"hx-indicator");return r==null&&(r=[t]),forEach(r,function(o){let l=getInternalData(o);l.requestCount=(l.requestCount||0)+1,o.classList.add.call(o.classList,htmx.config.requestClass)}),r}function disableElements(t){let r=findAttributeTargets(t,"hx-disabled-elt");return r==null&&(r=[]),forEach(r,function(o){let l=getInternalData(o);l.requestCount=(l.requestCount||0)+1,o.setAttribute("disabled","")}),r}function removeRequestIndicators(t,r){forEach(t,function(o){let l=getInternalData(o);l.requestCount=(l.requestCount||0)-1,l.requestCount===0&&o.classList.remove.call(o.classList,htmx.config.requestClass)}),forEach(r,function(o){let l=getInternalData(o);l.requestCount=(l.requestCount||0)-1,l.requestCount===0&&o.removeAttribute("disabled")})}function haveSeenNode(t,r){for(let o=0;o<t.length;o++)if(t[o].isSameNode(r))return!0;return!1}function shouldInclude(t){let r=t;return r.name===""||r.name==null||r.disabled||closest(r,"fieldset[disabled]")||r.type==="button"||r.type==="submit"||r.tagName==="image"||r.tagName==="reset"||r.tagName==="file"?!1:r.type==="checkbox"||r.type==="radio"?r.checked:!0}function addValueToFormData(t,r,o){t!=null&&r!=null&&(Array.isArray(r)?r.forEach(function(l){o.append(t,l)}):o.append(t,r))}function removeValueFromFormData(t,r,o){if(t!=null&&r!=null){let l=o.getAll(t);Array.isArray(r)?l=l.filter(u=>r.indexOf(u)<0):l=l.filter(u=>u!==r),o.delete(t),forEach(l,u=>o.append(t,u))}}function processInputValue(t,r,o,l,u){if(!(l==null||haveSeenNode(t,l))){if(t.push(l),shouldInclude(l)){let f=getRawAttribute(l,"name"),c=l.value;l instanceof HTMLSelectElement&&l.multiple&&(c=toArray(l.querySelectorAll("option:checked")).map(function(d){return d.value})),l instanceof HTMLInputElement&&l.files&&(c=toArray(l.files)),addValueToFormData(f,c,r),u&&validateElement(l,o)}l instanceof HTMLFormElement&&(forEach(l.elements,function(f){t.indexOf(f)>=0?removeValueFromFormData(f.name,f.value,r):t.push(f),u&&validateElement(f,o)}),new FormData(l).forEach(function(f,c){f instanceof File&&f.name===""||addValueToFormData(c,f,r)}))}}function validateElement(t,r){let o=t;o.willValidate&&(triggerEvent(o,"htmx:validation:validate"),o.checkValidity()||(r.push({elt:o,message:o.validationMessage,validity:o.validity}),triggerEvent(o,"htmx:validation:failed",{message:o.validationMessage,validity:o.validity})))}function overrideFormData(t,r){for(let o of r.keys())t.delete(o),r.getAll(o).forEach(function(l){t.append(o,l)});return t}function getInputValues(t,r){let o=[],l=new FormData,u=new FormData,f=[],c=getInternalData(t);c.lastButtonClicked&&!bodyContains(c.lastButtonClicked)&&(c.lastButtonClicked=null);let d=t instanceof HTMLFormElement&&t.noValidate!==!0||getAttributeValue(t,"hx-validate")==="true";if(c.lastButtonClicked&&(d=d&&c.lastButtonClicked.formNoValidate!==!0),r!=="get"&&processInputValue(o,u,f,closest(t,"form"),d),processInputValue(o,l,f,t,d),c.lastButtonClicked||t.tagName==="BUTTON"||t.tagName==="INPUT"&&getRawAttribute(t,"type")==="submit"){let C=c.lastButtonClicked||t,F=getRawAttribute(C,"name");addValueToFormData(F,C.value,u)}let v=findAttributeTargets(t,"hx-include");return forEach(v,function(C){processInputValue(o,l,f,asElement(C),d),matches(C,"form")||forEach(asParentNode(C).querySelectorAll(INPUT_SELECTOR),function(F){processInputValue(o,l,f,F,d)})}),overrideFormData(l,u),{errors:f,formData:l,values:formDataProxy(l)}}function appendParam(t,r,o){t!==""&&(t+="&"),String(o)==="[object Object]"&&(o=JSON.stringify(o));let l=encodeURIComponent(o);return t+=encodeURIComponent(r)+"="+l,t}function urlEncode(t){t=formDataFromObject(t);let r="";return t.forEach(function(o,l){r=appendParam(r,l,o)}),r}function getHeaders(t,r,o){let l={"HX-Request":"true","HX-Trigger":getRawAttribute(t,"id"),"HX-Trigger-Name":getRawAttribute(t,"name"),"HX-Target":getAttributeValue(r,"id"),"HX-Current-URL":getDocument().location.href};return getValuesForElement(t,"hx-headers",!1,l),o!==void 0&&(l["HX-Prompt"]=o),getInternalData(t).boosted&&(l["HX-Boosted"]="true"),l}function filterValues(t,r){let o=getClosestAttributeValue(r,"hx-params");if(o){if(o==="none")return new FormData;if(o==="*")return t;if(o.indexOf("not ")===0)return forEach(o.substr(4).split(","),function(l){l=l.trim(),t.delete(l)}),t;{let l=new FormData;return forEach(o.split(","),function(u){u=u.trim(),t.has(u)&&t.getAll(u).forEach(function(f){l.append(u,f)})}),l}}else return t}function isAnchorLink(t){return!!getRawAttribute(t,"href")&&getRawAttribute(t,"href").indexOf("#")>=0}function getSwapSpecification(t,r){let o=r||getClosestAttributeValue(t,"hx-swap"),l={swapStyle:getInternalData(t).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(t).boosted&&!isAnchorLink(t)&&(l.show="top"),o){let c=splitOnWhitespace(o);if(c.length>0)for(let d=0;d<c.length;d++){let v=c[d];if(v.indexOf("swap:")===0)l.swapDelay=parseInterval(v.substr(5));else if(v.indexOf("settle:")===0)l.settleDelay=parseInterval(v.substr(7));else if(v.indexOf("transition:")===0)l.transition=v.substr(11)==="true";else if(v.indexOf("ignoreTitle:")===0)l.ignoreTitle=v.substr(12)==="true";else if(v.indexOf("scroll:")===0){var u=v.substr(7).split(":");let F=u.pop();var f=u.length>0?u.join(":"):null;l.scroll=F,l.scrollTarget=f}else if(v.indexOf("show:")===0){var u=v.substr(5).split(":");let P=u.pop();var f=u.length>0?u.join(":"):null;l.show=P,l.showTarget=f}else if(v.indexOf("focus-scroll:")===0){let C=v.substr(13);l.focusScroll=C=="true"}else d==0?l.swapStyle=v:logError("Unknown modifier in hx-swap: "+v)}}return l}function usesFormData(t){return getClosestAttributeValue(t,"hx-encoding")==="multipart/form-data"||matches(t,"form")&&getRawAttribute(t,"enctype")==="multipart/form-data"}function encodeParamsForBody(t,r,o){let l=null;return withExtensions(r,function(u){l==null&&(l=u.encodeParameters(t,o,r))}),l??(usesFormData(r)?overrideFormData(new FormData,formDataFromObject(o)):urlEncode(o))}function makeSettleInfo(t){return{tasks:[],elts:[t]}}function updateScrollState(t,r){let o=t[0],l=t[t.length-1];if(r.scroll){var u=null;r.scrollTarget&&(u=asElement(querySelectorExt(o,r.scrollTarget))),r.scroll==="top"&&(o||u)&&(u=u||o,u.scrollTop=0),r.scroll==="bottom"&&(l||u)&&(u=u||l,u.scrollTop=u.scrollHeight)}if(r.show){var u=null;if(r.showTarget){let c=r.showTarget;r.showTarget==="window"&&(c="body"),u=asElement(querySelectorExt(o,c))}r.show==="top"&&(o||u)&&(u=u||o,u.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),r.show==="bottom"&&(l||u)&&(u=u||l,u.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(t,r,o,l){if(l==null&&(l={}),t==null)return l;let u=getAttributeValue(t,r);if(u){let f=u.trim(),c=o;if(f==="unset")return null;f.indexOf("javascript:")===0?(f=f.substr(11),c=!0):f.indexOf("js:")===0&&(f=f.substr(3),c=!0),f.indexOf("{")!==0&&(f="{"+f+"}");let d;c?d=maybeEval(t,function(){return Function("return ("+f+")")()},{}):d=parseJSON(f);for(let v in d)d.hasOwnProperty(v)&&l[v]==null&&(l[v]=d[v])}return getValuesForElement(asElement(parentElt(t)),r,o,l)}function maybeEval(t,r,o){return htmx.config.allowEval?r():(triggerErrorEvent(t,"htmx:evalDisallowedError"),o)}function getHXVarsForElement(t,r){return getValuesForElement(t,"hx-vars",!0,r)}function getHXValsForElement(t,r){return getValuesForElement(t,"hx-vals",!1,r)}function getExpressionVars(t){return mergeObjects(getHXVarsForElement(t),getHXValsForElement(t))}function safelySetHeaderValue(t,r,o){if(o!==null)try{t.setRequestHeader(r,o)}catch{t.setRequestHeader(r,encodeURIComponent(o)),t.setRequestHeader(r+"-URI-AutoEncoded","true")}}function getPathFromResponse(t){if(t.responseURL&&typeof URL<"u")try{let r=new URL(t.responseURL);return r.pathname+r.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:t.responseURL})}}function hasHeader(t,r){return r.test(t.getAllResponseHeaders())}function ajaxHelper(t,r,o){return t=t.toLowerCase(),o?o instanceof Element||typeof o=="string"?issueAjaxRequest(t,r,null,null,{targetOverride:resolveTarget(o),returnPromise:!0}):issueAjaxRequest(t,r,resolveTarget(o.source),o.event,{handler:o.handler,headers:o.headers,values:o.values,targetOverride:resolveTarget(o.target),swapOverride:o.swap,select:o.select,returnPromise:!0}):issueAjaxRequest(t,r,null,null,{returnPromise:!0})}function hierarchyForElt(t){let r=[];for(;t;)r.push(t),t=t.parentElement;return r}function verifyPath(t,r,o){let l,u;return typeof URL=="function"?(u=new URL(r,document.location.href),l=document.location.origin===u.origin):(u=r,l=startsWith(r,document.location.origin)),htmx.config.selfRequestsOnly&&!l?!1:triggerEvent(t,"htmx:validateUrl",mergeObjects({url:u,sameHost:l},o))}function formDataFromObject(t){if(t instanceof FormData)return t;let r=new FormData;for(let o in t)t.hasOwnProperty(o)&&(typeof t[o].forEach=="function"?t[o].forEach(function(l){r.append(o,l)}):typeof t[o]=="object"?r.append(o,JSON.stringify(t[o])):r.append(o,t[o]));return r}function formDataArrayProxy(t,r,o){return new Proxy(o,{get:function(l,u){return typeof u=="number"?l[u]:u==="length"?l.length:u==="push"?function(f){l.push(f),t.append(r,f)}:typeof l[u]=="function"?function(){l[u].apply(l,arguments),t.delete(r),l.forEach(function(f){t.append(r,f)})}:l[u]&&l[u].length===1?l[u][0]:l[u]},set:function(l,u,f){return l[u]=f,t.delete(r),l.forEach(function(c){t.append(r,c)}),!0}})}function formDataProxy(t){return new Proxy(t,{get:function(r,o){if(typeof o=="symbol")return Reflect.get(r,o);if(o==="toJSON")return()=>Object.fromEntries(t);if(o in r)return typeof r[o]=="function"?function(){return t[o].apply(t,arguments)}:r[o];let l=t.getAll(o);if(l.length!==0)return l.length===1?l[0]:formDataArrayProxy(r,o,l)},set:function(r,o,l){return typeof o!="string"?!1:(r.delete(o),typeof l.forEach=="function"?l.forEach(function(u){r.append(o,u)}):r.append(o,l),!0)},deleteProperty:function(r,o){return typeof o=="string"&&r.delete(o),!0},ownKeys:function(r){return Reflect.ownKeys(Object.fromEntries(r))},getOwnPropertyDescriptor:function(r,o){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(r),o)}})}function issueAjaxRequest(t,r,o,l,u,f){let c=null,d=null;if(u=u??{},u.returnPromise&&typeof Promise<"u")var v=new Promise(function(me,be){c=me,d=be});o==null&&(o=getDocument().body);let C=u.handler||handleAjaxResponse,F=u.select||null;if(!bodyContains(o))return maybeCall(c),v;let P=u.targetOverride||asElement(getTarget(o));if(P==null||P==DUMMY_ELT)return triggerErrorEvent(o,"htmx:targetError",{target:getAttributeValue(o,"hx-target")}),maybeCall(d),v;let W=getInternalData(o),K=W.lastButtonClicked;if(K){let me=getRawAttribute(K,"formaction");me!=null&&(r=me);let be=getRawAttribute(K,"formmethod");be!=null&&be.toLowerCase()!=="dialog"&&(t=be)}let ee=getClosestAttributeValue(o,"hx-confirm");if(f===void 0&&triggerEvent(o,"htmx:confirm",{target:P,elt:o,path:r,verb:t,triggeringEvent:l,etc:u,issueRequest:function(Ce){return issueAjaxRequest(t,r,o,l,u,!!Ce)},question:ee})===!1)return maybeCall(c),v;let Y=o,H=getClosestAttributeValue(o,"hx-sync"),$=null,ne=!1;if(H){let me=H.split(":"),be=me[0].trim();if(be==="this"?Y=findThisElement(o,"hx-sync"):Y=asElement(querySelectorExt(o,be)),H=(me[1]||"drop").trim(),W=getInternalData(Y),H==="drop"&&W.xhr&&W.abortable!==!0)return maybeCall(c),v;if(H==="abort"){if(W.xhr)return maybeCall(c),v;ne=!0}else H==="replace"?triggerEvent(Y,"htmx:abort"):H.indexOf("queue")===0&&($=(H.split(" ")[1]||"last").trim())}if(W.xhr)if(W.abortable)triggerEvent(Y,"htmx:abort");else{if($==null){if(l){let me=getInternalData(l);me&&me.triggerSpec&&me.triggerSpec.queue&&($=me.triggerSpec.queue)}$==null&&($="last")}return W.queuedRequests==null&&(W.queuedRequests=[]),$==="first"&&W.queuedRequests.length===0?W.queuedRequests.push(function(){issueAjaxRequest(t,r,o,l,u)}):$==="all"?W.queuedRequests.push(function(){issueAjaxRequest(t,r,o,l,u)}):$==="last"&&(W.queuedRequests=[],W.queuedRequests.push(function(){issueAjaxRequest(t,r,o,l,u)})),maybeCall(c),v}let Q=new XMLHttpRequest;W.xhr=Q,W.abortable=ne;let te=function(){W.xhr=null,W.abortable=!1,W.queuedRequests!=null&&W.queuedRequests.length>0&&W.queuedRequests.shift()()},he=getClosestAttributeValue(o,"hx-prompt");if(he){var ce=prompt(he);if(ce===null||!triggerEvent(o,"htmx:prompt",{prompt:ce,target:P}))return maybeCall(c),te(),v}if(ee&&!f&&!confirm(ee))return maybeCall(c),te(),v;let ge=getHeaders(o,P,ce);t!=="get"&&!usesFormData(o)&&(ge["Content-Type"]="application/x-www-form-urlencoded"),u.headers&&(ge=mergeObjects(ge,u.headers));let Re=getInputValues(o,t),de=Re.errors,X=Re.formData;u.values&&overrideFormData(X,formDataFromObject(u.values));let x=formDataFromObject(getExpressionVars(o)),T=overrideFormData(X,x),k=filterValues(T,o);htmx.config.getCacheBusterParam&&t==="get"&&k.set("org.htmx.cache-buster",getRawAttribute(P,"id")||"true"),(r==null||r==="")&&(r=getDocument().location.href);let _=getValuesForElement(o,"hx-request"),U=getInternalData(o).boosted,M=htmx.config.methodsThatUseUrlParams.indexOf(t)>=0,j={boosted:U,useUrlParams:M,formData:k,parameters:formDataProxy(k),unfilteredFormData:T,unfilteredParameters:formDataProxy(T),headers:ge,target:P,verb:t,errors:de,withCredentials:u.credentials||_.credentials||htmx.config.withCredentials,timeout:u.timeout||_.timeout||htmx.config.timeout,path:r,triggeringEvent:l};if(!triggerEvent(o,"htmx:configRequest",j))return maybeCall(c),te(),v;if(r=j.path,t=j.verb,ge=j.headers,k=formDataFromObject(j.parameters),de=j.errors,M=j.useUrlParams,de&&de.length>0)return triggerEvent(o,"htmx:validation:halted",j),maybeCall(c),te(),v;let R=r.split("#"),se=R[0],O=R[1],b=r;if(M&&(b=se,!k.keys().next().done&&(b.indexOf("?")<0?b+="?":b+="&",b+=urlEncode(k),O&&(b+="#"+O))),!verifyPath(o,b,j))return triggerErrorEvent(o,"htmx:invalidPath",j),maybeCall(d),v;if(Q.open(t.toUpperCase(),b,!0),Q.overrideMimeType("text/html"),Q.withCredentials=j.withCredentials,Q.timeout=j.timeout,!_.noHeaders){for(let me in ge)if(ge.hasOwnProperty(me)){let be=ge[me];safelySetHeaderValue(Q,me,be)}}let J={xhr:Q,target:P,requestConfig:j,etc:u,boosted:U,select:F,pathInfo:{requestPath:r,finalRequestPath:b,responsePath:null,anchor:O}};if(Q.onload=function(){try{let me=hierarchyForElt(o);if(J.pathInfo.responsePath=getPathFromResponse(Q),C(o,J),removeRequestIndicators(le,oe),triggerEvent(o,"htmx:afterRequest",J),triggerEvent(o,"htmx:afterOnLoad",J),!bodyContains(o)){let be=null;for(;me.length>0&&be==null;){let Ce=me.shift();bodyContains(Ce)&&(be=Ce)}be&&(triggerEvent(be,"htmx:afterRequest",J),triggerEvent(be,"htmx:afterOnLoad",J))}maybeCall(c),te()}catch(me){throw triggerErrorEvent(o,"htmx:onLoadError",mergeObjects({error:me},J)),me}},Q.onerror=function(){removeRequestIndicators(le,oe),triggerErrorEvent(o,"htmx:afterRequest",J),triggerErrorEvent(o,"htmx:sendError",J),maybeCall(d),te()},Q.onabort=function(){removeRequestIndicators(le,oe),triggerErrorEvent(o,"htmx:afterRequest",J),triggerErrorEvent(o,"htmx:sendAbort",J),maybeCall(d),te()},Q.ontimeout=function(){removeRequestIndicators(le,oe),triggerErrorEvent(o,"htmx:afterRequest",J),triggerErrorEvent(o,"htmx:timeout",J),maybeCall(d),te()},!triggerEvent(o,"htmx:beforeRequest",J))return maybeCall(c),te(),v;var le=addRequestIndicatorClasses(o),oe=disableElements(o);forEach(["loadstart","loadend","progress","abort"],function(me){forEach([Q,Q.upload],function(be){be.addEventListener(me,function(Ce){triggerEvent(o,"htmx:xhr:"+me,{lengthComputable:Ce.lengthComputable,loaded:Ce.loaded,total:Ce.total})})})}),triggerEvent(o,"htmx:beforeSend",J);let xe=M?null:encodeParamsForBody(Q,o,k);return Q.send(xe),v}function determineHistoryUpdates(t,r){let o=r.xhr,l=null,u=null;if(hasHeader(o,/HX-Push:/i)?(l=o.getResponseHeader("HX-Push"),u="push"):hasHeader(o,/HX-Push-Url:/i)?(l=o.getResponseHeader("HX-Push-Url"),u="push"):hasHeader(o,/HX-Replace-Url:/i)&&(l=o.getResponseHeader("HX-Replace-Url"),u="replace"),l)return l==="false"?{}:{type:u,path:l};let f=r.pathInfo.finalRequestPath,c=r.pathInfo.responsePath,d=getClosestAttributeValue(t,"hx-push-url"),v=getClosestAttributeValue(t,"hx-replace-url"),C=getInternalData(t).boosted,F=null,P=null;return d?(F="push",P=d):v?(F="replace",P=v):C&&(F="push",P=c||f),P?P==="false"?{}:(P==="true"&&(P=c||f),r.pathInfo.anchor&&P.indexOf("#")===-1&&(P=P+"#"+r.pathInfo.anchor),{type:F,path:P}):{}}function codeMatches(t,r){var o=new RegExp(t.code);return o.test(r.toString(10))}function resolveResponseHandling(t){for(var r=0;r<htmx.config.responseHandling.length;r++){var o=htmx.config.responseHandling[r];if(codeMatches(o,t.status))return o}return{swap:!1}}function handleTitle(t){if(t){let r=find("title");r?r.innerHTML=t:window.document.title=t}}function handleAjaxResponse(t,r){let o=r.xhr,l=r.target,u=r.etc,f=r.select;if(!triggerEvent(t,"htmx:beforeOnLoad",r))return;if(hasHeader(o,/HX-Trigger:/i)&&handleTriggerHeader(o,"HX-Trigger",t),hasHeader(o,/HX-Location:/i)){saveCurrentPageToHistory();let ne=o.getResponseHeader("HX-Location");var c;ne.indexOf("{")===0&&(c=parseJSON(ne),ne=c.path,delete c.path),ajaxHelper("get",ne,c).then(function(){pushUrlIntoHistory(ne)});return}let d=hasHeader(o,/HX-Refresh:/i)&&o.getResponseHeader("HX-Refresh")==="true";if(hasHeader(o,/HX-Redirect:/i)){location.href=o.getResponseHeader("HX-Redirect"),d&&location.reload();return}if(d){location.reload();return}hasHeader(o,/HX-Retarget:/i)&&(o.getResponseHeader("HX-Retarget")==="this"?r.target=t:r.target=asElement(querySelectorExt(t,o.getResponseHeader("HX-Retarget"))));let v=determineHistoryUpdates(t,r),C=resolveResponseHandling(o),F=C.swap,P=!!C.error,W=htmx.config.ignoreTitle||C.ignoreTitle,K=C.select;C.target&&(r.target=asElement(querySelectorExt(t,C.target)));var ee=u.swapOverride;ee==null&&C.swapOverride&&(ee=C.swapOverride),hasHeader(o,/HX-Retarget:/i)&&(o.getResponseHeader("HX-Retarget")==="this"?r.target=t:r.target=asElement(querySelectorExt(t,o.getResponseHeader("HX-Retarget")))),hasHeader(o,/HX-Reswap:/i)&&(ee=o.getResponseHeader("HX-Reswap"));var Y=o.response,H=mergeObjects({shouldSwap:F,serverResponse:Y,isError:P,ignoreTitle:W,selectOverride:K},r);if(!(C.event&&!triggerEvent(l,C.event,H))&&triggerEvent(l,"htmx:beforeSwap",H)){if(l=H.target,Y=H.serverResponse,P=H.isError,W=H.ignoreTitle,K=H.selectOverride,r.target=l,r.failed=P,r.successful=!P,H.shouldSwap){o.status===286&&cancelPolling(t),withExtensions(t,function(Re){Y=Re.transformResponse(Y,o,t)}),v.type&&saveCurrentPageToHistory(),hasHeader(o,/HX-Reswap:/i)&&(ee=o.getResponseHeader("HX-Reswap"));var $=getSwapSpecification(t,ee);$.hasOwnProperty("ignoreTitle")||($.ignoreTitle=W),l.classList.add(htmx.config.swappingClass);let ne=null,Q=null;f&&(K=f),hasHeader(o,/HX-Reselect:/i)&&(K=o.getResponseHeader("HX-Reselect"));let te=getClosestAttributeValue(t,"hx-select-oob"),he=getClosestAttributeValue(t,"hx-select"),ce=function(){try{v.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:v},r)),v.type==="push"?(pushUrlIntoHistory(v.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:v.path})):(replaceUrlInHistory(v.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:v.path}))),swap(l,Y,$,{select:K||he,selectOOB:te,eventInfo:r,anchor:r.pathInfo.anchor,contextElement:t,afterSwapCallback:function(){if(hasHeader(o,/HX-Trigger-After-Swap:/i)){let Re=t;bodyContains(t)||(Re=getDocument().body),handleTriggerHeader(o,"HX-Trigger-After-Swap",Re)}},afterSettleCallback:function(){if(hasHeader(o,/HX-Trigger-After-Settle:/i)){let Re=t;bodyContains(t)||(Re=getDocument().body),handleTriggerHeader(o,"HX-Trigger-After-Settle",Re)}maybeCall(ne)}})}catch(Re){throw triggerErrorEvent(t,"htmx:swapError",r),maybeCall(Q),Re}},ge=htmx.config.globalViewTransitions;if($.hasOwnProperty("transition")&&(ge=$.transition),ge&&triggerEvent(t,"htmx:beforeTransition",r)&&typeof Promise<"u"&&document.startViewTransition){let Re=new Promise(function(X,x){ne=X,Q=x}),de=ce;ce=function(){document.startViewTransition(function(){return de(),Re})}}$.swapDelay>0?getWindow().setTimeout(ce,$.swapDelay):ce()}P&&triggerErrorEvent(t,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+o.status+" from "+r.pathInfo.requestPath},r))}}let extensions={};function extensionBase(){return{init:function(t){return null},getSelectors:function(){return null},onEvent:function(t,r){return!0},transformResponse:function(t,r,o){return t},isInlineSwap:function(t){return!1},handleSwap:function(t,r,o,l){return!1},encodeParameters:function(t,r,o){return null}}}function defineExtension(t,r){r.init&&r.init(internalAPI),extensions[t]=mergeObjects(extensionBase(),r)}function removeExtension(t){delete extensions[t]}function getExtensions(t,r,o){if(r==null&&(r=[]),t==null)return r;o==null&&(o=[]);let l=getAttributeValue(t,"hx-ext");return l&&forEach(l.split(","),function(u){if(u=u.replace(/ /g,""),u.slice(0,7)=="ignore:"){o.push(u.slice(7));return}if(o.indexOf(u)<0){let f=extensions[u];f&&r.indexOf(f)<0&&r.push(f)}}),getExtensions(asElement(parentElt(t)),r,o)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(t){isReady||getDocument().readyState==="complete"?t():getDocument().addEventListener("DOMContentLoaded",t)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let t=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"";getDocument().head.insertAdjacentHTML("beforeend","<style"+t+">      ."+htmx.config.indicatorClass+"{opacity:0}      ."+htmx.config.requestClass+" ."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      ."+htmx.config.requestClass+"."+htmx.config.indicatorClass+"{opacity:1; transition: opacity 200ms ease-in;}      </style>")}}function getMetaConfig(){let t=getDocument().querySelector('meta[name="htmx-config"]');return t?parseJSON(t.content):null}function mergeMetaConfig(){let t=getMetaConfig();t&&(htmx.config=mergeObjects(htmx.config,t))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let t=getDocument().body;processNode(t);let r=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");t.addEventListener("htmx:abort",function(l){let u=l.target,f=getInternalData(u);f&&f.xhr&&f.xhr.abort()});let o=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(l){l.state&&l.state.htmx?(restoreHistory(),forEach(r,function(u){triggerEvent(u,"htmx:restored",{document:getDocument(),triggerEvent})})):o&&o(l)},getWindow().setTimeout(function(){triggerEvent(t,"htmx:load",{}),t=null},0)}),htmx}(),mf=pg;var _n={socket:null,socketURI:"ws://localhost:8000/",init:()=>{_n.socket=new WebSocket(_n.socketURI),_n.socket.addEventListener("open",_n.onOpen),_n.socket.addEventListener("close",_n.onClose)},onOpen:()=>{console.log("connected")},onClose:()=>{console.log("disconnected"),_n.socket.readyState===WebSocket.CLOSED&&setTimeout(()=>{location.reload()},2e3)},onError:t=>{console.error("Websocket error observed:",t)}},vf=_n;var td=gf(xf()),nd=gf(Tc());var Al=!1,Fl=!1,ar=[],Ll=-1;function om(t){lm(t)}function lm(t){ar.includes(t)||ar.push(t),sm()}function zc(t){let r=ar.indexOf(t);r!==-1&&r>Ll&&ar.splice(r,1)}function sm(){!Fl&&!Al&&(Al=!0,queueMicrotask(um))}function um(){Al=!1,Fl=!0;for(let t=0;t<ar.length;t++)ar[t](),Ll=t;ar.length=0,Ll=-1,Fl=!1}var Pr,ur,qr,Wc,_l=!0;function fm(t){_l=!1,t(),_l=!0}function cm(t){Pr=t.reactive,qr=t.release,ur=r=>t.effect(r,{scheduler:o=>{_l?om(o):o()}}),Wc=t.raw}function Sc(t){ur=t}function hm(t){let r=()=>{};return[l=>{let u=ur(l);return t._x_effects||(t._x_effects=new Set,t._x_runEffects=()=>{t._x_effects.forEach(f=>f())}),t._x_effects.add(u),r=()=>{u!==void 0&&(t._x_effects.delete(u),qr(u))},u},()=>{r()}]}function Uc(t,r){let o=!0,l,u=ur(()=>{let f=t();JSON.stringify(f),o?l=f:queueMicrotask(()=>{r(f,l),l=f}),o=!1});return()=>qr(u)}var jc=[],Gc=[],Xc=[];function dm(t){Xc.push(t)}function Gl(t,r){typeof r=="function"?(t._x_cleanups||(t._x_cleanups=[]),t._x_cleanups.push(r)):(r=t,Gc.push(r))}function Kc(t){jc.push(t)}function $c(t,r,o){t._x_attributeCleanups||(t._x_attributeCleanups={}),t._x_attributeCleanups[r]||(t._x_attributeCleanups[r]=[]),t._x_attributeCleanups[r].push(o)}function Vc(t,r){t._x_attributeCleanups&&Object.entries(t._x_attributeCleanups).forEach(([o,l])=>{(r===void 0||r.includes(o))&&(l.forEach(u=>u()),delete t._x_attributeCleanups[o])})}function pm(t){if(t._x_cleanups)for(;t._x_cleanups.length;)t._x_cleanups.pop()()}var Xl=new MutationObserver(Yl),Kl=!1;function $l(){Xl.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Kl=!0}function Yc(){gm(),Xl.disconnect(),Kl=!1}var xi=[];function gm(){let t=Xl.takeRecords();xi.push(()=>t.length>0&&Yl(t));let r=xi.length;queueMicrotask(()=>{if(xi.length===r)for(;xi.length>0;)xi.shift()()})}function kt(t){if(!Kl)return t();Yc();let r=t();return $l(),r}var Vl=!1,ja=[];function mm(){Vl=!0}function vm(){Vl=!1,Yl(ja),ja=[]}function Yl(t){if(Vl){ja=ja.concat(t);return}let r=new Set,o=new Set,l=new Map,u=new Map;for(let f=0;f<t.length;f++)if(!t[f].target._x_ignoreMutationObserver&&(t[f].type==="childList"&&(t[f].addedNodes.forEach(c=>c.nodeType===1&&r.add(c)),t[f].removedNodes.forEach(c=>c.nodeType===1&&o.add(c))),t[f].type==="attributes")){let c=t[f].target,d=t[f].attributeName,v=t[f].oldValue,C=()=>{l.has(c)||l.set(c,[]),l.get(c).push({name:d,value:c.getAttribute(d)})},F=()=>{u.has(c)||u.set(c,[]),u.get(c).push(d)};c.hasAttribute(d)&&v===null?C():c.hasAttribute(d)?(F(),C()):F()}u.forEach((f,c)=>{Vc(c,f)}),l.forEach((f,c)=>{jc.forEach(d=>d(c,f))});for(let f of o)r.has(f)||Gc.forEach(c=>c(f));r.forEach(f=>{f._x_ignoreSelf=!0,f._x_ignore=!0});for(let f of r)o.has(f)||f.isConnected&&(delete f._x_ignoreSelf,delete f._x_ignore,Xc.forEach(c=>c(f)),f._x_ignore=!0,f._x_ignoreSelf=!0);r.forEach(f=>{delete f._x_ignoreSelf,delete f._x_ignore}),r=null,o=null,l=null,u=null}function Zc(t){return Si(Hr(t))}function Ti(t,r,o){return t._x_dataStack=[r,...Hr(o||t)],()=>{t._x_dataStack=t._x_dataStack.filter(l=>l!==r)}}function Hr(t){return t._x_dataStack?t._x_dataStack:typeof ShadowRoot=="function"&&t instanceof ShadowRoot?Hr(t.host):t.parentNode?Hr(t.parentNode):[]}function Si(t){return new Proxy({objects:t},ym)}var ym={ownKeys({objects:t}){return Array.from(new Set(t.flatMap(r=>Object.keys(r))))},has({objects:t},r){return r==Symbol.unscopables?!1:t.some(o=>Object.prototype.hasOwnProperty.call(o,r)||Reflect.has(o,r))},get({objects:t},r,o){return r=="toJSON"?xm:Reflect.get(t.find(l=>Reflect.has(l,r))||{},r,o)},set({objects:t},r,o,l){let u=t.find(c=>Object.prototype.hasOwnProperty.call(c,r))||t[t.length-1],f=Object.getOwnPropertyDescriptor(u,r);return f?.set&&f?.get?f.set.call(l,o)||!0:Reflect.set(u,r,o)}};function xm(){return Reflect.ownKeys(this).reduce((r,o)=>(r[o]=Reflect.get(this,o),r),{})}function Qc(t){let r=l=>typeof l=="object"&&!Array.isArray(l)&&l!==null,o=(l,u="")=>{Object.entries(Object.getOwnPropertyDescriptors(l)).forEach(([f,{value:c,enumerable:d}])=>{if(d===!1||c===void 0||typeof c=="object"&&c!==null&&c.__v_skip)return;let v=u===""?f:`${u}.${f}`;typeof c=="object"&&c!==null&&c._x_interceptor?l[f]=c.initialize(t,v,f):r(c)&&c!==l&&!(c instanceof Element)&&o(c,v)})};return o(t)}function Jc(t,r=()=>{}){let o={initialValue:void 0,_x_interceptor:!0,initialize(l,u,f){return t(this.initialValue,()=>bm(l,u),c=>Ol(l,u,c),u,f)}};return r(o),l=>{if(typeof l=="object"&&l!==null&&l._x_interceptor){let u=o.initialize.bind(o);o.initialize=(f,c,d)=>{let v=l.initialize(f,c,d);return o.initialValue=v,u(f,c,d)}}else o.initialValue=l;return o}}function bm(t,r){return r.split(".").reduce((o,l)=>o[l],t)}function Ol(t,r,o){if(typeof r=="string"&&(r=r.split(".")),r.length===1)t[r[0]]=o;else{if(r.length===0)throw error;return t[r[0]]||(t[r[0]]={}),Ol(t[r[0]],r.slice(1),o)}}var eh={};function en(t,r){eh[t]=r}function Il(t,r){return Object.entries(eh).forEach(([o,l])=>{let u=null;function f(){if(u)return u;{let[c,d]=oh(r);return u={interceptor:Jc,...c},Gl(r,d),u}}Object.defineProperty(t,`$${o}`,{get(){return l(r,f())},enumerable:!1})}),t}function Em(t,r,o,...l){try{return o(...l)}catch(u){Di(u,t,r)}}function Di(t,r,o=void 0){t=Object.assign(t??{message:"No error message given."},{el:r,expression:o}),console.warn(`Alpine Expression Error: ${t.message}

${o?'Expression: "'+o+`"

`:""}`,r),setTimeout(()=>{throw t},0)}var Wa=!0;function th(t){let r=Wa;Wa=!1;let o=t();return Wa=r,o}function or(t,r,o={}){let l;return zt(t,r)(u=>l=u,o),l}function zt(...t){return nh(...t)}var nh=rh;function km(t){nh=t}function rh(t,r){let o={};Il(o,t);let l=[o,...Hr(t)],u=typeof r=="function"?wm(l,r):Dm(l,r,t);return Em.bind(null,t,r,u)}function wm(t,r){return(o=()=>{},{scope:l={},params:u=[]}={})=>{let f=r.apply(Si([l,...t]),u);Ga(o,f)}}var wl={};function Cm(t,r){if(wl[t])return wl[t];let o=Object.getPrototypeOf(async function(){}).constructor,l=/^[\n\s]*if.*\(.*\)/.test(t.trim())||/^(let|const)\s/.test(t.trim())?`(async()=>{ ${t} })()`:t,f=(()=>{try{let c=new o(["__self","scope"],`with (scope) { __self.result = ${l} }; __self.finished = true; return __self.result;`);return Object.defineProperty(c,"name",{value:`[Alpine] ${t}`}),c}catch(c){return Di(c,r,t),Promise.resolve()}})();return wl[t]=f,f}function Dm(t,r,o){let l=Cm(r,o);return(u=()=>{},{scope:f={},params:c=[]}={})=>{l.result=void 0,l.finished=!1;let d=Si([f,...t]);if(typeof l=="function"){let v=l(l,d).catch(C=>Di(C,o,r));l.finished?(Ga(u,l.result,d,c,o),l.result=void 0):v.then(C=>{Ga(u,C,d,c,o)}).catch(C=>Di(C,o,r)).finally(()=>l.result=void 0)}}}function Ga(t,r,o,l,u){if(Wa&&typeof r=="function"){let f=r.apply(o,l);f instanceof Promise?f.then(c=>Ga(t,c,o,l)).catch(c=>Di(c,u,r)):t(f)}else typeof r=="object"&&r instanceof Promise?r.then(f=>t(f)):t(r)}var Zl="x-";function zr(t=""){return Zl+t}function Tm(t){Zl=t}var Xa={};function gt(t,r){return Xa[t]=r,{before(o){if(!Xa[o]){console.warn(String.raw`Cannot find directive \`${o}\`. \`${t}\` will use the default order of execution`);return}let l=ir.indexOf(o);ir.splice(l>=0?l:ir.indexOf("DEFAULT"),0,t)}}}function Sm(t){return Object.keys(Xa).includes(t)}function Ql(t,r,o){if(r=Array.from(r),t._x_virtualDirectives){let f=Object.entries(t._x_virtualDirectives).map(([d,v])=>({name:d,value:v})),c=ih(f);f=f.map(d=>c.find(v=>v.name===d.name)?{name:`x-bind:${d.name}`,value:`"${d.value}"`}:d),r=r.concat(f)}let l={};return r.map(uh((f,c)=>l[f]=c)).filter(ch).map(Lm(l,o)).sort(_m).map(f=>Fm(t,f))}function ih(t){return Array.from(t).map(uh()).filter(r=>!ch(r))}var Rl=!1,ki=new Map,ah=Symbol();function Am(t){Rl=!0;let r=Symbol();ah=r,ki.set(r,[]);let o=()=>{for(;ki.get(r).length;)ki.get(r).shift()();ki.delete(r)},l=()=>{Rl=!1,o()};t(o),l()}function oh(t){let r=[],o=d=>r.push(d),[l,u]=hm(t);return r.push(u),[{Alpine:Fi,effect:l,cleanup:o,evaluateLater:zt.bind(zt,t),evaluate:or.bind(or,t)},()=>r.forEach(d=>d())]}function Fm(t,r){let o=()=>{},l=Xa[r.type]||o,[u,f]=oh(t);$c(t,r.original,f);let c=()=>{t._x_ignore||t._x_ignoreSelf||(l.inline&&l.inline(t,r,u),l=l.bind(l,t,r,u),Rl?ki.get(ah).push(l):l())};return c.runCleanups=f,c}var lh=(t,r)=>({name:o,value:l})=>(o.startsWith(t)&&(o=o.replace(t,r)),{name:o,value:l}),sh=t=>t;function uh(t=()=>{}){return({name:r,value:o})=>{let{name:l,value:u}=fh.reduce((f,c)=>c(f),{name:r,value:o});return l!==r&&t(l,r),{name:l,value:u}}}var fh=[];function Jl(t){fh.push(t)}function ch({name:t}){return hh().test(t)}var hh=()=>new RegExp(`^${Zl}([^:^.]+)\\b`);function Lm(t,r){return({name:o,value:l})=>{let u=o.match(hh()),f=o.match(/:([a-zA-Z0-9\-_:]+)/),c=o.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],d=r||t[o]||o;return{type:u?u[1]:null,value:f?f[1]:null,modifiers:c.map(v=>v.replace(".","")),expression:l,original:d}}}var Nl="DEFAULT",ir=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",Nl,"teleport"];function _m(t,r){let o=ir.indexOf(t.type)===-1?Nl:t.type,l=ir.indexOf(r.type)===-1?Nl:r.type;return ir.indexOf(o)-ir.indexOf(l)}function wi(t,r,o={}){t.dispatchEvent(new CustomEvent(r,{detail:o,bubbles:!0,composed:!0,cancelable:!0}))}function Nn(t,r){if(typeof ShadowRoot=="function"&&t instanceof ShadowRoot){Array.from(t.children).forEach(u=>Nn(u,r));return}let o=!1;if(r(t,()=>o=!0),o)return;let l=t.firstElementChild;for(;l;)Nn(l,r,!1),l=l.nextElementSibling}function $t(t,...r){console.warn(`Alpine Warning: ${t}`,...r)}var Ac=!1;function Om(){Ac&&$t("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),Ac=!0,document.body||$t("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),wi(document,"alpine:init"),wi(document,"alpine:initializing"),$l(),dm(r=>xn(r,Nn)),Gl(r=>xh(r)),Kc((r,o)=>{Ql(r,o).forEach(l=>l())});let t=r=>!$a(r.parentElement,!0);Array.from(document.querySelectorAll(gh().join(","))).filter(t).forEach(r=>{xn(r)}),wi(document,"alpine:initialized"),setTimeout(()=>{Nm()})}var es=[],dh=[];function ph(){return es.map(t=>t())}function gh(){return es.concat(dh).map(t=>t())}function mh(t){es.push(t)}function vh(t){dh.push(t)}function $a(t,r=!1){return Ai(t,o=>{if((r?gh():ph()).some(u=>o.matches(u)))return!0})}function Ai(t,r){if(t){if(r(t))return t;if(t._x_teleportBack&&(t=t._x_teleportBack),!!t.parentElement)return Ai(t.parentElement,r)}}function Im(t){return ph().some(r=>t.matches(r))}var yh=[];function Rm(t){yh.push(t)}function xn(t,r=Nn,o=()=>{}){Am(()=>{r(t,(l,u)=>{o(l,u),yh.forEach(f=>f(l,u)),Ql(l,l.attributes).forEach(f=>f()),l._x_ignore&&u()})})}function xh(t,r=Nn){r(t,o=>{Vc(o),pm(o)})}function Nm(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([r,o,l])=>{Sm(o)||l.some(u=>{if(document.querySelector(u))return $t(`found "${u}", but missing ${r} plugin`),!0})})}var Ml=[],ts=!1;function ns(t=()=>{}){return queueMicrotask(()=>{ts||setTimeout(()=>{Hl()})}),new Promise(r=>{Ml.push(()=>{t(),r()})})}function Hl(){for(ts=!1;Ml.length;)Ml.shift()()}function Mm(){ts=!0}function rs(t,r){return Array.isArray(r)?Fc(t,r.join(" ")):typeof r=="object"&&r!==null?Hm(t,r):typeof r=="function"?rs(t,r()):Fc(t,r)}function Fc(t,r){let o=f=>f.split(" ").filter(Boolean),l=f=>f.split(" ").filter(c=>!t.classList.contains(c)).filter(Boolean),u=f=>(t.classList.add(...f),()=>{t.classList.remove(...f)});return r=r===!0?r="":r||"",u(l(r))}function Hm(t,r){let o=d=>d.split(" ").filter(Boolean),l=Object.entries(r).flatMap(([d,v])=>v?o(d):!1).filter(Boolean),u=Object.entries(r).flatMap(([d,v])=>v?!1:o(d)).filter(Boolean),f=[],c=[];return u.forEach(d=>{t.classList.contains(d)&&(t.classList.remove(d),c.push(d))}),l.forEach(d=>{t.classList.contains(d)||(t.classList.add(d),f.push(d))}),()=>{c.forEach(d=>t.classList.add(d)),f.forEach(d=>t.classList.remove(d))}}function Va(t,r){return typeof r=="object"&&r!==null?Bm(t,r):Pm(t,r)}function Bm(t,r){let o={};return Object.entries(r).forEach(([l,u])=>{o[l]=t.style[l],l.startsWith("--")||(l=qm(l)),t.style.setProperty(l,u)}),setTimeout(()=>{t.style.length===0&&t.removeAttribute("style")}),()=>{Va(t,o)}}function Pm(t,r){let o=t.getAttribute("style",r);return t.setAttribute("style",r),()=>{t.setAttribute("style",o||"")}}function qm(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Bl(t,r=()=>{}){let o=!1;return function(){o?r.apply(this,arguments):(o=!0,t.apply(this,arguments))}}gt("transition",(t,{value:r,modifiers:o,expression:l},{evaluate:u})=>{typeof l=="function"&&(l=u(l)),l!==!1&&(!l||typeof l=="boolean"?Wm(t,o,r):zm(t,l,r))});function zm(t,r,o){bh(t,rs,""),{enter:u=>{t._x_transition.enter.during=u},"enter-start":u=>{t._x_transition.enter.start=u},"enter-end":u=>{t._x_transition.enter.end=u},leave:u=>{t._x_transition.leave.during=u},"leave-start":u=>{t._x_transition.leave.start=u},"leave-end":u=>{t._x_transition.leave.end=u}}[o](r)}function Wm(t,r,o){bh(t,Va);let l=!r.includes("in")&&!r.includes("out")&&!o,u=l||r.includes("in")||["enter"].includes(o),f=l||r.includes("out")||["leave"].includes(o);r.includes("in")&&!l&&(r=r.filter(($,ne)=>ne<r.indexOf("out"))),r.includes("out")&&!l&&(r=r.filter(($,ne)=>ne>r.indexOf("out")));let c=!r.includes("opacity")&&!r.includes("scale"),d=c||r.includes("opacity"),v=c||r.includes("scale"),C=d?0:1,F=v?bi(r,"scale",95)/100:1,P=bi(r,"delay",0)/1e3,W=bi(r,"origin","center"),K="opacity, transform",ee=bi(r,"duration",150)/1e3,Y=bi(r,"duration",75)/1e3,H="cubic-bezier(0.4, 0.0, 0.2, 1)";u&&(t._x_transition.enter.during={transformOrigin:W,transitionDelay:`${P}s`,transitionProperty:K,transitionDuration:`${ee}s`,transitionTimingFunction:H},t._x_transition.enter.start={opacity:C,transform:`scale(${F})`},t._x_transition.enter.end={opacity:1,transform:"scale(1)"}),f&&(t._x_transition.leave.during={transformOrigin:W,transitionDelay:`${P}s`,transitionProperty:K,transitionDuration:`${Y}s`,transitionTimingFunction:H},t._x_transition.leave.start={opacity:1,transform:"scale(1)"},t._x_transition.leave.end={opacity:C,transform:`scale(${F})`})}function bh(t,r,o={}){t._x_transition||(t._x_transition={enter:{during:o,start:o,end:o},leave:{during:o,start:o,end:o},in(l=()=>{},u=()=>{}){Pl(t,r,{during:this.enter.during,start:this.enter.start,end:this.enter.end},l,u)},out(l=()=>{},u=()=>{}){Pl(t,r,{during:this.leave.during,start:this.leave.start,end:this.leave.end},l,u)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(t,r,o,l){let u=document.visibilityState==="visible"?requestAnimationFrame:setTimeout,f=()=>u(o);if(r){t._x_transition&&(t._x_transition.enter||t._x_transition.leave)?t._x_transition.enter&&(Object.entries(t._x_transition.enter.during).length||Object.entries(t._x_transition.enter.start).length||Object.entries(t._x_transition.enter.end).length)?t._x_transition.in(o):f():t._x_transition?t._x_transition.in(o):f();return}t._x_hidePromise=t._x_transition?new Promise((c,d)=>{t._x_transition.out(()=>{},()=>c(l)),t._x_transitioning&&t._x_transitioning.beforeCancel(()=>d({isFromCancelledTransition:!0}))}):Promise.resolve(l),queueMicrotask(()=>{let c=Eh(t);c?(c._x_hideChildren||(c._x_hideChildren=[]),c._x_hideChildren.push(t)):u(()=>{let d=v=>{let C=Promise.all([v._x_hidePromise,...(v._x_hideChildren||[]).map(d)]).then(([F])=>F?.());return delete v._x_hidePromise,delete v._x_hideChildren,C};d(t).catch(v=>{if(!v.isFromCancelledTransition)throw v})})})};function Eh(t){let r=t.parentNode;if(r)return r._x_hidePromise?r:Eh(r)}function Pl(t,r,{during:o,start:l,end:u}={},f=()=>{},c=()=>{}){if(t._x_transitioning&&t._x_transitioning.cancel(),Object.keys(o).length===0&&Object.keys(l).length===0&&Object.keys(u).length===0){f(),c();return}let d,v,C;Um(t,{start(){d=r(t,l)},during(){v=r(t,o)},before:f,end(){d(),C=r(t,u)},after:c,cleanup(){v(),C()}})}function Um(t,r){let o,l,u,f=Bl(()=>{kt(()=>{o=!0,l||r.before(),u||(r.end(),Hl()),r.after(),t.isConnected&&r.cleanup(),delete t._x_transitioning})});t._x_transitioning={beforeCancels:[],beforeCancel(c){this.beforeCancels.push(c)},cancel:Bl(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();f()}),finish:f},kt(()=>{r.start(),r.during()}),Mm(),requestAnimationFrame(()=>{if(o)return;let c=Number(getComputedStyle(t).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,d=Number(getComputedStyle(t).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;c===0&&(c=Number(getComputedStyle(t).animationDuration.replace("s",""))*1e3),kt(()=>{r.before()}),l=!0,requestAnimationFrame(()=>{o||(kt(()=>{r.end()}),Hl(),setTimeout(t._x_transitioning.finish,c+d),u=!0)})})}function bi(t,r,o){if(t.indexOf(r)===-1)return o;let l=t[t.indexOf(r)+1];if(!l||r==="scale"&&isNaN(l))return o;if(r==="duration"||r==="delay"){let u=l.match(/([0-9]+)ms/);if(u)return u[1]}return r==="origin"&&["top","right","left","center","bottom"].includes(t[t.indexOf(r)+2])?[l,t[t.indexOf(r)+2]].join(" "):l}var Mn=!1;function Bn(t,r=()=>{}){return(...o)=>Mn?r(...o):t(...o)}function jm(t){return(...r)=>Mn&&t(...r)}var kh=[];function Ya(t){kh.push(t)}function Gm(t,r){kh.forEach(o=>o(t,r)),Mn=!0,wh(()=>{xn(r,(o,l)=>{l(o,()=>{})})}),Mn=!1}var ql=!1;function Xm(t,r){r._x_dataStack||(r._x_dataStack=t._x_dataStack),Mn=!0,ql=!0,wh(()=>{Km(r)}),Mn=!1,ql=!1}function Km(t){let r=!1;xn(t,(l,u)=>{Nn(l,(f,c)=>{if(r&&Im(f))return c();r=!0,u(f,c)})})}function wh(t){let r=ur;Sc((o,l)=>{let u=r(o);return qr(u),()=>{}}),t(),Sc(r)}function Ch(t,r,o,l=[]){switch(t._x_bindings||(t._x_bindings=Pr({})),t._x_bindings[r]=o,r=l.includes("camel")?tv(r):r,r){case"value":$m(t,o);break;case"style":Ym(t,o);break;case"class":Vm(t,o);break;case"selected":case"checked":Zm(t,r,o);break;default:Dh(t,r,o);break}}function $m(t,r){if(t.type==="radio")t.attributes.value===void 0&&(t.value=r),window.fromModel&&(typeof r=="boolean"?t.checked=Ua(t.value)===r:t.checked=Lc(t.value,r));else if(t.type==="checkbox")Number.isInteger(r)?t.value=r:!Array.isArray(r)&&typeof r!="boolean"&&![null,void 0].includes(r)?t.value=String(r):Array.isArray(r)?t.checked=r.some(o=>Lc(o,t.value)):t.checked=!!r;else if(t.tagName==="SELECT")ev(t,r);else{if(t.value===r)return;t.value=r===void 0?"":r}}function Vm(t,r){t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedClasses=rs(t,r)}function Ym(t,r){t._x_undoAddedStyles&&t._x_undoAddedStyles(),t._x_undoAddedStyles=Va(t,r)}function Zm(t,r,o){Dh(t,r,o),Jm(t,r,o)}function Dh(t,r,o){[null,void 0,!1].includes(o)&&nv(r)?t.removeAttribute(r):(Th(r)&&(o=r),Qm(t,r,o))}function Qm(t,r,o){t.getAttribute(r)!=o&&t.setAttribute(r,o)}function Jm(t,r,o){t[r]!==o&&(t[r]=o)}function ev(t,r){let o=[].concat(r).map(l=>l+"");Array.from(t.options).forEach(l=>{l.selected=o.includes(l.value)})}function tv(t){return t.toLowerCase().replace(/-(\w)/g,(r,o)=>o.toUpperCase())}function Lc(t,r){return t==r}function Ua(t){return[1,"1","true","on","yes",!0].includes(t)?!0:[0,"0","false","off","no",!1].includes(t)?!1:t?!!t:null}function Th(t){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(t)}function nv(t){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(t)}function rv(t,r,o){return t._x_bindings&&t._x_bindings[r]!==void 0?t._x_bindings[r]:Sh(t,r,o)}function iv(t,r,o,l=!0){if(t._x_bindings&&t._x_bindings[r]!==void 0)return t._x_bindings[r];if(t._x_inlineBindings&&t._x_inlineBindings[r]!==void 0){let u=t._x_inlineBindings[r];return u.extract=l,th(()=>or(t,u.expression))}return Sh(t,r,o)}function Sh(t,r,o){let l=t.getAttribute(r);return l===null?typeof o=="function"?o():o:l===""?!0:Th(r)?!![r,"true"].includes(l):l}function Ah(t,r){var o;return function(){var l=this,u=arguments,f=function(){o=null,t.apply(l,u)};clearTimeout(o),o=setTimeout(f,r)}}function Fh(t,r){let o;return function(){let l=this,u=arguments;o||(t.apply(l,u),o=!0,setTimeout(()=>o=!1,r))}}function Lh({get:t,set:r},{get:o,set:l}){let u=!0,f,c,d=ur(()=>{let v=t(),C=o();if(u)l(Cl(v)),u=!1;else{let F=JSON.stringify(v),P=JSON.stringify(C);F!==f?l(Cl(v)):F!==P&&r(Cl(C))}f=JSON.stringify(t()),c=JSON.stringify(o())});return()=>{qr(d)}}function Cl(t){return typeof t=="object"?JSON.parse(JSON.stringify(t)):t}function av(t){(Array.isArray(t)?t:[t]).forEach(o=>o(Fi))}var rr={},_c=!1;function ov(t,r){if(_c||(rr=Pr(rr),_c=!0),r===void 0)return rr[t];rr[t]=r,typeof r=="object"&&r!==null&&r.hasOwnProperty("init")&&typeof r.init=="function"&&rr[t].init(),Qc(rr[t])}function lv(){return rr}var _h={};function sv(t,r){let o=typeof r!="function"?()=>r:r;return t instanceof Element?Oh(t,o()):(_h[t]=o,()=>{})}function uv(t){return Object.entries(_h).forEach(([r,o])=>{Object.defineProperty(t,r,{get(){return(...l)=>o(...l)}})}),t}function Oh(t,r,o){let l=[];for(;l.length;)l.pop()();let u=Object.entries(r).map(([c,d])=>({name:c,value:d})),f=ih(u);return u=u.map(c=>f.find(d=>d.name===c.name)?{name:`x-bind:${c.name}`,value:`"${c.value}"`}:c),Ql(t,u,o).map(c=>{l.push(c.runCleanups),c()}),()=>{for(;l.length;)l.pop()()}}var Ih={};function fv(t,r){Ih[t]=r}function cv(t,r){return Object.entries(Ih).forEach(([o,l])=>{Object.defineProperty(t,o,{get(){return(...u)=>l.bind(r)(...u)},enumerable:!1})}),t}var hv={get reactive(){return Pr},get release(){return qr},get effect(){return ur},get raw(){return Wc},version:"3.14.1",flushAndStopDeferringMutations:vm,dontAutoEvaluateFunctions:th,disableEffectScheduling:fm,startObservingMutations:$l,stopObservingMutations:Yc,setReactivityEngine:cm,onAttributeRemoved:$c,onAttributesAdded:Kc,closestDataStack:Hr,skipDuringClone:Bn,onlyDuringClone:jm,addRootSelector:mh,addInitSelector:vh,interceptClone:Ya,addScopeToNode:Ti,deferMutations:mm,mapAttributes:Jl,evaluateLater:zt,interceptInit:Rm,setEvaluator:km,mergeProxies:Si,extractProp:iv,findClosest:Ai,onElRemoved:Gl,closestRoot:$a,destroyTree:xh,interceptor:Jc,transition:Pl,setStyles:Va,mutateDom:kt,directive:gt,entangle:Lh,throttle:Fh,debounce:Ah,evaluate:or,initTree:xn,nextTick:ns,prefixed:zr,prefix:Tm,plugin:av,magic:en,store:ov,start:Om,clone:Xm,cloneNode:Gm,bound:rv,$data:Zc,watch:Uc,walk:Nn,data:fv,bind:sv},Fi=hv;function Rh(t,r){let o=Object.create(null),l=t.split(",");for(let u=0;u<l.length;u++)o[l[u]]=!0;return r?u=>!!o[u.toLowerCase()]:u=>!!o[u]}var dv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",D0=Rh(dv+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected"),pv=Object.freeze({}),T0=Object.freeze([]),gv=Object.prototype.hasOwnProperty,Za=(t,r)=>gv.call(t,r),lr=Array.isArray,Ci=t=>Nh(t)==="[object Map]",mv=t=>typeof t=="string",is=t=>typeof t=="symbol",Qa=t=>t!==null&&typeof t=="object",vv=Object.prototype.toString,Nh=t=>vv.call(t),Mh=t=>Nh(t).slice(8,-1),as=t=>mv(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ja=t=>{let r=Object.create(null);return o=>r[o]||(r[o]=t(o))},yv=/-(\w)/g,S0=Ja(t=>t.replace(yv,(r,o)=>o?o.toUpperCase():"")),xv=/\B([A-Z])/g,A0=Ja(t=>t.replace(xv,"-$1").toLowerCase()),Hh=Ja(t=>t.charAt(0).toUpperCase()+t.slice(1)),F0=Ja(t=>t?`on${Hh(t)}`:""),Bh=(t,r)=>t!==r&&(t===t||r===r),zl=new WeakMap,Ei=[],fn,sr=Symbol("iterate"),Wl=Symbol("Map key iterate");function bv(t){return t&&t._isEffect===!0}function Ev(t,r=pv){bv(t)&&(t=t.raw);let o=Cv(t,r);return r.lazy||o(),o}function kv(t){t.active&&(Ph(t),t.options.onStop&&t.options.onStop(),t.active=!1)}var wv=0;function Cv(t,r){let o=function(){if(!o.active)return t();if(!Ei.includes(o)){Ph(o);try{return Tv(),Ei.push(o),fn=o,t()}finally{Ei.pop(),qh(),fn=Ei[Ei.length-1]}}};return o.id=wv++,o.allowRecurse=!!r.allowRecurse,o._isEffect=!0,o.active=!0,o.raw=t,o.deps=[],o.options=r,o}function Ph(t){let{deps:r}=t;if(r.length){for(let o=0;o<r.length;o++)r[o].delete(t);r.length=0}}var Br=!0,os=[];function Dv(){os.push(Br),Br=!1}function Tv(){os.push(Br),Br=!0}function qh(){let t=os.pop();Br=t===void 0?!0:t}function Jt(t,r,o){if(!Br||fn===void 0)return;let l=zl.get(t);l||zl.set(t,l=new Map);let u=l.get(o);u||l.set(o,u=new Set),u.has(fn)||(u.add(fn),fn.deps.push(u),fn.options.onTrack&&fn.options.onTrack({effect:fn,target:t,type:r,key:o}))}function Hn(t,r,o,l,u,f){let c=zl.get(t);if(!c)return;let d=new Set,v=F=>{F&&F.forEach(P=>{(P!==fn||P.allowRecurse)&&d.add(P)})};if(r==="clear")c.forEach(v);else if(o==="length"&&lr(t))c.forEach((F,P)=>{(P==="length"||P>=l)&&v(F)});else switch(o!==void 0&&v(c.get(o)),r){case"add":lr(t)?as(o)&&v(c.get("length")):(v(c.get(sr)),Ci(t)&&v(c.get(Wl)));break;case"delete":lr(t)||(v(c.get(sr)),Ci(t)&&v(c.get(Wl)));break;case"set":Ci(t)&&v(c.get(sr));break}let C=F=>{F.options.onTrigger&&F.options.onTrigger({effect:F,target:t,key:o,type:r,newValue:l,oldValue:u,oldTarget:f}),F.options.scheduler?F.options.scheduler(F):F()};d.forEach(C)}var Sv=Rh("__proto__,__v_isRef,__isVue"),zh=new Set(Object.getOwnPropertyNames(Symbol).map(t=>Symbol[t]).filter(is)),Av=Wh(),Fv=Wh(!0),Oc=Lv();function Lv(){let t={};return["includes","indexOf","lastIndexOf"].forEach(r=>{t[r]=function(...o){let l=nt(this);for(let f=0,c=this.length;f<c;f++)Jt(l,"get",f+"");let u=l[r](...o);return u===-1||u===!1?l[r](...o.map(nt)):u}}),["push","pop","shift","unshift","splice"].forEach(r=>{t[r]=function(...o){Dv();let l=nt(this)[r].apply(this,o);return qh(),l}}),t}function Wh(t=!1,r=!1){return function(l,u,f){if(u==="__v_isReactive")return!t;if(u==="__v_isReadonly")return t;if(u==="__v_raw"&&f===(t?r?Xv:Xh:r?Gv:Gh).get(l))return l;let c=lr(l);if(!t&&c&&Za(Oc,u))return Reflect.get(Oc,u,f);let d=Reflect.get(l,u,f);return(is(u)?zh.has(u):Sv(u))||(t||Jt(l,"get",u),r)?d:Ul(d)?!c||!as(u)?d.value:d:Qa(d)?t?Kh(d):fs(d):d}}var _v=Ov();function Ov(t=!1){return function(o,l,u,f){let c=o[l];if(!t&&(u=nt(u),c=nt(c),!lr(o)&&Ul(c)&&!Ul(u)))return c.value=u,!0;let d=lr(o)&&as(l)?Number(l)<o.length:Za(o,l),v=Reflect.set(o,l,u,f);return o===nt(f)&&(d?Bh(u,c)&&Hn(o,"set",l,u,c):Hn(o,"add",l,u)),v}}function Iv(t,r){let o=Za(t,r),l=t[r],u=Reflect.deleteProperty(t,r);return u&&o&&Hn(t,"delete",r,void 0,l),u}function Rv(t,r){let o=Reflect.has(t,r);return(!is(r)||!zh.has(r))&&Jt(t,"has",r),o}function Nv(t){return Jt(t,"iterate",lr(t)?"length":sr),Reflect.ownKeys(t)}var Mv={get:Av,set:_v,deleteProperty:Iv,has:Rv,ownKeys:Nv},Hv={get:Fv,set(t,r){return console.warn(`Set operation on key "${String(r)}" failed: target is readonly.`,t),!0},deleteProperty(t,r){return console.warn(`Delete operation on key "${String(r)}" failed: target is readonly.`,t),!0}},ls=t=>Qa(t)?fs(t):t,ss=t=>Qa(t)?Kh(t):t,us=t=>t,eo=t=>Reflect.getPrototypeOf(t);function Ha(t,r,o=!1,l=!1){t=t.__v_raw;let u=nt(t),f=nt(r);r!==f&&!o&&Jt(u,"get",r),!o&&Jt(u,"get",f);let{has:c}=eo(u),d=l?us:o?ss:ls;if(c.call(u,r))return d(t.get(r));if(c.call(u,f))return d(t.get(f));t!==u&&t.get(r)}function Ba(t,r=!1){let o=this.__v_raw,l=nt(o),u=nt(t);return t!==u&&!r&&Jt(l,"has",t),!r&&Jt(l,"has",u),t===u?o.has(t):o.has(t)||o.has(u)}function Pa(t,r=!1){return t=t.__v_raw,!r&&Jt(nt(t),"iterate",sr),Reflect.get(t,"size",t)}function Ic(t){t=nt(t);let r=nt(this);return eo(r).has.call(r,t)||(r.add(t),Hn(r,"add",t,t)),this}function Rc(t,r){r=nt(r);let o=nt(this),{has:l,get:u}=eo(o),f=l.call(o,t);f?jh(o,l,t):(t=nt(t),f=l.call(o,t));let c=u.call(o,t);return o.set(t,r),f?Bh(r,c)&&Hn(o,"set",t,r,c):Hn(o,"add",t,r),this}function Nc(t){let r=nt(this),{has:o,get:l}=eo(r),u=o.call(r,t);u?jh(r,o,t):(t=nt(t),u=o.call(r,t));let f=l?l.call(r,t):void 0,c=r.delete(t);return u&&Hn(r,"delete",t,void 0,f),c}function Mc(){let t=nt(this),r=t.size!==0,o=Ci(t)?new Map(t):new Set(t),l=t.clear();return r&&Hn(t,"clear",void 0,void 0,o),l}function qa(t,r){return function(l,u){let f=this,c=f.__v_raw,d=nt(c),v=r?us:t?ss:ls;return!t&&Jt(d,"iterate",sr),c.forEach((C,F)=>l.call(u,v(C),v(F),f))}}function za(t,r,o){return function(...l){let u=this.__v_raw,f=nt(u),c=Ci(f),d=t==="entries"||t===Symbol.iterator&&c,v=t==="keys"&&c,C=u[t](...l),F=o?us:r?ss:ls;return!r&&Jt(f,"iterate",v?Wl:sr),{next(){let{value:P,done:W}=C.next();return W?{value:P,done:W}:{value:d?[F(P[0]),F(P[1])]:F(P),done:W}},[Symbol.iterator](){return this}}}}function Rn(t){return function(...r){{let o=r[0]?`on key "${r[0]}" `:"";console.warn(`${Hh(t)} operation ${o}failed: target is readonly.`,nt(this))}return t==="delete"?!1:this}}function Bv(){let t={get(f){return Ha(this,f)},get size(){return Pa(this)},has:Ba,add:Ic,set:Rc,delete:Nc,clear:Mc,forEach:qa(!1,!1)},r={get(f){return Ha(this,f,!1,!0)},get size(){return Pa(this)},has:Ba,add:Ic,set:Rc,delete:Nc,clear:Mc,forEach:qa(!1,!0)},o={get(f){return Ha(this,f,!0)},get size(){return Pa(this,!0)},has(f){return Ba.call(this,f,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:qa(!0,!1)},l={get(f){return Ha(this,f,!0,!0)},get size(){return Pa(this,!0)},has(f){return Ba.call(this,f,!0)},add:Rn("add"),set:Rn("set"),delete:Rn("delete"),clear:Rn("clear"),forEach:qa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(f=>{t[f]=za(f,!1,!1),o[f]=za(f,!0,!1),r[f]=za(f,!1,!0),l[f]=za(f,!0,!0)}),[t,o,r,l]}var[Pv,qv,zv,Wv]=Bv();function Uh(t,r){let o=r?t?Wv:zv:t?qv:Pv;return(l,u,f)=>u==="__v_isReactive"?!t:u==="__v_isReadonly"?t:u==="__v_raw"?l:Reflect.get(Za(o,u)&&u in l?o:l,u,f)}var Uv={get:Uh(!1,!1)},jv={get:Uh(!0,!1)};function jh(t,r,o){let l=nt(o);if(l!==o&&r.call(t,l)){let u=Mh(t);console.warn(`Reactive ${u} contains both the raw and reactive versions of the same object${u==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var Gh=new WeakMap,Gv=new WeakMap,Xh=new WeakMap,Xv=new WeakMap;function Kv(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $v(t){return t.__v_skip||!Object.isExtensible(t)?0:Kv(Mh(t))}function fs(t){return t&&t.__v_isReadonly?t:$h(t,!1,Mv,Uv,Gh)}function Kh(t){return $h(t,!0,Hv,jv,Xh)}function $h(t,r,o,l,u){if(!Qa(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(r&&t.__v_isReactive))return t;let f=u.get(t);if(f)return f;let c=$v(t);if(c===0)return t;let d=new Proxy(t,c===2?l:o);return u.set(t,d),d}function nt(t){return t&&nt(t.__v_raw)||t}function Ul(t){return!!(t&&t.__v_isRef===!0)}en("nextTick",()=>ns);en("dispatch",t=>wi.bind(wi,t));en("watch",(t,{evaluateLater:r,cleanup:o})=>(l,u)=>{let f=r(l),d=Uc(()=>{let v;return f(C=>v=C),v},u);o(d)});en("store",lv);en("data",t=>Zc(t));en("root",t=>$a(t));en("refs",t=>(t._x_refs_proxy||(t._x_refs_proxy=Si(Vv(t))),t._x_refs_proxy));function Vv(t){let r=[];return Ai(t,o=>{o._x_refs&&r.push(o._x_refs)}),r}var Dl={};function Vh(t){return Dl[t]||(Dl[t]=0),++Dl[t]}function Yv(t,r){return Ai(t,o=>{if(o._x_ids&&o._x_ids[r])return!0})}function Zv(t,r){t._x_ids||(t._x_ids={}),t._x_ids[r]||(t._x_ids[r]=Vh(r))}en("id",(t,{cleanup:r})=>(o,l=null)=>{let u=`${o}${l?`-${l}`:""}`;return Qv(t,u,r,()=>{let f=Yv(t,o),c=f?f._x_ids[o]:Vh(o);return l?`${o}-${c}-${l}`:`${o}-${c}`})});Ya((t,r)=>{t._x_id&&(r._x_id=t._x_id)});function Qv(t,r,o,l){if(t._x_id||(t._x_id={}),t._x_id[r])return t._x_id[r];let u=l();return t._x_id[r]=u,o(()=>{delete t._x_id[r]}),u}en("el",t=>t);Yh("Focus","focus","focus");Yh("Persist","persist","persist");function Yh(t,r,o){en(r,l=>$t(`You can't use [$${r}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${o}`,l))}gt("modelable",(t,{expression:r},{effect:o,evaluateLater:l,cleanup:u})=>{let f=l(r),c=()=>{let F;return f(P=>F=P),F},d=l(`${r} = __placeholder`),v=F=>d(()=>{},{scope:{__placeholder:F}}),C=c();v(C),queueMicrotask(()=>{if(!t._x_model)return;t._x_removeModelListeners.default();let F=t._x_model.get,P=t._x_model.set,W=Lh({get(){return F()},set(K){P(K)}},{get(){return c()},set(K){v(K)}});u(W)})});gt("teleport",(t,{modifiers:r,expression:o},{cleanup:l})=>{t.tagName.toLowerCase()!=="template"&&$t("x-teleport can only be used on a <template> tag",t);let u=Hc(o),f=t.content.cloneNode(!0).firstElementChild;t._x_teleport=f,f._x_teleportBack=t,t.setAttribute("data-teleport-template",!0),f.setAttribute("data-teleport-target",!0),t._x_forwardEvents&&t._x_forwardEvents.forEach(d=>{f.addEventListener(d,v=>{v.stopPropagation(),t.dispatchEvent(new v.constructor(v.type,v))})}),Ti(f,{},t);let c=(d,v,C)=>{C.includes("prepend")?v.parentNode.insertBefore(d,v):C.includes("append")?v.parentNode.insertBefore(d,v.nextSibling):v.appendChild(d)};kt(()=>{c(f,u,r),Bn(()=>{xn(f),f._x_ignore=!0})()}),t._x_teleportPutBack=()=>{let d=Hc(o);kt(()=>{c(t._x_teleport,d,r)})},l(()=>f.remove())});var Jv=document.createElement("div");function Hc(t){let r=Bn(()=>document.querySelector(t),()=>Jv)();return r||$t(`Cannot find x-teleport element for selector: "${t}"`),r}var Zh=()=>{};Zh.inline=(t,{modifiers:r},{cleanup:o})=>{r.includes("self")?t._x_ignoreSelf=!0:t._x_ignore=!0,o(()=>{r.includes("self")?delete t._x_ignoreSelf:delete t._x_ignore})};gt("ignore",Zh);gt("effect",Bn((t,{expression:r},{effect:o})=>{o(zt(t,r))}));function jl(t,r,o,l){let u=t,f=v=>l(v),c={},d=(v,C)=>F=>C(v,F);if(o.includes("dot")&&(r=e0(r)),o.includes("camel")&&(r=t0(r)),o.includes("passive")&&(c.passive=!0),o.includes("capture")&&(c.capture=!0),o.includes("window")&&(u=window),o.includes("document")&&(u=document),o.includes("debounce")){let v=o[o.indexOf("debounce")+1]||"invalid-wait",C=Ka(v.split("ms")[0])?Number(v.split("ms")[0]):250;f=Ah(f,C)}if(o.includes("throttle")){let v=o[o.indexOf("throttle")+1]||"invalid-wait",C=Ka(v.split("ms")[0])?Number(v.split("ms")[0]):250;f=Fh(f,C)}return o.includes("prevent")&&(f=d(f,(v,C)=>{C.preventDefault(),v(C)})),o.includes("stop")&&(f=d(f,(v,C)=>{C.stopPropagation(),v(C)})),o.includes("once")&&(f=d(f,(v,C)=>{v(C),u.removeEventListener(r,f,c)})),(o.includes("away")||o.includes("outside"))&&(u=document,f=d(f,(v,C)=>{t.contains(C.target)||C.target.isConnected!==!1&&(t.offsetWidth<1&&t.offsetHeight<1||t._x_isShown!==!1&&v(C))})),o.includes("self")&&(f=d(f,(v,C)=>{C.target===t&&v(C)})),(r0(r)||Qh(r))&&(f=d(f,(v,C)=>{i0(C,o)||v(C)})),u.addEventListener(r,f,c),()=>{u.removeEventListener(r,f,c)}}function e0(t){return t.replace(/-/g,".")}function t0(t){return t.toLowerCase().replace(/-(\w)/g,(r,o)=>o.toUpperCase())}function Ka(t){return!Array.isArray(t)&&!isNaN(t)}function n0(t){return[" ","_"].includes(t)?t:t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function r0(t){return["keydown","keyup"].includes(t)}function Qh(t){return["contextmenu","click","mouse"].some(r=>t.includes(r))}function i0(t,r){let o=r.filter(f=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(f));if(o.includes("debounce")){let f=o.indexOf("debounce");o.splice(f,Ka((o[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.includes("throttle")){let f=o.indexOf("throttle");o.splice(f,Ka((o[f+1]||"invalid-wait").split("ms")[0])?2:1)}if(o.length===0||o.length===1&&Bc(t.key).includes(o[0]))return!1;let u=["ctrl","shift","alt","meta","cmd","super"].filter(f=>o.includes(f));return o=o.filter(f=>!u.includes(f)),!(u.length>0&&u.filter(c=>((c==="cmd"||c==="super")&&(c="meta"),t[`${c}Key`])).length===u.length&&(Qh(t.type)||Bc(t.key).includes(o[0])))}function Bc(t){if(!t)return[];t=n0(t);let r={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return r[t]=t,Object.keys(r).map(o=>{if(r[o]===t)return o}).filter(o=>o)}gt("model",(t,{modifiers:r,expression:o},{effect:l,cleanup:u})=>{let f=t;r.includes("parent")&&(f=t.parentNode);let c=zt(f,o),d;typeof o=="string"?d=zt(f,`${o} = __placeholder`):typeof o=="function"&&typeof o()=="string"?d=zt(f,`${o()} = __placeholder`):d=()=>{};let v=()=>{let W;return c(K=>W=K),Pc(W)?W.get():W},C=W=>{let K;c(ee=>K=ee),Pc(K)?K.set(W):d(()=>{},{scope:{__placeholder:W}})};typeof o=="string"&&t.type==="radio"&&kt(()=>{t.hasAttribute("name")||t.setAttribute("name",o)});var F=t.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(t.type)||r.includes("lazy")?"change":"input";let P=Mn?()=>{}:jl(t,F,r,W=>{C(Tl(t,r,W,v()))});if(r.includes("fill")&&([void 0,null,""].includes(v())||t.type==="checkbox"&&Array.isArray(v())||t.tagName.toLowerCase()==="select"&&t.multiple)&&C(Tl(t,r,{target:t},v())),t._x_removeModelListeners||(t._x_removeModelListeners={}),t._x_removeModelListeners.default=P,u(()=>t._x_removeModelListeners.default()),t.form){let W=jl(t.form,"reset",[],K=>{ns(()=>t._x_model&&t._x_model.set(Tl(t,r,{target:t},v())))});u(()=>W())}t._x_model={get(){return v()},set(W){C(W)}},t._x_forceModelUpdate=W=>{W===void 0&&typeof o=="string"&&o.match(/\./)&&(W=""),window.fromModel=!0,kt(()=>Ch(t,"value",W)),delete window.fromModel},l(()=>{let W=v();r.includes("unintrusive")&&document.activeElement.isSameNode(t)||t._x_forceModelUpdate(W)})});function Tl(t,r,o,l){return kt(()=>{if(o instanceof CustomEvent&&o.detail!==void 0)return o.detail!==null&&o.detail!==void 0?o.detail:o.target.value;if(t.type==="checkbox")if(Array.isArray(l)){let u=null;return r.includes("number")?u=Sl(o.target.value):r.includes("boolean")?u=Ua(o.target.value):u=o.target.value,o.target.checked?l.includes(u)?l:l.concat([u]):l.filter(f=>!a0(f,u))}else return o.target.checked;else{if(t.tagName.toLowerCase()==="select"&&t.multiple)return r.includes("number")?Array.from(o.target.selectedOptions).map(u=>{let f=u.value||u.text;return Sl(f)}):r.includes("boolean")?Array.from(o.target.selectedOptions).map(u=>{let f=u.value||u.text;return Ua(f)}):Array.from(o.target.selectedOptions).map(u=>u.value||u.text);{let u;return t.type==="radio"?o.target.checked?u=o.target.value:u=l:u=o.target.value,r.includes("number")?Sl(u):r.includes("boolean")?Ua(u):r.includes("trim")?u.trim():u}}})}function Sl(t){let r=t?parseFloat(t):null;return o0(r)?r:t}function a0(t,r){return t==r}function o0(t){return!Array.isArray(t)&&!isNaN(t)}function Pc(t){return t!==null&&typeof t=="object"&&typeof t.get=="function"&&typeof t.set=="function"}gt("cloak",t=>queueMicrotask(()=>kt(()=>t.removeAttribute(zr("cloak")))));vh(()=>`[${zr("init")}]`);gt("init",Bn((t,{expression:r},{evaluate:o})=>typeof r=="string"?!!r.trim()&&o(r,{},!1):o(r,{},!1)));gt("text",(t,{expression:r},{effect:o,evaluateLater:l})=>{let u=l(r);o(()=>{u(f=>{kt(()=>{t.textContent=f})})})});gt("html",(t,{expression:r},{effect:o,evaluateLater:l})=>{let u=l(r);o(()=>{u(f=>{kt(()=>{t.innerHTML=f,t._x_ignoreSelf=!0,xn(t),delete t._x_ignoreSelf})})})});Jl(lh(":",sh(zr("bind:"))));var Jh=(t,{value:r,modifiers:o,expression:l,original:u},{effect:f,cleanup:c})=>{if(!r){let v={};uv(v),zt(t,l)(F=>{Oh(t,F,u)},{scope:v});return}if(r==="key")return l0(t,l);if(t._x_inlineBindings&&t._x_inlineBindings[r]&&t._x_inlineBindings[r].extract)return;let d=zt(t,l);f(()=>d(v=>{v===void 0&&typeof l=="string"&&l.match(/\./)&&(v=""),kt(()=>Ch(t,r,v,o))})),c(()=>{t._x_undoAddedClasses&&t._x_undoAddedClasses(),t._x_undoAddedStyles&&t._x_undoAddedStyles()})};Jh.inline=(t,{value:r,modifiers:o,expression:l})=>{r&&(t._x_inlineBindings||(t._x_inlineBindings={}),t._x_inlineBindings[r]={expression:l,extract:!1})};gt("bind",Jh);function l0(t,r){t._x_keyExpression=r}mh(()=>`[${zr("data")}]`);gt("data",(t,{expression:r},{cleanup:o})=>{if(s0(t))return;r=r===""?"{}":r;let l={};Il(l,t);let u={};cv(u,l);let f=or(t,r,{scope:u});(f===void 0||f===!0)&&(f={}),Il(f,t);let c=Pr(f);Qc(c);let d=Ti(t,c);c.init&&or(t,c.init),o(()=>{c.destroy&&or(t,c.destroy),d()})});Ya((t,r)=>{t._x_dataStack&&(r._x_dataStack=t._x_dataStack,r.setAttribute("data-has-alpine-state",!0))});function s0(t){return Mn?ql?!0:t.hasAttribute("data-has-alpine-state"):!1}gt("show",(t,{modifiers:r,expression:o},{effect:l})=>{let u=zt(t,o);t._x_doHide||(t._x_doHide=()=>{kt(()=>{t.style.setProperty("display","none",r.includes("important")?"important":void 0)})}),t._x_doShow||(t._x_doShow=()=>{kt(()=>{t.style.length===1&&t.style.display==="none"?t.removeAttribute("style"):t.style.removeProperty("display")})});let f=()=>{t._x_doHide(),t._x_isShown=!1},c=()=>{t._x_doShow(),t._x_isShown=!0},d=()=>setTimeout(c),v=Bl(P=>P?c():f(),P=>{typeof t._x_toggleAndCascadeWithTransitions=="function"?t._x_toggleAndCascadeWithTransitions(t,P,c,f):P?d():f()}),C,F=!0;l(()=>u(P=>{!F&&P===C||(r.includes("immediate")&&(P?d():f()),v(P),C=P,F=!1)}))});gt("for",(t,{expression:r},{effect:o,cleanup:l})=>{let u=f0(r),f=zt(t,u.items),c=zt(t,t._x_keyExpression||"index");t._x_prevKeys=[],t._x_lookup={},o(()=>u0(t,u,f,c)),l(()=>{Object.values(t._x_lookup).forEach(d=>d.remove()),delete t._x_prevKeys,delete t._x_lookup})});function u0(t,r,o,l){let u=c=>typeof c=="object"&&!Array.isArray(c),f=t;o(c=>{c0(c)&&c>=0&&(c=Array.from(Array(c).keys(),H=>H+1)),c===void 0&&(c=[]);let d=t._x_lookup,v=t._x_prevKeys,C=[],F=[];if(u(c))c=Object.entries(c).map(([H,$])=>{let ne=qc(r,$,H,c);l(Q=>{F.includes(Q)&&$t("Duplicate key on x-for",t),F.push(Q)},{scope:{index:H,...ne}}),C.push(ne)});else for(let H=0;H<c.length;H++){let $=qc(r,c[H],H,c);l(ne=>{F.includes(ne)&&$t("Duplicate key on x-for",t),F.push(ne)},{scope:{index:H,...$}}),C.push($)}let P=[],W=[],K=[],ee=[];for(let H=0;H<v.length;H++){let $=v[H];F.indexOf($)===-1&&K.push($)}v=v.filter(H=>!K.includes(H));let Y="template";for(let H=0;H<F.length;H++){let $=F[H],ne=v.indexOf($);if(ne===-1)v.splice(H,0,$),P.push([Y,H]);else if(ne!==H){let Q=v.splice(H,1)[0],te=v.splice(ne-1,1)[0];v.splice(H,0,te),v.splice(ne,0,Q),W.push([Q,te])}else ee.push($);Y=$}for(let H=0;H<K.length;H++){let $=K[H];d[$]._x_effects&&d[$]._x_effects.forEach(zc),d[$].remove(),d[$]=null,delete d[$]}for(let H=0;H<W.length;H++){let[$,ne]=W[H],Q=d[$],te=d[ne],he=document.createElement("div");kt(()=>{te||$t('x-for ":key" is undefined or invalid',f,ne,d),te.after(he),Q.after(te),te._x_currentIfEl&&te.after(te._x_currentIfEl),he.before(Q),Q._x_currentIfEl&&Q.after(Q._x_currentIfEl),he.remove()}),te._x_refreshXForScope(C[F.indexOf(ne)])}for(let H=0;H<P.length;H++){let[$,ne]=P[H],Q=$==="template"?f:d[$];Q._x_currentIfEl&&(Q=Q._x_currentIfEl);let te=C[ne],he=F[ne],ce=document.importNode(f.content,!0).firstElementChild,ge=Pr(te);Ti(ce,ge,f),ce._x_refreshXForScope=Re=>{Object.entries(Re).forEach(([de,X])=>{ge[de]=X})},kt(()=>{Q.after(ce),Bn(()=>xn(ce))()}),typeof he=="object"&&$t("x-for key cannot be an object, it must be a string or an integer",f),d[he]=ce}for(let H=0;H<ee.length;H++)d[ee[H]]._x_refreshXForScope(C[F.indexOf(ee[H])]);f._x_prevKeys=F})}function f0(t){let r=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,o=/^\s*\(|\)\s*$/g,l=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,u=t.match(l);if(!u)return;let f={};f.items=u[2].trim();let c=u[1].replace(o,"").trim(),d=c.match(r);return d?(f.item=c.replace(r,"").trim(),f.index=d[1].trim(),d[2]&&(f.collection=d[2].trim())):f.item=c,f}function qc(t,r,o,l){let u={};return/^\[.*\]$/.test(t.item)&&Array.isArray(r)?t.item.replace("[","").replace("]","").split(",").map(c=>c.trim()).forEach((c,d)=>{u[c]=r[d]}):/^\{.*\}$/.test(t.item)&&!Array.isArray(r)&&typeof r=="object"?t.item.replace("{","").replace("}","").split(",").map(c=>c.trim()).forEach(c=>{u[c]=r[c]}):u[t.item]=r,t.index&&(u[t.index]=o),t.collection&&(u[t.collection]=l),u}function c0(t){return!Array.isArray(t)&&!isNaN(t)}function ed(){}ed.inline=(t,{expression:r},{cleanup:o})=>{let l=$a(t);l._x_refs||(l._x_refs={}),l._x_refs[r]=t,o(()=>delete l._x_refs[r])};gt("ref",ed);gt("if",(t,{expression:r},{effect:o,cleanup:l})=>{t.tagName.toLowerCase()!=="template"&&$t("x-if can only be used on a <template> tag",t);let u=zt(t,r),f=()=>{if(t._x_currentIfEl)return t._x_currentIfEl;let d=t.content.cloneNode(!0).firstElementChild;return Ti(d,{},t),kt(()=>{t.after(d),Bn(()=>xn(d))()}),t._x_currentIfEl=d,t._x_undoIf=()=>{Nn(d,v=>{v._x_effects&&v._x_effects.forEach(zc)}),d.remove(),delete t._x_currentIfEl},d},c=()=>{t._x_undoIf&&(t._x_undoIf(),delete t._x_undoIf)};o(()=>u(d=>{d?f():c()})),l(()=>t._x_undoIf&&t._x_undoIf())});gt("id",(t,{expression:r},{evaluate:o})=>{o(r).forEach(u=>Zv(t,u))});Ya((t,r)=>{t._x_ids&&(r._x_ids=t._x_ids)});Jl(lh("@",sh(zr("on:"))));gt("on",Bn((t,{value:r,modifiers:o,expression:l},{cleanup:u})=>{let f=l?zt(t,l):()=>{};t.tagName.toLowerCase()==="template"&&(t._x_forwardEvents||(t._x_forwardEvents=[]),t._x_forwardEvents.includes(r)||t._x_forwardEvents.push(r));let c=jl(t,r,o,d=>{f(()=>{},{scope:{$event:d},params:[d]})});u(()=>c())}));to("Collapse","collapse","collapse");to("Intersect","intersect","intersect");to("Focus","trap","focus");to("Mask","mask","mask");function to(t,r,o){gt(r,l=>$t(`You can't use [x-${r}] without first installing the "${t}" plugin here: https://alpinejs.dev/plugins/${o}`,l))}Fi.setEvaluator(rh);Fi.setReactivityEngine({reactive:fs,effect:Ev,release:kv,raw:nt});var h0=Fi,cs=h0;window.addEventListener("DOMContentLoaded",()=>{window.htmx=mf,window.EasyMDE=nd.default,window.Alpine=cs,vf.init(),cs.start(),td.default.browserInit(),window.htmx.config.globalViewTransitions=!0});})();
